/*! For license information please see main.e3aeace6.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},1268:(e,t,n)=>{var r=n(5428),i=n(7574),s=n(6832),a=s&&s.isTypedArray,o=a?i(a):r;e.exports=o},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1629:(e,t,n)=>{var r=n(6913),i=n(6686);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},2016:(e,t,n)=>{"use strict";e.exports=n(6958)},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},2154:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(7067);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function x(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,x);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,x);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,x);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),M=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var B,O=Object.assign;function F(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var U=!1;function j(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case A:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case k:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case M:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return O({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){Q(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return O({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function se(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Ae=null,Se=null;function Ee(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(s(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Te(e){Ae?Se?Se.push(e):Se=[e]:Ae=e}function Me(){if(Ae){var e=Ae,t=Se;if(Se=Ae=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Re(){}var ke=!1;function Ne(e,t,n){if(ke)return e(t,n);ke=!0;try{return Ce(e,t,n)}finally{ke=!1,(null!==Ae||null!==Se)&&(Re(),Me())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ie=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Ie=!1}function De(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Be=!1,Oe=null,Fe=!1,Ue=null,je={onError:function(e){Be=!0,Oe=e}};function ze(e,t,n,r,i,s,a,o,l){Be=!1,Oe=null,De.apply(je,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(He(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ve(i),e;if(a===r)return Ve(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Xe(e):null}function Xe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Xe(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,Je=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,qe=i.unstable_requestPaint,Qe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ht(o):0!==(s&=a)&&(r=ht(s))}else 0!==(a=n&~i)?r=ht(a):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function xt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,At,St,Et,Tt=!1,Mt=[],Ct=null,Rt=null,kt=null,Nt=new Map,Pt=new Map,It=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Bt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ot(e){var t=xi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void Et(e.priority,(function(){At(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ye=r,n.target.dispatchEvent(r),ye=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function jt(){Tt=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Rt&&Ft(Rt)&&(Rt=null),null!==kt&&Ft(kt)&&(kt=null),Nt.forEach(Ut),Pt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function Ht(e){function t(t){return zt(t,e)}if(0<Mt.length){zt(Mt[0],e);for(var n=1;n<Mt.length;n++){var r=Mt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Rt&&zt(Rt,e),null!==kt&&zt(kt,e),Nt.forEach(t),Pt.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Ot(n),null===n.blockedOn&&It.shift()}var Gt=y.ReactCurrentBatchConfig,Vt=!0;function Wt(e,t,n,r){var i=bt,s=Gt.transition;Gt.transition=null;try{bt=1,Yt(e,t,n,r)}finally{bt=i,Gt.transition=s}}function Xt(e,t,n,r){var i=bt,s=Gt.transition;Gt.transition=null;try{bt=4,Yt(e,t,n,r)}finally{bt=i,Gt.transition=s}}function Yt(e,t,n,r){if(Vt){var i=Kt(e,t,n,r);if(null===i)Vr(e,t,r,Jt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Bt(Ct,e,t,n,r,i),!0;case"dragenter":return Rt=Bt(Rt,e,t,n,r,i),!0;case"mouseover":return kt=Bt(kt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Nt.set(s,Bt(Nt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Bt(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&wt(s),null===(s=Kt(e,t,n,r))&&Vr(e,t,r,Jt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Jt=null;function Kt(e,t,n,r){if(Jt=null,null!==(e=xi(e=we(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=O({},cn,{view:0,detail:0}),dn=sn(hn),fn=O({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(O({},fn,{dataTransfer:0})),gn=sn(O({},hn,{relatedTarget:0})),vn=sn(O({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=O({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(xn),yn=sn(O({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=An[e])&&!!t[e]}function En(){return Sn}var Tn=O({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mn=sn(Tn),Cn=sn(O({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=sn(O({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),kn=sn(O({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=O({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(Nn),In=[9,13,27,32],Ln=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Bn=u&&"TextEvent"in window&&!Dn,On=u&&(!Ln||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Un=!1;function jn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Xr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xn=null,Yn=null;function Jn(e){Fr(e,0)}function Kn(e){if(Y(yi(e)))return e}function qn(e,t){if("change"===e)return t}var Qn=!1;if(u){var Zn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Qn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Xn&&(Xn.detachEvent("onpropertychange",nr),Yn=Xn=null)}function nr(e){if("value"===e.propertyName&&Kn(Yn)){var t=[];Wn(t,Yn,e,we(e)),Ne(Jn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(Xn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Yn)}function sr(e,t){if("click"===e)return Kn(t)}function ar(e,t){if("input"===e||"change"===e)return Kn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,xr=null,br=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==J(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},xr&&lr(xr,r)||(xr=r,0<(r=Xr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Ar={},Sr={};function Er(e){if(Ar[e])return Ar[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Ar[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Tr=Er("animationend"),Mr=Er("animationiteration"),Cr=Er("animationstart"),Rr=Er("transitionend"),kr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){kr.set(e,t),l(t,[e])}for(var Ir=0;Ir<Nr.length;Ir++){var Lr=Nr[Ir];Pr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Pr(Tr,"onAnimationEnd"),Pr(Mr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Rr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Br=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Or(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(ze.apply(this,arguments),Be){if(!Be)throw Error(s(198));var u=Oe;Be=!1,Oe=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Or(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Or(i,o,c),s=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Gr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),Gr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Br.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,jr("selectionchange",!1,t))}}function Gr(e,t,n,r){switch(qt(t)){case 1:var i=Wt;break;case 4:i=Xt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=xi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Ne((function(){var r=s,i=we(n),a=[];e:{var o=kr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Mn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rn;break;case Tr:case Mr:case Cr:l=vn;break;case Rr:l=kn;break;case"scroll":l=dn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Pe(p,d))&&u.push(Wr(p,m,f)))),h)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===ye||!(c=n.relatedTarget||n.fromElement)||!xi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?xi(c):null)&&(c!==(h=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:yi(l),f=null==c?o:yi(c),(o=new u(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,xi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Yr(f))p++;for(f=0,m=d;m;m=Yr(m))f++;for(;0<p-f;)u=Yr(u),p--;for(;0<f-p;)d=Yr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Yr(u),d=Yr(d)}u=null}else u=null;null!==l&&Jr(a,o,l,u,!1),null!==c&&null!==h&&Jr(a,h,c,u,!0)}if("select"===(l=(o=r?yi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=qn;else if(Vn(o))if(Qn)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?yi(r):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,xr=null);break;case"focusout":xr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,yr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":yr(a,n,i)}var x;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?jn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(On&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(x=en()):(Zt="value"in(Qt=i)?Qt.value:Qt.textContent,Hn=!0)),0<(v=Xr(r,b)).length&&(b=new yn(b,e,null,n,i),a.push({event:b,listeners:v}),x?b.data=x:null!==(x=zn(n))&&(b.data=x))),(x=Bn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Ln&&jn(e,t)?(e=en(),$t=Zt=Qt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return On&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Xr(r,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=x))}Fr(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(Wr(e,s,i)),null!=(s=Pe(e,t))&&r.push(Wr(e,s,i))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Pe(n,s))&&a.unshift(Wr(n,l,o)):i||null!=(l=Pe(n,s))&&a.push(Wr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Kr=/\r\n?/g,qr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(qr,"")}function Zr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(s(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ht(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function xi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wi(e){return e[fi]||null}var _i=[],Ai=-1;function Si(e){return{current:e}}function Ei(e){0>Ai||(e.current=_i[Ai],_i[Ai]=null,Ai--)}function Ti(e,t){Ai++,_i[Ai]=e.current,e.current=t}var Mi={},Ci=Si(Mi),Ri=Si(!1),ki=Mi;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ii(){Ei(Ri),Ei(Ci)}function Li(e,t,n){if(Ci.current!==Mi)throw Error(s(168));Ti(Ci,t),Ti(Ri,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,G(e)||"Unknown",i));return O({},n,r)}function Bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mi,ki=Ci.current,Ti(Ci,e),Ti(Ri,Ri.current),!0}function Oi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Di(e,t,ki),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ri),Ei(Ci),Ti(Ci,e)):Ei(Ri),Ti(Ri,n)}var Fi=null,Ui=!1,ji=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Hi(){if(!ji&&null!==Fi){ji=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ye($e,Hi),i}finally{bt=t,ji=!1}}return null}var Gi=[],Vi=0,Wi=null,Xi=0,Yi=[],Ji=0,Ki=null,qi=1,Qi="";function Zi(e,t){Gi[Vi++]=Xi,Gi[Vi++]=Wi,Wi=e,Xi=t}function $i(e,t,n){Yi[Ji++]=qi,Yi[Ji++]=Qi,Yi[Ji++]=Ki,Ki=e;var r=qi;e=Qi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,qi=1<<32-at(t)+i|n<<i|r,Qi=s+e}else qi=1<<s|n<<i|r,Qi=e}function es(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ts(e){for(;e===Wi;)Wi=Gi[--Vi],Gi[Vi]=null,Xi=Gi[--Vi],Gi[Vi]=null;for(;e===Ki;)Ki=Yi[--Ji],Yi[Ji]=null,Qi=Yi[--Ji],Yi[Ji]=null,qi=Yi[--Ji],Yi[Ji]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:qi,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=y.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xs(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Oc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===A?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&xs(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Oc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case _:return(t=Fc(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:h(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return h(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,o[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===o.length)return n(i,h),is&&Zi(i,m),c;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(s=a(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&Zi(i,m),c}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&Zi(i,m),c}function g(i,o,l,c){var u=D(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=o,g=o=0,v=null,x=l.next();null!==m&&!x.done;g++,x=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,x.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===h?u=b:h.sibling=b,h=b,m=v}if(x.done)return n(i,m),is&&Zi(i,g),u;if(null===m){for(;!x.done;g++,x=l.next())null!==(x=d(i,x.value,c))&&(o=a(x,o,g),null===h?u=x:h.sibling=x,h=x);return is&&Zi(i,g),u}for(m=r(i,m);!x.done;g++,x=l.next())null!==(x=p(m,i,g,x.value,c))&&(e&&null!==x.alternate&&m.delete(null===x.key?g:x.key),o=a(x,o,g),null===h?u=x:h.sibling=x,h=x);return e&&m.forEach((function(e){return t(i,e)})),is&&Zi(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===A&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===A){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&xs(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=gs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===A?((s=Dc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Lc(a.type,a.key,a.props,null,r.mode,l)).ref=gs(r,s,a),l.return=r,r=l)}return o(r);case _:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(a,r.mode,l)).return=r,r=s}return o(r);case P:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(D(a))return g(r,s,a,l);vs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Oc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var ys=bs(!0),ws=bs(!1),_s=Si(null),As=null,Ss=null,Es=null;function Ts(){Es=Ss=As=null}function Ms(e){var t=_s.current;Ei(_s),e._currentValue=t}function Cs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Rs(e,t){As=e,Es=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function ks(e){var t=e._currentValue;if(Es!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===As)throw Error(s(308));Ss=e,As.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var Ns=null;function Ps(e){null===Ns?Ns=[e]:Ns.push(e)}function Is(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ps(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ls(e,r)}function Ls(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ds=!1;function Bs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Os(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ls(e,n)}return null===(i=r.interleaved)?(t.next=t,Ps(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ls(e,n)}function js(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xt(e,n)}}function zs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hs(e,t,n,r){var i=e.updateQueue;Ds=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,u=c=l=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=O({},h,d);break e;case 2:Ds=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Bl|=a,e.lanes=a,e.memoizedState=h}}function Gs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Vs={},Ws=Si(Vs),Xs=Si(Vs),Ys=Si(Vs);function Js(e){if(e===Vs)throw Error(s(174));return e}function Ks(e,t){switch(Ti(Ys,t),Ti(Xs,e),Ti(Ws,Vs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Ws),Ti(Ws,t)}function qs(){Ei(Ws),Ei(Xs),Ei(Ys)}function Qs(e){Js(Ys.current);var t=Js(Ws.current),n=le(t,e.type);t!==n&&(Ti(Xs,e),Ti(Ws,n))}function Zs(e){Xs.current===e&&(Ei(Ws),Ei(Xs))}var $s=Si(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=y.ReactCurrentDispatcher,ia=y.ReactCurrentBatchConfig,sa=0,aa=null,oa=null,la=null,ca=!1,ua=!1,ha=0,da=0;function fa(){throw Error(s(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(sa=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?Za:$a,e=n(r,i),ua){a=0;do{if(ua=!1,ha=0,25<=a)throw Error(s(301));a+=1,la=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,i)}while(ua)}if(ra.current=Qa,t=null!==oa&&null!==oa.next,sa=0,la=oa=aa=null,ca=!1,t)throw Error(s(300));return e}function ga(){var e=0!==ha;return ha=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function xa(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function ba(e,t){return"function"===typeof t?t(e):t}function ya(e){var t=xa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((sa&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=r):c=c.next=d,aa.lanes|=h,Bl|=h}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,aa.lanes|=a,Bl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=xa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function _a(){}function Aa(e,t){var n=aa,r=xa(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,Da(Ta.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,ka(9,Ea.bind(null,n,r,i,t),void 0,null),null===Rl)throw Error(s(349));0!==(30&sa)||Sa(n,t,i)}return i}function Sa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ea(e,t,n,r){t.value=n,t.getSnapshot=r,Ma(t)&&Ca(e)}function Ta(e,t,n){return n((function(){Ma(t)&&Ca(e)}))}function Ma(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ca(e){var t=Ls(e,1);null!==t&&nc(t,e,1,-1)}function Ra(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Ya.bind(null,aa,e),[t.memoizedState,e]}function ka(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Na(){return xa().memoizedState}function Pa(e,t,n,r){var i=va();aa.flags|=e,i.memoizedState=ka(1|t,n,void 0,void 0===r?null:r)}function Ia(e,t,n,r){var i=xa();r=void 0===r?null:r;var s=void 0;if(null!==oa){var a=oa.memoizedState;if(s=a.destroy,null!==r&&pa(r,a.deps))return void(i.memoizedState=ka(t,n,s,r))}aa.flags|=e,i.memoizedState=ka(1|t,n,s,r)}function La(e,t){return Pa(8390656,8,e,t)}function Da(e,t){return Ia(2048,8,e,t)}function Ba(e,t){return Ia(4,2,e,t)}function Oa(e,t){return Ia(4,4,e,t)}function Fa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ua(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ia(4,4,Fa.bind(null,t,e),n)}function ja(){}function za(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ha(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ga(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),aa.lanes|=n,Bl|=n,e.baseState=!0),t)}function Va(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function Wa(){return xa().memoizedState}function Xa(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ja(e))Ka(t,n);else if(null!==(n=Is(e,t,n,r))){nc(n,e,r,ec()),qa(n,t,r)}}function Ya(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ja(e))Ka(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ps(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Is(e,t,i,r))&&(nc(n,e,r,i=ec()),qa(n,t,r))}}function Ja(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Ka(e,t){ua=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xt(e,n)}}var Qa={readContext:ks,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},Za={readContext:ks,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:ks,useEffect:La,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xa.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Ra,useDebugValue:ja,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Ra(!1),t=e[0];return e=Va.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,i=va();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Rl)throw Error(s(349));0!==(30&sa)||Sa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,La(Ta.bind(null,r,a,e),[e]),r.flags|=2048,ka(9,Ea.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Rl.identifierPrefix;if(is){var n=Qi;t=":"+t+"R"+(n=(qi&~(1<<32-at(qi)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=da++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$a={readContext:ks,useCallback:za,useContext:ks,useEffect:Da,useImperativeHandle:Ua,useInsertionEffect:Ba,useLayoutEffect:Oa,useMemo:Ha,useReducer:ya,useRef:Na,useState:function(){return ya(ba)},useDebugValue:ja,useDeferredValue:function(e){return Ga(xa(),oa.memoizedState,e)},useTransition:function(){return[ya(ba)[0],xa().memoizedState]},useMutableSource:_a,useSyncExternalStore:Aa,useId:Wa,unstable_isNewReconciler:!1},eo={readContext:ks,useCallback:za,useContext:ks,useEffect:Da,useImperativeHandle:Ua,useInsertionEffect:Ba,useLayoutEffect:Oa,useMemo:Ha,useReducer:wa,useRef:Na,useState:function(){return wa(ba)},useDebugValue:ja,useDeferredValue:function(e){var t=xa();return null===oa?t.memoizedState=e:Ga(t,oa.memoizedState,e)},useTransition:function(){return[wa(ba)[0],xa().memoizedState]},useMutableSource:_a,useSyncExternalStore:Aa,useId:Wa,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=O({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:O({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(nc(t,e,i,r),js(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(nc(t,e,i,r),js(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Us(e,i,r))&&(nc(t,e,r,n),js(t,e,r))}};function io(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function so(e,t,n){var r=!1,i=Mi,s=t.contextType;return"object"===typeof s&&null!==s?s=ks(s):(i=Pi(t)?ki:Ci.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Mi),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Bs(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=ks(s):(s=Pi(t)?ki:Ci.current,i.context=Ni(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),Hs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,Wl=r),uo(0,t)},n}function po(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Xl?Xl=new Set([this]):Xl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Us(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var xo=y.ReactCurrentOwner,bo=!1;function yo(e,t,n,r){t.child=null===e?ws(t,null,n,r):ys(t,e.child,n,r)}function wo(e,t,n,r,i){n=n.render;var s=t.ref;return Rs(t,i),r=ma(e,t,n,r,s,i),n=ga(),null===e||bo?(is&&n&&es(t),t.flags|=1,yo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vo(e,t,i))}function _o(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Pc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ao(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Vo(e,t,i)}return t.flags|=1,(e=Ic(s,r)).ref=t.ref,e.return=t,t.child=e}function Ao(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Vo(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return To(e,t,n,r,i)}function So(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Il,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Il,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ti(Il,Pl),Pl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ti(Il,Pl),Pl|=r;return yo(e,t,i,n),t.child}function Eo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function To(e,t,n,r,i){var s=Pi(n)?ki:Ci.current;return s=Ni(t,s),Rs(t,i),n=ma(e,t,n,r,s,i),r=ga(),null===e||bo?(is&&r&&es(t),t.flags|=1,yo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vo(e,t,i))}function Mo(e,t,n,r,i){if(Pi(n)){var s=!0;Bi(t)}else s=!1;if(Rs(t,i),null===t.stateNode)Go(e,t),so(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ks(c):c=Ni(t,c=Pi(n)?ki:Ci.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&ao(t,a,r,c),Ds=!1;var d=t.memoizedState;a.state=d,Hs(t,r,a,i),l=t.memoizedState,o!==r||d!==l||Ri.current||Ds?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Ds||io(t,n,o,r,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Os(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),a.props=c,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=ks(l):l=Ni(t,l=Pi(n)?ki:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&ao(t,a,r,l),Ds=!1,d=t.memoizedState,a.state=d,Hs(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||Ri.current||Ds?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(c=Ds||io(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Co(e,t,n,r,s,i)}function Co(e,t,n,r,i,s){Eo(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Oi(t,n,!1),Vo(e,t,s);r=t.stateNode,xo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ys(t,e.child,null,s),t.child=ys(t,null,o,s)):yo(e,t,o,s),t.memoizedState=r.state,i&&Oi(t,n,!0),t.child}function Ro(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),Ks(e,t.containerInfo)}function ko(e,t,n,r,i){return fs(),ps(i),t.flags|=256,yo(e,t,n,r),t.child}var No,Po,Io,Lo,Do={dehydrated:null,treeContext:null,retryLane:0};function Bo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Oo(e,t,n){var r,i=t.pendingProps,a=$s.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ti($s,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Bc(l,i,0,null),e=Dc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Bo(n),t.memoizedState=Do,e):Fo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Uo(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Bc({mode:"visible",children:r.children},i,0,null),(a=Dc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&ys(t,e.child,null,o),t.child.memoizedState=Bo(o),t.memoizedState=Do,a);if(0===(1&t.mode))return Uo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Uo(e,t,o,r=co(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Rl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ls(e,i),nc(r,e,i,-1))}return mc(),Uo(e,t,o,r=co(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Mc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Yi[Ji++]=qi,Yi[Ji++]=Qi,Yi[Ji++]=Ki,qi=e.id,Qi=e.overflow,Ki=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Ic(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Ic(r,o):(o=Dc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Bo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Do,i}return e=(o=e.child).sibling,i=Ic(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=Bc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uo(e,t,n,r){return null!==r&&ps(r),ys(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function jo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Cs(e.return,t,n)}function zo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ho(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(yo(e,t,r.children,n),0!==(2&(r=$s.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&jo(e,n,t);else if(19===e.tag)jo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti($s,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ea(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zo(t,!0,n,null,s);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Go(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ic(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ic(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wo(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xo(t),null;case 1:case 17:return Pi(t.type)&&Ii(),Xo(t),null;case 3:return r=t.stateNode,qs(),Ei(Ri),Ei(Ci),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Po(e,t),Xo(t),null;case 5:Zs(t);var i=Js(Ys.current);if(n=t.type,null!==e&&null!=t.stateNode)Io(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Xo(t),null}if(e=Js(Ws.current),hs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Ur(Dr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":q(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in xe(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":X(r),$(r,a,!0);break;case"textarea":X(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,No(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Ur(Dr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":q(e,r),i=K(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=O({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in xe(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":X(e),$(e,r,!1);break;case"textarea":X(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Xo(t),null;case 6:if(e&&null!=t.stateNode)Lo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Js(Ys.current),Js(Ws.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Xo(t),null;case 13:if(Ei($s),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,a=!1;else if(a=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Xo(t),a=!1}else null!==ss&&(ac(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&$s.current)?0===Ll&&(Ll=3):mc())),null!==t.updateQueue&&(t.flags|=4),Xo(t),null);case 4:return qs(),Po(e,t),null===e&&Hr(t.stateNode.containerInfo),Xo(t),null;case 10:return Ms(t.type._context),Xo(t),null;case 19:if(Ei($s),null===(a=t.memoizedState))return Xo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Wo(a,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,Wo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti($s,1&$s.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>Hl&&(t.flags|=128,r=!0,Wo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Xo(t),null}else 2*Qe()-a.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Wo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,n=$s.current,Ti($s,r?1&n|2:1&n),t):(Xo(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Xo(t),6&t.subtreeFlags&&(t.flags|=8192)):Xo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Jo(e,t){switch(ts(t),t.tag){case 1:return Pi(t.type)&&Ii(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return qs(),Ei(Ri),Ei(Ci),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(Ei($s),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei($s),null;case 4:return qs(),null;case 10:return Ms(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}No=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(){},Io=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Js(Ws.current);var s,a=null;switch(n){case"input":i=K(e,i),r=K(e,r),a=[];break;case"select":i=O({},i,{value:void 0}),r=O({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(u in xe(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Lo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ko=!1,qo=!1,Qo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function $o(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:qo||$o(n,t);case 6:var r=ul,i=hl;ul=null,dl(e,t,n),hl=i,null!==(ul=r)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ht(e)):li(ul,n.stateNode));break;case 4:r=ul,i=hl,ul=n.stateNode.containerInfo,hl=!0,dl(e,t,n),ul=r,hl=i;break;case 0:case 11:case 14:case 15:if(!qo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&el(n,t,a),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!qo&&($o(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Sc(n,t,o)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(qo=(r=qo)||null!==n.memoizedState,dl(e,t,n),qo=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qo),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(a,o,i),ul=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Sc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Sc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&$o(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&$o(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Q(i,a),be(l,o);var u=be(l,a);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,u)}switch(l){case"input":Z(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Sc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Sc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Qe())),4&r&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(qo=(u=qo)||h,ml(t,e),qo=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Zo=e,h=e.child;null!==h;){for(d=Zo=h;null!==Zo;){switch(p=(f=Zo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:$o(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:$o(f,f.return);break;case 22:if(null!==f.memoizedState){wl(d);continue}}null!==p?(p.return=f,Zo=p):wl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Sc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,ol(e),a);break;default:throw Error(s(161))}}catch(o){Sc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,n){Zo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var i=Zo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ko;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||qo;o=Ko;var c=qo;if(Ko=a,(qo=l)&&!c)for(Zo=i;null!==Zo;)l=(a=Zo).child,22===a.tag&&null!==a.memoizedState?_l(i):null!==l?(l.return=a,Zo=l):_l(i);for(;null!==s;)Zo=s,bl(s,t,n),s=s.sibling;Zo=i,Ko=o,qo=c}yl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Zo=s):yl(e)}}function yl(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:qo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!qo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Gs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Gs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Ht(d)}}}break;default:throw Error(s(163))}qo||512&t.flags&&il(t)}catch(f){Sc(t,t.return,f)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function wl(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function _l(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Sc(t,i,l)}}var s=t.return;try{il(t)}catch(l){Sc(t,s,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Sc(t,a,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var Al,Sl=Math.ceil,El=y.ReactCurrentDispatcher,Tl=y.ReactCurrentOwner,Ml=y.ReactCurrentBatchConfig,Cl=0,Rl=null,kl=null,Nl=0,Pl=0,Il=Si(0),Ll=0,Dl=null,Bl=0,Ol=0,Fl=0,Ul=null,jl=null,zl=0,Hl=1/0,Gl=null,Vl=!1,Wl=null,Xl=null,Yl=!1,Jl=null,Kl=0,ql=0,Ql=null,Zl=-1,$l=0;function ec(){return 0!==(6&Cl)?Qe():-1!==Zl?Zl:Zl=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Nl?Nl&-Nl:null!==ms.transition?(0===$l&&($l=mt()),$l):0!==(e=bt)?e:e=void 0===(e=window.event)?16:qt(e.type)}function nc(e,t,n,r){if(50<ql)throw ql=0,Ql=null,Error(s(185));vt(e,n,r),0!==(2&Cl)&&e===Rl||(e===Rl&&(0===(2&Cl)&&(Ol|=n),4===Ll&&oc(e,Nl)),rc(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(Hl=Qe()+500,Ui&&Hi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=dt(e,e===Rl?Nl:0);if(0===r)null!==n&&Je(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Je(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(lc.bind(null,e)):zi(lc.bind(null,e)),ai((function(){0===(6&Cl)&&Hi()})),n=null;else{switch(yt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Rc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zl=-1,$l=0,0!==(6&Cl))throw Error(s(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=dt(e,e===Rl?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Cl;Cl|=2;var a=pc();for(Rl===e&&Nl===t||(Gl=null,Hl=Qe()+500,dc(e,t));;)try{xc();break}catch(l){fc(e,l)}Ts(),El.current=a,Cl=i,null!==kl?t=0:(Rl=null,Nl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Dl,dc(e,0),oc(e,r),rc(e,Qe()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=sc(e,a))),1===t))throw n=Dl,dc(e,0),oc(e,r),rc(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,jl,Gl);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=zl+500-Qe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,jl,Gl),t);break}wc(e,jl,Gl);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,jl,Gl),r);break}wc(e,jl,Gl);break;default:throw Error(s(329))}}}return rc(e,Qe()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=jl,jl=n,null!==t&&ac(t)),e}function ac(e){null===jl?jl=e:jl.push.apply(jl,e)}function oc(e,t){for(t&=~Fl,t&=~Ol,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Cl))throw Error(s(327));_c();var t=dt(e,0);if(0===(1&t))return rc(e,Qe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Dl,dc(e,0),oc(e,t),rc(e,Qe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,jl,Gl),rc(e,Qe()),null}function cc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Hl=Qe()+500,Ui&&Hi())}}function uc(e){null!==Jl&&0===Jl.tag&&0===(6&Cl)&&_c();var t=Cl;Cl|=1;var n=Ml.transition,r=bt;try{if(Ml.transition=null,bt=1,e)return e()}finally{bt=r,Ml.transition=n,0===(6&(Cl=t))&&Hi()}}function hc(){Pl=Il.current,Ei(Il)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==kl)for(n=kl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ii();break;case 3:qs(),Ei(Ri),Ei(Ci),na();break;case 5:Zs(r);break;case 4:qs();break;case 13:case 19:Ei($s);break;case 10:Ms(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Rl=e,kl=e=Ic(e.current,null),Nl=Pl=t,Ll=0,Dl=null,Fl=Ol=Bl=0,jl=Ul=null,null!==Ns){for(t=0;t<Ns.length;t++)if(null!==(r=(n=Ns[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Ns=null}return e}function fc(e,t){for(;;){var n=kl;try{if(Ts(),ra.current=Qa,ca){for(var r=aa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(sa=0,la=oa=aa=null,ua=!1,ha=0,Tl.current=null,null===n||null===n.return){Ll=1,Dl=t,kl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Nl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&mo(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(a,u,t),mc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),ps(lo(c,l));break e}}a=c=lo(c,l),4!==Ll&&(Ll=2),null===Ul?Ul=[a]:Ul.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zs(a,fo(0,c,t));break e;case 1:l=c;var x=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof x.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Xl||!Xl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,zs(a,po(a,l,t));break e}}a=a.return}while(null!==a)}yc(n)}catch(y){t=y,kl===n&&null!==n&&(kl=n=n.return);continue}break}}function pc(){var e=El.current;return El.current=Qa,null===e?Qa:e}function mc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Rl||0===(268435455&Bl)&&0===(268435455&Ol)||oc(Rl,Nl)}function gc(e,t){var n=Cl;Cl|=2;var r=pc();for(Rl===e&&Nl===t||(Gl=null,dc(e,t));;)try{vc();break}catch(i){fc(e,i)}if(Ts(),Cl=n,El.current=r,null!==kl)throw Error(s(261));return Rl=null,Nl=0,Ll}function vc(){for(;null!==kl;)bc(kl)}function xc(){for(;null!==kl&&!Ke();)bc(kl)}function bc(e){var t=Al(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?yc(e):kl=t,Tl.current=null}function yc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Yo(n,t,Pl)))return void(kl=n)}else{if(null!==(n=Jo(n,t)))return n.flags&=32767,void(kl=n);if(null===e)return Ll=6,void(kl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(kl=t);kl=t=e}while(null!==t);0===Ll&&(Ll=5)}function wc(e,t,n){var r=bt,i=Ml.transition;try{Ml.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==Jl);if(0!==(6&Cl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Rl&&(kl=Rl=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Rc(tt,(function(){return _c(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ml.transition,Ml.transition=null;var o=bt;bt=1;var l=Cl;Cl|=4,Tl.current=null,function(e,t){if(ei=Vt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==a||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++h===r&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Vt=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(s(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Vt=!!ei,ti=ei=null,e.current=n,xl(n,e,i),qe(),Cl=l,bt=o,Ml.transition=a}else e.current=n;if(Yl&&(Yl=!1,Jl=e,Kl=i),a=e.pendingLanes,0===a&&(Xl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vl)throw Vl=!1,e=Wl,Wl=null,e;0!==(1&Kl)&&0!==e.tag&&_c(),a=e.pendingLanes,0!==(1&a)?e===Ql?ql++:(ql=0,Ql=e):ql=0,Hi()}(e,t,n,r)}finally{Ml.transition=i,bt=r}return null}function _c(){if(null!==Jl){var e=yt(Kl),t=Ml.transition,n=bt;try{if(Ml.transition=null,bt=16>e?16:e,null===Jl)var r=!1;else{if(e=Jl,Jl=null,Kl=0,0!==(6&Cl))throw Error(s(331));var i=Cl;for(Cl|=4,Zo=e.current;null!==Zo;){var a=Zo,o=a.child;if(0!==(16&Zo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zo=u;null!==Zo;){var h=Zo;switch(h.tag){case 0:case 11:case 15:nl(8,h,a)}var d=h.child;if(null!==d)d.return=h,Zo=d;else for(;null!==Zo;){var f=(h=Zo).sibling,p=h.return;if(sl(h),h===u){Zo=null;break}if(null!==f){f.return=p,Zo=f;break}Zo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Zo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(a=Zo).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var x=a.sibling;if(null!==x){x.return=a.return,Zo=x;break e}Zo=a.return}}var b=e.current;for(Zo=b;null!==Zo;){var y=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==y)y.return=o,Zo=y;else e:for(o=b;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){Sc(l,l.return,_)}if(l===o){Zo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Zo=w;break e}Zo=l.return}}if(Cl=i,Hi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Ml.transition=t}}return!1}function Ac(e,t,n){e=Us(e,t=fo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)Ac(e,e,n);else for(;null!==t;){if(3===t.tag){Ac(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xl||!Xl.has(r))){t=Us(t,e=po(t,e=lo(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Rl===e&&(Nl&n)===n&&(4===Ll||3===Ll&&(130023424&Nl)===Nl&&500>Qe()-zl?dc(e,0):Fl|=n),rc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ls(e,t))&&(vt(e,t,n),rc(e,n))}function Mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Tc(e,n)}function Rc(e,t){return Ye(e,t)}function kc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new kc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Pc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case A:return Dc(n.children,i,a,t);case S:o=8,i|=8;break;case E:return(e=Nc(12,n,t,2|i)).elementType=E,e.lanes=a,e;case R:return(e=Nc(13,n,t,i)).elementType=R,e.lanes=a,e;case k:return(e=Nc(19,n,t,i)).elementType=k,e.lanes=a,e;case I:return Bc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:o=10;break e;case M:o=9;break e;case C:o=11;break e;case N:o=14;break e;case P:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Nc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Dc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Bc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function Oc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,i,s,a,o,l){return e=new Uc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Nc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bs(s),e}function zc(e){if(!e)return Mi;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Di(e,n,t)}return t}function Hc(e,t,n,r,i,s,a,o,l){return(e=jc(n,r,!0,e,0,s,0,o,l)).context=zc(null),n=e.current,(s=Fs(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Us(n,s,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function Gc(e,t,n,r){var i=t.current,s=ec(),a=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Us(i,t,a))&&(nc(e,i,a,s),js(e,i,a)),a}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Al=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ri.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Ro(t),fs();break;case 5:Qs(t);break;case 1:Pi(t.type)&&Bi(t);break;case 4:Ks(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(_s,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti($s,1&$s.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Oo(e,t,n):(Ti($s,1&$s.current),null!==(e=Vo(e,t,n))?e.sibling:null);Ti($s,1&$s.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ho(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti($s,$s.current),r)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return Vo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,is&&0!==(1048576&t.flags)&&$i(t,Xi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Go(e,t),e=t.pendingProps;var i=Ni(t,Ci.current);Rs(t,n),i=ma(null,t,r,e,i,n);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Bi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Bs(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=Co(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),yo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Go(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===N)return 14}return 2}(r),e=to(r,e),i){case 0:t=To(null,t,r,e,n);break e;case 1:t=Mo(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=_o(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,To(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,Mo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(Ro(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Os(e,t),Hs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=ko(e,t,r,n,i=lo(Error(s(423)),t));break e}if(r!==i){t=ko(e,t,r,n,i=lo(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Vo(e,t,n);break e}yo(e,t,r,n)}t=t.child}return t;case 5:return Qs(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),Eo(e,t),yo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Oo(e,t,n);case 4:return Ks(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ys(t,null,r,n):yo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return yo(e,t,t.pendingProps,n),t.child;case 8:case 12:return yo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ti(_s,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ri.current){t=Vo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Cs(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Cs(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}yo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Rs(t,n),r=r(i=ks(i)),t.flags|=1,yo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),_o(e,t,r,i=to(r.type,i),n);case 15:return Ao(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),Go(e,t),t.tag=1,Pi(r)?(e=!0,Bi(t)):e=!1,Rs(t,n),so(t,r,i),oo(t,r,i,n),Co(null,t,r,!0,e,n);case 19:return Ho(e,t,n);case 22:return So(e,t,n)}throw Error(s(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function $c(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Vc(a);o.call(e)}}Gc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Vc(a);s.call(e)}}var a=Hc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[pi]=a.current,Hr(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Vc(l);o.call(e)}}var l=jc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,Hr(8===e.nodeType?e.parentNode:e),uc((function(){Gc(t,l,n,r)})),l}(n,t,e,i,r);return Vc(a)}Kc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Gc(e,t,null,null)},Kc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Gc(null,e,null,null)})),t[pi]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Ot(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(xt(t,1|n),rc(t,Qe()),0===(6&Cl)&&(Hl=Qe()+500,Hi()))}break;case 13:uc((function(){var t=Ls(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Xc(e,1)}},_t=function(e){if(13===e.tag){var t=Ls(e,134217728);if(null!==t)nc(t,e,134217728,ec());Xc(e,134217728)}},At=function(e){if(13===e.tag){var t=tc(e),n=Ls(e,t);if(null!==n)nc(n,e,t,ec());Xc(e,t)}},St=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(s(90));Y(r),Z(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Re=uc;var eu={usingClientEntryPoint:!1,Events:[bi,yi,wi,Te,Me,cc]},tu={findFiberByHostInstance:xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!qc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!qc(e))throw Error(s(299));var n=!1,r="",i=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(s(200));return $c(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!qc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,Hr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Kc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(s(200));return $c(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc((function(){$c(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return $c(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),i=n(2761),s=Object.prototype,a=s.hasOwnProperty,o=s.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!o.call(e,"callee")};e.exports=l},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3204:(e,t,n)=>{var r=n(3343),i=n(2777),s=n(4052),a=n(4543),o=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=s(e),u=!n&&i(e),h=!n&&!u&&a(e),d=!n&&!u&&!h&&l(e),f=n||u||h||d,p=f?r(e.length,String):[],m=p.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||h&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||o(g,m))||p.push(g);return p}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3668:(e,t,n)=>{var r=n(8902),i=n(2587),s=n(8114);e.exports=function(e,t,n,a,o,l){var c=1&n,u=e.length,h=t.length;if(u!=h&&!(c&&h>u))return!1;var d=l.get(e),f=l.get(t);if(d&&f)return d==t&&f==e;var p=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var v=e[p],x=t[p];if(a)var b=c?a(x,v,p,t,e,l):a(v,x,p,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!i(t,(function(e,t){if(!s(g,t)&&(v===e||o(v,e,n,a,l)))return g.push(t)}))){m=!1;break}}else if(v!==x&&!o(v,x,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,n)=>{var r=n(6140),i=n(1143),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},4052:e=>{var t=Array.isArray;e.exports=t},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function x(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=v.prototype;var y=b.prototype=new x;y.constructor=b,m(y,v.prototype),y.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,A={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:A.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var M=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+C(l,0):s,w(a)?(i="",null!=e&&(i=e.replace(M,"$&/")+"/"),R(a,t,i,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(M,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+C(o=e[c],c);l+=R(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=R(o=o.value,t,i,u=s+C(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function k(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},I={transition:null},L={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:I,ReactCurrentOwner:A};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:k,forEach:function(e,t,n){k(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return k(e,(function(){t++})),t},toArray:function(e){return k(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=A.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},4262:(e,t,n)=>{var r=n(8895),i=n(4052);e.exports=function(e,t,n){var s=t(e);return i(e)?s:r(s,n(e))}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),i=n(14),s=t&&!t.nodeType&&t,a=s&&e&&!e.nodeType&&e,o=a&&a.exports===s?r.Buffer:void 0,l=(o?o.isBuffer:void 0)||i;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),i=Object.prototype,s=i.hasOwnProperty,a=i.toString,o=r?r.toStringTag:void 0;e.exports=function(e){var t=s.call(e,o),n=e[o];try{e[o]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[o]=n:delete e[o]),i}},4612:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,y(e),!m)if(null!==r(c))m=!0,I(_);else{var t=r(u);null!==t&&L(w,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,x(T),T=-1),p=!0;var s=f;try{for(y(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!R());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(c)&&i(c),y(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&L(w,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var A,S=!1,E=null,T=-1,M=5,C=-1;function R(){return!(t.unstable_now()-C<M)}function k(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?A():(S=!1,E=null)}}else S=!1}if("function"===typeof b)A=function(){b(k)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=k,A=function(){P.postMessage(null)}}else A=function(){v(k,0)};function I(e){E=e,S||(S=!0,A())}function L(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,I(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(x(T),T=-1):g=!0,L(w,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,I(_))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4816:(e,t,n)=>{var r=n(7251),i=n(7159),s=n(438),a=n(9394),o=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=a,l.prototype.set=o,e.exports=l},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5193:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),i=n(6173),s=n(2761),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&i(e.length)&&!!a[r(e)]}},5538:(e,t,n)=>{var r=n(7160),i=n(4545),s=n(793),a=n(7760),o=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=s,c.prototype.get=a,c.prototype.has=o,c.prototype.set=l,e.exports=c},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5752:(e,t,n)=>{var r=n(9395),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,s,a,o){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var h=u;h--;){var d=c[h];if(!(l?d in t:i.call(t,d)))return!1}var f=o.get(e),p=o.get(t);if(f&&p)return f==t&&p==e;var m=!0;o.set(e,t),o.set(t,e);for(var g=l;++h<u;){var v=e[d=c[h]],x=t[d];if(s)var b=l?s(x,v,d,t,e,o):s(v,x,d,e,t,o);if(!(void 0===b?v===x||a(v,x,n,s,o):b)){m=!1;break}g||(g="constructor"==d)}if(m&&!g){var y=e.constructor,w=t.constructor;y==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w||(m=!1)}return o.delete(e),o.delete(t),m}},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6399:(e,t,n)=>{var r=n(5538),i=n(3668),s=n(9987),a=n(5752),o=n(6924),l=n(4052),c=n(4543),u=n(1268),h="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,v){var x=l(e),b=l(t),y=x?d:o(e),w=b?d:o(t),_=(y=y==h?f:y)==f,A=(w=w==h?f:w)==f,S=y==w;if(S&&c(e)){if(!c(t))return!1;x=!0,_=!1}if(S&&!_)return v||(v=new r),x||u(e)?i(e,t,n,m,g,v):s(e,t,y,n,m,g,v);if(!(1&n)){var E=_&&p.call(e,"__wrapped__"),T=A&&p.call(t,"__wrapped__");if(E||T){var M=E?e.value():e,C=T?t.value():t;return v||(v=new r),g(M,C,n,m,v)}}return!!S&&(v||(v=new r),a(e,t,n,m,g,v))}},6552:(e,t,n)=>{var r=n(7105),i="object"==typeof self&&self&&self.Object===Object&&self,s=r||i||Function("return this")();e.exports=s},6571:(e,t,n)=>{var r=n(1629),i=n(6173);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6788:(e,t,n)=>{var r=n(7160),i=n(5204),s=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new s(a)}return n.set(e,t),this.size=n.size,this}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),i=t&&!t.nodeType&&t,s=i&&e&&!e.nodeType&&e,a=s&&s.exports===i&&r.process,o=function(){try{var e=s&&s.require&&s.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=o},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},6913:(e,t,n)=>{var r=n(9812),i=n(4552),s=n(6095),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):s(e)}},6924:(e,t,n)=>{var r=n(7685),i=n(5204),s=n(5387),a=n(2070),o=n(6600),l=n(6913),c=n(6996),u="[object Map]",h="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(r),g=c(i),v=c(s),x=c(a),b=c(o),y=l;(r&&y(new r(new ArrayBuffer(1)))!=p||i&&y(new i)!=u||s&&y(s.resolve())!=h||a&&y(new a)!=d||o&&y(new o)!=f)&&(y=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return p;case g:return u;case v:return h;case x:return d;case b:return f}return t}),e.exports=y},6954:(e,t,n)=>{var r=n(1629),i=n(7857),s=n(6686),a=n(6996),o=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,h=c.hasOwnProperty,d=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||i(e))&&(r(e)?d:o).test(a(e))}},6958:(e,t,n)=>{e.exports=function(e){var t={},r=n(5043),i=n(8853),s=Object.assign;function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var y=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var w=Symbol.iterator;function _(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=w&&e[w]||e["@@iterator"])?e:null}function A(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case u:return"Fragment";case c:return"Portal";case d:return"Profiler";case h:return"StrictMode";case g:return"Suspense";case v:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case p:return(e.displayName||"Context")+".Consumer";case f:return(e._context.displayName||"Context")+".Provider";case m:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case x:return null!==(t=e.displayName||null)?t:A(e.type)||"Memo";case b:t=e._payload,e=e._init;try{return A(e(t))}catch(n){}}return null}function S(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A(t);case 8:return t===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function E(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function T(e){if(E(e)!==e)throw Error(a(188))}function M(e){var t=e.alternate;if(!t){if(null===(t=E(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return T(i),e;if(s===r)return T(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}function C(e){return null!==(e=M(e))?R(e):null}function R(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=R(e);if(null!==t)return t;e=e.sibling}return null}function k(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=k(e);if(null!==t)return t}e=e.sibling}return null}var N,P=Array.isArray,I=e.getPublicInstance,L=e.getRootHostContext,D=e.getChildHostContext,B=e.prepareForCommit,O=e.resetAfterCommit,F=e.createInstance,U=e.appendInitialChild,j=e.finalizeInitialChildren,z=e.prepareUpdate,H=e.shouldSetTextContent,G=e.createTextInstance,V=e.scheduleTimeout,W=e.cancelTimeout,X=e.noTimeout,Y=e.isPrimaryRenderer,J=e.supportsMutation,K=e.supportsPersistence,q=e.supportsHydration,Q=e.getInstanceFromNode,Z=e.preparePortalMount,$=e.getCurrentEventPriority,ee=e.detachDeletedInstance,te=e.supportsMicrotasks,ne=e.scheduleMicrotask,re=e.supportsTestSelectors,ie=e.findFiberRoot,se=e.getBoundingRect,ae=e.getTextContent,oe=e.isHiddenSubtree,le=e.matchAccessibilityRole,ce=e.setFocusIfFocusable,ue=e.setupIntersectionObserver,he=e.appendChild,de=e.appendChildToContainer,fe=e.commitTextUpdate,pe=e.commitMount,me=e.commitUpdate,ge=e.insertBefore,ve=e.insertInContainerBefore,xe=e.removeChild,be=e.removeChildFromContainer,ye=e.resetTextContent,we=e.hideInstance,_e=e.hideTextInstance,Ae=e.unhideInstance,Se=e.unhideTextInstance,Ee=e.clearContainer,Te=e.cloneInstance,Me=e.createContainerChildSet,Ce=e.appendChildToContainerChildSet,Re=e.finalizeContainerChildren,ke=e.replaceContainerChildren,Ne=e.cloneHiddenInstance,Pe=e.cloneHiddenTextInstance,Ie=e.canHydrateInstance,Le=e.canHydrateTextInstance,De=e.canHydrateSuspenseInstance,Be=e.isSuspenseInstancePending,Oe=e.isSuspenseInstanceFallback,Fe=e.registerSuspenseInstanceRetry,Ue=e.getNextHydratableSibling,je=e.getFirstHydratableChild,ze=e.getFirstHydratableChildWithinContainer,He=e.getFirstHydratableChildWithinSuspenseInstance,Ge=e.hydrateInstance,Ve=e.hydrateTextInstance,We=e.hydrateSuspenseInstance,Xe=e.getNextHydratableInstanceAfterSuspenseInstance,Ye=e.commitHydratedContainer,Je=e.commitHydratedSuspenseInstance,Ke=e.clearSuspenseBoundary,qe=e.clearSuspenseBoundaryFromContainer,Qe=e.shouldDeleteUnhydratedTailInstances,Ze=e.didNotMatchHydratedContainerTextInstance,$e=e.didNotMatchHydratedTextInstance;function et(e){if(void 0===N)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return"\n"+N+e}var tt=!1;function nt(e,t){if(!e||tt)return"";tt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{tt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?et(e):""}var rt=Object.prototype.hasOwnProperty,it=[],st=-1;function at(e){return{current:e}}function ot(e){0>st||(e.current=it[st],it[st]=null,st--)}function lt(e,t){st++,it[st]=e.current,e.current=t}var ct={},ut=at(ct),ht=at(!1),dt=ct;function ft(e,t){var n=e.type.contextTypes;if(!n)return ct;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function pt(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mt(){ot(ht),ot(ut)}function gt(e,t,n){if(ut.current!==ct)throw Error(a(168));lt(ut,t),lt(ht,n)}function vt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,S(e)||"Unknown",i));return s({},n,r)}function xt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ct,dt=ut.current,lt(ut,e),lt(ht,ht.current),!0}function bt(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=vt(e,t,dt),r.__reactInternalMemoizedMergedChildContext=e,ot(ht),ot(ut),lt(ut,e)):ot(ht),lt(ht,n)}var yt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(wt(e)/_t|0)|0},wt=Math.log,_t=Math.LN2;var At=64,St=4194304;function Et(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Tt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=Et(o):0!==(s&=a)&&(r=Et(s))}else 0!==(a=n&~i)?r=Et(a):0!==s&&(r=Et(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-yt(t)),r|=e[n],t&=~i;return r}function Mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ct(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Rt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function kt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-yt(t)]=n}function Nt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-yt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Pt=0;function It(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Lt=i.unstable_scheduleCallback,Dt=i.unstable_cancelCallback,Bt=i.unstable_shouldYield,Ot=i.unstable_requestPaint,Ft=i.unstable_now,Ut=i.unstable_ImmediatePriority,jt=i.unstable_UserBlockingPriority,zt=i.unstable_NormalPriority,Ht=i.unstable_IdlePriority,Gt=null,Vt=null;var Wt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Xt=null,Yt=!1,Jt=!1;function Kt(e){null===Xt?Xt=[e]:Xt.push(e)}function qt(){if(!Jt&&null!==Xt){Jt=!0;var e=0,t=Pt;try{var n=Xt;for(Pt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Xt=null,Yt=!1}catch(i){throw null!==Xt&&(Xt=Xt.slice(e+1)),Lt(Ut,qt),i}finally{Pt=t,Jt=!1}}return null}var Qt=o.ReactCurrentBatchConfig;function Zt(e,t){if(Wt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rt.call(t,i)||!Wt(e[i],t[i]))return!1}return!0}function $t(e){switch(e.tag){case 5:return et(e.type);case 16:return et("Lazy");case 13:return et("Suspense");case 19:return et("SuspenseList");case 0:case 2:case 15:return e=nt(e.type,!1);case 11:return e=nt(e.type.render,!1);case 1:return e=nt(e.type,!0);default:return""}}function en(e,t){if(e&&e.defaultProps){for(var n in t=s({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var tn=at(null),nn=null,rn=null,sn=null;function an(){sn=rn=nn=null}function on(e,t,n){Y?(lt(tn,t._currentValue),t._currentValue=n):(lt(tn,t._currentValue2),t._currentValue2=n)}function ln(e){var t=tn.current;ot(tn),Y?e._currentValue=t:e._currentValue2=t}function cn(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function un(e,t){nn=e,sn=rn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Bi=!0),e.firstContext=null)}function hn(e){var t=Y?e._currentValue:e._currentValue2;if(sn!==e)if(e={context:e,memoizedValue:t,next:null},null===rn){if(null===nn)throw Error(a(308));rn=e,nn.dependencies={lanes:0,firstContext:e}}else rn=rn.next=e;return t}var dn=null,fn=!1;function pn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vn(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==Js&&0!==(1&e.mode)&&0===(2&Ys)?(null===(e=n.interleaved)?(t.next=t,null===dn?dn=[n]:dn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function xn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Nt(e,n)}}function bn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function yn(e,t,n,r){var i=e.updateQueue;fn=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var c=l,u=c.next;c.next=null,null===o?a=u:o.next=u,o=c;var h=e.alternate;null!==h&&((l=(h=h.updateQueue).lastBaseUpdate)!==o&&(null===l?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(null!==a){var d=i.baseState;for(o=0,h=u=c=null,l=a;;){var f=l.lane,p=l.eventTime;if((r&f)===f){null!==h&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,g=l;switch(f=t,p=n,g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(p,d,f):m)||void 0===f)break e;d=s({},d,f);break e;case 2:fn=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===h?(u=h=p,c=d):h=h.next=p,o|=f;if(null===(l=l.next)){if(null===(l=i.shared.pending))break;l=(f=l).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===h&&(c=d),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=h,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);ta|=o,e.lanes=o,e.memoizedState=d}}function wn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var _n=(new r.Component).refs;function An(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:s({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Sn={isMounted:function(e){return!!(e=e._reactInternals)&&E(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ya(),i=wa(e),s=gn(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),vn(e,s),null!==(t=_a(e,i,r))&&xn(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ya(),i=wa(e),s=gn(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),vn(e,s),null!==(t=_a(e,i,r))&&xn(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ya(),r=wa(e),i=gn(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),vn(e,i),null!==(t=_a(e,r,n))&&xn(t,e,r)}};function En(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!Zt(n,r)||!Zt(i,s))}function Tn(e,t,n){var r=!1,i=ct,s=t.contextType;return"object"===typeof s&&null!==s?s=hn(s):(i=pt(t)?dt:ut.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?ft(e,i):ct),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Sn,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Mn(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Sn.enqueueReplaceState(t,t.state,null)}function Cn(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=_n,pn(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=hn(s):(s=pt(t)?dt:ut.current,i.context=ft(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(An(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Sn.enqueueReplaceState(i,i.state,null),yn(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var Rn=[],kn=0,Nn=null,Pn=0,In=[],Ln=0,Dn=null,Bn=1,On="";function Fn(e,t){Rn[kn++]=Pn,Rn[kn++]=Nn,Nn=e,Pn=t}function Un(e,t,n){In[Ln++]=Bn,In[Ln++]=On,In[Ln++]=Dn,Dn=e;var r=Bn;e=On;var i=32-yt(r)-1;r&=~(1<<i),n+=1;var s=32-yt(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Bn=1<<32-yt(t)+i|n<<i|r,On=s+e}else Bn=1<<s|n<<i|r,On=e}function jn(e){null!==e.return&&(Fn(e,1),Un(e,1,0))}function zn(e){for(;e===Nn;)Nn=Rn[--kn],Rn[kn]=null,Pn=Rn[--kn],Rn[kn]=null;for(;e===Dn;)Dn=In[--Ln],In[Ln]=null,On=In[--Ln],In[Ln]=null,Bn=In[--Ln],In[Ln]=null}var Hn=null,Gn=null,Vn=!1,Wn=!1,Xn=null;function Yn(e,t){var n=Qa(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Jn(e,t){switch(e.tag){case 5:return null!==(t=Ie(t,e.type,e.pendingProps))&&(e.stateNode=t,Hn=e,Gn=je(t),!0);case 6:return null!==(t=Le(t,e.pendingProps))&&(e.stateNode=t,Hn=e,Gn=null,!0);case 13:if(null!==(t=De(t))){var n=null!==Dn?{id:Bn,overflow:On}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Qa(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Hn=e,Gn=null,!0}return!1;default:return!1}}function Kn(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function qn(e){if(Vn){var t=Gn;if(t){var n=t;if(!Jn(e,t)){if(Kn(e))throw Error(a(418));t=Ue(n);var r=Hn;t&&Jn(e,t)?Yn(r,n):(e.flags=-4097&e.flags|2,Vn=!1,Hn=e)}}else{if(Kn(e))throw Error(a(418));e.flags=-4097&e.flags|2,Vn=!1,Hn=e}}}function Qn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Hn=e}function Zn(e){if(!q||e!==Hn)return!1;if(!Vn)return Qn(e),Vn=!0,!1;if(3!==e.tag&&(5!==e.tag||Qe(e.type)&&!H(e.type,e.memoizedProps))){var t=Gn;if(t){if(Kn(e)){for(e=Gn;e;)e=Ue(e);throw Error(a(418))}for(;t;)Yn(e,t),t=Ue(t)}}if(Qn(e),13===e.tag){if(!q)throw Error(a(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));Gn=Xe(e)}else Gn=Hn?Ue(e.stateNode):null;return!0}function $n(){q&&(Gn=Hn=null,Wn=Vn=!1)}function er(e){null===Xn?Xn=[e]:Xn.push(e)}function tr(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===_n&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function nr(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rr(e){return(0,e._init)(e._payload)}function ir(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=$a(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function h(e,t,n,r){return null===t||6!==t.tag?((t=ro(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n,r){var s=n.type;return s===u?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===b&&rr(s)===t.type)?((r=i(t,n.props)).ref=tr(e,t,n),r.return=e,r):((r=eo(n.type,n.key,n.props,null,e.mode,r)).ref=tr(e,t,n),r.return=e,r)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=io(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,s){return null===t||7!==t.tag?((t=to(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=ro(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case l:return(n=eo(t.type,t.key,t.props,null,e.mode,n)).ref=tr(e,null,t),n.return=e,n;case c:return(t=io(t,e.mode,n)).return=e,t;case b:return m(e,(0,t._init)(t._payload),n)}if(P(t)||_(t))return(t=to(t,e.mode,n,null)).return=e,t;nr(e,t)}return null}function g(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:h(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case l:return n.key===i?d(e,t,n,r):null;case c:return n.key===i?f(e,t,n,r):null;case b:return g(e,t,(i=n._init)(n._payload),r)}if(P(n)||_(n))return null!==i?null:p(e,t,n,r,null);nr(e,n)}return null}function v(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return h(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case l:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case c:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case b:return v(e,t,n,(0,r._init)(r._payload),i)}if(P(r)||_(r))return p(t,e=e.get(n)||null,r,i,null);nr(t,r)}return null}function x(i,a,o,l){for(var c=null,u=null,h=a,d=a=0,f=null;null!==h&&d<o.length;d++){h.index>d?(f=h,h=null):f=h.sibling;var p=g(i,h,o[d],l);if(null===p){null===h&&(h=f);break}e&&h&&null===p.alternate&&t(i,h),a=s(p,a,d),null===u?c=p:u.sibling=p,u=p,h=f}if(d===o.length)return n(i,h),Vn&&Fn(i,d),c;if(null===h){for(;d<o.length;d++)null!==(h=m(i,o[d],l))&&(a=s(h,a,d),null===u?c=h:u.sibling=h,u=h);return Vn&&Fn(i,d),c}for(h=r(i,h);d<o.length;d++)null!==(f=v(h,i,d,o[d],l))&&(e&&null!==f.alternate&&h.delete(null===f.key?d:f.key),a=s(f,a,d),null===u?c=f:u.sibling=f,u=f);return e&&h.forEach((function(e){return t(i,e)})),Vn&&Fn(i,d),c}function y(i,o,l,c){var u=_(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var h=u=null,d=o,f=o=0,p=null,x=l.next();null!==d&&!x.done;f++,x=l.next()){d.index>f?(p=d,d=null):p=d.sibling;var b=g(i,d,x.value,c);if(null===b){null===d&&(d=p);break}e&&d&&null===b.alternate&&t(i,d),o=s(b,o,f),null===h?u=b:h.sibling=b,h=b,d=p}if(x.done)return n(i,d),Vn&&Fn(i,f),u;if(null===d){for(;!x.done;f++,x=l.next())null!==(x=m(i,x.value,c))&&(o=s(x,o,f),null===h?u=x:h.sibling=x,h=x);return Vn&&Fn(i,f),u}for(d=r(i,d);!x.done;f++,x=l.next())null!==(x=v(d,i,f,x.value,c))&&(e&&null!==x.alternate&&d.delete(null===x.key?f:x.key),o=s(x,o,f),null===h?u=x:h.sibling=x,h=x);return e&&d.forEach((function(e){return t(i,e)})),Vn&&Fn(i,f),u}return function e(r,s,a,h){if("object"===typeof a&&null!==a&&a.type===u&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case l:e:{for(var d=a.key,f=s;null!==f;){if(f.key===d){if((d=a.type)===u){if(7===f.tag){n(r,f.sibling),(s=i(f,a.props.children)).return=r,r=s;break e}}else if(f.elementType===d||"object"===typeof d&&null!==d&&d.$$typeof===b&&rr(d)===f.type){n(r,f.sibling),(s=i(f,a.props)).ref=tr(r,f,a),s.return=r,r=s;break e}n(r,f);break}t(r,f),f=f.sibling}a.type===u?((s=to(a.props.children,r.mode,h,a.key)).return=r,r=s):((h=eo(a.type,a.key,a.props,null,r.mode,h)).ref=tr(r,s,a),h.return=r,r=h)}return o(r);case c:e:{for(f=a.key;null!==s;){if(s.key===f){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=io(a,r.mode,h)).return=r,r=s}return o(r);case b:return e(r,s,(f=a._init)(a._payload),h)}if(P(a))return x(r,s,a,h);if(_(a))return y(r,s,a,h);nr(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=ro(a,r.mode,h)).return=r,r=s),o(r)):n(r,s)}}var sr=ir(!0),ar=ir(!1),or={},lr=at(or),cr=at(or),ur=at(or);function hr(e){if(e===or)throw Error(a(174));return e}function dr(e,t){lt(ur,t),lt(cr,e),lt(lr,or),e=L(t),ot(lr),lt(lr,e)}function fr(){ot(lr),ot(cr),ot(ur)}function pr(e){var t=hr(ur.current),n=hr(lr.current);n!==(t=D(n,e.type,t))&&(lt(cr,e),lt(lr,t))}function mr(e){cr.current===e&&(ot(lr),ot(cr))}var gr=at(0);function vr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Be(n)||Oe(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xr=[];function br(){for(var e=0;e<xr.length;e++){var t=xr[e];Y?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}xr.length=0}var yr=o.ReactCurrentDispatcher,wr=o.ReactCurrentBatchConfig,_r=0,Ar=null,Sr=null,Er=null,Tr=!1,Mr=!1,Cr=0,Rr=0;function kr(){throw Error(a(321))}function Nr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wt(e[n],t[n]))return!1;return!0}function Pr(e,t,n,r,i,s){if(_r=s,Ar=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yr.current=null===e||null===e.memoizedState?pi:mi,e=n(r,i),Mr){s=0;do{if(Mr=!1,Cr=0,25<=s)throw Error(a(301));s+=1,Er=Sr=null,t.updateQueue=null,yr.current=gi,e=n(r,i)}while(Mr)}if(yr.current=fi,t=null!==Sr&&null!==Sr.next,_r=0,Er=Sr=Ar=null,Tr=!1,t)throw Error(a(300));return e}function Ir(){var e=0!==Cr;return Cr=0,e}function Lr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Er?Ar.memoizedState=Er=e:Er=Er.next=e,Er}function Dr(){if(null===Sr){var e=Ar.alternate;e=null!==e?e.memoizedState:null}else e=Sr.next;var t=null===Er?Ar.memoizedState:Er.next;if(null!==t)Er=t,Sr=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Sr=e).memoizedState,baseState:Sr.baseState,baseQueue:Sr.baseQueue,queue:Sr.queue,next:null},null===Er?Ar.memoizedState=Er=e:Er=Er.next=e}return Er}function Br(e,t){return"function"===typeof t?t(e):t}function Or(e){var t=Dr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Sr,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var h=u.lane;if((_r&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=r):c=c.next=d,Ar.lanes|=h,ta|=h}u=u.next}while(null!==u&&u!==s);null===c?o=r:c.next=l,Wt(r,t.memoizedState)||(Bi=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,Ar.lanes|=s,ta|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fr(e){var t=Dr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);Wt(s,t.memoizedState)||(Bi=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ur(){}function jr(e,t){var n=Ar,r=Dr(),i=t(),s=!Wt(r.memoizedState,i);if(s&&(r.memoizedState=i,Bi=!0),r=r.queue,Qr(Gr.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==Er&&1&Er.memoizedState.tag){if(n.flags|=2048,Xr(9,Hr.bind(null,n,r,i,t),void 0,null),null===Js)throw Error(a(349));0!==(30&_r)||zr(n,t,i)}return i}function zr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ar.updateQueue)?(t={lastEffect:null,stores:null},Ar.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Hr(e,t,n,r){t.value=n,t.getSnapshot=r,Vr(t)&&_a(e,1,-1)}function Gr(e,t,n){return n((function(){Vr(t)&&_a(e,1,-1)}))}function Vr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wt(e,n)}catch(r){return!0}}function Wr(e){var t=Lr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:e},t.queue=e,e=e.dispatch=li.bind(null,Ar,e),[t.memoizedState,e]}function Xr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ar.updateQueue)?(t={lastEffect:null,stores:null},Ar.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Yr(){return Dr().memoizedState}function Jr(e,t,n,r){var i=Lr();Ar.flags|=e,i.memoizedState=Xr(1|t,n,void 0,void 0===r?null:r)}function Kr(e,t,n,r){var i=Dr();r=void 0===r?null:r;var s=void 0;if(null!==Sr){var a=Sr.memoizedState;if(s=a.destroy,null!==r&&Nr(r,a.deps))return void(i.memoizedState=Xr(t,n,s,r))}Ar.flags|=e,i.memoizedState=Xr(1|t,n,s,r)}function qr(e,t){return Jr(8390656,8,e,t)}function Qr(e,t){return Kr(2048,8,e,t)}function Zr(e,t){return Kr(4,2,e,t)}function $r(e,t){return Kr(4,4,e,t)}function ei(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ti(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Kr(4,4,ei.bind(null,t,e),n)}function ni(){}function ri(e,t){var n=Dr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Nr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ii(e,t){var n=Dr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Nr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function si(e,t){var n=Pt;Pt=0!==n&&4>n?n:4,e(!0);var r=wr.transition;wr.transition={};try{e(!1),t()}finally{Pt=n,wr.transition=r}}function ai(){return Dr().memoizedState}function oi(e,t,n){var r=wa(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ci(e)?ui(t,n):(hi(e,t,n),null!==(e=_a(e,r,n=ya()))&&di(e,t,r))}function li(e,t,n){var r=wa(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ci(e))ui(t,i);else{hi(e,t,i);var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Wt(o,a))return}catch(l){}null!==(e=_a(e,r,n=ya()))&&di(e,t,r)}}function ci(e){var t=e.alternate;return e===Ar||null!==t&&t===Ar}function ui(e,t){Mr=Tr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hi(e,t,n){null!==Js&&0!==(1&e.mode)&&0===(2&Ys)?(null===(e=t.interleaved)?(n.next=n,null===dn?dn=[t]:dn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function di(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Nt(e,n)}}var fi={readContext:hn,useCallback:kr,useContext:kr,useEffect:kr,useImperativeHandle:kr,useInsertionEffect:kr,useLayoutEffect:kr,useMemo:kr,useReducer:kr,useRef:kr,useState:kr,useDebugValue:kr,useDeferredValue:kr,useTransition:kr,useMutableSource:kr,useSyncExternalStore:kr,useId:kr,unstable_isNewReconciler:!1},pi={readContext:hn,useCallback:function(e,t){return Lr().memoizedState=[e,void 0===t?null:t],e},useContext:hn,useEffect:qr,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Jr(4194308,4,ei.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Jr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jr(4,2,e,t)},useMemo:function(e,t){var n=Lr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Lr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=oi.bind(null,Ar,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Lr().memoizedState=e},useState:Wr,useDebugValue:ni,useDeferredValue:function(e){var t=Wr(e),n=t[0],r=t[1];return qr((function(){var t=wr.transition;wr.transition={};try{r(e)}finally{wr.transition=t}}),[e]),n},useTransition:function(){var e=Wr(!1),t=e[0];return e=si.bind(null,e[1]),Lr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ar,i=Lr();if(Vn){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Js)throw Error(a(349));0!==(30&_r)||zr(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,qr(Gr.bind(null,r,s,e),[e]),r.flags|=2048,Xr(9,Hr.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Lr(),t=Js.identifierPrefix;if(Vn){var n=On;t=":"+t+"R"+(n=(Bn&~(1<<32-yt(Bn)-1)).toString(32)+n),0<(n=Cr++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Rr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mi={readContext:hn,useCallback:ri,useContext:hn,useEffect:Qr,useImperativeHandle:ti,useInsertionEffect:Zr,useLayoutEffect:$r,useMemo:ii,useReducer:Or,useRef:Yr,useState:function(){return Or(Br)},useDebugValue:ni,useDeferredValue:function(e){var t=Or(Br),n=t[0],r=t[1];return Qr((function(){var t=wr.transition;wr.transition={};try{r(e)}finally{wr.transition=t}}),[e]),n},useTransition:function(){return[Or(Br)[0],Dr().memoizedState]},useMutableSource:Ur,useSyncExternalStore:jr,useId:ai,unstable_isNewReconciler:!1},gi={readContext:hn,useCallback:ri,useContext:hn,useEffect:Qr,useImperativeHandle:ti,useInsertionEffect:Zr,useLayoutEffect:$r,useMemo:ii,useReducer:Fr,useRef:Yr,useState:function(){return Fr(Br)},useDebugValue:ni,useDeferredValue:function(e){var t=Fr(Br),n=t[0],r=t[1];return Qr((function(){var t=wr.transition;wr.transition={};try{r(e)}finally{wr.transition=t}}),[e]),n},useTransition:function(){return[Fr(Br)[0],Dr().memoizedState]},useMutableSource:Ur,useSyncExternalStore:jr,useId:ai,unstable_isNewReconciler:!1};function vi(e,t){try{var n="",r=t;do{n+=$t(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i}}function xi(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var bi,yi,wi,_i,Ai="function"===typeof WeakMap?WeakMap:Map;function Si(e,t,n){(n=gn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ua||(ua=!0,ha=r),xi(0,t)},n}function Ei(e,t,n){(n=gn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){xi(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){xi(0,t),"function"!==typeof r&&(null===da?da=new Set([this]):da.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Ti(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Ai;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Wa.bind(null,e,t,n),t.then(e,e))}function Mi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ci(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=gn(-1,1)).tag=2,vn(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function Ri(e){e.flags|=4}function ki(e,t){if(null!==e&&e.child===t.child)return!0;if(0!==(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!==(12854&e.flags)||0!==(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(J)bi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)U(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},yi=function(){},wi=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var s=t.stateNode,a=hr(lr.current);n=z(s,n,e,r,i,a),(t.updateQueue=n)&&Ri(t)}},_i=function(e,t,n,r){n!==r&&Ri(t)};else if(K){bi=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var s=i.stateNode;n&&r&&(s=Ne(s,i.type,i.memoizedProps,i)),U(e,s)}else if(6===i.tag)s=i.stateNode,n&&r&&(s=Pe(s,i.memoizedProps,i)),U(e,s);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(s=i.child)&&(s.return=i),bi(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var Ni=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var s=i.stateNode;n&&r&&(s=Ne(s,i.type,i.memoizedProps,i)),Ce(e,s)}else if(6===i.tag)s=i.stateNode,n&&r&&(s=Pe(s,i.memoizedProps,i)),Ce(e,s);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(s=i.child)&&(s.return=i),Ni(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};yi=function(e,t){var n=t.stateNode;if(!ki(e,t)){e=n.containerInfo;var r=Me(e);Ni(r,t,!1,!1),n.pendingChildren=r,Ri(t),Re(e,r)}},wi=function(e,t,n,r,i){var s=e.stateNode,a=e.memoizedProps;if((e=ki(e,t))&&a===r)t.stateNode=s;else{var o=t.stateNode,l=hr(lr.current),c=null;a!==r&&(c=z(o,n,a,r,i,l)),e&&null===c?t.stateNode=s:(s=Te(s,c,n,a,r,t,e,o),j(s,n,r,i,l)&&Ri(t),t.stateNode=s,e?Ri(t):bi(s,t,!1,!1))}},_i=function(e,t,n,r){n!==r?(e=hr(ur.current),n=hr(lr.current),t.stateNode=G(r,e,n,t),Ri(t)):t.stateNode=e.stateNode}}else yi=function(){},wi=function(){},_i=function(){};function Pi(e,t){if(!Vn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ii(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Li(e,t,n){var r=t.pendingProps;switch(zn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ii(t),null;case 1:case 17:return pt(t.type)&&mt(),Ii(t),null;case 3:return r=t.stateNode,fr(),ot(ht),ot(ut),br(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Zn(t)?Ri(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Xn&&(Ma(Xn),Xn=null))),yi(e,t),Ii(t),null;case 5:mr(t),n=hr(ur.current);var i=t.type;if(null!==e&&null!=t.stateNode)wi(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ii(t),null}if(e=hr(lr.current),Zn(t)){if(!q)throw Error(a(175));e=Ge(t.stateNode,t.type,t.memoizedProps,n,e,t,!Wn),t.updateQueue=e,null!==e&&Ri(t)}else{var s=F(i,r,n,e,t);bi(s,t,!1,!1),t.stateNode=s,j(s,i,r,n,e)&&Ri(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ii(t),null;case 6:if(e&&null!=t.stateNode)_i(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=hr(ur.current),n=hr(lr.current),Zn(t)){if(!q)throw Error(a(176));if(e=t.stateNode,r=t.memoizedProps,(n=Ve(e,r,t,!Wn))&&null!==(i=Hn))switch(s=0!==(1&i.mode),i.tag){case 3:Ze(i.stateNode.containerInfo,e,r,s);break;case 5:$e(i.type,i.memoizedProps,i.stateNode,e,r,s)}n&&Ri(t)}else t.stateNode=G(r,e,n,t)}return Ii(t),null;case 13:if(ot(gr),r=t.memoizedState,Vn&&null!==Gn&&0!==(1&t.mode)&&0===(128&t.flags)){for(e=Gn;e;)e=Ue(e);return $n(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Zn(t),null===e){if(!r)throw Error(a(318));if(!q)throw Error(a(344));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(a(317));We(e,t)}else $n(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Ii(t),null}return null!==Xn&&(Ma(Xn),Xn=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Zn(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&gr.current)?0===$s&&($s=3):Da())),null!==t.updateQueue&&(t.flags|=4),Ii(t),null);case 4:return fr(),yi(e,t),null===e&&Z(t.stateNode.containerInfo),Ii(t),null;case 10:return ln(t.type._context),Ii(t),null;case 19:if(ot(gr),null===(i=t.memoizedState))return Ii(t),null;if(r=0!==(128&t.flags),null===(s=i.rendering))if(r)Pi(i,!1);else{if(0!==$s||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=vr(e))){for(t.flags|=128,Pi(i,!1),null!==(e=s.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,r=t.child;null!==r;)i=e,(n=r).flags&=14680066,null===(s=n.alternate)?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,i=s.dependencies,n.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),r=r.sibling;return lt(gr,1&gr.current|2),t.child}e=e.sibling}null!==i.tail&&Ft()>oa&&(t.flags|=128,r=!0,Pi(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=vr(s))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),Pi(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!Vn)return Ii(t),null}else 2*Ft()-i.renderingStartTime>oa&&1073741824!==n&&(t.flags|=128,r=!0,Pi(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ft(),t.sibling=null,e=gr.current,lt(gr,r?1&e|2:1&e),t):(Ii(t),null);case 22:case 23:return Na(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Qs)&&(Ii(t),J&&6&t.subtreeFlags&&(t.flags|=8192)):Ii(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}var Di=o.ReactCurrentOwner,Bi=!1;function Oi(e,t,n,r){t.child=null===e?ar(t,null,n,r):sr(t,e.child,n,r)}function Fi(e,t,n,r,i){n=n.render;var s=t.ref;return un(t,i),r=Pr(e,t,n,r,s,i),n=Ir(),null===e||Bi?(Vn&&n&&jn(t),t.flags|=1,Oi(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,is(e,t,i))}function Ui(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Za(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=eo(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ji(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:Zt)(a,r)&&e.ref===t.ref)return is(e,t,i)}return t.flags|=1,(e=$a(s,r)).ref=t.ref,e.return=t,t.child=e}function ji(e,t,n,r,i){if(null!==e&&Zt(e.memoizedProps,r)&&e.ref===t.ref){if(Bi=!1,0===(e.lanes&i))return t.lanes=e.lanes,is(e,t,i);0!==(131072&e.flags)&&(Bi=!0)}return Gi(e,t,n,r,i)}function zi(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},lt(Zs,Qs),Qs|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,lt(Zs,Qs),Qs|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==s?s.baseLanes:n,lt(Zs,Qs),Qs|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,lt(Zs,Qs),Qs|=r;return Oi(e,t,i,n),t.child}function Hi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Gi(e,t,n,r,i){var s=pt(n)?dt:ut.current;return s=ft(t,s),un(t,i),n=Pr(e,t,n,r,s,i),r=Ir(),null===e||Bi?(Vn&&r&&jn(t),t.flags|=1,Oi(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,is(e,t,i))}function Vi(e,t,n,r,i){if(pt(n)){var s=!0;xt(t)}else s=!1;if(un(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Tn(t,n,r),Cn(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=hn(c):c=ft(t,c=pt(n)?dt:ut.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&Mn(t,a,r,c),fn=!1;var d=t.memoizedState;a.state=d,yn(t,r,a,i),l=t.memoizedState,o!==r||d!==l||ht.current||fn?("function"===typeof u&&(An(t,n,u,r),l=t.memoizedState),(o=fn||En(t,n,o,r,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,mn(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:en(t.type,o),a.props=c,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=hn(l):l=ft(t,l=pt(n)?dt:ut.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&Mn(t,a,r,l),fn=!1,d=t.memoizedState,a.state=d,yn(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||ht.current||fn?("function"===typeof f&&(An(t,n,f,r),p=t.memoizedState),(c=fn||En(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Wi(e,t,n,r,s,i)}function Wi(e,t,n,r,i,s){Hi(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&bt(t,n,!1),is(e,t,s);r=t.stateNode,Di.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=sr(t,e.child,null,s),t.child=sr(t,null,o,s)):Oi(e,t,o,s),t.memoizedState=r.state,i&&bt(t,n,!0),t.child}function Xi(e){var t=e.stateNode;t.pendingContext?gt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gt(0,t.context,!1),dr(e,t.containerInfo)}function Yi(e,t,n,r,i){return $n(),er(i),t.flags|=256,Oi(e,t,n,r),t.child}var Ji={dehydrated:null,treeContext:null,retryLane:0};function Ki(e){return{baseLanes:e,cachePool:null}}function qi(e,t,n){var r,i=t.pendingProps,s=gr.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),lt(gr,1&s),null===e)return qn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:Oe(e)?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,o?(i=t.mode,o=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=s):o=no(s,i,0,null),e=to(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ki(n),t.memoizedState=Ji,e):Qi(t,s));if(null!==(s=e.memoizedState)){if(null!==(r=s.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,es(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,s=t.mode,i=no({mode:"visible",children:i.children},s,0,null),(o=to(o,s,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,0!==(1&t.mode)&&sr(t,e.child,null,n),t.child.memoizedState=Ki(n),t.memoizedState=Ji,o);if(0===(1&t.mode))t=es(e,t,n,null);else if(Oe(r))t=es(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),Bi||i){if(null!==(i=Js)){switch(n&-n){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(i=0!==(o&(i.suspendedLanes|n))?0:o)&&i!==s.retryLane&&(s.retryLane=i,_a(e,i,-1))}Da(),t=es(e,t,n,Error(a(421)))}else Be(r)?(t.flags|=128,t.child=e.child,t=Ya.bind(null,e),Fe(r,t),t=null):(n=s.treeContext,q&&(Gn=He(r),Hn=t,Vn=!0,Xn=null,Wn=!1,null!==n&&(In[Ln++]=Bn,In[Ln++]=On,In[Ln++]=Dn,Bn=n.id,On=n.overflow,Dn=t)),(t=Qi(t,t.pendingProps.children)).flags|=4096);return t}return o?(i=$i(e,t,i.children,i.fallback,n),o=t.child,s=e.child.memoizedState,o.memoizedState=null===s?Ki(n):{baseLanes:s.baseLanes|n,cachePool:null},o.childLanes=e.childLanes&~n,t.memoizedState=Ji,i):(n=Zi(e,t,i.children,n),t.memoizedState=null,n)}return o?(i=$i(e,t,i.children,i.fallback,n),o=t.child,s=e.child.memoizedState,o.memoizedState=null===s?Ki(n):{baseLanes:s.baseLanes|n,cachePool:null},o.childLanes=e.childLanes&~n,t.memoizedState=Ji,i):(n=Zi(e,t,i.children,n),t.memoizedState=null,n)}function Qi(e,t){return(t=no({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Zi(e,t,n,r){var i=e.child;return e=i.sibling,n=$a(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function $i(e,t,n,r,i){var s=t.mode,a=(e=e.child).sibling,o={mode:"hidden",children:n};return 0===(1&s)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=o,t.deletions=null):(n=$a(e,o)).subtreeFlags=14680064&e.subtreeFlags,null!==a?r=$a(a,r):(r=to(r,s,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function es(e,t,n,r){return null!==r&&er(r),sr(t,e.child,null,n),(e=Qi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ts(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),cn(e.return,t,n)}function ns(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function rs(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Oi(e,t,r.children,n),0!==(2&(r=gr.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ts(e,n,t);else if(19===e.tag)ts(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(lt(gr,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===vr(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ns(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===vr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ns(t,!0,n,null,s);break;case"together":ns(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function is(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ta|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=$a(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=$a(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ss(e,t){switch(zn(t),t.tag){case 1:return pt(t.type)&&mt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return fr(),ot(ht),ot(ut),br(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return mr(t),null;case 13:if(ot(gr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));$n()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ot(gr),null;case 4:return fr(),null;case 10:return ln(t.type._context),null;case 22:case 23:return Na(),null;default:return null}}var as=!1,os=!1,ls="function"===typeof WeakSet?WeakSet:Set,cs=null;function us(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Va(e,t,r)}else n.current=null}function hs(e,t,n){try{n()}catch(r){Va(e,t,r)}}var ds=!1;function fs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&hs(t,n,s)}i=i.next}while(i!==r)}}function ps(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ms(e){var t=e.ref;if(null!==t){var n=e.stateNode;if(5===e.tag)e=I(n);else e=n;"function"===typeof t?t(e):t.current=e}}function gs(e,t,n){if(Vt&&"function"===typeof Vt.onCommitFiberUnmount)try{Vt.onCommitFiberUnmount(Gt,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&hs(t,n,s),r=r.next}while(r!==e)}break;case 1:if(us(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Va(t,n,a)}break;case 5:us(t,n);break;case 4:J?Ss(e,t,n):K&&K&&(t=t.stateNode.containerInfo,n=Me(t),ke(t,n))}}function vs(e,t,n){for(var r=t;;)if(gs(e,r,n),null===r.child||J&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function xs(e){var t=e.alternate;null!==t&&(e.alternate=null,xs(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ee(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bs(e){return 5===e.tag||3===e.tag||4===e.tag}function ys(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||bs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ws(e){if(J){e:{for(var t=e.return;null!==t;){if(bs(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(ye(t),n.flags&=-33),As(e,n=ys(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,_s(e,n=ys(e),t);break;default:throw Error(a(161))}}}function _s(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ve(n,e,t):de(n,e);else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function As(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ge(n,e,t):he(n,e);else if(4!==r&&null!==(e=e.child))for(As(e,t,n),e=e.sibling;null!==e;)As(e,t,n),e=e.sibling}function Ss(e,t,n){for(var r,i,s=t,o=!1;;){if(!o){o=s.return;e:for(;;){if(null===o)throw Error(a(160));switch(r=o.stateNode,o.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}o=o.return}o=!0}if(5===s.tag||6===s.tag)vs(e,s,n),i?be(r,s.stateNode):xe(r,s.stateNode);else if(18===s.tag)i?qe(r,s.stateNode):Ke(r,s.stateNode);else if(4===s.tag){if(null!==s.child){r=s.stateNode.containerInfo,i=!0,s.child.return=s,s=s.child;continue}}else if(gs(e,s,n),null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;4===(s=s.return).tag&&(o=!1)}s.sibling.return=s.return,s=s.sibling}}function Es(e,t){if(J){switch(t.tag){case 0:case 11:case 14:case 15:return fs(3,t,t.return),ps(3,t),void fs(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,s=t.updateQueue;t.updateQueue=null,null!==s&&me(n,s,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(a(162));return n=t.memoizedProps,void fe(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(q&&null!==e&&e.memoizedState.isDehydrated&&Ye(t.stateNode.containerInfo));case 13:case 19:return void Ts(t)}throw Error(a(163))}switch(t.tag){case 0:case 11:case 14:case 15:return fs(3,t,t.return),ps(3,t),void fs(5,t,t.return);case 12:case 22:case 23:return;case 13:case 19:return void Ts(t);case 3:q&&null!==e&&e.memoizedState.isDehydrated&&Ye(t.stateNode.containerInfo)}e:if(K){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,ke(t.containerInfo,t.pendingChildren);break e}throw Error(a(163))}}function Ts(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ls),t.forEach((function(t){var r=Ja.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ms(e,t,n){cs=e,Cs(e,t,n)}function Cs(e,t,n){for(var r=0!==(1&e.mode);null!==cs;){var i=cs,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||as;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||os;o=as;var c=os;if(as=a,(os=l)&&!c)for(cs=i;null!==cs;)l=(a=cs).child,22===a.tag&&null!==a.memoizedState?Ns(i):null!==l?(l.return=a,cs=l):Ns(i);for(;null!==s;)cs=s,Cs(s,t,n),s=s.sibling;cs=i,as=o,os=c}Rs(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,cs=s):Rs(e)}}function Rs(e){for(;null!==cs;){var t=cs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:os||ps(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!os)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:en(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&wn(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=I(t.child.stateNode);break;case 1:n=t.child.stateNode}wn(t,o,n)}break;case 5:var l=t.stateNode;null===n&&4&t.flags&&pe(l,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(q&&null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Je(h)}}}break;default:throw Error(a(163))}os||512&t.flags&&ms(t)}catch(d){Va(t,t.return,d)}}if(t===e){cs=null;break}if(null!==(n=t.sibling)){n.return=t.return,cs=n;break}cs=t.return}}function ks(e){for(;null!==cs;){var t=cs;if(t===e){cs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,cs=n;break}cs=t.return}}function Ns(e){for(;null!==cs;){var t=cs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ps(4,t)}catch(l){Va(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Va(t,i,l)}}var s=t.return;try{ms(t)}catch(l){Va(t,s,l)}break;case 5:var a=t.return;try{ms(t)}catch(l){Va(t,a,l)}}}catch(l){Va(t,t.return,l)}if(t===e){cs=null;break}var o=t.sibling;if(null!==o){o.return=t.return,cs=o;break}cs=t.return}}var Ps=0,Is=1,Ls=2,Ds=3,Bs=4;if("function"===typeof Symbol&&Symbol.for){var Os=Symbol.for;Ps=Os("selector.component"),Is=Os("selector.has_pseudo_class"),Ls=Os("selector.role"),Ds=Os("selector.test_id"),Bs=Os("selector.text")}function Fs(e){var t=Q(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(a(364));return t}if(null===(e=ie(e)))throw Error(a(362));return e.stateNode.current}function Us(e,t){switch(t.$$typeof){case Ps:if(e.type===t.value)return!0;break;case Is:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],s=t[i];if(5!==r.tag||!oe(r)){for(;null!=s&&Us(r,s);)s=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case Ls:if(5===e.tag&&le(e.stateNode,t.value))return!0;break;case Bs:if((5===e.tag||6===e.tag)&&(null!==(e=ae(e))&&0<=e.indexOf(t.value)))return!0;break;case Ds:if(5===e.tag&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function js(e){switch(e.$$typeof){case Ps:return"<"+(A(e.value)||"Unknown")+">";case Is:return":has("+(js(e)||"")+")";case Ls:return'[role="'+e.value+'"]';case Bs:return'"'+e.value+'"';case Ds:return'[data-testname="'+e.value+'"]';default:throw Error(a(365))}}function zs(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],s=e[r++],a=t[s];if(5!==i.tag||!oe(i)){for(;null!=a&&Us(i,a);)a=t[++s];if(s===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,s),i=i.sibling}}return n}function Hs(e,t){if(!re)throw Error(a(363));e=zs(e=Fs(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)oe(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Gs=Math.ceil,Vs=o.ReactCurrentDispatcher,Ws=o.ReactCurrentOwner,Xs=o.ReactCurrentBatchConfig,Ys=0,Js=null,Ks=null,qs=0,Qs=0,Zs=at(0),$s=0,ea=null,ta=0,na=0,ra=0,ia=null,sa=null,aa=0,oa=1/0;function la(){oa=Ft()+500}var ca,ua=!1,ha=null,da=null,fa=!1,pa=null,ma=0,ga=0,va=null,xa=-1,ba=0;function ya(){return 0!==(6&Ys)?Ft():-1!==xa?xa:xa=Ft()}function wa(e){return 0===(1&e.mode)?1:0!==(2&Ys)&&0!==qs?qs&-qs:null!==Qt.transition?(0===ba&&(e=At,0===(4194240&(At<<=1))&&(At=64),ba=e),ba):0!==(e=Pt)?e:$()}function _a(e,t,n){if(50<ga)throw ga=0,va=null,Error(a(185));var r=Aa(e,t);return null===r?null:(kt(r,t,n),0!==(2&Ys)&&r===Js||(r===Js&&(0===(2&Ys)&&(na|=t),4===$s&&Ca(r,qs)),Sa(r,n),1===t&&0===Ys&&0===(1&e.mode)&&(la(),Yt&&qt())),r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Sa(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-yt(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=Mt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=Tt(e,e===Js?qs:0);if(0===r)null!==n&&Dt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Dt(n),1===t)0===e.tag?function(e){Yt=!0,Kt(e)}(Ra.bind(null,e)):Kt(Ra.bind(null,e)),te?ne((function(){0===Ys&&qt()})):Lt(Ut,qt),n=null;else{switch(It(r)){case 1:n=Ut;break;case 4:n=jt;break;case 16:default:n=zt;break;case 536870912:n=Ht}n=Ka(n,Ea.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ea(e,t){if(xa=-1,ba=0,0!==(6&Ys))throw Error(a(327));var n=e.callbackNode;if(Ha()&&e.callbackNode!==n)return null;var r=Tt(e,e===Js?qs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Ba(e,r);else{t=r;var i=Ys;Ys|=2;var s=La();for(Js===e&&qs===t||(la(),Pa(e,t));;)try{Fa();break}catch(l){Ia(e,l)}an(),Vs.current=s,Ys=i,null!==Ks?t=0:(Js=null,qs=0,t=$s)}if(0!==t){if(2===t&&(0!==(i=Ct(e))&&(r=i,t=Ta(e,i))),1===t)throw n=ea,Pa(e,0),Ca(e,r),Sa(e,Ft()),n;if(6===t)Ca(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Wt(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Ba(e,r))&&(0!==(s=Ct(e))&&(r=s,t=Ta(e,s))),1===t))throw n=ea,Pa(e,0),Ca(e,r),Sa(e,Ft()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:za(e,sa);break;case 3:if(Ca(e,r),(130023424&r)===r&&10<(t=aa+500-Ft())){if(0!==Tt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ya(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=V(za.bind(null,e,sa),t);break}za(e,sa);break;case 4:if(Ca(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-yt(r);s=1<<o,(o=t[o])>i&&(i=o),r&=~s}if(r=i,10<(r=(120>(r=Ft()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Gs(r/1960))-r)){e.timeoutHandle=V(za.bind(null,e,sa),r);break}za(e,sa);break;default:throw Error(a(329))}}}return Sa(e,Ft()),e.callbackNode===n?Ea.bind(null,e):null}function Ta(e,t){var n=ia;return e.current.memoizedState.isDehydrated&&(Pa(e,t).flags|=256),2!==(e=Ba(e,t))&&(t=sa,sa=n,null!==t&&Ma(t)),e}function Ma(e){null===sa?sa=e:sa.push.apply(sa,e)}function Ca(e,t){for(t&=~ra,t&=~na,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-yt(t),r=1<<n;e[n]=-1,t&=~r}}function Ra(e){if(0!==(6&Ys))throw Error(a(327));Ha();var t=Tt(e,0);if(0===(1&t))return Sa(e,Ft()),null;var n=Ba(e,t);if(0!==e.tag&&2===n){var r=Ct(e);0!==r&&(t=r,n=Ta(e,r))}if(1===n)throw n=ea,Pa(e,0),Ca(e,t),Sa(e,Ft()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,za(e,sa),Sa(e,Ft()),null}function ka(e){null!==pa&&0===pa.tag&&0===(6&Ys)&&Ha();var t=Ys;Ys|=1;var n=Xs.transition,r=Pt;try{if(Xs.transition=null,Pt=1,e)return e()}finally{Pt=r,Xs.transition=n,0===(6&(Ys=t))&&qt()}}function Na(){Qs=Zs.current,ot(Zs)}function Pa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==X&&(e.timeoutHandle=X,W(n)),null!==Ks)for(n=Ks.return;null!==n;){var r=n;switch(zn(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&mt();break;case 3:fr(),ot(ht),ot(ut),br();break;case 5:mr(r);break;case 4:fr();break;case 13:case 19:ot(gr);break;case 10:ln(r.type._context);break;case 22:case 23:Na()}n=n.return}if(Js=e,Ks=e=$a(e.current,null),qs=Qs=t,$s=0,ea=null,ra=na=ta=0,sa=ia=null,null!==dn){for(t=0;t<dn.length;t++)if(null!==(r=(n=dn[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}dn=null}return e}function Ia(e,t){for(;;){var n=Ks;try{if(an(),yr.current=fi,Tr){for(var r=Ar.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Tr=!1}if(_r=0,Er=Sr=Ar=null,Mr=!1,Cr=0,Ws.current=null,null===n||null===n.return){$s=1,ea=t,Ks=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=qs,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Mi(o);if(null!==p){p.flags&=-257,Ci(p,o,l,0,t),1&p.mode&&Ti(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){Ti(s,u,t),Da();break e}c=Error(a(426))}else if(Vn&&1&l.mode){var v=Mi(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),Ci(v,o,l,0,t),er(c);break e}}s=c,4!==$s&&($s=2),null===ia?ia=[s]:ia.push(s),c=vi(c,l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,bn(l,Si(0,c,t));break e;case 1:s=c;var x=l.type,b=l.stateNode;if(0===(128&l.flags)&&("function"===typeof x.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===da||!da.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,bn(l,Ei(l,s,t));break e}}l=l.return}while(null!==l)}ja(n)}catch(y){t=y,Ks===n&&null!==n&&(Ks=n=n.return);continue}break}}function La(){var e=Vs.current;return Vs.current=fi,null===e?fi:e}function Da(){0!==$s&&3!==$s&&2!==$s||($s=4),null===Js||0===(268435455&ta)&&0===(268435455&na)||Ca(Js,qs)}function Ba(e,t){var n=Ys;Ys|=2;var r=La();for(Js===e&&qs===t||Pa(e,t);;)try{Oa();break}catch(i){Ia(e,i)}if(an(),Ys=n,Vs.current=r,null!==Ks)throw Error(a(261));return Js=null,qs=0,$s}function Oa(){for(;null!==Ks;)Ua(Ks)}function Fa(){for(;null!==Ks&&!Bt();)Ua(Ks)}function Ua(e){var t=ca(e.alternate,e,Qs);e.memoizedProps=e.pendingProps,null===t?ja(e):Ks=t,Ws.current=null}function ja(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Li(n,t,Qs)))return void(Ks=n)}else{if(null!==(n=ss(n,t)))return n.flags&=32767,void(Ks=n);if(null===e)return $s=6,void(Ks=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ks=t);Ks=t=e}while(null!==t);0===$s&&($s=5)}function za(e,t){var n=Pt,r=Xs.transition;try{Xs.transition=null,Pt=1,function(e,t,n){do{Ha()}while(null!==pa);if(0!==(6&Ys))throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-yt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,s),e===Js&&(Ks=Js=null,qs=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||fa||(fa=!0,Ka(zt,(function(){return Ha(),null}))),s=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||s){s=Xs.transition,Xs.transition=null;var o=Pt;Pt=1;var l=Ys;Ys|=4,Ws.current=null,function(e,t){for(B(e.containerInfo),cs=t;null!==cs;)if(t=(e=cs).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,cs=t;else for(;null!==cs;){e=cs;try{var n=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,s=e.stateNode,o=s.getSnapshotBeforeUpdate(e.elementType===e.type?r:en(e.type,r),i);s.__reactInternalSnapshotBeforeUpdate=o}break;case 3:J&&Ee(e.stateNode.containerInfo);break;default:throw Error(a(163))}}catch(l){Va(e,e.return,l)}if(null!==(t=e.sibling)){t.return=e.return,cs=t;break}cs=e.return}n=ds,ds=!1}(e,r),function(e,t){for(cs=t;null!==cs;){var n=(t=cs).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e;J?Ss(s,i,t):vs(s,i,t);var a=i.alternate;null!==a&&(a.return=null),i.return=null}catch(w){Va(i,t,w)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,cs=n;else for(;null!==cs;){t=cs;try{var o=t.flags;if(32&o&&J&&ye(t.stateNode),512&o){var l=t.alternate;if(null!==l){var c=l.ref;null!==c&&("function"===typeof c?c(null):c.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var u=t.alternate;null!==u&&null!==u.memoizedState||(aa=Ft())}break;case 22:var h=null!==t.memoizedState,d=t.alternate,f=null!==d&&null!==d.memoizedState;if(n=t,J)e:if(r=n,i=h,s=null,J)for(var p=r;;){if(5===p.tag){if(null===s){s=p;var m=p.stateNode;i?we(m):Ae(p.stateNode,p.memoizedProps)}}else if(6===p.tag){if(null===s){var g=p.stateNode;i?_e(g):Se(g,p.memoizedProps)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;s===p&&(s=null),p=p.return}s===p&&(s=null),p.sibling.return=p.return,p=p.sibling}if(h&&!f&&0!==(1&n.mode)){cs=n;for(var v=n.child;null!==v;){for(n=cs=v;null!==cs;){var x=(r=cs).child;switch(r.tag){case 0:case 11:case 14:case 15:fs(4,r,r.return);break;case 1:us(r,r.return);var b=r.stateNode;if("function"===typeof b.componentWillUnmount){var y=r.return;try{b.props=r.memoizedProps,b.state=r.memoizedState,b.componentWillUnmount()}catch(w){Va(r,y,w)}}break;case 5:us(r,r.return);break;case 22:if(null!==r.memoizedState){ks(n);continue}}null!==x?(x.return=r,cs=x):ks(n)}v=v.sibling}}}switch(4102&o){case 2:ws(t),t.flags&=-3;break;case 6:ws(t),t.flags&=-3,Es(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,Es(t.alternate,t);break;case 4:Es(t.alternate,t)}}catch(w){Va(t,t.return,w)}if(null!==(n=t.sibling)){n.return=t.return,cs=n;break}cs=t.return}}}(e,r),O(e.containerInfo),e.current=r,Ms(r,e,i),Ot(),Ys=l,Pt=o,Xs.transition=s}else e.current=r;if(fa&&(fa=!1,pa=e,ma=i),s=e.pendingLanes,0===s&&(da=null),function(e){if(Vt&&"function"===typeof Vt.onCommitFiberRoot)try{Vt.onCommitFiberRoot(Gt,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Sa(e,Ft()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(ua)throw ua=!1,e=ha,ha=null,e;0!==(1&ma)&&0!==e.tag&&Ha(),s=e.pendingLanes,0!==(1&s)?e===va?ga++:(ga=0,va=e):ga=0,qt()}(e,t,n)}finally{Xs.transition=r,Pt=n}return null}function Ha(){if(null!==pa){var e=It(ma),t=Xs.transition,n=Pt;try{if(Xs.transition=null,Pt=16>e?16:e,null===pa)var r=!1;else{if(e=pa,pa=null,ma=0,0!==(6&Ys))throw Error(a(331));var i=Ys;for(Ys|=4,cs=e.current;null!==cs;){var s=cs,o=s.child;if(0!==(16&cs.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(cs=u;null!==cs;){var h=cs;switch(h.tag){case 0:case 11:case 15:fs(8,h,s)}var d=h.child;if(null!==d)d.return=h,cs=d;else for(;null!==cs;){var f=(h=cs).sibling,p=h.return;if(xs(h),h===u){cs=null;break}if(null!==f){f.return=p,cs=f;break}cs=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}cs=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,cs=o;else e:for(;null!==cs;){if(0!==(2048&(s=cs).flags))switch(s.tag){case 0:case 11:case 15:fs(9,s,s.return)}var x=s.sibling;if(null!==x){x.return=s.return,cs=x;break e}cs=s.return}}var b=e.current;for(cs=b;null!==cs;){var y=(o=cs).child;if(0!==(2064&o.subtreeFlags)&&null!==y)y.return=o,cs=y;else e:for(o=b;null!==cs;){if(0!==(2048&(l=cs).flags))try{switch(l.tag){case 0:case 11:case 15:ps(9,l)}}catch(_){Va(l,l.return,_)}if(l===o){cs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,cs=w;break e}cs=l.return}}if(Ys=i,qt(),Vt&&"function"===typeof Vt.onPostCommitFiberRoot)try{Vt.onPostCommitFiberRoot(Gt,e)}catch(_){}r=!0}return r}finally{Pt=n,Xs.transition=t}}return!1}function Ga(e,t,n){vn(e,t=Si(0,t=vi(n,t),1)),t=ya(),null!==(e=Aa(e,1))&&(kt(e,1,t),Sa(e,t))}function Va(e,t,n){if(3===e.tag)Ga(e,e,n);else for(;null!==t;){if(3===t.tag){Ga(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===da||!da.has(r))){vn(t,e=Ei(t,e=vi(n,e),1)),e=ya(),null!==(t=Aa(t,1))&&(kt(t,1,e),Sa(t,e));break}}t=t.return}}function Wa(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ya(),e.pingedLanes|=e.suspendedLanes&n,Js===e&&(qs&n)===n&&(4===$s||3===$s&&(130023424&qs)===qs&&500>Ft()-aa?Pa(e,0):ra|=n),Sa(e,t)}function Xa(e,t){0===t&&(0===(1&e.mode)?t=1:(t=St,0===(130023424&(St<<=1))&&(St=4194304)));var n=ya();null!==(e=Aa(e,t))&&(kt(e,t,n),Sa(e,n))}function Ya(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Xa(e,n)}function Ja(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Xa(e,n)}function Ka(e,t){return Lt(e,t)}function qa(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qa(e,t,n,r){return new qa(e,t,n,r)}function Za(e){return!(!(e=e.prototype)||!e.isReactComponent)}function $a(e,t){var n=e.alternate;return null===n?((n=Qa(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function eo(e,t,n,r,i,s){var o=2;if(r=e,"function"===typeof e)Za(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case u:return to(n.children,i,s,t);case h:o=8,i|=8;break;case d:return(e=Qa(12,n,t,2|i)).elementType=d,e.lanes=s,e;case g:return(e=Qa(13,n,t,i)).elementType=g,e.lanes=s,e;case v:return(e=Qa(19,n,t,i)).elementType=v,e.lanes=s,e;case y:return no(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case f:o=10;break e;case p:o=9;break e;case m:o=11;break e;case x:o=14;break e;case b:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Qa(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function to(e,t,n,r){return(e=Qa(7,e,r,t)).lanes=n,e}function no(e,t,n,r){return(e=Qa(22,e,r,t)).elementType=y,e.lanes=n,e.stateNode={},e}function ro(e,t,n){return(e=Qa(6,e,null,t)).lanes=n,e}function io(e,t,n){return(t=Qa(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function so(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=X,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rt(0),this.expirationTimes=Rt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rt(0),this.identifierPrefix=r,this.onRecoverableError=i,q&&(this.mutableSourceEagerHydrationData=null)}function ao(e,t,n,r,i,s,a,o,l){return e=new so(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Qa(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},pn(s),e}function oo(e){if(!e)return ct;e:{if(E(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(pt(n))return vt(e,n,t)}return t}function lo(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return null===(e=C(t))?null:e.stateNode}function co(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function uo(e,t){co(e,t),(e=e.alternate)&&co(e,t)}function ho(e){return null===(e=C(e))?null:e.stateNode}function fo(){return null}return ca=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ht.current)Bi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Bi=!1,function(e,t,n){switch(t.tag){case 3:Xi(t),$n();break;case 5:pr(t);break;case 1:pt(t.type)&&xt(t);break;case 4:dr(t,t.stateNode.containerInfo);break;case 10:on(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(lt(gr,1&gr.current),t.flags|=128,null):0!==(n&t.child.childLanes)?qi(e,t,n):(lt(gr,1&gr.current),null!==(e=is(e,t,n))?e.sibling:null);lt(gr,1&gr.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return rs(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(gr,gr.current),r)break;return null;case 22:case 23:return t.lanes=0,zi(e,t,n)}return is(e,t,n)}(e,t,n);Bi=0!==(131072&e.flags)}else Bi=!1,Vn&&0!==(1048576&t.flags)&&Un(t,Pn,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=ft(t,ut.current);un(t,n),i=Pr(null,t,r,e,i,n);var s=Ir();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(r)?(s=!0,xt(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,pn(t),i.updater=Sn,t.stateNode=i,i._reactInternals=t,Cn(t,r,e,n),t=Wi(null,t,r,!0,s,n)):(t.tag=0,Vn&&s&&jn(t),Oi(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Za(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===m)return 11;if(e===x)return 14}return 2}(r),e=en(r,e),i){case 0:t=Gi(null,t,r,e,n);break e;case 1:t=Vi(null,t,r,e,n);break e;case 11:t=Fi(null,t,r,e,n);break e;case 14:t=Ui(null,t,r,en(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Gi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 1:return r=t.type,i=t.pendingProps,Vi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 3:e:{if(Xi(t),null===e)throw Error(a(387));r=t.pendingProps,i=(s=t.memoizedState).element,mn(e,t),yn(t,r,null,n);var o=t.memoizedState;if(r=o.element,q&&s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Yi(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Yi(e,t,r,n,i=Error(a(424)));break e}for(q&&(Gn=ze(t.stateNode.containerInfo),Hn=t,Vn=!0,Xn=null,Wn=!1),n=ar(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if($n(),r===i){t=is(e,t,n);break e}Oi(e,t,r,n)}t=t.child}return t;case 5:return pr(t),null===e&&qn(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,H(r,i)?o=null:null!==s&&H(r,s)&&(t.flags|=32),Hi(e,t),Oi(e,t,o,n),t.child;case 6:return null===e&&qn(t),null;case 13:return qi(e,t,n);case 4:return dr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=sr(t,null,r,n):Oi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 7:return Oi(e,t,t.pendingProps,n),t.child;case 8:case 12:return Oi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,on(0,r,o=i.value),null!==s)if(Wt(s.value,o)){if(s.children===i.children&&!ht.current){t=is(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=gn(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),cn(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),cn(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}Oi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,un(t,n),r=r(i=hn(i)),t.flags|=1,Oi(e,t,r,n),t.child;case 14:return i=en(r=t.type,t.pendingProps),Ui(e,t,r,i=en(r.type,i),n);case 15:return ji(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:en(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pt(r)?(e=!0,xt(t)):e=!1,un(t,n),Tn(t,r,i),Cn(t,r,i,n),Wi(null,t,r,!0,e,n);case 19:return rs(e,t,n);case 22:return zi(e,t,n)}throw Error(a(156,t.tag))},t.attemptContinuousHydration=function(e){13===e.tag&&(_a(e,134217728,ya()),uo(e,134217728))},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=ya(),n=wa(e);_a(e,n,t),uo(e,n)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Et(t.pendingLanes);0!==n&&(Nt(t,1|n),Sa(t,Ft()),0===(6&Ys)&&(la(),qt()))}break;case 13:var r=ya();ka((function(){return _a(e,1,r)})),uo(e,1)}},t.batchedUpdates=function(e,t){var n=Ys;Ys|=1;try{return e(t)}finally{0===(Ys=n)&&(la(),Yt&&qt())}},t.createComponentSelector=function(e){return{$$typeof:Ps,value:e}},t.createContainer=function(e,t,n,r,i,s,a){return ao(e,t,!1,null,0,r,0,s,a)},t.createHasPseudoClassSelector=function(e){return{$$typeof:Is,value:e}},t.createHydrationContainer=function(e,t,n,r,i,s,a,o,l){return(e=ao(n,r,!0,e,0,s,0,o,l)).context=oo(null),n=e.current,(s=gn(r=ya(),i=wa(n))).callback=void 0!==t&&null!==t?t:null,vn(n,s),e.current.lanes=i,kt(e,i,r),Sa(e,r),e},t.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:c,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:Ls,value:e}},t.createTestNameSelector=function(e){return{$$typeof:Ds,value:e}},t.createTextSelector=function(e){return{$$typeof:Bs,value:e}},t.deferredUpdates=function(e){var t=Pt,n=Xs.transition;try{return Xs.transition=null,Pt=16,e()}finally{Pt=t,Xs.transition=n}},t.discreteUpdates=function(e,t,n,r,i){var s=Pt,a=Xs.transition;try{return Xs.transition=null,Pt=1,e(t,n,r,i)}finally{Pt=s,Xs.transition=a,0===Ys&&la()}},t.findAllNodes=Hs,t.findBoundingRects=function(e,t){if(!re)throw Error(a(363));t=Hs(e,t),e=[];for(var n=0;n<t.length;n++)e.push(se(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,s=n.y,o=s+n.height,l=t-1;0<=l;l--)if(t!==l){var c=e[l],u=c.x,h=u+c.width,d=c.y,f=d+c.height;if(r>=u&&s>=d&&i<=h&&o<=f){e.splice(t,1);break}if(!(r!==u||n.width!==c.width||f<s||d>o)){d>s&&(c.height+=d-s,c.y=s),f<o&&(c.height=o-d),e.splice(t,1);break}if(!(s!==d||n.height!==c.height||h<r||u>i)){u>r&&(c.width+=u-r,c.x=r),h<i&&(c.width=i-u),e.splice(t,1);break}}return e},t.findHostInstance=lo,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=M(e))?k(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return lo(e)},t.flushControlled=function(e){var t=Ys;Ys|=1;var n=Xs.transition,r=Pt;try{Xs.transition=null,Pt=1,e()}finally{Pt=r,Xs.transition=n,0===(Ys=t)&&(la(),qt())}},t.flushPassiveEffects=Ha,t.flushSync=ka,t.focusWithin=function(e,t){if(!re)throw Error(a(363));for(t=zs(e=Fs(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!oe(n)){if(5===n.tag&&ce(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Pt},t.getFindAllNodesFailureDescription=function(e,t){if(!re)throw Error(a(363));var n=0,r=[];e=[Fs(e),0];for(var i=0;i<e.length;){var s=e[i++],o=e[i++],l=t[o];if((5!==s.tag||!oe(s))&&(Us(s,l)&&(r.push(js(l)),++o>n&&(n=o)),o<t.length))for(s=s.child;null!==s;)e.push(s,o),s=s.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(js(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?I(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:ho,findFiberByHostInstance:e.findFiberByHostInstance||fo,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Gt=t.inject(e),Vt=t}catch(n){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,r){if(!re)throw Error(a(363));e=Hs(e,t);var i=ue(e,n,r).disconnect;return{disconnect:function(){i()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=Pt;try{return Pt=e,t()}finally{Pt=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,r){var i=t.current,s=ya(),a=wa(i);return n=oo(n),null===t.context?t.context=n:t.pendingContext=n,(t=gn(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),vn(i,t),null!==(e=_a(i,a,s))&&xn(e,i,a),a},t}},6989:(e,t,n)=>{var r=n(6399),i=n(2761);e.exports=function e(t,n,s,a,o){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,s,a,e,o))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7067:(e,t,n)=>{"use strict";e.exports=n(4612)},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),i=n(9935),s=n(4190),a=n(1946),o=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=a,l.prototype.set=o,e.exports=l},7205:(e,t,n)=>{"use strict";e.exports=n(7302)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,y(e),!m)if(null!==r(c))m=!0,I(_);else{var t=r(u);null!==t&&L(w,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,x(T),T=-1),p=!0;var s=f;try{for(y(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!R());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(c)&&i(c),y(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&L(w,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var A,S=!1,E=null,T=-1,M=5,C=-1;function R(){return!(t.unstable_now()-C<M)}function k(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?A():(S=!1,E=null)}}else S=!1}if("function"===typeof b)A=function(){b(k)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=k,A=function(){P.postMessage(null)}}else A=function(){v(k,0)};function I(e){E=e,S||(S=!0,A())}function L(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,I(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(x(T),T=-1):g=!0,L(w,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,I(_))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7251:(e,t,n)=>{var r=n(8724),i=n(7160),s=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(s||i),string:new r}}},7302:(e,t)=>{"use strict";t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var a=e[n];t(a,n,e)&&(s[i++]=a)}return s}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},7937:(e,t,n)=>{var r=n(6954),i=n(4657);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8673:(e,t,n)=>{var r=n(3204),i=n(3713),s=n(6571);e.exports=function(e){return s(e)?r(e):i(e)}},8724:(e,t,n)=>{var r=n(7615),i=n(5051),s=n(2154),a=n(8734),o=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=a,l.prototype.set=o,e.exports=l},8734:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),i=n(6179),s=n(6704);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=s,e.exports=a},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),i=n(9621),s=n(8673);e.exports=function(e){return r(e,s,i)}},9621:(e,t,n)=>{var r=n(7529),i=n(7828),s=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,o=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return s.call(e,t)})))}:i;e.exports=o},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9935:(e,t,n)=>{var r=n(1340),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),i=n(2929),s=n(3211),a=n(3668),o=n(4160),l=n(2074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,h,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!h(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=o;case"[object Set]":var p=1&r;if(f||(f=l),e.size!=t.size&&!p)return!1;var m=d.get(e);if(m)return m==t;r|=2,d.set(e,t);var g=a(f(e),f(t),r,c,h,d);return d.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r](s,s.exports,n),s.loaded=!0,s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".0a96b997.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="vedanta:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){o=h;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var d=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,a=r[0],o=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkvedanta=self.webpackChunkvedanta||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{ACESFilmicToneMapping:()=>jt,AddEquation:()=>st,AddOperation:()=>Dt,AdditiveAnimationBlendMode:()=>Er,AdditiveBlending:()=>tt,AgXToneMapping:()=>Ht,AlphaFormat:()=>Sn,AlwaysCompare:()=>fi,AlwaysDepth:()=>Tt,AlwaysStencilFunc:()=>si,AmbientLight:()=>im,AnimationAction:()=>Ym,AnimationClip:()=>Cp,AnimationLoader:()=>Op,AnimationMixer:()=>Km,AnimationObjectGroup:()=>Xm,AnimationUtils:()=>mp,ArcCurve:()=>Pd,ArrayCamera:()=>Pu,ArrowHelper:()=>Hg,AttachedBindMode:()=>Vt,Audio:()=>Nm,AudioAnalyser:()=>Om,AudioContext:()=>xm,AudioListener:()=>km,AudioLoader:()=>bm,AxesHelper:()=>Gg,BackSide:()=>Qe,BasicDepthPacking:()=>Rr,BasicShadowMap:()=>Xe,BatchedMesh:()=>nd,Bone:()=>Sh,BooleanKeyframeTrack:()=>wp,Box2:()=>cg,Box3:()=>ys,Box3Helper:()=>Og,BoxGeometry:()=>Ro,BoxHelper:()=>Bg,BufferAttribute:()=>Qa,BufferGeometry:()=>mo,BufferGeometryLoader:()=>hm,ByteType:()=>fn,Cache:()=>kp,Camera:()=>Do,CameraHelper:()=>Ig,CanvasTexture:()=>Rd,CapsuleGeometry:()=>$d,CatmullRomCurve3:()=>Fd,CineonToneMapping:()=>Ut,CircleGeometry:()=>ef,ClampToEdgeWrapping:()=>$t,Clock:()=>Sm,Color:()=>Ua,ColorKeyframeTrack:()=>_p,ColorManagement:()=>$i,CompressedArrayTexture:()=>Md,CompressedCubeTexture:()=>Cd,CompressedTexture:()=>Td,CompressedTextureLoader:()=>Fp,ConeGeometry:()=>nf,ConstantAlphaFactor:()=>At,ConstantColorFactor:()=>wt,Controls:()=>Wg,CubeCamera:()=>zo,CubeReflectionMapping:()=>Yt,CubeRefractionMapping:()=>Jt,CubeTexture:()=>Ho,CubeTextureLoader:()=>jp,CubeUVReflectionMapping:()=>Qt,CubicBezierCurve:()=>Hd,CubicBezierCurve3:()=>Gd,CubicInterpolant:()=>vp,CullFaceBack:()=>Ge,CullFaceFront:()=>Ve,CullFaceFrontBack:()=>We,CullFaceNone:()=>He,Curve:()=>kd,CurvePath:()=>qd,CustomBlending:()=>it,CustomToneMapping:()=>zt,CylinderGeometry:()=>tf,Cylindrical:()=>ag,Data3DTexture:()=>ps,DataArrayTexture:()=>ds,DataTexture:()=>Eh,DataTextureLoader:()=>zp,DataUtils:()=>Ja,DecrementStencilOp:()=>Jr,DecrementWrapStencilOp:()=>qr,DefaultLoadingManager:()=>Pp,DepthFormat:()=>Rn,DepthStencilFormat:()=>kn,DepthTexture:()=>Ol,DetachedBindMode:()=>Wt,DirectionalLight:()=>rm,DirectionalLightHelper:()=>kg,DiscreteInterpolant:()=>bp,DisplayP3ColorSpace:()=>Fr,DodecahedronGeometry:()=>sf,DoubleSide:()=>Ze,DstAlphaFactor:()=>gt,DstColorFactor:()=>xt,DynamicCopyUsage:()=>wi,DynamicDrawUsage:()=>mi,DynamicReadUsage:()=>xi,EdgesGeometry:()=>uf,EllipseCurve:()=>Nd,EqualCompare:()=>li,EqualDepth:()=>Rt,EqualStencilFunc:()=>ei,EquirectangularReflectionMapping:()=>Kt,EquirectangularRefractionMapping:()=>qt,Euler:()=>ra,EventDispatcher:()=>Mi,ExtrudeGeometry:()=>jf,FileLoader:()=>Bp,Float16BufferAttribute:()=>so,Float32BufferAttribute:()=>ao,FloatType:()=>xn,Fog:()=>Vu,FogExp2:()=>Gu,FramebufferTexture:()=>Ed,FrontSide:()=>qe,Frustum:()=>qo,GLBufferAttribute:()=>eg,GLSL1:()=>Ai,GLSL3:()=>Si,GreaterCompare:()=>ui,GreaterDepth:()=>Nt,GreaterEqualCompare:()=>di,GreaterEqualDepth:()=>kt,GreaterEqualStencilFunc:()=>ii,GreaterStencilFunc:()=>ni,GridHelper:()=>Eg,Group:()=>Iu,HalfFloatType:()=>bn,HemisphereLight:()=>Vp,HemisphereLightHelper:()=>Sg,IcosahedronGeometry:()=>Hf,ImageBitmapLoader:()=>gm,ImageLoader:()=>Up,ImageUtils:()=>rs,IncrementStencilOp:()=>Yr,IncrementWrapStencilOp:()=>Kr,InstancedBufferAttribute:()=>Rh,InstancedBufferGeometry:()=>um,InstancedInterleavedBuffer:()=>$m,InstancedMesh:()=>Oh,Int16BufferAttribute:()=>to,Int32BufferAttribute:()=>ro,Int8BufferAttribute:()=>Za,IntType:()=>gn,InterleavedBuffer:()=>Xu,InterleavedBufferAttribute:()=>Ju,Interpolant:()=>gp,InterpolateDiscrete:()=>xr,InterpolateLinear:()=>br,InterpolateSmooth:()=>yr,InvertStencilOp:()=>Qr,KeepStencilOp:()=>Wr,KeyframeTrack:()=>yp,LOD:()=>fh,LatheGeometry:()=>Zd,Layers:()=>ia,LessCompare:()=>oi,LessDepth:()=>Mt,LessEqualCompare:()=>ci,LessEqualDepth:()=>Ct,LessEqualStencilFunc:()=>ti,LessStencilFunc:()=>$r,Light:()=>Gp,LightProbe:()=>om,Line:()=>hd,Line3:()=>dg,LineBasicMaterial:()=>rd,LineCurve:()=>Vd,LineCurve3:()=>Wd,LineDashedMaterial:()=>cp,LineLoop:()=>gd,LineSegments:()=>md,LinearDisplayP3ColorSpace:()=>Ur,LinearFilter:()=>on,LinearInterpolant:()=>xp,LinearMipMapLinearFilter:()=>hn,LinearMipMapNearestFilter:()=>cn,LinearMipmapLinearFilter:()=>un,LinearMipmapNearestFilter:()=>ln,LinearSRGBColorSpace:()=>Or,LinearToneMapping:()=>Ot,LinearTransfer:()=>jr,Loader:()=>Ip,LoaderUtils:()=>cm,LoadingManager:()=>Np,LoopOnce:()=>mr,LoopPingPong:()=>vr,LoopRepeat:()=>gr,LuminanceAlphaFormat:()=>Cn,LuminanceFormat:()=>Mn,MOUSE:()=>je,Material:()=>Ha,MaterialLoader:()=>lm,MathUtils:()=>Fi,Matrix2:()=>og,Matrix3:()=>ji,Matrix4:()=>Ys,MaxEquation:()=>ct,Mesh:()=>Mo,MeshBasicMaterial:()=>Ga,MeshDepthMaterial:()=>Au,MeshDistanceMaterial:()=>Su,MeshLambertMaterial:()=>op,MeshMatcapMaterial:()=>lp,MeshNormalMaterial:()=>ap,MeshPhongMaterial:()=>ip,MeshPhysicalMaterial:()=>rp,MeshStandardMaterial:()=>np,MeshToonMaterial:()=>sp,MinEquation:()=>lt,MirroredRepeatWrapping:()=>en,MixOperation:()=>Lt,MultiplyBlending:()=>rt,MultiplyOperation:()=>It,NearestFilter:()=>tn,NearestMipMapLinearFilter:()=>an,NearestMipMapNearestFilter:()=>rn,NearestMipmapLinearFilter:()=>sn,NearestMipmapNearestFilter:()=>nn,NeutralToneMapping:()=>Gt,NeverCompare:()=>ai,NeverDepth:()=>Et,NeverStencilFunc:()=>Zr,NoBlending:()=>$e,NoColorSpace:()=>Dr,NoToneMapping:()=>Bt,NormalAnimationBlendMode:()=>Sr,NormalBlending:()=>et,NotEqualCompare:()=>hi,NotEqualDepth:()=>Pt,NotEqualStencilFunc:()=>ri,NumberKeyframeTrack:()=>Ap,Object3D:()=>ya,ObjectLoader:()=>dm,ObjectSpaceNormalMap:()=>Lr,OctahedronGeometry:()=>Gf,OneFactor:()=>ht,OneMinusConstantAlphaFactor:()=>St,OneMinusConstantColorFactor:()=>_t,OneMinusDstAlphaFactor:()=>vt,OneMinusDstColorFactor:()=>bt,OneMinusSrcAlphaFactor:()=>mt,OneMinusSrcColorFactor:()=>ft,OrthographicCamera:()=>dl,P3Primaries:()=>Gr,PCFShadowMap:()=>Ye,PCFSoftShadowMap:()=>Je,PMREMGenerator:()=>Sl,Path:()=>Qd,PerspectiveCamera:()=>Uo,Plane:()=>Yo,PlaneGeometry:()=>$o,PlaneHelper:()=>Fg,PointLight:()=>tm,PointLightHelper:()=>yg,Points:()=>_d,PointsMaterial:()=>vd,PolarGridHelper:()=>Tg,PolyhedronGeometry:()=>rf,PositionalAudio:()=>Bm,PropertyBinding:()=>Wm,PropertyMixer:()=>Fm,QuadraticBezierCurve:()=>Xd,QuadraticBezierCurve3:()=>Yd,Quaternion:()=>gs,QuaternionKeyframeTrack:()=>Ep,QuaternionLinearInterpolant:()=>Sp,RED_GREEN_RGTC2_Format:()=>fr,RED_RGTC1_Format:()=>hr,REVISION:()=>Ue,RGBADepthPacking:()=>kr,RGBAFormat:()=>Tn,RGBAIntegerFormat:()=>Bn,RGBA_ASTC_10x10_Format:()=>sr,RGBA_ASTC_10x5_Format:()=>nr,RGBA_ASTC_10x6_Format:()=>rr,RGBA_ASTC_10x8_Format:()=>ir,RGBA_ASTC_12x10_Format:()=>ar,RGBA_ASTC_12x12_Format:()=>or,RGBA_ASTC_4x4_Format:()=>Jn,RGBA_ASTC_5x4_Format:()=>Kn,RGBA_ASTC_5x5_Format:()=>qn,RGBA_ASTC_6x5_Format:()=>Qn,RGBA_ASTC_6x6_Format:()=>Zn,RGBA_ASTC_8x5_Format:()=>$n,RGBA_ASTC_8x6_Format:()=>er,RGBA_ASTC_8x8_Format:()=>tr,RGBA_BPTC_Format:()=>lr,RGBA_ETC2_EAC_Format:()=>Yn,RGBA_PVRTC_2BPPV1_Format:()=>Vn,RGBA_PVRTC_4BPPV1_Format:()=>Gn,RGBA_S3TC_DXT1_Format:()=>Fn,RGBA_S3TC_DXT3_Format:()=>Un,RGBA_S3TC_DXT5_Format:()=>jn,RGBDepthPacking:()=>Nr,RGBFormat:()=>En,RGBIntegerFormat:()=>Dn,RGB_BPTC_SIGNED_Format:()=>cr,RGB_BPTC_UNSIGNED_Format:()=>ur,RGB_ETC1_Format:()=>Wn,RGB_ETC2_Format:()=>Xn,RGB_PVRTC_2BPPV1_Format:()=>Hn,RGB_PVRTC_4BPPV1_Format:()=>zn,RGB_S3TC_DXT1_Format:()=>On,RGDepthPacking:()=>Pr,RGFormat:()=>In,RGIntegerFormat:()=>Ln,RawShaderMaterial:()=>tp,Ray:()=>Xs,Raycaster:()=>ng,Rec709Primaries:()=>Hr,RectAreaLight:()=>sm,RedFormat:()=>Nn,RedIntegerFormat:()=>Pn,ReinhardToneMapping:()=>Ft,RenderTarget:()=>us,RepeatWrapping:()=>Zt,ReplaceStencilOp:()=>Xr,ReverseSubtractEquation:()=>ot,RingGeometry:()=>Vf,SIGNED_RED_GREEN_RGTC2_Format:()=>pr,SIGNED_RED_RGTC1_Format:()=>dr,SRGBColorSpace:()=>Br,SRGBTransfer:()=>zr,Scene:()=>Wu,ShaderChunk:()=>el,ShaderLib:()=>nl,ShaderMaterial:()=>Lo,ShadowMaterial:()=>ep,Shape:()=>hf,ShapeGeometry:()=>Wf,ShapePath:()=>Vg,ShapeUtils:()=>Of,ShortType:()=>pn,Skeleton:()=>Ch,SkeletonHelper:()=>xg,SkinnedMesh:()=>Ah,Source:()=>ss,Sphere:()=>Fs,SphereGeometry:()=>Xf,Spherical:()=>sg,SphericalHarmonics3:()=>am,SplineCurve:()=>Jd,SpotLight:()=>qp,SpotLightHelper:()=>pg,Sprite:()=>ch,SpriteMaterial:()=>Ku,SrcAlphaFactor:()=>pt,SrcAlphaSaturateFactor:()=>yt,SrcColorFactor:()=>dt,StaticCopyUsage:()=>yi,StaticDrawUsage:()=>pi,StaticReadUsage:()=>vi,StereoCamera:()=>Am,StreamCopyUsage:()=>_i,StreamDrawUsage:()=>gi,StreamReadUsage:()=>bi,StringKeyframeTrack:()=>Tp,SubtractEquation:()=>at,SubtractiveBlending:()=>nt,TOUCH:()=>ze,TangentSpaceNormalMap:()=>Ir,TetrahedronGeometry:()=>Yf,Texture:()=>ls,TextureLoader:()=>Hp,TextureUtils:()=>Ru,TorusGeometry:()=>Jf,TorusKnotGeometry:()=>Kf,Triangle:()=>La,TriangleFanDrawMode:()=>Cr,TriangleStripDrawMode:()=>Mr,TrianglesDrawMode:()=>Tr,TubeGeometry:()=>qf,UVMapping:()=>Xt,Uint16BufferAttribute:()=>no,Uint32BufferAttribute:()=>io,Uint8BufferAttribute:()=>$a,Uint8ClampedBufferAttribute:()=>eo,Uniform:()=>qm,UniformsGroup:()=>Zm,UniformsLib:()=>tl,UniformsUtils:()=>Io,UnsignedByteType:()=>dn,UnsignedInt248Type:()=>_n,UnsignedInt5999Type:()=>An,UnsignedIntType:()=>vn,UnsignedShort4444Type:()=>yn,UnsignedShort5551Type:()=>wn,UnsignedShortType:()=>mn,VSMShadowMap:()=>Ke,Vector2:()=>Ui,Vector3:()=>vs,Vector4:()=>cs,VectorKeyframeTrack:()=>Mp,VideoTexture:()=>Sd,WebGL3DRenderTarget:()=>ms,WebGLArrayRenderTarget:()=>fs,WebGLCoordinateSystem:()=>Ei,WebGLCubeRenderTarget:()=>Go,WebGLMultipleRenderTargets:()=>Xg,WebGLRenderTarget:()=>hs,WebGLRenderer:()=>Hu,WebGLUtils:()=>Nu,WebGPUCoordinateSystem:()=>Ti,WireframeGeometry:()=>Qf,WrapAroundEnding:()=>Ar,ZeroCurvatureEnding:()=>wr,ZeroFactor:()=>ut,ZeroSlopeEnding:()=>_r,ZeroStencilOp:()=>Vr,createCanvasElement:()=>Xi});var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>vT,hasStandardBrowserEnv:()=>bT,hasStandardBrowserWebWorkerEnv:()=>yT,navigator:()=>xT,origin:()=>wT});var r={};n.r(r),n.d(r,{Decoder:()=>iR,Encoder:()=>nR,PacketType:()=>tR,protocol:()=>eR});var i,s=n(5043),a=n.t(s,2),o=n(4391),l=n(7950),c=n.t(l,2);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const h="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function f(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(TS){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,n,r){return void 0===n&&(n=null),u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?v(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function v(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function x(e,t,n,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,o=s.history,l=i.Pop,c=null,f=v();function v(){return(o.state||{idx:null}).idx}function x(){l=i.Pop;let e=v(),t=null==e?null:e-f;f=e,c&&c({action:l,location:y.location,delta:t})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:g(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==f&&(f=0,o.replaceState(u({},o.state,{idx:f}),""));let y={get action(){return l},get location(){return e(s,o)},listen(e){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(h,x),c=e,()=>{s.removeEventListener(h,x),c=null}},createHref:e=>t(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=i.Push;let r=m(y.location,e,t);n&&n(r,e),f=v()+1;let u=p(r,f),h=y.createHref(r);try{o.pushState(u,"",h)}catch(Cx){if(Cx instanceof DOMException&&"DataCloneError"===Cx.name)throw Cx;s.location.assign(h)}a&&c&&c({action:l,location:y.location,delta:1})},replace:function(e,t){l=i.Replace;let r=m(y.location,e,t);n&&n(r,e),f=v();let s=p(r,f),u=y.createHref(r);o.replaceState(s,"",u),a&&c&&c({action:l,location:y.location,delta:0})},go:e=>o.go(e)};return y}var b;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let i=D(("string"===typeof t?v(t):t).pathname||"/",n);if(null==i)return null;let s=_(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=L(i);a=P(s[o],e,r)}return a}function _(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(d(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=j([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),_(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:N(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of A(e.path))i(e,t,r);else i(e,t)})),t}function A(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=A(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const S=/^:[\w-]+$/,E=3,T=2,M=1,C=10,R=-2,k=e=>"*"===e;function N(e,t){let n=e.split("/"),r=n.length;return n.some(k)&&(r+=R),t&&(r+=T),n.filter((e=>!k(e))).reduce(((e,t)=>e+(S.test(t)?E:""===t?M:C)),r)}function P(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:j([s,u.pathname]),pathnameBase:z(j([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=j([s,u.pathnameBase]))}return a}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);f("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:s,pathnameBase:a,pattern:e}}function L(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(Cx){return f(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+Cx+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function B(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function F(e,t){let n=O(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function U(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=v(e):(i=u({},e),d(!i.pathname||!i.pathname.includes("?"),B("?","pathname","search",i)),d(!i.pathname||!i.pathname.includes("#"),B("#","pathname","hash",i)),d(!i.search||!i.search.includes("#"),B("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?v(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:H(r),hash:G(i)}}(i,s),c=o&&"/"!==o&&o.endsWith("/"),h=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!h||(l.pathname+="/"),l}const j=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),H=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",G=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],X=(new Set(W),["get",...W]);new Set(X),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y.apply(this,arguments)}const J=s.createContext(null);const K=s.createContext(null);const q=s.createContext(null);const Q=s.createContext(null);const Z=s.createContext({outlet:null,matches:[],isDataRoute:!1});const ee=s.createContext(null);function te(){return null!=s.useContext(Q)}function ne(){return te()||d(!1),s.useContext(Q).location}function re(e){s.useContext(q).static||s.useLayoutEffect(e)}function ie(){let{isDataRoute:e}=s.useContext(Z);return e?function(){let{router:e}=me(fe.UseNavigateStable),t=ve(pe.UseNavigateStable),n=s.useRef(!1);re((()=>{n.current=!0}));let r=s.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,Y({fromRouteId:t},i)))}),[e,t]);return r}():function(){te()||d(!1);let e=s.useContext(J),{basename:t,future:n,navigator:r}=s.useContext(q),{matches:i}=s.useContext(Z),{pathname:a}=ne(),o=JSON.stringify(F(i,n.v7_relativeSplatPath)),l=s.useRef(!1);re((()=>{l.current=!0}));let c=s.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=U(n,JSON.parse(o),a,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:j([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[t,r,o,a,e]);return c}()}const se=s.createContext(null);function ae(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=s.useContext(q),{matches:i}=s.useContext(Z),{pathname:a}=ne(),o=JSON.stringify(F(i,r.v7_relativeSplatPath));return s.useMemo((()=>U(e,JSON.parse(o),a,"path"===n)),[e,o,a,n])}function oe(e,t,n,r){te()||d(!1);let{navigator:a,static:o}=s.useContext(q),{matches:l}=s.useContext(Z),c=l[l.length-1],u=c?c.params:{},h=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let f,p=ne();if(t){var m;let e="string"===typeof t?v(t):t;"/"===h||(null==(m=e.pathname)?void 0:m.startsWith(h))||d(!1),f=e}else f=p;let g=f.pathname||"/",x=g;if("/"!==h){let e=h.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=!o&&n&&n.matches&&n.matches.length>0?n.matches:y(e,{pathname:x});let w=de(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:j([h,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:j([h,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,r);return t&&w?s.createElement(Q.Provider,{value:{location:Y({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:i.Pop}},w):w}function le(){let e=function(){var e;let t=s.useContext(ee),n=ge(pe.UseRouteError),r=ve(pe.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:i},n):null,null)}const ce=s.createElement(le,null);class ue extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(Z.Provider,{value:this.props.routeContext},s.createElement(ee.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function he(e){let{routeContext:t,match:n,children:r}=e,i=s.useContext(J);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(Z.Provider,{value:t},r)}function de(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(i=n)?void 0:i.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||d(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let s=0;s<o.length;s++){let e=o[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=s),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight(((e,r,i)=>{let a,h=!1,d=null,f=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||ce,c&&(u<0&&0===i?(p="route-fallback",!1||xe[p]||(xe[p]=!0),h=!0,f=null):u===i&&(h=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,i+1)),g=()=>{let t;return t=a?d:h?f:r.route.Component?s.createElement(r.route.Component,null):r.route.element?r.route.element:e,s.createElement(he,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?s.createElement(ue,{location:n.location,revalidation:n.revalidation,component:d,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var fe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fe||{}),pe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(pe||{});function me(e){let t=s.useContext(J);return t||d(!1),t}function ge(e){let t=s.useContext(K);return t||d(!1),t}function ve(e){let t=function(){let e=s.useContext(Z);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const xe={};function be(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}a.startTransition;function ye(e){let{to:t,replace:n,state:r,relative:i}=e;te()||d(!1);let{future:a,static:o}=s.useContext(q),{matches:l}=s.useContext(Z),{pathname:c}=ne(),u=ie(),h=U(t,F(l,a.v7_relativeSplatPath),c,"path"===i),f=JSON.stringify(h);return s.useEffect((()=>u(JSON.parse(f),{replace:n,state:r,relative:i})),[u,f,i,n,r]),null}function we(e){return function(e){let t=s.useContext(Z).outlet;return t?s.createElement(se.Provider,{value:e},t):t}(e.context)}function _e(e){d(!1)}function Ae(e){let{basename:t="/",children:n=null,location:r,navigationType:a=i.Pop,navigator:o,static:l=!1,future:c}=e;te()&&d(!1);let u=t.replace(/^\/*/,"/"),h=s.useMemo((()=>({basename:u,navigator:o,static:l,future:Y({v7_relativeSplatPath:!1},c)})),[u,c,o,l]);"string"===typeof r&&(r=v(r));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:x="default"}=r,b=s.useMemo((()=>{let e=D(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:x},navigationType:a}}),[u,f,p,m,g,x,a]);return null==b?null:s.createElement(q.Provider,{value:h},s.createElement(Q.Provider,{children:n,value:b}))}function Se(e){let{children:t,location:n}=e;return oe(Ee(t),n)}new Promise((()=>{}));s.Component;function Ee(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,((e,r)=>{if(!s.isValidElement(e))return;let i=[...t,r];if(e.type===s.Fragment)return void n.push.apply(n,Ee(e.props.children,i));e.type!==_e&&d(!1),e.props.index&&e.props.children&&d(!1);let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Ee(e.props.children,i)),n.push(a)})),n}function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Te.apply(this,arguments)}function Me(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Ce(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Re=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(TS){}new Map;const ke=a.startTransition;c.flushSync,a.useId;function Ne(e){let{basename:t,children:n,future:r,window:i}=e,a=s.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:i,v5Compat:!0})&&(o={}),x((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=v(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),m("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:g(t))}),(function(e,t){f("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),o)));let l=a.current,[c,u]=s.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},d=s.useCallback((e=>{h&&ke?ke((()=>u(e))):u(e)}),[u,h]);return s.useLayoutEffect((()=>l.listen(d)),[l,d]),s.useEffect((()=>be(r)),[r]),s.createElement(Ae,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Pe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Le=s.forwardRef((function(e,t){let n,{onClick:r,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,p=Me(e,Re),{basename:m}=s.useContext(q),v=!1;if("string"===typeof u&&Ie.test(u)&&(n=u,Pe))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=D(t.pathname,m);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(TS){}let x=function(e,t){let{relative:n}=void 0===t?{}:t;te()||d(!1);let{basename:r,navigator:i}=s.useContext(q),{hash:a,pathname:o,search:l}=ae(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:j([r,o])),i.createHref({pathname:c,search:l,hash:a})}(u,{relative:i}),b=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,c=ie(),u=ne(),h=ae(e,{relative:o});return s.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:g(u)===g(h);c(e,{replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l})}}),[u,c,h,r,i,n,e,a,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:f});return s.createElement("a",Te({},p,{href:n||x,onClick:v||a?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var De,Be;function Oe(e){let t=s.useRef(Ce(e)),n=s.useRef(!1),r=ne(),i=s.useMemo((()=>function(e,t){let n=Ce(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(r.search,n.current?null:t.current)),[r.search]),a=ie(),o=s.useCallback(((e,t)=>{const r=Ce("function"===typeof e?e(i):e);n.current=!0,a("?"+r,t)}),[a,i]);return[i,o]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(De||(De={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Be||(Be={}));const Fe=n.p+"static/media/bg.562da04c23da4c6128a3.png",Ue="169",je={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},ze={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},He=0,Ge=1,Ve=2,We=3,Xe=0,Ye=1,Je=2,Ke=3,qe=0,Qe=1,Ze=2,$e=0,et=1,tt=2,nt=3,rt=4,it=5,st=100,at=101,ot=102,lt=103,ct=104,ut=200,ht=201,dt=202,ft=203,pt=204,mt=205,gt=206,vt=207,xt=208,bt=209,yt=210,wt=211,_t=212,At=213,St=214,Et=0,Tt=1,Mt=2,Ct=3,Rt=4,kt=5,Nt=6,Pt=7,It=0,Lt=1,Dt=2,Bt=0,Ot=1,Ft=2,Ut=3,jt=4,zt=5,Ht=6,Gt=7,Vt="attached",Wt="detached",Xt=300,Yt=301,Jt=302,Kt=303,qt=304,Qt=306,Zt=1e3,$t=1001,en=1002,tn=1003,nn=1004,rn=1004,sn=1005,an=1005,on=1006,ln=1007,cn=1007,un=1008,hn=1008,dn=1009,fn=1010,pn=1011,mn=1012,gn=1013,vn=1014,xn=1015,bn=1016,yn=1017,wn=1018,_n=1020,An=35902,Sn=1021,En=1022,Tn=1023,Mn=1024,Cn=1025,Rn=1026,kn=1027,Nn=1028,Pn=1029,In=1030,Ln=1031,Dn=1032,Bn=1033,On=33776,Fn=33777,Un=33778,jn=33779,zn=35840,Hn=35841,Gn=35842,Vn=35843,Wn=36196,Xn=37492,Yn=37496,Jn=37808,Kn=37809,qn=37810,Qn=37811,Zn=37812,$n=37813,er=37814,tr=37815,nr=37816,rr=37817,ir=37818,sr=37819,ar=37820,or=37821,lr=36492,cr=36494,ur=36495,hr=36283,dr=36284,fr=36285,pr=36286,mr=2200,gr=2201,vr=2202,xr=2300,br=2301,yr=2302,wr=2400,_r=2401,Ar=2402,Sr=2500,Er=2501,Tr=0,Mr=1,Cr=2,Rr=3200,kr=3201,Nr=3202,Pr=3203,Ir=0,Lr=1,Dr="",Br="srgb",Or="srgb-linear",Fr="display-p3",Ur="display-p3-linear",jr="linear",zr="srgb",Hr="rec709",Gr="p3",Vr=0,Wr=7680,Xr=7681,Yr=7682,Jr=7683,Kr=34055,qr=34056,Qr=5386,Zr=512,$r=513,ei=514,ti=515,ni=516,ri=517,ii=518,si=519,ai=512,oi=513,li=514,ci=515,ui=516,hi=517,di=518,fi=519,pi=35044,mi=35048,gi=35040,vi=35045,xi=35049,bi=35041,yi=35046,wi=35050,_i=35042,Ai="100",Si="300 es",Ei=2e3,Ti=2001;class Mi{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const n=this._listeners[e];if(void 0!==n){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const n=t.slice(0);for(let t=0,r=n.length;t<r;t++)n[t].call(this,e);e.target=null}}}const Ci=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Ri=1234567;const ki=Math.PI/180,Ni=180/Math.PI;function Pi(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Ci[255&e]+Ci[e>>8&255]+Ci[e>>16&255]+Ci[e>>24&255]+"-"+Ci[255&t]+Ci[t>>8&255]+"-"+Ci[t>>16&15|64]+Ci[t>>24&255]+"-"+Ci[63&n|128]+Ci[n>>8&255]+"-"+Ci[n>>16&255]+Ci[n>>24&255]+Ci[255&r]+Ci[r>>8&255]+Ci[r>>16&255]+Ci[r>>24&255]).toLowerCase()}function Ii(e,t,n){return Math.max(t,Math.min(n,e))}function Li(e,t){return(e%t+t)%t}function Di(e,t,n){return(1-n)*e+n*t}function Bi(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Oi(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}const Fi={DEG2RAD:ki,RAD2DEG:Ni,generateUUID:Pi,clamp:Ii,euclideanModulo:Li,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:Di,damp:function(e,t,n,r){return Di(e,t,1-Math.exp(-n*r))},pingpong:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(Li(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(Ri=e);let t=Ri+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*ki},radToDeg:function(e){return e*Ni},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,r,i){const s=Math.cos,a=Math.sin,o=s(n/2),l=a(n/2),c=s((t+r)/2),u=a((t+r)/2),h=s((t-r)/2),d=a((t-r)/2),f=s((r-t)/2),p=a((r-t)/2);switch(i){case"XYX":e.set(o*u,l*h,l*d,o*c);break;case"YZY":e.set(l*d,o*u,l*h,o*c);break;case"ZXZ":e.set(l*h,l*d,o*u,o*c);break;case"XZX":e.set(o*u,l*p,l*f,o*c);break;case"YXY":e.set(l*f,o*u,l*p,o*c);break;case"ZYZ":e.set(l*p,l*f,o*u,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:Oi,denormalize:Bi};class Ui{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Ui.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Ii(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,s=this.y-e.y;return this.x=i*n-s*r+e.x,this.y=i*r+s*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ji{constructor(e,t,n,r,i,s,a,o,l){ji.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,s,a,o,l)}set(e,t,n,r,i,s,a,o,l){const c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=t,c[4]=i,c[5]=o,c[6]=n,c[7]=s,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,s=n[0],a=n[3],o=n[6],l=n[1],c=n[4],u=n[7],h=n[2],d=n[5],f=n[8],p=r[0],m=r[3],g=r[6],v=r[1],x=r[4],b=r[7],y=r[2],w=r[5],_=r[8];return i[0]=s*p+a*v+o*y,i[3]=s*m+a*x+o*w,i[6]=s*g+a*b+o*_,i[1]=l*p+c*v+u*y,i[4]=l*m+c*x+u*w,i[7]=l*g+c*b+u*_,i[2]=h*p+d*v+f*y,i[5]=h*m+d*x+f*w,i[8]=h*g+d*b+f*_,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],a=e[5],o=e[6],l=e[7],c=e[8];return t*s*c-t*a*l-n*i*c+n*a*o+r*i*l-r*s*o}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],a=e[5],o=e[6],l=e[7],c=e[8],u=c*s-a*l,h=a*o-c*i,d=l*i-s*o,f=t*u+n*h+r*d;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);const p=1/f;return e[0]=u*p,e[1]=(r*l-c*n)*p,e[2]=(a*n-r*s)*p,e[3]=h*p,e[4]=(c*t-r*o)*p,e[5]=(r*i-a*t)*p,e[6]=d*p,e[7]=(n*o-l*t)*p,e[8]=(s*t-n*i)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,i,s,a){const o=Math.cos(i),l=Math.sin(i);return this.set(n*o,n*l,-n*(o*s+l*a)+s+e,-r*l,r*o,-r*(-l*s+o*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(zi.makeScale(e,t)),this}rotate(e){return this.premultiply(zi.makeRotation(-e)),this}translate(e,t){return this.premultiply(zi.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const zi=new ji;function Hi(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}const Gi={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Vi(e,t){return new Gi[e](t)}function Wi(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function Xi(){const e=Wi("canvas");return e.style.display="block",e}const Yi={};function Ji(e){e in Yi||(Yi[e]=!0,console.warn(e))}const Ki=(new ji).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),qi=(new ji).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Qi={[Or]:{transfer:jr,primaries:Hr,luminanceCoefficients:[.2126,.7152,.0722],toReference:e=>e,fromReference:e=>e},[Br]:{transfer:zr,primaries:Hr,luminanceCoefficients:[.2126,.7152,.0722],toReference:e=>e.convertSRGBToLinear(),fromReference:e=>e.convertLinearToSRGB()},[Ur]:{transfer:jr,primaries:Gr,luminanceCoefficients:[.2289,.6917,.0793],toReference:e=>e.applyMatrix3(qi),fromReference:e=>e.applyMatrix3(Ki)},[Fr]:{transfer:zr,primaries:Gr,luminanceCoefficients:[.2289,.6917,.0793],toReference:e=>e.convertSRGBToLinear().applyMatrix3(qi),fromReference:e=>e.applyMatrix3(Ki).convertLinearToSRGB()}},Zi=new Set([Or,Ur]),$i={enabled:!0,_workingColorSpace:Or,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(e){if(!Zi.has(e))throw new Error(`Unsupported working color space, "${e}".`);this._workingColorSpace=e},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;const r=Qi[t].toReference;return(0,Qi[n].fromReference)(r(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this._workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this._workingColorSpace)},getPrimaries:function(e){return Qi[e].primaries},getTransfer:function(e){return e===Dr?jr:Qi[e].transfer},getLuminanceCoefficients:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._workingColorSpace;return e.fromArray(Qi[t].luminanceCoefficients)}};function es(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function ts(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}let ns;class rs{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"===typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===ns&&(ns=Wi("canvas")),ns.width=e.width,ns.height=e.height;const n=ns.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=ns}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const t=Wi("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),i=r.data;for(let e=0;e<i.length;e++)i[e]=255*es(i[e]/255);return n.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*es(t[e]/255)):t[e]=es(t[e]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let is=0;class ss{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.isSource=!0,Object.defineProperty(this,"id",{value:is++}),this.uuid=Pi(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let e;if(Array.isArray(r)){e=[];for(let t=0,n=r.length;t<n;t++)r[t].isDataTexture?e.push(as(r[t].image)):e.push(as(r[t]))}else e=as(r);n.url=e}return t||(e.images[this.uuid]=n),n}}function as(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?rs.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let os=0;class ls extends Mi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ls.DEFAULT_IMAGE,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ls.DEFAULT_MAPPING,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:$t,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:on,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:un,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Tn,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:dn,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:ls.DEFAULT_ANISOTROPY,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Dr;super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:os++}),this.uuid=Pi(),this.name="",this.source=new ss(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=s,this.anisotropy=l,this.format=a,this.internalFormat=null,this.type=o,this.offset=new Ui(0,0),this.repeat=new Ui(1,1),this.center=new Ui(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ji,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e){void 0===e&&(e=null),this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Xt)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Zt:e.x=e.x-Math.floor(e.x);break;case $t:e.x=e.x<0?0:1;break;case en:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Zt:e.y=e.y-Math.floor(e.y);break;case $t:e.y=e.y<0?0:1;break;case en:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){!0===e&&this.pmremVersion++}}ls.DEFAULT_IMAGE=null,ls.DEFAULT_MAPPING=Xt,ls.DEFAULT_ANISOTROPY=1;class cs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;cs.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=this.w,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*r+s[12]*i,this.y=s[1]*t+s[5]*n+s[9]*r+s[13]*i,this.z=s[2]*t+s[6]*n+s[10]*r+s[14]*i,this.w=s[3]*t+s[7]*n+s[11]*r+s[15]*i,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,i;const s=.01,a=.1,o=e.elements,l=o[0],c=o[4],u=o[8],h=o[1],d=o[5],f=o[9],p=o[2],m=o[6],g=o[10];if(Math.abs(c-h)<s&&Math.abs(u-p)<s&&Math.abs(f-m)<s){if(Math.abs(c+h)<a&&Math.abs(u+p)<a&&Math.abs(f+m)<a&&Math.abs(l+d+g-3)<a)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,o=(d+1)/2,v=(g+1)/2,x=(c+h)/4,b=(u+p)/4,y=(f+m)/4;return e>o&&e>v?e<s?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(e),r=x/n,i=b/n):o>v?o<s?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(o),n=x/r,i=y/r):v<s?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(v),n=b/i,r=y/i),this.set(n,r,i,t),this}let v=Math.sqrt((m-f)*(m-f)+(u-p)*(u-p)+(h-c)*(h-c));return Math.abs(v)<.001&&(v=1),this.x=(m-f)/v,this.y=(u-p)/v,this.z=(h-c)/v,this.w=Math.acos((l+d+g-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class us extends Mi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new cs(0,0,e,t),this.scissorTest=!1,this.viewport=new cs(0,0,e,t);const r={width:e,height:t,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:on,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const i=new ls(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);i.flipY=!1,i.generateMipmaps=n.generateMipmaps,i.internalFormat=n.internalFormat,this.textures=[];const s=n.count;for(let a=0;a<s;a++)this.textures[a]=i.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,i=this.textures.length;r<i;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++)this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new ss(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class hs extends us{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),this.isWebGLRenderTarget=!0}}class ds extends ls{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=tn,this.minFilter=tn,this.wrapR=$t,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class fs extends hs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(e,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new ds(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class ps extends ls{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=tn,this.minFilter=tn,this.wrapR=$t,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ms extends hs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(e,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new ps(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class gs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,i,s,a){let o=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3];const h=i[s+0],d=i[s+1],f=i[s+2],p=i[s+3];if(0===a)return e[t+0]=o,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(1===a)return e[t+0]=h,e[t+1]=d,e[t+2]=f,void(e[t+3]=p);if(u!==p||o!==h||l!==d||c!==f){let e=1-a;const t=o*h+l*d+c*f+u*p,n=t>=0?1:-1,r=1-t*t;if(r>Number.EPSILON){const i=Math.sqrt(r),s=Math.atan2(i,t*n);e=Math.sin(e*s)/i,a=Math.sin(a*s)/i}const i=a*n;if(o=o*e+h*i,l=l*e+d*i,c=c*e+f*i,u=u*e+p*i,e===1-a){const e=1/Math.sqrt(o*o+l*l+c*c+u*u);o*=e,l*=e,c*=e,u*=e}}e[t]=o,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,r,i,s){const a=n[r],o=n[r+1],l=n[r+2],c=n[r+3],u=i[s],h=i[s+1],d=i[s+2],f=i[s+3];return e[t]=a*f+c*u+o*d-l*h,e[t+1]=o*f+c*h+l*u-a*d,e[t+2]=l*f+c*d+a*h-o*u,e[t+3]=c*f-a*u-o*h-l*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=e._x,r=e._y,i=e._z,s=e._order,a=Math.cos,o=Math.sin,l=a(n/2),c=a(r/2),u=a(i/2),h=o(n/2),d=o(r/2),f=o(i/2);switch(s){case"XYZ":this._x=h*c*u+l*d*f,this._y=l*d*u-h*c*f,this._z=l*c*f+h*d*u,this._w=l*c*u-h*d*f;break;case"YXZ":this._x=h*c*u+l*d*f,this._y=l*d*u-h*c*f,this._z=l*c*f-h*d*u,this._w=l*c*u+h*d*f;break;case"ZXY":this._x=h*c*u-l*d*f,this._y=l*d*u+h*c*f,this._z=l*c*f+h*d*u,this._w=l*c*u-h*d*f;break;case"ZYX":this._x=h*c*u-l*d*f,this._y=l*d*u+h*c*f,this._z=l*c*f-h*d*u,this._w=l*c*u+h*d*f;break;case"YZX":this._x=h*c*u+l*d*f,this._y=l*d*u+h*c*f,this._z=l*c*f-h*d*u,this._w=l*c*u-h*d*f;break;case"XZY":this._x=h*c*u-l*d*f,this._y=l*d*u-h*c*f,this._z=l*c*f+h*d*u,this._w=l*c*u+h*d*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],i=t[8],s=t[1],a=t[5],o=t[9],l=t[2],c=t[6],u=t[10],h=n+a+u;if(h>0){const e=.5/Math.sqrt(h+1);this._w=.25/e,this._x=(c-o)*e,this._y=(i-l)*e,this._z=(s-r)*e}else if(n>a&&n>u){const e=2*Math.sqrt(1+n-a-u);this._w=(c-o)/e,this._x=.25*e,this._y=(r+s)/e,this._z=(i+l)/e}else if(a>u){const e=2*Math.sqrt(1+a-n-u);this._w=(i-l)/e,this._x=(r+s)/e,this._y=.25*e,this._z=(o+c)/e}else{const e=2*Math.sqrt(1+u-n-a);this._w=(s-r)/e,this._x=(i+l)/e,this._y=(o+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ii(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,i=e._z,s=e._w,a=t._x,o=t._y,l=t._z,c=t._w;return this._x=n*c+s*a+r*l-i*o,this._y=r*c+s*o+i*a-n*l,this._z=i*c+s*l+n*o-r*a,this._w=s*c-n*a-r*o-i*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,i=this._z,s=this._w;let a=s*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=n,this._y=r,this._z=i,this;const o=1-a*a;if(o<=Number.EPSILON){const e=1-t;return this._w=e*s+t*this._w,this._x=e*n+t*this._x,this._y=e*r+t*this._y,this._z=e*i+t*this._z,this.normalize(),this}const l=Math.sqrt(o),c=Math.atan2(l,a),u=Math.sin((1-t)*c)/l,h=Math.sin(t*c)/l;return this._w=s*u+this._w*h,this._x=n*u+this._x*h,this._y=r*u+this._y*h,this._z=i*u+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),i=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),i*Math.sin(t),i*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class vs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;vs.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(bs.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(bs.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=e.elements,s=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*s,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*s,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*s,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,i=e.x,s=e.y,a=e.z,o=e.w,l=2*(s*r-a*n),c=2*(a*t-i*r),u=2*(i*n-s*t);return this.x=t+o*l+s*u-a*c,this.y=n+o*c+a*l-i*u,this.z=r+o*u+i*c-s*l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,i=e.z,s=t.x,a=t.y,o=t.z;return this.x=r*o-i*a,this.y=i*s-n*o,this.z=n*a-r*s,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return xs.copy(this).projectOnVector(e),this.sub(xs)}reflect(e){return this.sub(xs.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Ii(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=2*Math.random()-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const xs=new vs,bs=new gs;class ys{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new vs(1/0,1/0,1/0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new vs(-1/0,-1/0,-1/0);this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(_s.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(_s.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=_s.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n){const r=n.getAttribute("position");if(!0===t&&void 0!==r&&!0!==e.isInstancedMesh)for(let t=0,n=r.count;t<n;t++)!0===e.isMesh?e.getVertexPosition(t,_s):_s.fromBufferAttribute(r,t),_s.applyMatrix4(e.matrixWorld),this.expandByPoint(_s);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),As.copy(e.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),As.copy(n.boundingBox)),As.applyMatrix4(e.matrixWorld),this.union(As)}const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,_s),_s.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ks),Ns.subVectors(this.max,ks),Ss.subVectors(e.a,ks),Es.subVectors(e.b,ks),Ts.subVectors(e.c,ks),Ms.subVectors(Es,Ss),Cs.subVectors(Ts,Es),Rs.subVectors(Ss,Ts);let t=[0,-Ms.z,Ms.y,0,-Cs.z,Cs.y,0,-Rs.z,Rs.y,Ms.z,0,-Ms.x,Cs.z,0,-Cs.x,Rs.z,0,-Rs.x,-Ms.y,Ms.x,0,-Cs.y,Cs.x,0,-Rs.y,Rs.x,0];return!!Ls(t,Ss,Es,Ts,Ns)&&(t=[1,0,0,0,1,0,0,0,1],!!Ls(t,Ss,Es,Ts,Ns)&&(Ps.crossVectors(Ms,Cs),t=[Ps.x,Ps.y,Ps.z],Ls(t,Ss,Es,Ts,Ns)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,_s).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(_s).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(ws[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ws[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ws[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ws[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ws[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ws[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ws[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ws[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ws)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ws=[new vs,new vs,new vs,new vs,new vs,new vs,new vs,new vs],_s=new vs,As=new ys,Ss=new vs,Es=new vs,Ts=new vs,Ms=new vs,Cs=new vs,Rs=new vs,ks=new vs,Ns=new vs,Ps=new vs,Is=new vs;function Ls(e,t,n,r,i){for(let s=0,a=e.length-3;s<=a;s+=3){Is.fromArray(e,s);const a=i.x*Math.abs(Is.x)+i.y*Math.abs(Is.y)+i.z*Math.abs(Is.z),o=t.dot(Is),l=n.dot(Is),c=r.dot(Is);if(Math.max(-Math.max(o,l,c),Math.min(o,l,c))>a)return!1}return!0}const Ds=new ys,Bs=new vs,Os=new vs;class Fs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new vs,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):Ds.setFromPoints(e).getCenter(n);let r=0;for(let i=0,s=e.length;i<s;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Bs.subVectors(e,this.center);const t=Bs.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(Bs,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Os.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Bs.copy(e.center).add(Os)),this.expandByPoint(Bs.copy(e.center).sub(Os))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Us=new vs,js=new vs,zs=new vs,Hs=new vs,Gs=new vs,Vs=new vs,Ws=new vs;class Xs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new vs,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new vs(0,0,-1);this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Us)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Us.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Us.copy(this.origin).addScaledVector(this.direction,t),Us.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){js.copy(e).add(t).multiplyScalar(.5),zs.copy(t).sub(e).normalize(),Hs.copy(this.origin).sub(js);const i=.5*e.distanceTo(t),s=-this.direction.dot(zs),a=Hs.dot(this.direction),o=-Hs.dot(zs),l=Hs.lengthSq(),c=Math.abs(1-s*s);let u,h,d,f;if(c>0)if(u=s*o-a,h=s*a-o,f=i*c,u>=0)if(h>=-f)if(h<=f){const e=1/c;u*=e,h*=e,d=u*(u+s*h+2*a)+h*(s*u+h+2*o)+l}else h=i,u=Math.max(0,-(s*h+a)),d=-u*u+h*(h+2*o)+l;else h=-i,u=Math.max(0,-(s*h+a)),d=-u*u+h*(h+2*o)+l;else h<=-f?(u=Math.max(0,-(-s*i+a)),h=u>0?-i:Math.min(Math.max(-i,-o),i),d=-u*u+h*(h+2*o)+l):h<=f?(u=0,h=Math.min(Math.max(-i,-o),i),d=h*(h+2*o)+l):(u=Math.max(0,-(s*i+a)),h=u>0?i:Math.min(Math.max(-i,-o),i),d=-u*u+h*(h+2*o)+l);else h=s>0?-i:i,u=Math.max(0,-(s*h+a)),d=-u*u+h*(h+2*o)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(js).addScaledVector(zs,h),d}intersectSphere(e,t){Us.subVectors(e.center,this.origin);const n=Us.dot(this.direction),r=Us.dot(Us)-n*n,i=e.radius*e.radius;if(r>i)return null;const s=Math.sqrt(i-r),a=n-s,o=n+s;return o<0?null:a<0?this.at(o,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,i,s,a,o;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,r=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,r=(e.min.x-h.x)*l),c>=0?(i=(e.min.y-h.y)*c,s=(e.max.y-h.y)*c):(i=(e.max.y-h.y)*c,s=(e.min.y-h.y)*c),n>s||i>r?null:((i>n||isNaN(n))&&(n=i),(s<r||isNaN(r))&&(r=s),u>=0?(a=(e.min.z-h.z)*u,o=(e.max.z-h.z)*u):(a=(e.max.z-h.z)*u,o=(e.min.z-h.z)*u),n>o||a>r?null:((a>n||n!==n)&&(n=a),(o<r||r!==r)&&(r=o),r<0?null:this.at(n>=0?n:r,t)))}intersectsBox(e){return null!==this.intersectBox(e,Us)}intersectTriangle(e,t,n,r,i){Gs.subVectors(t,e),Vs.subVectors(n,e),Ws.crossVectors(Gs,Vs);let s,a=this.direction.dot(Ws);if(a>0){if(r)return null;s=1}else{if(!(a<0))return null;s=-1,a=-a}Hs.subVectors(this.origin,e);const o=s*this.direction.dot(Vs.crossVectors(Hs,Vs));if(o<0)return null;const l=s*this.direction.dot(Gs.cross(Hs));if(l<0)return null;if(o+l>a)return null;const c=-s*Hs.dot(Ws);return c<0?null:this.at(c/a,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Ys{constructor(e,t,n,r,i,s,a,o,l,c,u,h,d,f,p,m){Ys.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,s,a,o,l,c,u,h,d,f,p,m)}set(e,t,n,r,i,s,a,o,l,c,u,h,d,f,p,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=s,g[9]=a,g[13]=o,g[2]=l,g[6]=c,g[10]=u,g[14]=h,g[3]=d,g[7]=f,g[11]=p,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Ys).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/Js.setFromMatrixColumn(e,0).length(),i=1/Js.setFromMatrixColumn(e,1).length(),s=1/Js.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*s,t[9]=n[9]*s,t[10]=n[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,i=e.z,s=Math.cos(n),a=Math.sin(n),o=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){const e=s*c,n=s*u,r=a*c,i=a*u;t[0]=o*c,t[4]=-o*u,t[8]=l,t[1]=n+r*l,t[5]=e-i*l,t[9]=-a*o,t[2]=i-e*l,t[6]=r+n*l,t[10]=s*o}else if("YXZ"===e.order){const e=o*c,n=o*u,r=l*c,i=l*u;t[0]=e+i*a,t[4]=r*a-n,t[8]=s*l,t[1]=s*u,t[5]=s*c,t[9]=-a,t[2]=n*a-r,t[6]=i+e*a,t[10]=s*o}else if("ZXY"===e.order){const e=o*c,n=o*u,r=l*c,i=l*u;t[0]=e-i*a,t[4]=-s*u,t[8]=r+n*a,t[1]=n+r*a,t[5]=s*c,t[9]=i-e*a,t[2]=-s*l,t[6]=a,t[10]=s*o}else if("ZYX"===e.order){const e=s*c,n=s*u,r=a*c,i=a*u;t[0]=o*c,t[4]=r*l-n,t[8]=e*l+i,t[1]=o*u,t[5]=i*l+e,t[9]=n*l-r,t[2]=-l,t[6]=a*o,t[10]=s*o}else if("YZX"===e.order){const e=s*o,n=s*l,r=a*o,i=a*l;t[0]=o*c,t[4]=i-e*u,t[8]=r*u+n,t[1]=u,t[5]=s*c,t[9]=-a*c,t[2]=-l*c,t[6]=n*u+r,t[10]=e-i*u}else if("XZY"===e.order){const e=s*o,n=s*l,r=a*o,i=a*l;t[0]=o*c,t[4]=-u,t[8]=l*c,t[1]=e*u+i,t[5]=s*c,t[9]=n*u-r,t[2]=r*u-n,t[6]=a*c,t[10]=i*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(qs,e,Qs)}lookAt(e,t,n){const r=this.elements;return ea.subVectors(e,t),0===ea.lengthSq()&&(ea.z=1),ea.normalize(),Zs.crossVectors(n,ea),0===Zs.lengthSq()&&(1===Math.abs(n.z)?ea.x+=1e-4:ea.z+=1e-4,ea.normalize(),Zs.crossVectors(n,ea)),Zs.normalize(),$s.crossVectors(ea,Zs),r[0]=Zs.x,r[4]=$s.x,r[8]=ea.x,r[1]=Zs.y,r[5]=$s.y,r[9]=ea.y,r[2]=Zs.z,r[6]=$s.z,r[10]=ea.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,s=n[0],a=n[4],o=n[8],l=n[12],c=n[1],u=n[5],h=n[9],d=n[13],f=n[2],p=n[6],m=n[10],g=n[14],v=n[3],x=n[7],b=n[11],y=n[15],w=r[0],_=r[4],A=r[8],S=r[12],E=r[1],T=r[5],M=r[9],C=r[13],R=r[2],k=r[6],N=r[10],P=r[14],I=r[3],L=r[7],D=r[11],B=r[15];return i[0]=s*w+a*E+o*R+l*I,i[4]=s*_+a*T+o*k+l*L,i[8]=s*A+a*M+o*N+l*D,i[12]=s*S+a*C+o*P+l*B,i[1]=c*w+u*E+h*R+d*I,i[5]=c*_+u*T+h*k+d*L,i[9]=c*A+u*M+h*N+d*D,i[13]=c*S+u*C+h*P+d*B,i[2]=f*w+p*E+m*R+g*I,i[6]=f*_+p*T+m*k+g*L,i[10]=f*A+p*M+m*N+g*D,i[14]=f*S+p*C+m*P+g*B,i[3]=v*w+x*E+b*R+y*I,i[7]=v*_+x*T+b*k+y*L,i[11]=v*A+x*M+b*N+y*D,i[15]=v*S+x*C+b*P+y*B,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],s=e[1],a=e[5],o=e[9],l=e[13],c=e[2],u=e[6],h=e[10],d=e[14];return e[3]*(+i*o*u-r*l*u-i*a*h+n*l*h+r*a*d-n*o*d)+e[7]*(+t*o*d-t*l*h+i*s*h-r*s*d+r*l*c-i*o*c)+e[11]*(+t*l*u-t*a*d-i*s*u+n*s*d+i*a*c-n*l*c)+e[15]*(-r*a*c-t*o*u+t*a*h+r*s*u-n*s*h+n*o*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],a=e[5],o=e[6],l=e[7],c=e[8],u=e[9],h=e[10],d=e[11],f=e[12],p=e[13],m=e[14],g=e[15],v=u*m*l-p*h*l+p*o*d-a*m*d-u*o*g+a*h*g,x=f*h*l-c*m*l-f*o*d+s*m*d+c*o*g-s*h*g,b=c*p*l-f*u*l+f*a*d-s*p*d-c*a*g+s*u*g,y=f*u*o-c*p*o-f*a*h+s*p*h+c*a*m-s*u*m,w=t*v+n*x+r*b+i*y;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const _=1/w;return e[0]=v*_,e[1]=(p*h*i-u*m*i-p*r*d+n*m*d+u*r*g-n*h*g)*_,e[2]=(a*m*i-p*o*i+p*r*l-n*m*l-a*r*g+n*o*g)*_,e[3]=(u*o*i-a*h*i-u*r*l+n*h*l+a*r*d-n*o*d)*_,e[4]=x*_,e[5]=(c*m*i-f*h*i+f*r*d-t*m*d-c*r*g+t*h*g)*_,e[6]=(f*o*i-s*m*i-f*r*l+t*m*l+s*r*g-t*o*g)*_,e[7]=(s*h*i-c*o*i+c*r*l-t*h*l-s*r*d+t*o*d)*_,e[8]=b*_,e[9]=(f*u*i-c*p*i-f*n*d+t*p*d+c*n*g-t*u*g)*_,e[10]=(s*p*i-f*a*i+f*n*l-t*p*l-s*n*g+t*a*g)*_,e[11]=(c*a*i-s*u*i-c*n*l+t*u*l+s*n*d-t*a*d)*_,e[12]=y*_,e[13]=(c*p*r-f*u*r+f*n*h-t*p*h-c*n*m+t*u*m)*_,e[14]=(f*a*r-s*p*r-f*n*o+t*p*o+s*n*m-t*a*m)*_,e[15]=(s*u*r-c*a*r+c*n*o-t*u*o-s*n*h+t*a*h)*_,this}scale(e){const t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),i=1-n,s=e.x,a=e.y,o=e.z,l=i*s,c=i*a;return this.set(l*s+n,l*a-r*o,l*o+r*a,0,l*a+r*o,c*a+n,c*o-r*s,0,l*o-r*a,c*o+r*s,i*o*o+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,i,s){return this.set(1,n,i,0,e,1,s,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,i=t._x,s=t._y,a=t._z,o=t._w,l=i+i,c=s+s,u=a+a,h=i*l,d=i*c,f=i*u,p=s*c,m=s*u,g=a*u,v=o*l,x=o*c,b=o*u,y=n.x,w=n.y,_=n.z;return r[0]=(1-(p+g))*y,r[1]=(d+b)*y,r[2]=(f-x)*y,r[3]=0,r[4]=(d-b)*w,r[5]=(1-(h+g))*w,r[6]=(m+v)*w,r[7]=0,r[8]=(f+x)*_,r[9]=(m-v)*_,r[10]=(1-(h+p))*_,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let i=Js.set(r[0],r[1],r[2]).length();const s=Js.set(r[4],r[5],r[6]).length(),a=Js.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],Ks.copy(this);const o=1/i,l=1/s,c=1/a;return Ks.elements[0]*=o,Ks.elements[1]*=o,Ks.elements[2]*=o,Ks.elements[4]*=l,Ks.elements[5]*=l,Ks.elements[6]*=l,Ks.elements[8]*=c,Ks.elements[9]*=c,Ks.elements[10]*=c,t.setFromRotationMatrix(Ks),n.x=i,n.y=s,n.z=a,this}makePerspective(e,t,n,r,i,s){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ei;const o=this.elements,l=2*i/(t-e),c=2*i/(n-r),u=(t+e)/(t-e),h=(n+r)/(n-r);let d,f;if(a===Ei)d=-(s+i)/(s-i),f=-2*s*i/(s-i);else{if(a!==Ti)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);d=-s/(s-i),f=-s*i/(s-i)}return o[0]=l,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=c,o[9]=h,o[13]=0,o[2]=0,o[6]=0,o[10]=d,o[14]=f,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(e,t,n,r,i,s){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ei;const o=this.elements,l=1/(t-e),c=1/(n-r),u=1/(s-i),h=(t+e)*l,d=(n+r)*c;let f,p;if(a===Ei)f=(s+i)*u,p=-2*u;else{if(a!==Ti)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);f=i*u,p=-1*u}return o[0]=2*l,o[4]=0,o[8]=0,o[12]=-h,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-d,o[2]=0,o[6]=0,o[10]=p,o[14]=-f,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Js=new vs,Ks=new Ys,qs=new vs(0,0,0),Qs=new vs(1,1,1),Zs=new vs,$s=new vs,ea=new vs,ta=new Ys,na=new gs;class ra{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ra.DEFAULT_ORDER;this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=e.elements,i=r[0],s=r[4],a=r[8],o=r[1],l=r[5],c=r[9],u=r[2],h=r[6],d=r[10];switch(t){case"XYZ":this._y=Math.asin(Ii(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-s,i)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Ii(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,d),this._z=Math.atan2(o,l)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin(Ii(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-u,d),this._z=Math.atan2(-s,l)):(this._y=0,this._z=Math.atan2(o,i));break;case"ZYX":this._y=Math.asin(-Ii(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(o,i)):(this._x=0,this._z=Math.atan2(-s,l));break;case"YZX":this._z=Math.asin(Ii(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(a,d));break;case"XZY":this._z=Math.asin(-Ii(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(a,i)):(this._x=Math.atan2(-c,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return ta.makeRotationFromQuaternion(e),this.setFromRotationMatrix(ta,t,n)}setFromVector3(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}reorder(e){return na.setFromEuler(this),this.setFromQuaternion(na,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ra.DEFAULT_ORDER="XYZ";class ia{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}isEnabled(e){return 0!==(this.mask&1<<e)}}let sa=0;const aa=new vs,oa=new gs,la=new Ys,ca=new vs,ua=new vs,ha=new vs,da=new gs,fa=new vs(1,0,0),pa=new vs(0,1,0),ma=new vs(0,0,1),ga={type:"added"},va={type:"removed"},xa={type:"childadded",child:null},ba={type:"childremoved",child:null};class ya extends Mi{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:sa++}),this.uuid=Pi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ya.DEFAULT_UP.clone();const e=new vs,t=new ra,n=new gs,r=new vs(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Ys},normalMatrix:{value:new ji}}),this.matrix=new Ys,this.matrixWorld=new Ys,this.matrixAutoUpdate=ya.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=ya.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new ia,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return oa.setFromAxisAngle(e,t),this.quaternion.multiply(oa),this}rotateOnWorldAxis(e,t){return oa.setFromAxisAngle(e,t),this.quaternion.premultiply(oa),this}rotateX(e){return this.rotateOnAxis(fa,e)}rotateY(e){return this.rotateOnAxis(pa,e)}rotateZ(e){return this.rotateOnAxis(ma,e)}translateOnAxis(e,t){return aa.copy(e).applyQuaternion(this.quaternion),this.position.add(aa.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(fa,e)}translateY(e){return this.translateOnAxis(pa,e)}translateZ(e){return this.translateOnAxis(ma,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(la.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?ca.copy(e):ca.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),ua.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?la.lookAt(ua,ca,this.up):la.lookAt(ca,ua,this.up),this.quaternion.setFromRotationMatrix(la),r&&(la.extractRotation(r.matrixWorld),oa.setFromRotationMatrix(la),this.quaternion.premultiply(oa.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(ga),xa.child=e,this.dispatchEvent(xa),xa.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(va),ba.child=e,this.dispatchEvent(ba),ba.child=null),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),la.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),la.multiply(e.parent.matrixWorld)),e.applyMatrix4(la),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(ga),xa.child=e,this.dispatchEvent(xa),xa.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}}getObjectsByProperty(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this[e]===t&&n.push(this);const r=this.children;for(let i=0,s=r.length;i<s;i++)r[i].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ua,e,ha),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ua,da,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++){t[n].updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++){e[t].updateWorldMatrix(!1,!0)}}}toJSON(e){const t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map((e=>({boxInitialized:e.boxInitialized,boxMin:e.box.min.toArray(),boxMax:e.box.max.toArray(),sphereInitialized:e.sphereInitialized,sphereRadius:e.sphere.radius,sphereCenter:e.sphere.center.toArray()}))),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),null!==this._colorsTexture&&(r.colorsTexture=this._colorsTexture.toJSON(e)),null!==this.boundingSphere&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),null!==this.boundingBox&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const r=n[t];i(e.shapes,r)}else i(e.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,r=this.material.length;n<r;n++)t.push(i(e.materials,this.material[n]));r.material=t}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];r.animations.push(i(e.animations,n))}}if(t){const t=s(e.geometries),r=s(e.materials),i=s(e.textures),a=s(e.images),o=s(e.shapes),l=s(e.skeletons),c=s(e.animations),u=s(e.nodes);t.length>0&&(n.geometries=t),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),a.length>0&&(n.images=a),o.length>0&&(n.shapes=o),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=r,n;function s(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++){const t=e.children[n];this.add(t.clone())}return this}}ya.DEFAULT_UP=new vs(0,1,0),ya.DEFAULT_MATRIX_AUTO_UPDATE=!0,ya.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const wa=new vs,_a=new vs,Aa=new vs,Sa=new vs,Ea=new vs,Ta=new vs,Ma=new vs,Ca=new vs,Ra=new vs,ka=new vs,Na=new cs,Pa=new cs,Ia=new cs;class La{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new vs,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new vs,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new vs;this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),wa.subVectors(e,t),r.cross(wa);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(e,t,n,r,i){wa.subVectors(r,t),_a.subVectors(n,t),Aa.subVectors(e,t);const s=wa.dot(wa),a=wa.dot(_a),o=wa.dot(Aa),l=_a.dot(_a),c=_a.dot(Aa),u=s*l-a*a;if(0===u)return i.set(0,0,0),null;const h=1/u,d=(l*o-a*c)*h,f=(s*c-a*o)*h;return i.set(1-d-f,f,d)}static containsPoint(e,t,n,r){return null!==this.getBarycoord(e,t,n,r,Sa)&&(Sa.x>=0&&Sa.y>=0&&Sa.x+Sa.y<=1)}static getInterpolation(e,t,n,r,i,s,a,o){return null===this.getBarycoord(e,t,n,r,Sa)?(o.x=0,o.y=0,"z"in o&&(o.z=0),"w"in o&&(o.w=0),null):(o.setScalar(0),o.addScaledVector(i,Sa.x),o.addScaledVector(s,Sa.y),o.addScaledVector(a,Sa.z),o)}static getInterpolatedAttribute(e,t,n,r,i,s){return Na.setScalar(0),Pa.setScalar(0),Ia.setScalar(0),Na.fromBufferAttribute(e,t),Pa.fromBufferAttribute(e,n),Ia.fromBufferAttribute(e,r),s.setScalar(0),s.addScaledVector(Na,i.x),s.addScaledVector(Pa,i.y),s.addScaledVector(Ia,i.z),s}static isFrontFacing(e,t,n,r){return wa.subVectors(n,t),_a.subVectors(e,t),wa.cross(_a).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return wa.subVectors(this.c,this.b),_a.subVectors(this.a,this.b),.5*wa.cross(_a).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return La.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return La.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,r,i){return La.getInterpolation(e,this.a,this.b,this.c,t,n,r,i)}containsPoint(e){return La.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return La.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,i=this.c;let s,a;Ea.subVectors(r,n),Ta.subVectors(i,n),Ca.subVectors(e,n);const o=Ea.dot(Ca),l=Ta.dot(Ca);if(o<=0&&l<=0)return t.copy(n);Ra.subVectors(e,r);const c=Ea.dot(Ra),u=Ta.dot(Ra);if(c>=0&&u<=c)return t.copy(r);const h=o*u-c*l;if(h<=0&&o>=0&&c<=0)return s=o/(o-c),t.copy(n).addScaledVector(Ea,s);ka.subVectors(e,i);const d=Ea.dot(ka),f=Ta.dot(ka);if(f>=0&&d<=f)return t.copy(i);const p=d*l-o*f;if(p<=0&&l>=0&&f<=0)return a=l/(l-f),t.copy(n).addScaledVector(Ta,a);const m=c*f-d*u;if(m<=0&&u-c>=0&&d-f>=0)return Ma.subVectors(i,r),a=(u-c)/(u-c+(d-f)),t.copy(r).addScaledVector(Ma,a);const g=1/(m+p+h);return s=p*g,a=h*g,t.copy(n).addScaledVector(Ea,s).addScaledVector(Ta,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Da={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ba={h:0,s:0,l:0},Oa={h:0,s:0,l:0};function Fa(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}class Ua{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(void 0===t&&void 0===n){const t=e;t&&t.isColor?this.copy(t):"number"===typeof t?this.setHex(t):"string"===typeof t&&this.setStyle(t)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Br;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,$i.toWorkingColorSpace(this,t),this}setRGB(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:$i.workingColorSpace;return this.r=e,this.g=t,this.b=n,$i.toWorkingColorSpace(this,r),this}setHSL(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:$i.workingColorSpace;if(e=Li(e,1),t=Ii(t,0,1),n=Ii(n,0,1),0===t)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=Fa(i,r,e+1/3),this.g=Fa(i,r,e),this.b=Fa(i,r,e-1/3)}return $i.toWorkingColorSpace(this,r),this}setStyle(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Br;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^(\w+)\(([^\)]*)\)/.exec(e)){let i;const s=t[1],a=t[2];switch(s){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,n);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,n);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=t[1],i=r.length;if(3===i)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,n);if(6===i)return this.setHex(parseInt(r,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Br;const n=Da[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=es(e.r),this.g=es(e.g),this.b=es(e.b),this}copyLinearToSRGB(e){return this.r=ts(e.r),this.g=ts(e.g),this.b=ts(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br;return $i.fromWorkingColorSpace(ja.copy(this),e),65536*Math.round(Ii(255*ja.r,0,255))+256*Math.round(Ii(255*ja.g,0,255))+Math.round(Ii(255*ja.b,0,255))}getHexString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br;return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$i.workingColorSpace;$i.fromWorkingColorSpace(ja.copy(this),t);const n=ja.r,r=ja.g,i=ja.b,s=Math.max(n,r,i),a=Math.min(n,r,i);let o,l;const c=(a+s)/2;if(a===s)o=0,l=0;else{const e=s-a;switch(l=c<=.5?e/(s+a):e/(2-s-a),s){case n:o=(r-i)/e+(r<i?6:0);break;case r:o=(i-n)/e+2;break;case i:o=(n-r)/e+4}o/=6}return e.h=o,e.s=l,e.l=c,e}getRGB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$i.workingColorSpace;return $i.fromWorkingColorSpace(ja.copy(this),t),e.r=ja.r,e.g=ja.g,e.b=ja.b,e}getStyle(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br;$i.fromWorkingColorSpace(ja.copy(this),e);const t=ja.r,n=ja.g,r=ja.b;return e!==Br?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*n)},${Math.round(255*r)})`}offsetHSL(e,t,n){return this.getHSL(Ba),this.setHSL(Ba.h+e,Ba.s+t,Ba.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Ba),e.getHSL(Oa);const n=Di(Ba.h,Oa.h,t),r=Di(Ba.s,Oa.s,t),i=Di(Ba.l,Oa.l,t);return this.setHSL(n,r,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ja=new Ua;Ua.NAMES=Da;let za=0;class Ha extends Mi{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:za++}),this.uuid=Pi(),this.name="",this.type="Material",this.blending=et,this.side=qe,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=pt,this.blendDst=mt,this.blendEquation=st,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ua(0,0,0),this.blendAlpha=0,this.depthFunc=Ct,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=si,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Wr,this.stencilZFail=Wr,this.stencilZPass=Wr,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(n.dispersion=this.dispersion),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapRotation&&(n.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==et&&(n.blending=this.blending),this.side!==qe&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),this.blendSrc!==pt&&(n.blendSrc=this.blendSrc),this.blendDst!==mt&&(n.blendDst=this.blendDst),this.blendEquation!==st&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==Ct&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==si&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Wr&&(n.stencilFail=this.stencilFail),this.stencilZFail!==Wr&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==Wr&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const t=r(e.textures),i=r(e.images);t.length>0&&(n.textures=t),i.length>0&&(n.images=i)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let r=0;r!==e;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Ga extends Ha{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ua(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ra,this.combine=It,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Va=Wa();function Wa(){const e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const e=l-127;e<-27?(r[l]=0,r[256|l]=32768,i[l]=24,i[256|l]=24):e<-14?(r[l]=1024>>-e-14,r[256|l]=1024>>-e-14|32768,i[l]=-e-1,i[256|l]=-e-1):e<=15?(r[l]=e+15<<10,r[256|l]=e+15<<10|32768,i[l]=13,i[256|l]=13):e<128?(r[l]=31744,r[256|l]=64512,i[l]=24,i[256|l]=24):(r[l]=31744,r[256|l]=64512,i[l]=13,i[256|l]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let e=l<<13,t=0;for(;0===(8388608&e);)e<<=1,t-=8388608;e&=-8388609,t+=947912704,s[l]=e|t}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)32!==l&&(o[l]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:a,offsetTable:o}}function Xa(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=Ii(e,-65504,65504),Va.floatView[0]=e;const t=Va.uint32View[0],n=t>>23&511;return Va.baseTable[n]+((8388607&t)>>Va.shiftTable[n])}function Ya(e){const t=e>>10;return Va.uint32View[0]=Va.mantissaTable[Va.offsetTable[t]+(1023&e)]+Va.exponentTable[t],Va.floatView[0]}const Ja={toHalfFloat:Xa,fromHalfFloat:Ya},Ka=new vs,qa=new Ui;class Qa{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=pi,this.updateRanges=[],this.gpuType=xn,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)qa.fromBufferAttribute(this,t),qa.applyMatrix3(e),this.setXY(t,qa.x,qa.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)Ka.fromBufferAttribute(this,t),Ka.applyMatrix3(e),this.setXYZ(t,Ka.x,Ka.y,Ka.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Ka.fromBufferAttribute(this,t),Ka.applyMatrix4(e),this.setXYZ(t,Ka.x,Ka.y,Ka.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Ka.fromBufferAttribute(this,t),Ka.applyNormalMatrix(e),this.setXYZ(t,Ka.x,Ka.y,Ka.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Ka.fromBufferAttribute(this,t),Ka.transformDirection(e),this.setXYZ(t,Ka.x,Ka.y,Ka.z);return this}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=Bi(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Oi(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Bi(t,this.array)),t}setX(e,t){return this.normalized&&(t=Oi(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Bi(t,this.array)),t}setY(e,t){return this.normalized&&(t=Oi(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Bi(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Oi(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Bi(t,this.array)),t}setW(e,t){return this.normalized&&(t=Oi(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Oi(t,this.array),n=Oi(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Oi(t,this.array),n=Oi(n,this.array),r=Oi(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=Oi(t,this.array),n=Oi(n,this.array),r=Oi(r,this.array),i=Oi(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==pi&&(e.usage=this.usage),e}}class Za extends Qa{constructor(e,t,n){super(new Int8Array(e),t,n)}}class $a extends Qa{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class eo extends Qa{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class to extends Qa{constructor(e,t,n){super(new Int16Array(e),t,n)}}class no extends Qa{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class ro extends Qa{constructor(e,t,n){super(new Int32Array(e),t,n)}}class io extends Qa{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class so extends Qa{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=Ya(this.array[e*this.itemSize]);return this.normalized&&(t=Bi(t,this.array)),t}setX(e,t){return this.normalized&&(t=Oi(t,this.array)),this.array[e*this.itemSize]=Xa(t),this}getY(e){let t=Ya(this.array[e*this.itemSize+1]);return this.normalized&&(t=Bi(t,this.array)),t}setY(e,t){return this.normalized&&(t=Oi(t,this.array)),this.array[e*this.itemSize+1]=Xa(t),this}getZ(e){let t=Ya(this.array[e*this.itemSize+2]);return this.normalized&&(t=Bi(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Oi(t,this.array)),this.array[e*this.itemSize+2]=Xa(t),this}getW(e){let t=Ya(this.array[e*this.itemSize+3]);return this.normalized&&(t=Bi(t,this.array)),t}setW(e,t){return this.normalized&&(t=Oi(t,this.array)),this.array[e*this.itemSize+3]=Xa(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Oi(t,this.array),n=Oi(n,this.array)),this.array[e+0]=Xa(t),this.array[e+1]=Xa(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Oi(t,this.array),n=Oi(n,this.array),r=Oi(r,this.array)),this.array[e+0]=Xa(t),this.array[e+1]=Xa(n),this.array[e+2]=Xa(r),this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=Oi(t,this.array),n=Oi(n,this.array),r=Oi(r,this.array),i=Oi(i,this.array)),this.array[e+0]=Xa(t),this.array[e+1]=Xa(n),this.array[e+2]=Xa(r),this.array[e+3]=Xa(i),this}}class ao extends Qa{constructor(e,t,n){super(new Float32Array(e),t,n)}}let oo=0;const lo=new Ys,co=new ya,uo=new vs,ho=new ys,fo=new ys,po=new vs;class mo extends Mi{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:oo++}),this.uuid=Pi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Hi(e)?io:no)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new ji).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return lo.makeRotationFromQuaternion(e),this.applyMatrix4(lo),this}rotateX(e){return lo.makeRotationX(e),this.applyMatrix4(lo),this}rotateY(e){return lo.makeRotationY(e),this.applyMatrix4(lo),this}rotateZ(e){return lo.makeRotationZ(e),this.applyMatrix4(lo),this}translate(e,t,n){return lo.makeTranslation(e,t,n),this.applyMatrix4(lo),this}scale(e,t,n){return lo.makeScale(e,t,n),this.applyMatrix4(lo),this}lookAt(e){return co.lookAt(e),co.updateMatrix(),this.applyMatrix4(co.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(uo).negate(),this.translate(uo.x,uo.y,uo.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new ao(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new ys);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new vs(-1/0,-1/0,-1/0),new vs(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const e=t[n];ho.setFromBufferAttribute(e),this.morphTargetsRelative?(po.addVectors(this.boundingBox.min,ho.min),this.boundingBox.expandByPoint(po),po.addVectors(this.boundingBox.max,ho.max),this.boundingBox.expandByPoint(po)):(this.boundingBox.expandByPoint(ho.min),this.boundingBox.expandByPoint(ho.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Fs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new vs,1/0);if(e){const n=this.boundingSphere.center;if(ho.setFromBufferAttribute(e),t)for(let e=0,i=t.length;e<i;e++){const n=t[e];fo.setFromBufferAttribute(n),this.morphTargetsRelative?(po.addVectors(ho.min,fo.min),ho.expandByPoint(po),po.addVectors(ho.max,fo.max),ho.expandByPoint(po)):(ho.expandByPoint(fo.min),ho.expandByPoint(fo.max))}ho.getCenter(n);let r=0;for(let t=0,i=e.count;t<i;t++)po.fromBufferAttribute(e,t),r=Math.max(r,n.distanceToSquared(po));if(t)for(let i=0,s=t.length;i<s;i++){const s=t[i],a=this.morphTargetsRelative;for(let t=0,i=s.count;t<i;t++)po.fromBufferAttribute(s,t),a&&(uo.fromBufferAttribute(e,t),po.add(uo)),r=Math.max(r,n.distanceToSquared(po))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.position,r=t.normal,i=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Qa(new Float32Array(4*n.count),4));const s=this.getAttribute("tangent"),a=[],o=[];for(let A=0;A<n.count;A++)a[A]=new vs,o[A]=new vs;const l=new vs,c=new vs,u=new vs,h=new Ui,d=new Ui,f=new Ui,p=new vs,m=new vs;function g(e,t,r){l.fromBufferAttribute(n,e),c.fromBufferAttribute(n,t),u.fromBufferAttribute(n,r),h.fromBufferAttribute(i,e),d.fromBufferAttribute(i,t),f.fromBufferAttribute(i,r),c.sub(l),u.sub(l),d.sub(h),f.sub(h);const s=1/(d.x*f.y-f.x*d.y);isFinite(s)&&(p.copy(c).multiplyScalar(f.y).addScaledVector(u,-d.y).multiplyScalar(s),m.copy(u).multiplyScalar(d.x).addScaledVector(c,-f.x).multiplyScalar(s),a[e].add(p),a[t].add(p),a[r].add(p),o[e].add(m),o[t].add(m),o[r].add(m))}let v=this.groups;0===v.length&&(v=[{start:0,count:e.count}]);for(let A=0,S=v.length;A<S;++A){const t=v[A],n=t.start;for(let r=n,i=n+t.count;r<i;r+=3)g(e.getX(r+0),e.getX(r+1),e.getX(r+2))}const x=new vs,b=new vs,y=new vs,w=new vs;function _(e){y.fromBufferAttribute(r,e),w.copy(y);const t=a[e];x.copy(t),x.sub(y.multiplyScalar(y.dot(t))).normalize(),b.crossVectors(w,t);const n=b.dot(o[e])<0?-1:1;s.setXYZW(e,x.x,x.y,x.z,n)}for(let A=0,S=v.length;A<S;++A){const t=v[A],n=t.start;for(let r=n,i=n+t.count;r<i;r+=3)_(e.getX(r+0)),_(e.getX(r+1)),_(e.getX(r+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new Qa(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const r=new vs,i=new vs,s=new vs,a=new vs,o=new vs,l=new vs,c=new vs,u=new vs;if(e)for(let h=0,d=e.count;h<d;h+=3){const d=e.getX(h+0),f=e.getX(h+1),p=e.getX(h+2);r.fromBufferAttribute(t,d),i.fromBufferAttribute(t,f),s.fromBufferAttribute(t,p),c.subVectors(s,i),u.subVectors(r,i),c.cross(u),a.fromBufferAttribute(n,d),o.fromBufferAttribute(n,f),l.fromBufferAttribute(n,p),a.add(c),o.add(c),l.add(c),n.setXYZ(d,a.x,a.y,a.z),n.setXYZ(f,o.x,o.y,o.z),n.setXYZ(p,l.x,l.y,l.z)}else for(let e=0,h=t.count;e<h;e+=3)r.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),s.fromBufferAttribute(t,e+2),c.subVectors(s,i),u.subVectors(r,i),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)po.fromBufferAttribute(e,t),po.normalize(),e.setXYZ(t,po.x,po.y,po.z)}toNonIndexed(){function e(e,t){const n=e.array,r=e.itemSize,i=e.normalized,s=new n.constructor(t.length*r);let a=0,o=0;for(let l=0,c=t.length;l<c;l++){a=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(let e=0;e<r;e++)s[o++]=n[a++]}return new Qa(s,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new mo,n=this.index.array,r=this.attributes;for(const a in r){const i=e(r[a],n);t.setAttribute(a,i)}const i=this.morphAttributes;for(const a in i){const r=[],s=i[a];for(let t=0,i=s.length;t<i;t++){const i=e(s[t],n);r.push(i)}t.morphAttributes[a]=r}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,o=s.length;a<o;a++){const e=s[a];t.addGroup(e.start,e.count,e.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const o in n){const t=n[o];e.data.attributes[o]=t.toJSON(e.data)}const r={};let i=!1;for(const o in this.morphAttributes){const t=this.morphAttributes[o],n=[];for(let r=0,i=t.length;r<i;r++){const i=t[r];n.push(i.toJSON(e.data))}n.length>0&&(r[o]=n,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const r=e.attributes;for(const l in r){const e=r[l];this.setAttribute(l,e.clone(t))}const i=e.morphAttributes;for(const l in i){const e=[],n=i[l];for(let r=0,i=n.length;r<i;r++)e.push(n[r].clone(t));this.morphAttributes[l]=e}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let l=0,c=s.length;l<c;l++){const e=s[l];this.addGroup(e.start,e.count,e.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const o=e.boundingSphere;return null!==o&&(this.boundingSphere=o.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const go=new Ys,vo=new Xs,xo=new Fs,bo=new vs,yo=new vs,wo=new vs,_o=new vs,Ao=new vs,So=new vs,Eo=new vs,To=new vs;class Mo extends ya{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new mo,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ga;super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,s=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(i&&a){So.set(0,0,0);for(let n=0,r=i.length;n<r;n++){const r=a[n],o=i[n];0!==r&&(Ao.fromBufferAttribute(o,e),s?So.addScaledVector(Ao,r):So.addScaledVector(Ao.sub(t),r))}t.add(So)}return t}raycast(e,t){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),xo.copy(n.boundingSphere),xo.applyMatrix4(i),vo.copy(e.ray).recast(e.near),!1===xo.containsPoint(vo.origin)){if(null===vo.intersectSphere(xo,bo))return;if(vo.origin.distanceToSquared(bo)>(e.far-e.near)**2)return}go.copy(i).invert(),vo.copy(e.ray).applyMatrix4(go),null!==n.boundingBox&&!1===vo.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,vo)}}_computeIntersections(e,t,n){let r;const i=this.geometry,s=this.material,a=i.index,o=i.attributes.position,l=i.attributes.uv,c=i.attributes.uv1,u=i.attributes.normal,h=i.groups,d=i.drawRange;if(null!==a)if(Array.isArray(s))for(let f=0,p=h.length;f<p;f++){const i=h[f],o=s[i.materialIndex];for(let s=Math.max(i.start,d.start),h=Math.min(a.count,Math.min(i.start+i.count,d.start+d.count));s<h;s+=3){r=Co(this,o,e,n,l,c,u,a.getX(s),a.getX(s+1),a.getX(s+2)),r&&(r.faceIndex=Math.floor(s/3),r.face.materialIndex=i.materialIndex,t.push(r))}}else{for(let i=Math.max(0,d.start),o=Math.min(a.count,d.start+d.count);i<o;i+=3){r=Co(this,s,e,n,l,c,u,a.getX(i),a.getX(i+1),a.getX(i+2)),r&&(r.faceIndex=Math.floor(i/3),t.push(r))}}else if(void 0!==o)if(Array.isArray(s))for(let f=0,p=h.length;f<p;f++){const i=h[f],a=s[i.materialIndex];for(let s=Math.max(i.start,d.start),h=Math.min(o.count,Math.min(i.start+i.count,d.start+d.count));s<h;s+=3){r=Co(this,a,e,n,l,c,u,s,s+1,s+2),r&&(r.faceIndex=Math.floor(s/3),r.face.materialIndex=i.materialIndex,t.push(r))}}else{for(let i=Math.max(0,d.start),a=Math.min(o.count,d.start+d.count);i<a;i+=3){r=Co(this,s,e,n,l,c,u,i,i+1,i+2),r&&(r.faceIndex=Math.floor(i/3),t.push(r))}}}}function Co(e,t,n,r,i,s,a,o,l,c){e.getVertexPosition(o,yo),e.getVertexPosition(l,wo),e.getVertexPosition(c,_o);const u=function(e,t,n,r,i,s,a,o){let l;if(l=t.side===Qe?r.intersectTriangle(a,s,i,!0,o):r.intersectTriangle(i,s,a,t.side===qe,o),null===l)return null;To.copy(o),To.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(To);return c<n.near||c>n.far?null:{distance:c,point:To.clone(),object:e}}(e,t,n,r,yo,wo,_o,Eo);if(u){const e=new vs;La.getBarycoord(Eo,yo,wo,_o,e),i&&(u.uv=La.getInterpolatedAttribute(i,o,l,c,e,new Ui)),s&&(u.uv1=La.getInterpolatedAttribute(s,o,l,c,e,new Ui)),a&&(u.normal=La.getInterpolatedAttribute(a,o,l,c,e,new vs),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const t={a:o,b:l,c:c,normal:new vs,materialIndex:0};La.getNormal(yo,wo,_o,t.normal),u.face=t,u.barycoord=e}return u}class Ro extends mo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:s};const a=this;r=Math.floor(r),i=Math.floor(i),s=Math.floor(s);const o=[],l=[],c=[],u=[];let h=0,d=0;function f(e,t,n,r,i,s,f,p,m,g,v){const x=s/m,b=f/g,y=s/2,w=f/2,_=p/2,A=m+1,S=g+1;let E=0,T=0;const M=new vs;for(let a=0;a<S;a++){const s=a*b-w;for(let o=0;o<A;o++){const h=o*x-y;M[e]=h*r,M[t]=s*i,M[n]=_,l.push(M.x,M.y,M.z),M[e]=0,M[t]=0,M[n]=p>0?1:-1,c.push(M.x,M.y,M.z),u.push(o/m),u.push(1-a/g),E+=1}}for(let a=0;a<g;a++)for(let e=0;e<m;e++){const t=h+e+A*a,n=h+e+A*(a+1),r=h+(e+1)+A*(a+1),i=h+(e+1)+A*a;o.push(t,n,i),o.push(n,r,i),T+=6}a.addGroup(d,T,v),d+=T,h+=E}f("z","y","x",-1,-1,n,t,e,s,i,0),f("z","y","x",1,-1,n,t,-e,s,i,1),f("x","z","y",1,1,e,n,t,r,s,2),f("x","z","y",1,-1,e,n,-t,r,s,3),f("x","y","z",1,-1,e,t,n,r,i,4),f("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(o),this.setAttribute("position",new ao(l,3)),this.setAttribute("normal",new ao(c,3)),this.setAttribute("uv",new ao(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ro(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ko(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function No(e){const t={};for(let n=0;n<e.length;n++){const r=ko(e[n]);for(const e in r)t[e]=r[e]}return t}function Po(e){const t=e.getRenderTarget();return null===t?e.outputColorSpace:!0===t.isXRRenderTarget?t.texture.colorSpace:$i.workingColorSpace}const Io={clone:ko,merge:No};class Lo extends Ha{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ko(e.uniforms),this.uniformsGroups=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const n=this.uniforms[r].value;n&&n.isTexture?t.uniforms[r]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[r]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[r]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[r]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[r]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[r]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[r]={type:"m4",value:n.toArray()}:t.uniforms[r]={value:n}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class Do extends ya{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ys,this.projectionMatrix=new Ys,this.projectionMatrixInverse=new Ys,this.coordinateSystem=Ei}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const Bo=new vs,Oo=new Ui,Fo=new Ui;class Uo extends Do{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*Ni*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*ki*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Ni*Math.atan(Math.tan(.5*ki*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){Bo.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Bo.x,Bo.y).multiplyScalar(-e/Bo.z),Bo.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Bo.x,Bo.y).multiplyScalar(-e/Bo.z)}getViewSize(e,t){return this.getViewBounds(e,Oo,Fo),t.subVectors(Fo,Oo)}setViewOffset(e,t,n,r,i,s){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*ki*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r;const s=this.view;if(null!==this.view&&this.view.enabled){const e=s.fullWidth,a=s.fullHeight;i+=s.offsetX*r/e,t-=s.offsetY*n/a,r*=s.width/e,n*=s.height/a}const a=this.filmOffset;0!==a&&(i+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const jo=-90;class zo extends ya{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Uo(jo,1,e,t);r.layers=this.layers,this.add(r);const i=new Uo(jo,1,e,t);i.layers=this.layers,this.add(i);const s=new Uo(jo,1,e,t);s.layers=this.layers,this.add(s);const a=new Uo(jo,1,e,t);a.layers=this.layers,this.add(a);const o=new Uo(jo,1,e,t);o.layers=this.layers,this.add(o);const l=new Uo(jo,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,i,s,a,o]=t;for(const l of t)this.remove(l);if(e===Ei)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),o.up.set(0,1,0),o.lookAt(0,0,-1);else{if(e!==Ti)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),o.up.set(0,-1,0),o.lookAt(0,0,-1)}for(const l of t)this.add(l),l.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,s,a,o,l,c]=this.children,u=e.getRenderTarget(),h=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),f=e.xr.enabled;e.xr.enabled=!1;const p=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,i),e.setRenderTarget(n,1,r),e.render(t,s),e.setRenderTarget(n,2,r),e.render(t,a),e.setRenderTarget(n,3,r),e.render(t,o),e.setRenderTarget(n,4,r),e.render(t,l),n.texture.generateMipmaps=p,e.setRenderTarget(n,5,r),e.render(t,c),e.setRenderTarget(u,h,d),e.xr.enabled=f,n.texture.needsPMREMUpdate=!0}}class Ho extends ls{constructor(e,t,n,r,i,s,a,o,l,c){super(e=void 0!==e?e:[],t=void 0!==t?t:Yt,n,r,i,s,a,o,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Go extends hs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new Ho(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:on}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},r=new Ro(5,5,5),i=new Lo({name:"CubemapFromEquirect",uniforms:ko(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Qe,blending:$e});i.uniforms.tEquirect.value=t;const s=new Mo(r,i),a=t.minFilter;t.minFilter===un&&(t.minFilter=on);return new zo(1,10,this).update(e,s),t.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,n,r){const i=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,n,r);e.setRenderTarget(i)}}const Vo=new vs,Wo=new vs,Xo=new ji;class Yo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new vs(1,0,0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=Vo.subVectors(n,t).cross(Wo.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(Vo),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Xo.getNormalMatrix(e),r=this.coplanarPoint(Vo).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Jo=new Fs,Ko=new vs;class qo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Yo,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Yo,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Yo,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Yo,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Yo,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Yo;this.planes=[e,t,n,r,i,s]}set(e,t,n,r,i,s){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(s),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ei;const n=this.planes,r=e.elements,i=r[0],s=r[1],a=r[2],o=r[3],l=r[4],c=r[5],u=r[6],h=r[7],d=r[8],f=r[9],p=r[10],m=r[11],g=r[12],v=r[13],x=r[14],b=r[15];if(n[0].setComponents(o-i,h-l,m-d,b-g).normalize(),n[1].setComponents(o+i,h+l,m+d,b+g).normalize(),n[2].setComponents(o+s,h+c,m+f,b+v).normalize(),n[3].setComponents(o-s,h-c,m-f,b-v).normalize(),n[4].setComponents(o-a,h-u,m-p,b-x).normalize(),t===Ei)n[5].setComponents(o+a,h+u,m+p,b+x).normalize();else{if(t!==Ti)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(a,u,p,x).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),Jo.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),Jo.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Jo)}intersectsSprite(e){return Jo.center.set(0,0,0),Jo.radius=.7071067811865476,Jo.applyMatrix4(e.matrixWorld),this.intersectsSphere(Jo)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(Ko.x=r.normal.x>0?e.max.x:e.min.x,Ko.y=r.normal.y>0?e.max.y:e.min.y,Ko.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Ko)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function Qo(){let e=null,t=!1,n=null,r=null;function i(t,s){n(t,s),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Zo(e){const t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);const r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))},update:function(n,r){if(n.isInterleavedBufferAttribute&&(n=n.data),n.isGLBufferAttribute){const e=t.get(n);return void((!e||e.version<n.version)&&t.set(n,{buffer:n.buffer,type:n.type,bytesPerElement:n.elementSize,version:n.version}))}const i=t.get(n);if(void 0===i)t.set(n,function(t,n){const r=t.array,i=t.usage,s=r.byteLength,a=e.createBuffer();let o;if(e.bindBuffer(n,a),e.bufferData(n,r,i),t.onUploadCallback(),r instanceof Float32Array)o=e.FLOAT;else if(r instanceof Uint16Array)o=t.isFloat16BufferAttribute?e.HALF_FLOAT:e.UNSIGNED_SHORT;else if(r instanceof Int16Array)o=e.SHORT;else if(r instanceof Uint32Array)o=e.UNSIGNED_INT;else if(r instanceof Int32Array)o=e.INT;else if(r instanceof Int8Array)o=e.BYTE;else if(r instanceof Uint8Array)o=e.UNSIGNED_BYTE;else{if(!(r instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+r);o=e.UNSIGNED_BYTE}return{buffer:a,type:o,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version,size:s}}(n,r));else if(i.version<n.version){if(i.size!==n.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");!function(t,n,r){const i=n.array,s=n.updateRanges;if(e.bindBuffer(r,t),0===s.length)e.bufferSubData(r,0,i);else{s.sort(((e,t)=>e.start-t.start));let t=0;for(let e=1;e<s.length;e++){const n=s[t],r=s[e];r.start<=n.start+n.count+1?n.count=Math.max(n.count,r.start+r.count-n.start):(++t,s[t]=r)}s.length=t+1;for(let n=0,a=s.length;n<a;n++){const t=s[n];e.bufferSubData(r,t.start*i.BYTES_PER_ELEMENT,i,t.start,t.count)}n.clearUpdateRanges()}n.onUploadCallback()}(i.buffer,n,r),i.version=n.version}}}}class $o extends mo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const i=e/2,s=t/2,a=Math.floor(n),o=Math.floor(r),l=a+1,c=o+1,u=e/a,h=t/o,d=[],f=[],p=[],m=[];for(let g=0;g<c;g++){const e=g*h-s;for(let t=0;t<l;t++){const n=t*u-i;f.push(n,-e,0),p.push(0,0,1),m.push(t/a),m.push(1-g/o)}}for(let g=0;g<o;g++)for(let e=0;e<a;e++){const t=e+l*g,n=e+l*(g+1),r=e+1+l*(g+1),i=e+1+l*g;d.push(t,n,i),d.push(n,r,i)}this.setIndex(d),this.setAttribute("position",new ao(f,3)),this.setAttribute("normal",new ao(p,3)),this.setAttribute("uv",new ao(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $o(e.width,e.height,e.widthSegments,e.heightSegments)}}const el={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t\n\t\t#else\n\t\t\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},tl={common:{diffuse:{value:new Ua(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ji},alphaMap:{value:null},alphaMapTransform:{value:new ji},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ji}},envmap:{envMap:{value:null},envMapRotation:{value:new ji},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ji}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ji}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ji},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ji},normalScale:{value:new Ui(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ji},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ji}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ji}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ji}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ua(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ua(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ji},alphaTest:{value:0},uvTransform:{value:new ji}},sprite:{diffuse:{value:new Ua(16777215)},opacity:{value:1},center:{value:new Ui(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ji},alphaMap:{value:null},alphaMapTransform:{value:new ji},alphaTest:{value:0}}},nl={basic:{uniforms:No([tl.common,tl.specularmap,tl.envmap,tl.aomap,tl.lightmap,tl.fog]),vertexShader:el.meshbasic_vert,fragmentShader:el.meshbasic_frag},lambert:{uniforms:No([tl.common,tl.specularmap,tl.envmap,tl.aomap,tl.lightmap,tl.emissivemap,tl.bumpmap,tl.normalmap,tl.displacementmap,tl.fog,tl.lights,{emissive:{value:new Ua(0)}}]),vertexShader:el.meshlambert_vert,fragmentShader:el.meshlambert_frag},phong:{uniforms:No([tl.common,tl.specularmap,tl.envmap,tl.aomap,tl.lightmap,tl.emissivemap,tl.bumpmap,tl.normalmap,tl.displacementmap,tl.fog,tl.lights,{emissive:{value:new Ua(0)},specular:{value:new Ua(1118481)},shininess:{value:30}}]),vertexShader:el.meshphong_vert,fragmentShader:el.meshphong_frag},standard:{uniforms:No([tl.common,tl.envmap,tl.aomap,tl.lightmap,tl.emissivemap,tl.bumpmap,tl.normalmap,tl.displacementmap,tl.roughnessmap,tl.metalnessmap,tl.fog,tl.lights,{emissive:{value:new Ua(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:el.meshphysical_vert,fragmentShader:el.meshphysical_frag},toon:{uniforms:No([tl.common,tl.aomap,tl.lightmap,tl.emissivemap,tl.bumpmap,tl.normalmap,tl.displacementmap,tl.gradientmap,tl.fog,tl.lights,{emissive:{value:new Ua(0)}}]),vertexShader:el.meshtoon_vert,fragmentShader:el.meshtoon_frag},matcap:{uniforms:No([tl.common,tl.bumpmap,tl.normalmap,tl.displacementmap,tl.fog,{matcap:{value:null}}]),vertexShader:el.meshmatcap_vert,fragmentShader:el.meshmatcap_frag},points:{uniforms:No([tl.points,tl.fog]),vertexShader:el.points_vert,fragmentShader:el.points_frag},dashed:{uniforms:No([tl.common,tl.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:el.linedashed_vert,fragmentShader:el.linedashed_frag},depth:{uniforms:No([tl.common,tl.displacementmap]),vertexShader:el.depth_vert,fragmentShader:el.depth_frag},normal:{uniforms:No([tl.common,tl.bumpmap,tl.normalmap,tl.displacementmap,{opacity:{value:1}}]),vertexShader:el.meshnormal_vert,fragmentShader:el.meshnormal_frag},sprite:{uniforms:No([tl.sprite,tl.fog]),vertexShader:el.sprite_vert,fragmentShader:el.sprite_frag},background:{uniforms:{uvTransform:{value:new ji},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:el.background_vert,fragmentShader:el.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new ji}},vertexShader:el.backgroundCube_vert,fragmentShader:el.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:el.cube_vert,fragmentShader:el.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:el.equirect_vert,fragmentShader:el.equirect_frag},distanceRGBA:{uniforms:No([tl.common,tl.displacementmap,{referencePosition:{value:new vs},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:el.distanceRGBA_vert,fragmentShader:el.distanceRGBA_frag},shadow:{uniforms:No([tl.lights,tl.fog,{color:{value:new Ua(0)},opacity:{value:1}}]),vertexShader:el.shadow_vert,fragmentShader:el.shadow_frag}};nl.physical={uniforms:No([nl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ji},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ji},clearcoatNormalScale:{value:new Ui(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ji},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ji},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ji},sheen:{value:0},sheenColor:{value:new Ua(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ji},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ji},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ji},transmissionSamplerSize:{value:new Ui},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ji},attenuationDistance:{value:0},attenuationColor:{value:new Ua(0)},specularColor:{value:new Ua(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ji},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ji},anisotropyVector:{value:new Ui},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ji}}]),vertexShader:el.meshphysical_vert,fragmentShader:el.meshphysical_frag};const rl={r:0,b:0,g:0},il=new ra,sl=new Ys;function al(e,t,n,r,i,s,a){const o=new Ua(0);let l,c,u=!0===s?0:1,h=null,d=0,f=null;function p(e){let r=!0===e.isScene?e.background:null;if(r&&r.isTexture){r=(e.backgroundBlurriness>0?n:t).get(r)}return r}function m(t,n){t.getRGB(rl,Po(e)),r.buffers.color.setClear(rl.r,rl.g,rl.b,n,a)}return{getClearColor:function(){return o},setClearColor:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;o.set(e),u=t,m(o,u)},getClearAlpha:function(){return u},setClearAlpha:function(e){u=e,m(o,u)},render:function(t){let n=!1;const i=p(t);null===i?m(o,u):i&&i.isColor&&(m(i,1),n=!0);const s=e.xr.getEnvironmentBlendMode();"additive"===s?r.buffers.color.setClear(0,0,0,1,a):"alpha-blend"===s&&r.buffers.color.setClear(0,0,0,0,a),(e.autoClear||n)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil))},addToRenderList:function(t,n){const r=p(n);r&&(r.isCubeTexture||r.mapping===Qt)?(void 0===c&&(c=new Mo(new Ro(1,1,1),new Lo({name:"BackgroundCubeMaterial",uniforms:ko(nl.backgroundCube.uniforms),vertexShader:nl.backgroundCube.vertexShader,fragmentShader:nl.backgroundCube.fragmentShader,side:Qe,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),il.copy(n.backgroundRotation),il.x*=-1,il.y*=-1,il.z*=-1,r.isCubeTexture&&!1===r.isRenderTargetTexture&&(il.y*=-1,il.z*=-1),c.material.uniforms.envMap.value=r,c.material.uniforms.flipEnvMap.value=r.isCubeTexture&&!1===r.isRenderTargetTexture?-1:1,c.material.uniforms.backgroundBlurriness.value=n.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(sl.makeRotationFromEuler(il)),c.material.toneMapped=$i.getTransfer(r.colorSpace)!==zr,h===r&&d===r.version&&f===e.toneMapping||(c.material.needsUpdate=!0,h=r,d=r.version,f=e.toneMapping),c.layers.enableAll(),t.unshift(c,c.geometry,c.material,0,0,null)):r&&r.isTexture&&(void 0===l&&(l=new Mo(new $o(2,2),new Lo({name:"BackgroundMaterial",uniforms:ko(nl.background.uniforms),vertexShader:nl.background.vertexShader,fragmentShader:nl.background.fragmentShader,side:qe,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=r,l.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,l.material.toneMapped=$i.getTransfer(r.colorSpace)!==zr,!0===r.matrixAutoUpdate&&r.updateMatrix(),l.material.uniforms.uvTransform.value.copy(r.matrix),h===r&&d===r.version&&f===e.toneMapping||(l.material.needsUpdate=!0,h=r,d=r.version,f=e.toneMapping),l.layers.enableAll(),t.unshift(l,l.geometry,l.material,0,0,null))}}}function ol(e,t){const n=e.getParameter(e.MAX_VERTEX_ATTRIBS),r={},i=c(null);let s=i,a=!1;function o(t){return e.bindVertexArray(t)}function l(t){return e.deleteVertexArray(t)}function c(e){const t=[],r=[],i=[];for(let s=0;s<n;s++)t[s]=0,r[s]=0,i[s]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:r,attributeDivisors:i,object:e,attributes:{},index:null}}function u(){const e=s.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function h(e){d(e,0)}function d(t,n){const r=s.newAttributes,i=s.enabledAttributes,a=s.attributeDivisors;r[t]=1,0===i[t]&&(e.enableVertexAttribArray(t),i[t]=1),a[t]!==n&&(e.vertexAttribDivisor(t,n),a[t]=n)}function f(){const t=s.newAttributes,n=s.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function p(t,n,r,i,s,a,o){!0===o?e.vertexAttribIPointer(t,n,r,s,a):e.vertexAttribPointer(t,n,r,i,s,a)}function m(){g(),a=!0,s!==i&&(s=i,o(s.object))}function g(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:function(n,i,l,m,g){let v=!1;const x=function(t,n,i){const s=!0===i.wireframe;let a=r[t.id];void 0===a&&(a={},r[t.id]=a);let o=a[n.id];void 0===o&&(o={},a[n.id]=o);let l=o[s];void 0===l&&(l=c(e.createVertexArray()),o[s]=l);return l}(m,l,i);s!==x&&(s=x,o(s.object)),v=function(e,t,n,r){const i=s.attributes,a=t.attributes;let o=0;const l=n.getAttributes();for(const s in l){if(l[s].location>=0){const t=i[s];let n=a[s];if(void 0===n&&("instanceMatrix"===s&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===s&&e.instanceColor&&(n=e.instanceColor)),void 0===t)return!0;if(t.attribute!==n)return!0;if(n&&t.data!==n.data)return!0;o++}}return s.attributesNum!==o||s.index!==r}(n,m,l,g),v&&function(e,t,n,r){const i={},a=t.attributes;let o=0;const l=n.getAttributes();for(const s in l){if(l[s].location>=0){let t=a[s];void 0===t&&("instanceMatrix"===s&&e.instanceMatrix&&(t=e.instanceMatrix),"instanceColor"===s&&e.instanceColor&&(t=e.instanceColor));const n={};n.attribute=t,t&&t.data&&(n.data=t.data),i[s]=n,o++}}s.attributes=i,s.attributesNum=o,s.index=r}(n,m,l,g),null!==g&&t.update(g,e.ELEMENT_ARRAY_BUFFER),(v||a)&&(a=!1,function(n,r,i,s){u();const a=s.attributes,o=i.getAttributes(),l=r.defaultAttributeValues;for(const c in o){const r=o[c];if(r.location>=0){let i=a[c];if(void 0===i&&("instanceMatrix"===c&&n.instanceMatrix&&(i=n.instanceMatrix),"instanceColor"===c&&n.instanceColor&&(i=n.instanceColor)),void 0!==i){const a=i.normalized,o=i.itemSize,l=t.get(i);if(void 0===l)continue;const c=l.buffer,u=l.type,f=l.bytesPerElement,m=u===e.INT||u===e.UNSIGNED_INT||i.gpuType===gn;if(i.isInterleavedBufferAttribute){const t=i.data,l=t.stride,g=i.offset;if(t.isInstancedInterleavedBuffer){for(let e=0;e<r.locationSize;e++)d(r.location+e,t.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=t.meshPerAttribute*t.count)}else for(let e=0;e<r.locationSize;e++)h(r.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<r.locationSize;e++)p(r.location+e,o/r.locationSize,u,a,l*f,(g+o/r.locationSize*e)*f,m)}else{if(i.isInstancedBufferAttribute){for(let e=0;e<r.locationSize;e++)d(r.location+e,i.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=i.meshPerAttribute*i.count)}else for(let e=0;e<r.locationSize;e++)h(r.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<r.locationSize;e++)p(r.location+e,o/r.locationSize,u,a,o*f,o/r.locationSize*e*f,m)}}else if(void 0!==l){const t=l[c];if(void 0!==t)switch(t.length){case 2:e.vertexAttrib2fv(r.location,t);break;case 3:e.vertexAttrib3fv(r.location,t);break;case 4:e.vertexAttrib4fv(r.location,t);break;default:e.vertexAttrib1fv(r.location,t)}}}}f()}(n,i,l,m),null!==g&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.get(g).buffer))},reset:m,resetDefaultState:g,dispose:function(){m();for(const e in r){const t=r[e];for(const e in t){const n=t[e];for(const e in n)l(n[e].object),delete n[e];delete t[e]}delete r[e]}},releaseStatesOfGeometry:function(e){if(void 0===r[e.id])return;const t=r[e.id];for(const n in t){const e=t[n];for(const t in e)l(e[t].object),delete e[t];delete t[n]}delete r[e.id]},releaseStatesOfProgram:function(e){for(const t in r){const n=r[t];if(void 0===n[e.id])continue;const i=n[e.id];for(const e in i)l(i[e].object),delete i[e];delete n[e.id]}},initAttributes:u,enableAttribute:h,disableUnusedAttributes:f}}function ll(e,t,n){let r;function i(t,i,s){0!==s&&(e.drawArraysInstanced(r,t,i,s),n.update(i,r,s))}this.setMode=function(e){r=e},this.render=function(t,i){e.drawArrays(r,t,i),n.update(i,r,1)},this.renderInstances=i,this.renderMultiDraw=function(e,i,s){if(0===s)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,e,0,i,0,s);let a=0;for(let t=0;t<s;t++)a+=i[t];n.update(a,r,1)},this.renderMultiDrawInstances=function(e,s,a,o){if(0===a)return;const l=t.get("WEBGL_multi_draw");if(null===l)for(let t=0;t<e.length;t++)i(e[t],s[t],o[t]);else{l.multiDrawArraysInstancedWEBGL(r,e,0,s,0,o,0,a);let t=0;for(let e=0;e<a;e++)t+=s[e];for(let e=0;e<o.length;e++)n.update(t,r,o[e])}}}function cl(e,t,n,r){let i;function s(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let a=void 0!==n.precision?n.precision:"highp";const o=s(a);o!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",o,"instead."),a=o);const l=!0===n.logarithmicDepthBuffer,c=!0===n.reverseDepthBuffer&&t.has("EXT_clip_control");if(!0===c){const e=t.get("EXT_clip_control");e.clipControlEXT(e.LOWER_LEFT_EXT,e.ZERO_TO_ONE_EXT)}const u=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),h=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==i)return i;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");i=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:s,textureFormatReadable:function(t){return t===Tn||r.convert(t)===e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(n){const i=n===bn&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(n!==dn&&r.convert(n)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE)&&n!==xn&&!i)},precision:a,logarithmicDepthBuffer:l,reverseDepthBuffer:c,maxTextures:u,maxVertexTextures:h,maxTextureSize:e.getParameter(e.MAX_TEXTURE_SIZE),maxCubemapSize:e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:e.getParameter(e.MAX_VERTEX_ATTRIBS),maxVertexUniforms:e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:e.getParameter(e.MAX_VARYING_VECTORS),maxFragmentUniforms:e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:h>0,maxSamples:e.getParameter(e.MAX_SAMPLES)}}function ul(e){const t=this;let n=null,r=0,i=!1,s=!1;const a=new Yo,o=new ji,l={value:null,needsUpdate:!1};function c(e,n,r,i){const s=null!==e?e.length:0;let c=null;if(0!==s){if(c=l.value,!0!==i||null===c){const t=r+4*s,i=n.matrixWorldInverse;o.getNormalMatrix(i),(null===c||c.length<t)&&(c=new Float32Array(t));for(let n=0,l=r;n!==s;++n,l+=4)a.copy(e[n]).applyMatrix4(i,o),a.normal.toArray(c,l),c[l+3]=a.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=s,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){const n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(e,t){n=c(e,t,0)},this.setState=function(a,o,u){const h=a.clippingPlanes,d=a.clipIntersection,f=a.clipShadows,p=e.get(a);if(!i||null===h||0===h.length||s&&!f)s?c(null):function(){l.value!==n&&(l.value=n,l.needsUpdate=r>0);t.numPlanes=r,t.numIntersection=0}();else{const e=s?0:r,t=4*e;let i=p.clippingState||null;l.value=i,i=c(h,o,t,u);for(let r=0;r!==t;++r)i[r]=n[r];p.clippingState=i,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=e}}}function hl(e){let t=new WeakMap;function n(e,t){return t===Kt?e.mapping=Yt:t===qt&&(e.mapping=Jt),e}function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const s=i.mapping;if(s===Kt||s===qt){if(t.has(i)){return n(t.get(i).texture,i.mapping)}{const s=i.image;if(s&&s.height>0){const a=new Go(s.height);return a.fromEquirectangularTexture(e,i),t.set(i,a),i.addEventListener("dispose",r),n(a.texture,i.mapping)}return null}}}return i},dispose:function(){t=new WeakMap}}}class dl extends Do{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=i,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,i,s){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-e,s=n+e,a=r+t,o=r-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,s=i+e*this.view.width,a-=t*this.view.offsetY,o=a-t*this.view.height}this.projectionMatrix.makeOrthographic(i,s,a,o,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const fl=[.125,.215,.35,.446,.526,.582],pl=20,ml=new dl,gl=new Ua;let vl=null,xl=0,bl=0,yl=!1;const wl=(1+Math.sqrt(5))/2,_l=1/wl,Al=[new vs(-wl,_l,0),new vs(wl,_l,0),new vs(-_l,0,wl),new vs(_l,0,wl),new vs(0,wl,-_l),new vs(0,wl,_l),new vs(-1,1,-1),new vs(1,1,-1),new vs(-1,1,1),new vs(1,1,1)];class Sl{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;vl=this._renderer.getRenderTarget(),xl=this._renderer.getActiveCubeFace(),bl=this._renderer.getActiveMipmapLevel(),yl=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}fromCubemap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Cl(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Ml(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(vl,xl,bl),this._renderer.xr.enabled=yl,e.scissorTest=!1,Tl(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Yt||e.mapping===Jt?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),vl=this._renderer.getRenderTarget(),xl=this._renderer.getActiveCubeFace(),bl=this._renderer.getActiveMipmapLevel(),yl=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:on,minFilter:on,generateMipmaps:!1,type:bn,format:Tn,colorSpace:Or,depthBuffer:!1},r=El(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=El(e,t,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(e){const t=[],n=[],r=[];let i=e;const s=e-4+1+fl.length;for(let a=0;a<s;a++){const s=Math.pow(2,i);n.push(s);let o=1/s;a>e-4?o=fl[a-e+4-1]:0===a&&(o=0),r.push(o);const l=1/(s-2),c=-l,u=1+l,h=[c,c,u,c,u,u,c,c,u,u,c,u],d=6,f=6,p=3,m=2,g=1,v=new Float32Array(p*f*d),x=new Float32Array(m*f*d),b=new Float32Array(g*f*d);for(let e=0;e<d;e++){const t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];v.set(r,p*f*e),x.set(h,m*f*e);const i=[e,e,e,e,e,e];b.set(i,g*f*e)}const y=new mo;y.setAttribute("position",new Qa(v,p)),y.setAttribute("uv",new Qa(x,m)),y.setAttribute("faceIndex",new Qa(b,g)),t.push(y),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(r)),this._blurMaterial=function(e,t,n){const r=new Float32Array(pl),i=new vs(0,1,0),s=new Lo({name:"SphericalGaussianBlur",defines:{n:pl,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Rl(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:$e,depthTest:!1,depthWrite:!1});return s}(r,e,t)}return r}_compileMaterial(e){const t=new Mo(this._lodPlanes[0],e);this._renderer.compile(t,ml)}_sceneToCubeUV(e,t,n,r){const i=new Uo(90,1,t,n),s=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],o=this._renderer,l=o.autoClear,c=o.toneMapping;o.getClearColor(gl),o.toneMapping=Bt,o.autoClear=!1;const u=new Ga({name:"PMREM.Background",side:Qe,depthWrite:!1,depthTest:!1}),h=new Mo(new Ro,u);let d=!1;const f=e.background;f?f.isColor&&(u.color.copy(f),e.background=null,d=!0):(u.color.copy(gl),d=!0);for(let p=0;p<6;p++){const t=p%3;0===t?(i.up.set(0,s[p],0),i.lookAt(a[p],0,0)):1===t?(i.up.set(0,0,s[p]),i.lookAt(0,a[p],0)):(i.up.set(0,s[p],0),i.lookAt(0,0,a[p]));const n=this._cubeSize;Tl(r,t*n,p>2?n:0,n,n),o.setRenderTarget(r),d&&o.render(h,i),o.render(e,i)}h.geometry.dispose(),h.material.dispose(),o.toneMapping=c,o.autoClear=l,e.background=f}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===Yt||e.mapping===Jt;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Cl()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Ml());const i=r?this._cubemapMaterial:this._equirectMaterial,s=new Mo(this._lodPlanes[0],i);i.uniforms.envMap.value=e;const a=this._cubeSize;Tl(t,0,0,3*a,2*a),n.setRenderTarget(t),n.render(s,ml)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let i=1;i<r;i++){const t=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),n=Al[(r-i-1)%Al.length];this._blur(e,i-1,i,t,n)}t.autoClear=n}_blur(e,t,n,r,i){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,n,r,"latitudinal",i),this._halfBlur(s,e,n,n,r,"longitudinal",i)}_halfBlur(e,t,n,r,i,s,a){const o=this._renderer,l=this._blurMaterial;"latitudinal"!==s&&"longitudinal"!==s&&console.error("blur direction must be either latitudinal or longitudinal!");const c=new Mo(this._lodPlanes[r],l),u=l.uniforms,h=this._sizeLods[n]-1,d=isFinite(i)?Math.PI/(2*h):2*Math.PI/39,f=i/d,p=isFinite(i)?1+Math.floor(3*f):pl;p>pl&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${p} samples when the maximum is set to 20`);const m=[];let g=0;for(let b=0;b<pl;++b){const e=b/f,t=Math.exp(-e*e/2);m.push(t),0===b?g+=t:b<p&&(g+=2*t)}for(let b=0;b<m.length;b++)m[b]=m[b]/g;u.envMap.value=e.texture,u.samples.value=p,u.weights.value=m,u.latitudinal.value="latitudinal"===s,a&&(u.poleAxis.value=a);const{_lodMax:v}=this;u.dTheta.value=d,u.mipInt.value=v-n;const x=this._sizeLods[r];Tl(t,3*x*(r>v-4?r-v+4:0),4*(this._cubeSize-x),3*x,2*x),o.setRenderTarget(t),o.render(c,ml)}}function El(e,t,n){const r=new hs(e,t,n);return r.texture.mapping=Qt,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Tl(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Ml(){return new Lo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Rl(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:$e,depthTest:!1,depthWrite:!1})}function Cl(){return new Lo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Rl(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:$e,depthTest:!1,depthWrite:!1})}function Rl(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function kl(e){let t=new WeakMap,n=null;function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const s=i.mapping,a=s===Kt||s===qt,o=s===Yt||s===Jt;if(a||o){let s=t.get(i);const l=void 0!==s?s.texture.pmremVersion:0;if(i.isRenderTargetTexture&&i.pmremVersion!==l)return null===n&&(n=new Sl(e)),s=a?n.fromEquirectangular(i,s):n.fromCubemap(i,s),s.texture.pmremVersion=i.pmremVersion,t.set(i,s),s.texture;if(void 0!==s)return s.texture;{const l=i.image;return a&&l&&l.height>0||o&&l&&function(e){let t=0;const n=6;for(let r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(l)?(null===n&&(n=new Sl(e)),s=a?n.fromEquirectangular(i):n.fromCubemap(i),s.texture.pmremVersion=i.pmremVersion,t.set(i,s),i.addEventListener("dispose",r),s.texture):null}}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function Nl(e){const t={};function n(n){if(void 0!==t[n])return t[n];let r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(e){const t=n(e);return null===t&&Ji("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Pl(e,t,n,r){const i={},s=new WeakMap;function a(e){const o=e.target;null!==o.index&&t.remove(o.index);for(const n in o.attributes)t.remove(o.attributes[n]);for(const n in o.morphAttributes){const e=o.morphAttributes[n];for(let n=0,r=e.length;n<r;n++)t.remove(e[n])}o.removeEventListener("dispose",a),delete i[o.id];const l=s.get(o);l&&(t.remove(l),s.delete(o)),r.releaseStatesOfGeometry(o),!0===o.isInstancedBufferGeometry&&delete o._maxInstanceCount,n.memory.geometries--}function o(e){const n=[],r=e.index,i=e.attributes.position;let a=0;if(null!==r){const e=r.array;a=r.version;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],i=e[t+1],s=e[t+2];n.push(r,i,i,s,s,r)}}else{if(void 0===i)return;{const e=i.array;a=i.version;for(let t=0,r=e.length/3-1;t<r;t+=3){const e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}}const o=new(Hi(n)?io:no)(n,1);o.version=a;const l=s.get(e);l&&t.remove(l),s.set(e,o)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",a),i[t.id]=!0,n.memory.geometries++),t},update:function(n){const r=n.attributes;for(const s in r)t.update(r[s],e.ARRAY_BUFFER);const i=n.morphAttributes;for(const s in i){const n=i[s];for(let r=0,i=n.length;r<i;r++)t.update(n[r],e.ARRAY_BUFFER)}},getWireframeAttribute:function(e){const t=s.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&o(e)}else o(e);return s.get(e)}}}function Il(e,t,n){let r,i,s;function a(t,a,o){0!==o&&(e.drawElementsInstanced(r,a,i,t*s,o),n.update(a,r,o))}this.setMode=function(e){r=e},this.setIndex=function(e){i=e.type,s=e.bytesPerElement},this.render=function(t,a){e.drawElements(r,a,i,t*s),n.update(a,r,1)},this.renderInstances=a,this.renderMultiDraw=function(e,s,a){if(0===a)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,s,0,i,e,0,a);let o=0;for(let t=0;t<a;t++)o+=s[t];n.update(o,r,1)},this.renderMultiDrawInstances=function(e,o,l,c){if(0===l)return;const u=t.get("WEBGL_multi_draw");if(null===u)for(let t=0;t<e.length;t++)a(e[t]/s,o[t],c[t]);else{u.multiDrawElementsInstancedWEBGL(r,o,0,i,e,0,c,0,l);let t=0;for(let e=0;e<l;e++)t+=o[e];for(let e=0;e<c.length;e++)n.update(t,r,c[e])}}}function Ll(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function Dl(e,t,n){const r=new WeakMap,i=new cs;return{update:function(s,a,o){const l=s.morphTargetInfluences,c=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,u=void 0!==c?c.length:0;let h=r.get(a);if(void 0===h||h.count!==u){void 0!==h&&h.texture.dispose();const d=void 0!==a.morphAttributes.position,f=void 0!==a.morphAttributes.normal,p=void 0!==a.morphAttributes.color,m=a.morphAttributes.position||[],g=a.morphAttributes.normal||[],v=a.morphAttributes.color||[];let x=0;!0===d&&(x=1),!0===f&&(x=2),!0===p&&(x=3);let b=a.attributes.position.count*x,y=1;b>t.maxTextureSize&&(y=Math.ceil(b/t.maxTextureSize),b=t.maxTextureSize);const w=new Float32Array(b*y*4*u),_=new ds(w,b,y,u);_.type=xn,_.needsUpdate=!0;const A=4*x;for(let E=0;E<u;E++){const T=m[E],M=g[E],C=v[E],R=b*y*4*E;for(let k=0;k<T.count;k++){const N=k*A;!0===d&&(i.fromBufferAttribute(T,k),w[R+N+0]=i.x,w[R+N+1]=i.y,w[R+N+2]=i.z,w[R+N+3]=0),!0===f&&(i.fromBufferAttribute(M,k),w[R+N+4]=i.x,w[R+N+5]=i.y,w[R+N+6]=i.z,w[R+N+7]=0),!0===p&&(i.fromBufferAttribute(C,k),w[R+N+8]=i.x,w[R+N+9]=i.y,w[R+N+10]=i.z,w[R+N+11]=4===C.itemSize?i.w:1)}}function S(){_.dispose(),r.delete(a),a.removeEventListener("dispose",S)}h={count:u,texture:_,size:new Ui(b,y)},r.set(a,h),a.addEventListener("dispose",S)}if(!0===s.isInstancedMesh&&null!==s.morphTexture)o.getUniforms().setValue(e,"morphTexture",s.morphTexture,n);else{let P=0;for(let L=0;L<l.length;L++)P+=l[L];const I=a.morphTargetsRelative?1:1-P;o.getUniforms().setValue(e,"morphTargetBaseInfluence",I),o.getUniforms().setValue(e,"morphTargetInfluences",l)}o.getUniforms().setValue(e,"morphTargetsTexture",h.texture,n),o.getUniforms().setValue(e,"morphTargetsTextureSize",h.size)}}}function Bl(e,t,n,r){let i=new WeakMap;function s(e){const t=e.target;t.removeEventListener("dispose",s),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(a){const o=r.render.frame,l=a.geometry,c=t.get(a,l);if(i.get(c)!==o&&(t.update(c),i.set(c,o)),a.isInstancedMesh&&(!1===a.hasEventListener("dispose",s)&&a.addEventListener("dispose",s),i.get(a)!==o&&(n.update(a.instanceMatrix,e.ARRAY_BUFFER),null!==a.instanceColor&&n.update(a.instanceColor,e.ARRAY_BUFFER),i.set(a,o))),a.isSkinnedMesh){const e=a.skeleton;i.get(e)!==o&&(e.update(),i.set(e,o))}return c},dispose:function(){i=new WeakMap}}}class Ol extends ls{constructor(e,t,n,r,i,s,a,o,l){let c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Rn;if(c!==Rn&&c!==kn)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===Rn&&(n=vn),void 0===n&&c===kn&&(n=_n),super(null,r,i,s,a,o,c,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:tn,this.minFilter=void 0!==o?o:tn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}const Fl=new ls,Ul=new Ol(1,1),jl=new ds,zl=new ps,Hl=new Ho,Gl=[],Vl=[],Wl=new Float32Array(16),Xl=new Float32Array(9),Yl=new Float32Array(4);function Jl(e,t,n){const r=e[0];if(r<=0||r>0)return e;const i=t*n;let s=Gl[i];if(void 0===s&&(s=new Float32Array(i),Gl[i]=s),0!==t){r.toArray(s,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(s,i)}return s}function Kl(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function ql(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function Ql(e,t){let n=Vl[t];void 0===n&&(n=new Int32Array(t),Vl[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Zl(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function $l(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Kl(n,t))return;e.uniform2fv(this.addr,t),ql(n,t)}}function ec(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Kl(n,t))return;e.uniform3fv(this.addr,t),ql(n,t)}}function tc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Kl(n,t))return;e.uniform4fv(this.addr,t),ql(n,t)}}function nc(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(Kl(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),ql(n,t)}else{if(Kl(n,r))return;Yl.set(r),e.uniformMatrix2fv(this.addr,!1,Yl),ql(n,r)}}function rc(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(Kl(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),ql(n,t)}else{if(Kl(n,r))return;Xl.set(r),e.uniformMatrix3fv(this.addr,!1,Xl),ql(n,r)}}function ic(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(Kl(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),ql(n,t)}else{if(Kl(n,r))return;Wl.set(r),e.uniformMatrix4fv(this.addr,!1,Wl),ql(n,r)}}function sc(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function ac(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Kl(n,t))return;e.uniform2iv(this.addr,t),ql(n,t)}}function oc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Kl(n,t))return;e.uniform3iv(this.addr,t),ql(n,t)}}function lc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Kl(n,t))return;e.uniform4iv(this.addr,t),ql(n,t)}}function cc(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function uc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Kl(n,t))return;e.uniform2uiv(this.addr,t),ql(n,t)}}function hc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Kl(n,t))return;e.uniform3uiv(this.addr,t),ql(n,t)}}function dc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Kl(n,t))return;e.uniform4uiv(this.addr,t),ql(n,t)}}function fc(e,t,n){const r=this.cache,i=n.allocateTextureUnit();let s;r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),this.type===e.SAMPLER_2D_SHADOW?(Ul.compareFunction=ci,s=Ul):s=Fl,n.setTexture2D(t||s,i)}function pc(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||zl,i)}function mc(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||Hl,i)}function gc(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||jl,i)}function vc(e,t){e.uniform1fv(this.addr,t)}function xc(e,t){const n=Jl(t,this.size,2);e.uniform2fv(this.addr,n)}function bc(e,t){const n=Jl(t,this.size,3);e.uniform3fv(this.addr,n)}function yc(e,t){const n=Jl(t,this.size,4);e.uniform4fv(this.addr,n)}function wc(e,t){const n=Jl(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function _c(e,t){const n=Jl(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Ac(e,t){const n=Jl(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Sc(e,t){e.uniform1iv(this.addr,t)}function Ec(e,t){e.uniform2iv(this.addr,t)}function Tc(e,t){e.uniform3iv(this.addr,t)}function Mc(e,t){e.uniform4iv(this.addr,t)}function Cc(e,t){e.uniform1uiv(this.addr,t)}function Rc(e,t){e.uniform2uiv(this.addr,t)}function kc(e,t){e.uniform3uiv(this.addr,t)}function Nc(e,t){e.uniform4uiv(this.addr,t)}function Pc(e,t,n){const r=this.cache,i=t.length,s=Ql(n,i);Kl(r,s)||(e.uniform1iv(this.addr,s),ql(r,s));for(let a=0;a!==i;++a)n.setTexture2D(t[a]||Fl,s[a])}function Ic(e,t,n){const r=this.cache,i=t.length,s=Ql(n,i);Kl(r,s)||(e.uniform1iv(this.addr,s),ql(r,s));for(let a=0;a!==i;++a)n.setTexture3D(t[a]||zl,s[a])}function Lc(e,t,n){const r=this.cache,i=t.length,s=Ql(n,i);Kl(r,s)||(e.uniform1iv(this.addr,s),ql(r,s));for(let a=0;a!==i;++a)n.setTextureCube(t[a]||Hl,s[a])}function Dc(e,t,n){const r=this.cache,i=t.length,s=Ql(n,i);Kl(r,s)||(e.uniform1iv(this.addr,s),ql(r,s));for(let a=0;a!==i;++a)n.setTexture2DArray(t[a]||jl,s[a])}class Bc{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=function(e){switch(e){case 5126:return Zl;case 35664:return $l;case 35665:return ec;case 35666:return tc;case 35674:return nc;case 35675:return rc;case 35676:return ic;case 5124:case 35670:return sc;case 35667:case 35671:return ac;case 35668:case 35672:return oc;case 35669:case 35673:return lc;case 5125:return cc;case 36294:return uc;case 36295:return hc;case 36296:return dc;case 35678:case 36198:case 36298:case 36306:case 35682:return fc;case 35679:case 36299:case 36307:return pc;case 35680:case 36300:case 36308:case 36293:return mc;case 36289:case 36303:case 36311:case 36292:return gc}}(t.type)}}class Oc{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function(e){switch(e){case 5126:return vc;case 35664:return xc;case 35665:return bc;case 35666:return yc;case 35674:return wc;case 35675:return _c;case 35676:return Ac;case 5124:case 35670:return Sc;case 35667:case 35671:return Ec;case 35668:case 35672:return Tc;case 35669:case 35673:return Mc;case 5125:return Cc;case 36294:return Rc;case 36295:return kc;case 36296:return Nc;case 35678:case 36198:case 36298:case 36306:case 35682:return Pc;case 35679:case 36299:case 36307:return Ic;case 35680:case 36300:case 36308:case 36293:return Lc;case 36289:case 36303:case 36311:case 36292:return Dc}}(t.type)}}class Fc{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let i=0,s=r.length;i!==s;++i){const s=r[i];s.setValue(e,t[s.id],n)}}}const Uc=/(\w+)(\])?(\[|\.)?/g;function jc(e,t){e.seq.push(t),e.map[t.id]=t}function zc(e,t,n){const r=e.name,i=r.length;for(Uc.lastIndex=0;;){const s=Uc.exec(r),a=Uc.lastIndex;let o=s[1];const l="]"===s[2],c=s[3];if(l&&(o|=0),void 0===c||"["===c&&a+2===i){jc(n,void 0===c?new Bc(o,e,t):new Oc(o,e,t));break}{let e=n.map[o];void 0===e&&(e=new Fc(o),jc(n,e)),n=e}}}class Hc{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const n=e.getActiveUniform(t,r);zc(n,e.getUniformLocation(t,n.name),this)}}setValue(e,t,n,r){const i=this.map[t];void 0!==i&&i.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let i=0,s=t.length;i!==s;++i){const s=t[i],a=n[s.id];!1!==a.needsUpdate&&s.setValue(e,a.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,i=e.length;r!==i;++r){const i=e[r];i.id in t&&n.push(i)}return n}}function Gc(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}let Vc=0;function Wc(e,t,n){const r=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const r=parseInt(s[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){const n=e.split("\n"),r=[],i=Math.max(t-6,0),s=Math.min(t+6,n.length);for(let a=i;a<s;a++){const e=a+1;r.push(`${e===t?">":" "} ${e}: ${n[a]}`)}return r.join("\n")}(e.getShaderSource(t),r)}return i}function Xc(e,t){const n=function(e){const t=$i.getPrimaries($i.workingColorSpace),n=$i.getPrimaries(e);let r;switch(t===n?r="":t===Gr&&n===Hr?r="LinearDisplayP3ToLinearSRGB":t===Hr&&n===Gr&&(r="LinearSRGBToLinearDisplayP3"),e){case Or:case Ur:return[r,"LinearTransferOETF"];case Br:case Fr:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",e),[r,"LinearTransferOETF"]}}(t);return`vec4 ${e}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function Yc(e,t){let n;switch(t){case Ot:n="Linear";break;case Ft:n="Reinhard";break;case Ut:n="Cineon";break;case jt:n="ACESFilmic";break;case Ht:n="AgX";break;case Gt:n="Neutral";break;case zt:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const Jc=new vs;function Kc(){$i.getLuminanceCoefficients(Jc);return["float luminance( const in vec3 rgb ) {",`\tconst vec3 weights = vec3( ${Jc.x.toFixed(4)}, ${Jc.y.toFixed(4)}, ${Jc.z.toFixed(4)} );`,"\treturn dot( weights, rgb );","}"].join("\n")}function qc(e){return""!==e}function Qc(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Zc(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const $c=/^[ \t]*#include +<([\w\d./]+)>/gm;function eu(e){return e.replace($c,nu)}const tu=new Map;function nu(e,t){let n=el[t];if(void 0===n){const e=tu.get(t);if(void 0===e)throw new Error("Can not resolve #include <"+t+">");n=el[e],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,e)}return eu(n)}const ru=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function iu(e){return e.replace(ru,su)}function su(e,t,n,r){let i="";for(let s=parseInt(t);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function au(e){let t=`precision ${e.precision} float;\n\tprecision ${e.precision} int;\n\tprecision ${e.precision} sampler2D;\n\tprecision ${e.precision} samplerCube;\n\tprecision ${e.precision} sampler3D;\n\tprecision ${e.precision} sampler2DArray;\n\tprecision ${e.precision} sampler2DShadow;\n\tprecision ${e.precision} samplerCubeShadow;\n\tprecision ${e.precision} sampler2DArrayShadow;\n\tprecision ${e.precision} isampler2D;\n\tprecision ${e.precision} isampler3D;\n\tprecision ${e.precision} isamplerCube;\n\tprecision ${e.precision} isampler2DArray;\n\tprecision ${e.precision} usampler2D;\n\tprecision ${e.precision} usampler3D;\n\tprecision ${e.precision} usamplerCube;\n\tprecision ${e.precision} usampler2DArray;\n\t`;return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function ou(e,t,n,r){const i=e.getContext(),s=n.defines;let a=n.vertexShader,o=n.fragmentShader;const l=function(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===Ye?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===Je?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===Ke&&(t="SHADOWMAP_TYPE_VSM"),t}(n),c=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Yt:case Jt:t="ENVMAP_TYPE_CUBE";break;case Qt:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),u=function(e){let t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===Jt&&(t="ENVMAP_MODE_REFRACTION");return t}(n),h=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case It:t="ENVMAP_BLENDING_MULTIPLY";break;case Lt:t="ENVMAP_BLENDING_MIX";break;case Dt:t="ENVMAP_BLENDING_ADD"}return t}(n),d=function(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),f=function(e){return[e.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",e.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(qc).join("\n")}(n),p=function(e){const t=[];for(const n in e){const r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),m=i.createProgram();let g,v,x=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(qc).join("\n"),g.length>0&&(g+="\n"),v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(qc).join("\n"),v.length>0&&(v+="\n")):(g=[au(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(qc).join("\n"),v=[au(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Bt?"#define TONE_MAPPING":"",n.toneMapping!==Bt?el.tonemapping_pars_fragment:"",n.toneMapping!==Bt?Yc("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",el.colorspace_pars_fragment,Xc("linearToOutputTexel",n.outputColorSpace),Kc(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(qc).join("\n")),a=eu(a),a=Qc(a,n),a=Zc(a,n),o=eu(o),o=Qc(o,n),o=Zc(o,n),a=iu(a),o=iu(o),!0!==n.isRawShaderMaterial&&(x="#version 300 es\n",g=[f,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,v=["#define varying in",n.glslVersion===Si?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Si?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const b=x+g+a,y=x+v+o,w=Gc(i,i.VERTEX_SHADER,b),_=Gc(i,i.FRAGMENT_SHADER,y);function A(t){if(e.debug.checkShaderErrors){const n=i.getProgramInfoLog(m).trim(),r=i.getShaderInfoLog(w).trim(),s=i.getShaderInfoLog(_).trim();let a=!0,o=!0;if(!1===i.getProgramParameter(m,i.LINK_STATUS))if(a=!1,"function"===typeof e.debug.onShaderError)e.debug.onShaderError(i,m,w,_);else{const e=Wc(i,w,"vertex"),r=Wc(i,_,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(m,i.VALIDATE_STATUS)+"\n\nMaterial Name: "+t.name+"\nMaterial Type: "+t.type+"\n\nProgram Info Log: "+n+"\n"+e+"\n"+r)}else""!==n?console.warn("THREE.WebGLProgram: Program Info Log:",n):""!==r&&""!==s||(o=!1);o&&(t.diagnostics={runnable:a,programLog:n,vertexShader:{log:r,prefix:g},fragmentShader:{log:s,prefix:v}})}i.deleteShader(w),i.deleteShader(_),S=new Hc(i,m),E=function(e,t){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const r=e.getActiveAttrib(t,i),s=r.name;let a=1;r.type===e.FLOAT_MAT2&&(a=2),r.type===e.FLOAT_MAT3&&(a=3),r.type===e.FLOAT_MAT4&&(a=4),n[s]={type:r.type,location:e.getAttribLocation(t,s),locationSize:a}}return n}(i,m)}let S,E;i.attachShader(m,w),i.attachShader(m,_),void 0!==n.index0AttributeName?i.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m),this.getUniforms=function(){return void 0===S&&A(this),S},this.getAttributes=function(){return void 0===E&&A(this),E};let T=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===T&&(T=i.getProgramParameter(m,37297)),T},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Vc++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=w,this.fragmentShader=_,this}let lu=0;class cu{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),s=this._getShaderCacheForMaterial(e);return!1===s.has(r)&&(s.add(r),r.usedTimes++),!1===s.has(i)&&(s.add(i),i.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new uu(e),t.set(e,n)),n}}class uu{constructor(e){this.id=lu++,this.code=e,this.usedTimes=0}}function hu(e,t,n,r,i,s,a){const o=new ia,l=new cu,c=new Set,u=[],h=i.logarithmicDepthBuffer,d=i.reverseDepthBuffer,f=i.vertexTextures;let p=i.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(e){return c.add(e),0===e?"uv":`uv${e}`}return{getParameters:function(s,o,u,v,x){const b=v.fog,y=x.geometry,w=s.isMeshStandardMaterial?v.environment:null,_=(s.isMeshStandardMaterial?n:t).get(s.envMap||w),A=_&&_.mapping===Qt?_.image.height:null,S=m[s.type];null!==s.precision&&(p=i.getMaxPrecision(s.precision),p!==s.precision&&console.warn("THREE.WebGLProgram.getParameters:",s.precision,"not supported, using",p,"instead."));const E=y.morphAttributes.position||y.morphAttributes.normal||y.morphAttributes.color,T=void 0!==E?E.length:0;let M,C,R,k,N=0;if(void 0!==y.morphAttributes.position&&(N=1),void 0!==y.morphAttributes.normal&&(N=2),void 0!==y.morphAttributes.color&&(N=3),S){const e=nl[S];M=e.vertexShader,C=e.fragmentShader}else M=s.vertexShader,C=s.fragmentShader,l.update(s),R=l.getVertexShaderID(s),k=l.getFragmentShaderID(s);const P=e.getRenderTarget(),I=!0===x.isInstancedMesh,L=!0===x.isBatchedMesh,D=!!s.map,B=!!s.matcap,O=!!_,F=!!s.aoMap,U=!!s.lightMap,j=!!s.bumpMap,z=!!s.normalMap,H=!!s.displacementMap,G=!!s.emissiveMap,V=!!s.metalnessMap,W=!!s.roughnessMap,X=s.anisotropy>0,Y=s.clearcoat>0,J=s.dispersion>0,K=s.iridescence>0,q=s.sheen>0,Q=s.transmission>0,Z=X&&!!s.anisotropyMap,$=Y&&!!s.clearcoatMap,ee=Y&&!!s.clearcoatNormalMap,te=Y&&!!s.clearcoatRoughnessMap,ne=K&&!!s.iridescenceMap,re=K&&!!s.iridescenceThicknessMap,ie=q&&!!s.sheenColorMap,se=q&&!!s.sheenRoughnessMap,ae=!!s.specularMap,oe=!!s.specularColorMap,le=!!s.specularIntensityMap,ce=Q&&!!s.transmissionMap,ue=Q&&!!s.thicknessMap,he=!!s.gradientMap,de=!!s.alphaMap,fe=s.alphaTest>0,pe=!!s.alphaHash,me=!!s.extensions;let ge=Bt;s.toneMapped&&(null!==P&&!0!==P.isXRRenderTarget||(ge=e.toneMapping));const ve={shaderID:S,shaderType:s.type,shaderName:s.name,vertexShader:M,fragmentShader:C,defines:s.defines,customVertexShaderID:R,customFragmentShaderID:k,isRawShaderMaterial:!0===s.isRawShaderMaterial,glslVersion:s.glslVersion,precision:p,batching:L,batchingColor:L&&null!==x._colorsTexture,instancing:I,instancingColor:I&&null!==x.instanceColor,instancingMorph:I&&null!==x.morphTexture,supportsVertexTextures:f,outputColorSpace:null===P?e.outputColorSpace:!0===P.isXRRenderTarget?P.texture.colorSpace:Or,alphaToCoverage:!!s.alphaToCoverage,map:D,matcap:B,envMap:O,envMapMode:O&&_.mapping,envMapCubeUVHeight:A,aoMap:F,lightMap:U,bumpMap:j,normalMap:z,displacementMap:f&&H,emissiveMap:G,normalMapObjectSpace:z&&s.normalMapType===Lr,normalMapTangentSpace:z&&s.normalMapType===Ir,metalnessMap:V,roughnessMap:W,anisotropy:X,anisotropyMap:Z,clearcoat:Y,clearcoatMap:$,clearcoatNormalMap:ee,clearcoatRoughnessMap:te,dispersion:J,iridescence:K,iridescenceMap:ne,iridescenceThicknessMap:re,sheen:q,sheenColorMap:ie,sheenRoughnessMap:se,specularMap:ae,specularColorMap:oe,specularIntensityMap:le,transmission:Q,transmissionMap:ce,thicknessMap:ue,gradientMap:he,opaque:!1===s.transparent&&s.blending===et&&!1===s.alphaToCoverage,alphaMap:de,alphaTest:fe,alphaHash:pe,combine:s.combine,mapUv:D&&g(s.map.channel),aoMapUv:F&&g(s.aoMap.channel),lightMapUv:U&&g(s.lightMap.channel),bumpMapUv:j&&g(s.bumpMap.channel),normalMapUv:z&&g(s.normalMap.channel),displacementMapUv:H&&g(s.displacementMap.channel),emissiveMapUv:G&&g(s.emissiveMap.channel),metalnessMapUv:V&&g(s.metalnessMap.channel),roughnessMapUv:W&&g(s.roughnessMap.channel),anisotropyMapUv:Z&&g(s.anisotropyMap.channel),clearcoatMapUv:$&&g(s.clearcoatMap.channel),clearcoatNormalMapUv:ee&&g(s.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:te&&g(s.clearcoatRoughnessMap.channel),iridescenceMapUv:ne&&g(s.iridescenceMap.channel),iridescenceThicknessMapUv:re&&g(s.iridescenceThicknessMap.channel),sheenColorMapUv:ie&&g(s.sheenColorMap.channel),sheenRoughnessMapUv:se&&g(s.sheenRoughnessMap.channel),specularMapUv:ae&&g(s.specularMap.channel),specularColorMapUv:oe&&g(s.specularColorMap.channel),specularIntensityMapUv:le&&g(s.specularIntensityMap.channel),transmissionMapUv:ce&&g(s.transmissionMap.channel),thicknessMapUv:ue&&g(s.thicknessMap.channel),alphaMapUv:de&&g(s.alphaMap.channel),vertexTangents:!!y.attributes.tangent&&(z||X),vertexColors:s.vertexColors,vertexAlphas:!0===s.vertexColors&&!!y.attributes.color&&4===y.attributes.color.itemSize,pointsUvs:!0===x.isPoints&&!!y.attributes.uv&&(D||de),fog:!!b,useFog:!0===s.fog,fogExp2:!!b&&b.isFogExp2,flatShading:!0===s.flatShading,sizeAttenuation:!0===s.sizeAttenuation,logarithmicDepthBuffer:h,reverseDepthBuffer:d,skinning:!0===x.isSkinnedMesh,morphTargets:void 0!==y.morphAttributes.position,morphNormals:void 0!==y.morphAttributes.normal,morphColors:void 0!==y.morphAttributes.color,morphTargetsCount:T,morphTextureStride:N,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numSpotLightMaps:o.spotLightMap.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numDirLightShadows:o.directionalShadowMap.length,numPointLightShadows:o.pointShadowMap.length,numSpotLightShadows:o.spotShadowMap.length,numSpotLightShadowsWithMaps:o.numSpotLightShadowsWithMaps,numLightProbes:o.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:s.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:ge,decodeVideoTexture:D&&!0===s.map.isVideoTexture&&$i.getTransfer(s.map.colorSpace)===zr,premultipliedAlpha:s.premultipliedAlpha,doubleSided:s.side===Ze,flipSided:s.side===Qe,useDepthPacking:s.depthPacking>=0,depthPacking:s.depthPacking||0,index0AttributeName:s.index0AttributeName,extensionClipCullDistance:me&&!0===s.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(me&&!0===s.extensions.multiDraw||L)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:s.customProgramCacheKey()};return ve.vertexUv1s=c.has(1),ve.vertexUv2s=c.has(2),ve.vertexUv3s=c.has(3),c.clear(),ve},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.numLightProbes),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){o.disableAll(),t.supportsVertexTextures&&o.enable(0);t.instancing&&o.enable(1);t.instancingColor&&o.enable(2);t.instancingMorph&&o.enable(3);t.matcap&&o.enable(4);t.envMap&&o.enable(5);t.normalMapObjectSpace&&o.enable(6);t.normalMapTangentSpace&&o.enable(7);t.clearcoat&&o.enable(8);t.iridescence&&o.enable(9);t.alphaTest&&o.enable(10);t.vertexColors&&o.enable(11);t.vertexAlphas&&o.enable(12);t.vertexUv1s&&o.enable(13);t.vertexUv2s&&o.enable(14);t.vertexUv3s&&o.enable(15);t.vertexTangents&&o.enable(16);t.anisotropy&&o.enable(17);t.alphaHash&&o.enable(18);t.batching&&o.enable(19);t.dispersion&&o.enable(20);t.batchingColor&&o.enable(21);e.push(o.mask),o.disableAll(),t.fog&&o.enable(0);t.useFog&&o.enable(1);t.flatShading&&o.enable(2);t.logarithmicDepthBuffer&&o.enable(3);t.reverseDepthBuffer&&o.enable(4);t.skinning&&o.enable(5);t.morphTargets&&o.enable(6);t.morphNormals&&o.enable(7);t.morphColors&&o.enable(8);t.premultipliedAlpha&&o.enable(9);t.shadowMapEnabled&&o.enable(10);t.doubleSided&&o.enable(11);t.flipSided&&o.enable(12);t.useDepthPacking&&o.enable(13);t.dithering&&o.enable(14);t.transmission&&o.enable(15);t.sheen&&o.enable(16);t.opaque&&o.enable(17);t.pointsUvs&&o.enable(18);t.decodeVideoTexture&&o.enable(19);t.alphaToCoverage&&o.enable(20);e.push(o.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=m[e.type];let n;if(t){const e=nl[t];n=Io.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let r;for(let e=0,i=u.length;e<i;e++){const t=u[e];if(t.cacheKey===n){r=t,++r.usedTimes;break}}return void 0===r&&(r=new ou(e,n,t,s),u.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){const t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:u,dispose:function(){l.dispose()}}}function du(){let e=new WeakMap;return{has:function(t){return e.has(t)},get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function fu(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function pu(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function mu(){const e=[];let t=0;const n=[],r=[],i=[];function s(n,r,i,s,a,o){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:s,renderOrder:n.renderOrder,z:a,group:o},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=s,l.renderOrder=n.renderOrder,l.z=a,l.group=o),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,a,o,l,c){const u=s(e,t,a,o,l,c);a.transmission>0?r.push(u):!0===a.transparent?i.push(u):n.push(u)},unshift:function(e,t,a,o,l,c){const u=s(e,t,a,o,l,c);a.transmission>0?r.unshift(u):!0===a.transparent?i.unshift(u):n.unshift(u)},finish:function(){for(let n=t,r=e.length;n<r;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||fu),r.length>1&&r.sort(t||pu),i.length>1&&i.sort(t||pu)}}}function gu(){let e=new WeakMap;return{get:function(t,n){const r=e.get(t);let i;return void 0===r?(i=new mu,e.set(t,[i])):n>=r.length?(i=new mu,r.push(i)):i=r[n],i},dispose:function(){e=new WeakMap}}}function vu(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new vs,color:new Ua};break;case"SpotLight":n={position:new vs,direction:new vs,color:new Ua,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new vs,color:new Ua,distance:0,decay:0};break;case"HemisphereLight":n={direction:new vs,skyColor:new Ua,groundColor:new Ua};break;case"RectAreaLight":n={color:new Ua,position:new vs,halfWidth:new vs,halfHeight:new vs}}return e[t.id]=n,n}}}let xu=0;function bu(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function yu(e){const t=new vu,n=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ui};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ui,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let o=0;o<9;o++)r.probe.push(new vs);const i=new vs,s=new Ys,a=new Ys;return{setup:function(i){let s=0,a=0,o=0;for(let e=0;e<9;e++)r.probe[e].set(0,0,0);let l=0,c=0,u=0,h=0,d=0,f=0,p=0,m=0,g=0,v=0,x=0;i.sort(bu);for(let e=0,y=i.length;e<y;e++){const b=i[e],y=b.color,w=b.intensity,_=b.distance,A=b.shadow&&b.shadow.map?b.shadow.map.texture:null;if(b.isAmbientLight)s+=y.r*w,a+=y.g*w,o+=y.b*w;else if(b.isLightProbe){for(let e=0;e<9;e++)r.probe[e].addScaledVector(b.sh.coefficients[e],w);x++}else if(b.isDirectionalLight){const e=t.get(b);if(e.color.copy(b.color).multiplyScalar(b.intensity),b.castShadow){const e=b.shadow,t=n.get(b);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,r.directionalShadow[l]=t,r.directionalShadowMap[l]=A,r.directionalShadowMatrix[l]=b.shadow.matrix,f++}r.directional[l]=e,l++}else if(b.isSpotLight){const e=t.get(b);e.position.setFromMatrixPosition(b.matrixWorld),e.color.copy(y).multiplyScalar(w),e.distance=_,e.coneCos=Math.cos(b.angle),e.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),e.decay=b.decay,r.spot[u]=e;const i=b.shadow;if(b.map&&(r.spotLightMap[g]=b.map,g++,i.updateMatrices(b),b.castShadow&&v++),r.spotLightMatrix[u]=i.matrix,b.castShadow){const e=n.get(b);e.shadowIntensity=i.intensity,e.shadowBias=i.bias,e.shadowNormalBias=i.normalBias,e.shadowRadius=i.radius,e.shadowMapSize=i.mapSize,r.spotShadow[u]=e,r.spotShadowMap[u]=A,m++}u++}else if(b.isRectAreaLight){const e=t.get(b);e.color.copy(y).multiplyScalar(w),e.halfWidth.set(.5*b.width,0,0),e.halfHeight.set(0,.5*b.height,0),r.rectArea[h]=e,h++}else if(b.isPointLight){const e=t.get(b);if(e.color.copy(b.color).multiplyScalar(b.intensity),e.distance=b.distance,e.decay=b.decay,b.castShadow){const e=b.shadow,t=n.get(b);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,t.shadowCameraNear=e.camera.near,t.shadowCameraFar=e.camera.far,r.pointShadow[c]=t,r.pointShadowMap[c]=A,r.pointShadowMatrix[c]=b.shadow.matrix,p++}r.point[c]=e,c++}else if(b.isHemisphereLight){const e=t.get(b);e.skyColor.copy(b.color).multiplyScalar(w),e.groundColor.copy(b.groundColor).multiplyScalar(w),r.hemi[d]=e,d++}}h>0&&(!0===e.has("OES_texture_float_linear")?(r.rectAreaLTC1=tl.LTC_FLOAT_1,r.rectAreaLTC2=tl.LTC_FLOAT_2):(r.rectAreaLTC1=tl.LTC_HALF_1,r.rectAreaLTC2=tl.LTC_HALF_2)),r.ambient[0]=s,r.ambient[1]=a,r.ambient[2]=o;const b=r.hash;b.directionalLength===l&&b.pointLength===c&&b.spotLength===u&&b.rectAreaLength===h&&b.hemiLength===d&&b.numDirectionalShadows===f&&b.numPointShadows===p&&b.numSpotShadows===m&&b.numSpotMaps===g&&b.numLightProbes===x||(r.directional.length=l,r.spot.length=u,r.rectArea.length=h,r.point.length=c,r.hemi.length=d,r.directionalShadow.length=f,r.directionalShadowMap.length=f,r.pointShadow.length=p,r.pointShadowMap.length=p,r.spotShadow.length=m,r.spotShadowMap.length=m,r.directionalShadowMatrix.length=f,r.pointShadowMatrix.length=p,r.spotLightMatrix.length=m+g-v,r.spotLightMap.length=g,r.numSpotLightShadowsWithMaps=v,r.numLightProbes=x,b.directionalLength=l,b.pointLength=c,b.spotLength=u,b.rectAreaLength=h,b.hemiLength=d,b.numDirectionalShadows=f,b.numPointShadows=p,b.numSpotShadows=m,b.numSpotMaps=g,b.numLightProbes=x,r.version=xu++)},setupView:function(e,t){let n=0,o=0,l=0,c=0,u=0;const h=t.matrixWorldInverse;for(let d=0,f=e.length;d<f;d++){const t=e[d];if(t.isDirectionalLight){const e=r.directional[n];e.direction.setFromMatrixPosition(t.matrixWorld),i.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(i),e.direction.transformDirection(h),n++}else if(t.isSpotLight){const e=r.spot[l];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),e.direction.setFromMatrixPosition(t.matrixWorld),i.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(i),e.direction.transformDirection(h),l++}else if(t.isRectAreaLight){const e=r.rectArea[c];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),a.identity(),s.copy(t.matrixWorld),s.premultiply(h),a.extractRotation(s),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),e.halfWidth.applyMatrix4(a),e.halfHeight.applyMatrix4(a),c++}else if(t.isPointLight){const e=r.point[o];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),o++}else if(t.isHemisphereLight){const e=r.hemi[u];e.direction.setFromMatrixPosition(t.matrixWorld),e.direction.transformDirection(h),u++}}},state:r}}function wu(e){const t=new yu(e),n=[],r=[];const i={lightsArray:n,shadowsArray:r,camera:null,lights:t,transmissionRenderTarget:{}};return{init:function(e){i.camera=e,n.length=0,r.length=0},state:i,setupLights:function(){t.setup(n)},setupLightsView:function(e){t.setupView(n,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){r.push(e)}}}function _u(e){let t=new WeakMap;return{get:function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=t.get(n);let s;return void 0===i?(s=new wu(e),t.set(n,[s])):r>=i.length?(s=new wu(e),i.push(s)):s=i[r],s},dispose:function(){t=new WeakMap}}}class Au extends Ha{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Rr,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Su extends Ha{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function Eu(e,t,n){let r=new qo;const i=new Ui,s=new Ui,a=new cs,o=new Au({depthPacking:kr}),l=new Su,c={},u=n.maxTextureSize,h={[qe]:Qe,[Qe]:qe,[Ze]:Ze},d=new Lo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ui},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=d.clone();f.defines.HORIZONTAL_PASS=1;const p=new mo;p.setAttribute("position",new Qa(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new Mo(p,d),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Ye;let v=this.type;function x(n,r){const s=t.update(m);d.defines.VSM_SAMPLES!==n.blurSamples&&(d.defines.VSM_SAMPLES=n.blurSamples,f.defines.VSM_SAMPLES=n.blurSamples,d.needsUpdate=!0,f.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new hs(i.x,i.y)),d.uniforms.shadow_pass.value=n.map.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,s,d,m,null),f.uniforms.shadow_pass.value=n.mapPass.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,s,f,m,null)}function b(t,n,r,i){let s=null;const a=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==a)s=a;else if(s=!0===r.isPointLight?l:o,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){const e=s.uuid,t=n.uuid;let r=c[e];void 0===r&&(r={},c[e]=r);let i=r[t];void 0===i&&(i=s.clone(),r[t]=i,n.addEventListener("dispose",w)),s=i}if(s.visible=n.visible,s.wireframe=n.wireframe,s.side=i===Ke?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:h[n.side],s.alphaMap=n.alphaMap,s.alphaTest=n.alphaTest,s.map=n.map,s.clipShadows=n.clipShadows,s.clippingPlanes=n.clippingPlanes,s.clipIntersection=n.clipIntersection,s.displacementMap=n.displacementMap,s.displacementScale=n.displacementScale,s.displacementBias=n.displacementBias,s.wireframeLinewidth=n.wireframeLinewidth,s.linewidth=n.linewidth,!0===r.isPointLight&&!0===s.isMeshDistanceMaterial){e.properties.get(s).light=r}return s}function y(n,i,s,a,o){if(!1===n.visible)return;if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&o===Ke)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(s.matrixWorldInverse,n.matrixWorld);const r=t.update(n),l=n.material;if(Array.isArray(l)){const t=r.groups;for(let c=0,u=t.length;c<u;c++){const u=t[c],h=l[u.materialIndex];if(h&&h.visible){const t=b(n,h,a,o);n.onBeforeShadow(e,n,i,s,r,t,u),e.renderBufferDirect(s,null,r,t,n,u),n.onAfterShadow(e,n,i,s,r,t,u)}}}else if(l.visible){const t=b(n,l,a,o);n.onBeforeShadow(e,n,i,s,r,t,null),e.renderBufferDirect(s,null,r,t,n,null),n.onAfterShadow(e,n,i,s,r,t,null)}}const l=n.children;for(let e=0,t=l.length;e<t;e++)y(l[e],i,s,a,o)}function w(e){e.target.removeEventListener("dispose",w);for(const t in c){const n=c[t],r=e.target.uuid;if(r in n){n[r].dispose(),delete n[r]}}}this.render=function(t,n,o){if(!1===g.enabled)return;if(!1===g.autoUpdate&&!1===g.needsUpdate)return;if(0===t.length)return;const l=e.getRenderTarget(),c=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),d=e.state;d.setBlending($e),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);const f=v!==Ke&&this.type===Ke,p=v===Ke&&this.type!==Ke;for(let m=0,g=t.length;m<g;m++){const l=t[m],c=l.shadow;if(void 0===c){console.warn("THREE.WebGLShadowMap:",l,"has no shadow.");continue}if(!1===c.autoUpdate&&!1===c.needsUpdate)continue;i.copy(c.mapSize);const h=c.getFrameExtents();if(i.multiply(h),s.copy(c.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/h.x),i.x=s.x*h.x,c.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/h.y),i.y=s.y*h.y,c.mapSize.y=s.y)),null===c.map||!0===f||!0===p){const e=this.type!==Ke?{minFilter:tn,magFilter:tn}:{};null!==c.map&&c.map.dispose(),c.map=new hs(i.x,i.y,e),c.map.texture.name=l.name+".shadowMap",c.camera.updateProjectionMatrix()}e.setRenderTarget(c.map),e.clear();const g=c.getViewportCount();for(let e=0;e<g;e++){const t=c.getViewport(e);a.set(s.x*t.x,s.y*t.y,s.x*t.z,s.y*t.w),d.viewport(a),c.updateMatrices(l,e),r=c.getFrustum(),y(n,o,c.camera,l,this.type)}!0!==c.isPointLightShadow&&this.type===Ke&&x(c,o),c.needsUpdate=!1}v=this.type,g.needsUpdate=!1,e.setRenderTarget(l,c,h)}}const Tu={[Et]:Tt,[Mt]:Nt,[Rt]:Pt,[Ct]:kt,[Tt]:Et,[Nt]:Mt,[Pt]:Rt,[kt]:Ct};function Mu(e){const t=new function(){let t=!1;const n=new cs;let r=null;const i=new cs(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,s,a,o){!0===o&&(t*=a,r*=a,s*=a),n.set(t,r,s,a),!1===i.equals(n)&&(e.clearColor(t,r,s,a),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},n=new function(){let t=!1,n=!1,r=null,i=null,s=null;return{setReversed:function(e){n=e},setTest:function(t){t?U(e.DEPTH_TEST):j(e.DEPTH_TEST)},setMask:function(n){r===n||t||(e.depthMask(n),r=n)},setFunc:function(t){if(n&&(t=Tu[t]),i!==t){switch(t){case Et:e.depthFunc(e.NEVER);break;case Tt:e.depthFunc(e.ALWAYS);break;case Mt:e.depthFunc(e.LESS);break;case Ct:e.depthFunc(e.LEQUAL);break;case Rt:e.depthFunc(e.EQUAL);break;case kt:e.depthFunc(e.GEQUAL);break;case Nt:e.depthFunc(e.GREATER);break;case Pt:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}i=t}},setLocked:function(e){t=e},setClear:function(t){s!==t&&(e.clearDepth(t),s=t)},reset:function(){t=!1,r=null,i=null,s=null}}},r=new function(){let t=!1,n=null,r=null,i=null,s=null,a=null,o=null,l=null,c=null;return{setTest:function(n){t||(n?U(e.STENCIL_TEST):j(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&i===n&&s===a||(e.stencilFunc(t,n,a),r=t,i=n,s=a)},setOp:function(t,n,r){a===t&&o===n&&l===r||(e.stencilOp(t,n,r),a=t,o=n,l=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,s=null,a=null,o=null,l=null,c=null}}},i=new WeakMap,s=new WeakMap;let a={},o={},l=new WeakMap,c=[],u=null,h=!1,d=null,f=null,p=null,m=null,g=null,v=null,x=null,b=new Ua(0,0,0),y=0,w=!1,_=null,A=null,S=null,E=null,T=null;const M=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let C=!1,R=0;const k=e.getParameter(e.VERSION);-1!==k.indexOf("WebGL")?(R=parseFloat(/^WebGL (\d)/.exec(k)[1]),C=R>=1):-1!==k.indexOf("OpenGL ES")&&(R=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),C=R>=2);let N=null,P={};const I=e.getParameter(e.SCISSOR_BOX),L=e.getParameter(e.VIEWPORT),D=(new cs).fromArray(I),B=(new cs).fromArray(L);function O(t,n,r,i){const s=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let o=0;o<r;o++)t===e.TEXTURE_3D||t===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,i,0,e.RGBA,e.UNSIGNED_BYTE,s):e.texImage2D(n+o,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,s);return a}const F={};function U(t){!0!==a[t]&&(e.enable(t),a[t]=!0)}function j(t){!1!==a[t]&&(e.disable(t),a[t]=!1)}F[e.TEXTURE_2D]=O(e.TEXTURE_2D,e.TEXTURE_2D,1),F[e.TEXTURE_CUBE_MAP]=O(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),F[e.TEXTURE_2D_ARRAY]=O(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),F[e.TEXTURE_3D]=O(e.TEXTURE_3D,e.TEXTURE_3D,1,1),t.setClear(0,0,0,1),n.setClear(1),r.setClear(0),U(e.DEPTH_TEST),n.setFunc(Ct),V(!1),W(Ge),U(e.CULL_FACE),G($e);const z={[st]:e.FUNC_ADD,[at]:e.FUNC_SUBTRACT,[ot]:e.FUNC_REVERSE_SUBTRACT};z[lt]=e.MIN,z[ct]=e.MAX;const H={[ut]:e.ZERO,[ht]:e.ONE,[dt]:e.SRC_COLOR,[pt]:e.SRC_ALPHA,[yt]:e.SRC_ALPHA_SATURATE,[xt]:e.DST_COLOR,[gt]:e.DST_ALPHA,[ft]:e.ONE_MINUS_SRC_COLOR,[mt]:e.ONE_MINUS_SRC_ALPHA,[bt]:e.ONE_MINUS_DST_COLOR,[vt]:e.ONE_MINUS_DST_ALPHA,[wt]:e.CONSTANT_COLOR,[_t]:e.ONE_MINUS_CONSTANT_COLOR,[At]:e.CONSTANT_ALPHA,[St]:e.ONE_MINUS_CONSTANT_ALPHA};function G(t,n,r,i,s,a,o,l,c,u){if(t!==$e){if(!1===h&&(U(e.BLEND),h=!0),t===it)s=s||n,a=a||r,o=o||i,n===f&&s===g||(e.blendEquationSeparate(z[n],z[s]),f=n,g=s),r===p&&i===m&&a===v&&o===x||(e.blendFuncSeparate(H[r],H[i],H[a],H[o]),p=r,m=i,v=a,x=o),!1!==l.equals(b)&&c===y||(e.blendColor(l.r,l.g,l.b,c),b.copy(l),y=c),d=t,w=!1;else if(t!==d||u!==w){if(f===st&&g===st||(e.blendEquation(e.FUNC_ADD),f=st,g=st),u)switch(t){case et:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case tt:e.blendFunc(e.ONE,e.ONE);break;case nt:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case rt:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case et:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case tt:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case nt:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case rt:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}p=null,m=null,v=null,x=null,b.set(0,0,0),y=0,d=t,w=u}}else!0===h&&(j(e.BLEND),h=!1)}function V(t){_!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),_=t)}function W(t){t!==He?(U(e.CULL_FACE),t!==A&&(t===Ge?e.cullFace(e.BACK):t===Ve?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):j(e.CULL_FACE),A=t}function X(t,n,r){t?(U(e.POLYGON_OFFSET_FILL),E===n&&T===r||(e.polygonOffset(n,r),E=n,T=r)):j(e.POLYGON_OFFSET_FILL)}return{buffers:{color:t,depth:n,stencil:r},enable:U,disable:j,bindFramebuffer:function(t,n){return o[t]!==n&&(e.bindFramebuffer(t,n),o[t]=n,t===e.DRAW_FRAMEBUFFER&&(o[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(o[e.DRAW_FRAMEBUFFER]=n),!0)},drawBuffers:function(t,n){let r=c,i=!1;if(t){r=l.get(n),void 0===r&&(r=[],l.set(n,r));const s=t.textures;if(r.length!==s.length||r[0]!==e.COLOR_ATTACHMENT0){for(let t=0,n=s.length;t<n;t++)r[t]=e.COLOR_ATTACHMENT0+t;r.length=s.length,i=!0}}else r[0]!==e.BACK&&(r[0]=e.BACK,i=!0);i&&e.drawBuffers(r)},useProgram:function(t){return u!==t&&(e.useProgram(t),u=t,!0)},setBlending:G,setMaterial:function(i,s){i.side===Ze?j(e.CULL_FACE):U(e.CULL_FACE);let a=i.side===Qe;s&&(a=!a),V(a),i.blending===et&&!1===i.transparent?G($e):G(i.blending,i.blendEquation,i.blendSrc,i.blendDst,i.blendEquationAlpha,i.blendSrcAlpha,i.blendDstAlpha,i.blendColor,i.blendAlpha,i.premultipliedAlpha),n.setFunc(i.depthFunc),n.setTest(i.depthTest),n.setMask(i.depthWrite),t.setMask(i.colorWrite);const o=i.stencilWrite;r.setTest(o),o&&(r.setMask(i.stencilWriteMask),r.setFunc(i.stencilFunc,i.stencilRef,i.stencilFuncMask),r.setOp(i.stencilFail,i.stencilZFail,i.stencilZPass)),X(i.polygonOffset,i.polygonOffsetFactor,i.polygonOffsetUnits),!0===i.alphaToCoverage?U(e.SAMPLE_ALPHA_TO_COVERAGE):j(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:V,setCullFace:W,setLineWidth:function(t){t!==S&&(C&&e.lineWidth(t),S=t)},setPolygonOffset:X,setScissorTest:function(t){t?U(e.SCISSOR_TEST):j(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+M-1),N!==t&&(e.activeTexture(t),N=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===N?e.TEXTURE0+M-1:N);let i=P[r];void 0===i&&(i={type:void 0,texture:void 0},P[r]=i),i.type===t&&i.texture===n||(N!==r&&(e.activeTexture(r),N=r),e.bindTexture(t,n||F[t]),i.type=t,i.texture=n)},unbindTexture:function(){const t=P[N];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(Cx){console.error("THREE.WebGLState:",Cx)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(Cx){console.error("THREE.WebGLState:",Cx)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(Cx){console.error("THREE.WebGLState:",Cx)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(Cx){console.error("THREE.WebGLState:",Cx)}},updateUBOMapping:function(t,n){let r=s.get(n);void 0===r&&(r=new WeakMap,s.set(n,r));let i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){const r=s.get(n).get(t);i.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),i.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(Cx){console.error("THREE.WebGLState:",Cx)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(Cx){console.error("THREE.WebGLState:",Cx)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(Cx){console.error("THREE.WebGLState:",Cx)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(Cx){console.error("THREE.WebGLState:",Cx)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(Cx){console.error("THREE.WebGLState:",Cx)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(Cx){console.error("THREE.WebGLState:",Cx)}},scissor:function(t){!1===D.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),D.copy(t))},viewport:function(t){!1===B.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),B.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),a={},N=null,P={},o={},l=new WeakMap,c=[],u=null,h=!1,d=null,f=null,p=null,m=null,g=null,v=null,x=null,b=new Ua(0,0,0),y=0,w=!1,_=null,A=null,S=null,E=null,T=null,D.set(0,0,e.canvas.width,e.canvas.height),B.set(0,0,e.canvas.width,e.canvas.height),t.reset(),n.reset(),r.reset()}}}function Cu(e,t,n,r){const i=function(e){switch(e){case dn:case fn:return{byteLength:1,components:1};case mn:case pn:case bn:return{byteLength:2,components:1};case yn:case wn:return{byteLength:2,components:4};case vn:case gn:case xn:return{byteLength:4,components:1};case An:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${e}.`)}(r);switch(n){case Sn:case Mn:return e*t;case Cn:return e*t*2;case Nn:case Pn:return e*t/i.components*i.byteLength;case In:case Ln:return e*t*2/i.components*i.byteLength;case En:return e*t*3/i.components*i.byteLength;case Tn:case Bn:return e*t*4/i.components*i.byteLength;case On:case Fn:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case Un:case jn:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case Hn:case Vn:return Math.max(e,16)*Math.max(t,8)/4;case zn:case Gn:return Math.max(e,8)*Math.max(t,8)/2;case Wn:case Xn:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case Yn:case Jn:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case Kn:return Math.floor((e+4)/5)*Math.floor((t+3)/4)*16;case qn:return Math.floor((e+4)/5)*Math.floor((t+4)/5)*16;case Qn:return Math.floor((e+5)/6)*Math.floor((t+4)/5)*16;case Zn:return Math.floor((e+5)/6)*Math.floor((t+5)/6)*16;case $n:return Math.floor((e+7)/8)*Math.floor((t+4)/5)*16;case er:return Math.floor((e+7)/8)*Math.floor((t+5)/6)*16;case tr:return Math.floor((e+7)/8)*Math.floor((t+7)/8)*16;case nr:return Math.floor((e+9)/10)*Math.floor((t+4)/5)*16;case rr:return Math.floor((e+9)/10)*Math.floor((t+5)/6)*16;case ir:return Math.floor((e+9)/10)*Math.floor((t+7)/8)*16;case sr:return Math.floor((e+9)/10)*Math.floor((t+9)/10)*16;case ar:return Math.floor((e+11)/12)*Math.floor((t+9)/10)*16;case or:return Math.floor((e+11)/12)*Math.floor((t+11)/12)*16;case lr:case cr:case ur:return Math.ceil(e/4)*Math.ceil(t/4)*16;case hr:case dr:return Math.ceil(e/4)*Math.ceil(t/4)*8;case fr:case pr:return Math.ceil(e/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}const Ru={contain:function(e,t){const n=e.image&&e.image.width?e.image.width/e.image.height:1;return n>t?(e.repeat.x=1,e.repeat.y=n/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2):(e.repeat.x=t/n,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0),e},cover:function(e,t){const n=e.image&&e.image.width?e.image.width/e.image.height:1;return n>t?(e.repeat.x=t/n,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0):(e.repeat.x=1,e.repeat.y=n/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2),e},fill:function(e){return e.repeat.x=1,e.repeat.y=1,e.offset.x=0,e.offset.y=0,e},getByteLength:Cu};function ku(e,t,n,r,i,s,a){const o=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,l="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),c=new Ui,u=new WeakMap;let h;const d=new WeakMap;let f=!1;try{f="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(z){}function p(e,t){return f?new OffscreenCanvas(e,t):Wi("canvas")}function m(e,t,n){let r=1;const i=j(e);if((i.width>n||i.height>n)&&(r=n/Math.max(i.width,i.height)),r<1){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!==typeof VideoFrame&&e instanceof VideoFrame){const n=Math.floor(r*i.width),s=Math.floor(r*i.height);void 0===h&&(h=p(n,s));const a=t?p(n,s):h;a.width=n,a.height=s;return a.getContext("2d").drawImage(e,0,0,n,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+i.width+"x"+i.height+") to ("+n+"x"+s+")."),a}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+i.width+"x"+i.height+")."),e}return e}function g(e){return e.generateMipmaps&&e.minFilter!==tn&&e.minFilter!==on}function v(t){e.generateMipmap(t)}function x(n,r,i,s){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let o=r;if(r===e.RED&&(i===e.FLOAT&&(o=e.R32F),i===e.HALF_FLOAT&&(o=e.R16F),i===e.UNSIGNED_BYTE&&(o=e.R8)),r===e.RED_INTEGER&&(i===e.UNSIGNED_BYTE&&(o=e.R8UI),i===e.UNSIGNED_SHORT&&(o=e.R16UI),i===e.UNSIGNED_INT&&(o=e.R32UI),i===e.BYTE&&(o=e.R8I),i===e.SHORT&&(o=e.R16I),i===e.INT&&(o=e.R32I)),r===e.RG&&(i===e.FLOAT&&(o=e.RG32F),i===e.HALF_FLOAT&&(o=e.RG16F),i===e.UNSIGNED_BYTE&&(o=e.RG8)),r===e.RG_INTEGER&&(i===e.UNSIGNED_BYTE&&(o=e.RG8UI),i===e.UNSIGNED_SHORT&&(o=e.RG16UI),i===e.UNSIGNED_INT&&(o=e.RG32UI),i===e.BYTE&&(o=e.RG8I),i===e.SHORT&&(o=e.RG16I),i===e.INT&&(o=e.RG32I)),r===e.RGB_INTEGER&&(i===e.UNSIGNED_BYTE&&(o=e.RGB8UI),i===e.UNSIGNED_SHORT&&(o=e.RGB16UI),i===e.UNSIGNED_INT&&(o=e.RGB32UI),i===e.BYTE&&(o=e.RGB8I),i===e.SHORT&&(o=e.RGB16I),i===e.INT&&(o=e.RGB32I)),r===e.RGBA_INTEGER&&(i===e.UNSIGNED_BYTE&&(o=e.RGBA8UI),i===e.UNSIGNED_SHORT&&(o=e.RGBA16UI),i===e.UNSIGNED_INT&&(o=e.RGBA32UI),i===e.BYTE&&(o=e.RGBA8I),i===e.SHORT&&(o=e.RGBA16I),i===e.INT&&(o=e.RGBA32I)),r===e.RGB&&i===e.UNSIGNED_INT_5_9_9_9_REV&&(o=e.RGB9_E5),r===e.RGBA){const t=a?jr:$i.getTransfer(s);i===e.FLOAT&&(o=e.RGBA32F),i===e.HALF_FLOAT&&(o=e.RGBA16F),i===e.UNSIGNED_BYTE&&(o=t===zr?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(o=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(o=e.RGB5_A1)}return o!==e.R16F&&o!==e.R32F&&o!==e.RG16F&&o!==e.RG32F&&o!==e.RGBA16F&&o!==e.RGBA32F||t.get("EXT_color_buffer_float"),o}function b(t,n){let r;return t?null===n||n===vn||n===_n?r=e.DEPTH24_STENCIL8:n===xn?r=e.DEPTH32F_STENCIL8:n===mn&&(r=e.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===n||n===vn||n===_n?r=e.DEPTH_COMPONENT24:n===xn?r=e.DEPTH_COMPONENT32F:n===mn&&(r=e.DEPTH_COMPONENT16),r}function y(e,t){return!0===g(e)||e.isFramebufferTexture&&e.minFilter!==tn&&e.minFilter!==on?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function w(e){const t=e.target;t.removeEventListener("dispose",w),function(e){const t=r.get(e);if(void 0===t.__webglInit)return;const n=e.source,i=d.get(n);if(i){const r=i[t.__cacheKey];r.usedTimes--,0===r.usedTimes&&A(e),0===Object.keys(i).length&&d.delete(n)}r.remove(e)}(t),t.isVideoTexture&&u.delete(t)}function _(t){const n=t.target;n.removeEventListener("dispose",_),function(t){const n=r.get(t);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(let r=0;r<6;r++){if(Array.isArray(n.__webglFramebuffer[r]))for(let t=0;t<n.__webglFramebuffer[r].length;t++)e.deleteFramebuffer(n.__webglFramebuffer[r][t]);else e.deleteFramebuffer(n.__webglFramebuffer[r]);n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[r])}else{if(Array.isArray(n.__webglFramebuffer))for(let t=0;t<n.__webglFramebuffer.length;t++)e.deleteFramebuffer(n.__webglFramebuffer[t]);else e.deleteFramebuffer(n.__webglFramebuffer);if(n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer)for(let t=0;t<n.__webglColorRenderbuffer.length;t++)n.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(n.__webglColorRenderbuffer[t]);n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer)}const i=t.textures;for(let s=0,o=i.length;s<o;s++){const t=r.get(i[s]);t.__webglTexture&&(e.deleteTexture(t.__webglTexture),a.memory.textures--),r.remove(i[s])}r.remove(t)}(n)}function A(t){const n=r.get(t);e.deleteTexture(n.__webglTexture);const i=t.source;delete d.get(i)[n.__cacheKey],a.memory.textures--}let S=0;function E(t,i){const s=r.get(t);if(t.isVideoTexture&&function(e){const t=a.render.frame;u.get(e)!==t&&(u.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&s.__version!==t.version){const e=t.image;if(null===e)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==e.complete)return void N(s,t,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(e.TEXTURE_2D,s.__webglTexture,e.TEXTURE0+i)}const T={[Zt]:e.REPEAT,[$t]:e.CLAMP_TO_EDGE,[en]:e.MIRRORED_REPEAT},M={[tn]:e.NEAREST,[nn]:e.NEAREST_MIPMAP_NEAREST,[sn]:e.NEAREST_MIPMAP_LINEAR,[on]:e.LINEAR,[ln]:e.LINEAR_MIPMAP_NEAREST,[un]:e.LINEAR_MIPMAP_LINEAR},C={[ai]:e.NEVER,[fi]:e.ALWAYS,[oi]:e.LESS,[ci]:e.LEQUAL,[li]:e.EQUAL,[di]:e.GEQUAL,[ui]:e.GREATER,[hi]:e.NOTEQUAL};function R(n,s){if(s.type!==xn||!1!==t.has("OES_texture_float_linear")||s.magFilter!==on&&s.magFilter!==ln&&s.magFilter!==sn&&s.magFilter!==un&&s.minFilter!==on&&s.minFilter!==ln&&s.minFilter!==sn&&s.minFilter!==un||console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),e.texParameteri(n,e.TEXTURE_WRAP_S,T[s.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,T[s.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,T[s.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,M[s.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,M[s.minFilter]),s.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,C[s.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){if(s.magFilter===tn)return;if(s.minFilter!==sn&&s.minFilter!==un)return;if(s.type===xn&&!1===t.has("OES_texture_float_linear"))return;if(s.anisotropy>1||r.get(s).__currentAnisotropy){const a=t.get("EXT_texture_filter_anisotropic");e.texParameterf(n,a.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(s.anisotropy,i.getMaxAnisotropy())),r.get(s).__currentAnisotropy=s.anisotropy}}}function k(t,n){let r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",w));const i=n.source;let s=d.get(i);void 0===s&&(s={},d.set(i,s));const o=function(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(o!==t.__cacheKey){void 0===s[o]&&(s[o]={texture:e.createTexture(),usedTimes:0},a.memory.textures++,r=!0),s[o].usedTimes++;const i=s[t.__cacheKey];void 0!==i&&(s[t.__cacheKey].usedTimes--,0===i.usedTimes&&A(n)),t.__cacheKey=o,t.__webglTexture=s[o].texture}return r}function N(t,a,o){let l=e.TEXTURE_2D;(a.isDataArrayTexture||a.isCompressedArrayTexture)&&(l=e.TEXTURE_2D_ARRAY),a.isData3DTexture&&(l=e.TEXTURE_3D);const c=k(t,a),u=a.source;n.bindTexture(l,t.__webglTexture,e.TEXTURE0+o);const h=r.get(u);if(u.version!==h.__version||!0===c){n.activeTexture(e.TEXTURE0+o);const t=$i.getPrimaries($i.workingColorSpace),r=a.colorSpace===Dr?null:$i.getPrimaries(a.colorSpace),d=a.colorSpace===Dr||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,a.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,a.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,d);let f=m(a.image,!1,i.maxTextureSize);f=U(a,f);const p=s.convert(a.format,a.colorSpace),w=s.convert(a.type);let _,A=x(a.internalFormat,p,w,a.colorSpace,a.isVideoTexture);R(l,a);const S=a.mipmaps,E=!0!==a.isVideoTexture,T=void 0===h.__version||!0===c,M=u.dataReady,C=y(a,f);if(a.isDepthTexture)A=b(a.format===kn,a.type),T&&(E?n.texStorage2D(e.TEXTURE_2D,1,A,f.width,f.height):n.texImage2D(e.TEXTURE_2D,0,A,f.width,f.height,0,p,w,null));else if(a.isDataTexture)if(S.length>0){E&&T&&n.texStorage2D(e.TEXTURE_2D,C,A,S[0].width,S[0].height);for(let t=0,r=S.length;t<r;t++)_=S[t],E?M&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,_.width,_.height,p,w,_.data):n.texImage2D(e.TEXTURE_2D,t,A,_.width,_.height,0,p,w,_.data);a.generateMipmaps=!1}else E?(T&&n.texStorage2D(e.TEXTURE_2D,C,A,f.width,f.height),M&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,f.width,f.height,p,w,f.data)):n.texImage2D(e.TEXTURE_2D,0,A,f.width,f.height,0,p,w,f.data);else if(a.isCompressedTexture)if(a.isCompressedArrayTexture){E&&T&&n.texStorage3D(e.TEXTURE_2D_ARRAY,C,A,S[0].width,S[0].height,f.depth);for(let t=0,r=S.length;t<r;t++)if(_=S[t],a.format!==Tn)if(null!==p)if(E){if(M)if(a.layerUpdates.size>0){const r=Cu(_.width,_.height,a.format,a.type);for(const i of a.layerUpdates){const s=_.data.subarray(i*r/_.data.BYTES_PER_ELEMENT,(i+1)*r/_.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,i,_.width,_.height,1,p,s,0,0)}a.clearLayerUpdates()}else n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,_.width,_.height,f.depth,p,_.data,0,0)}else n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,t,A,_.width,_.height,f.depth,0,_.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else E?M&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,_.width,_.height,f.depth,p,w,_.data):n.texImage3D(e.TEXTURE_2D_ARRAY,t,A,_.width,_.height,f.depth,0,p,w,_.data)}else{E&&T&&n.texStorage2D(e.TEXTURE_2D,C,A,S[0].width,S[0].height);for(let t=0,r=S.length;t<r;t++)_=S[t],a.format!==Tn?null!==p?E?M&&n.compressedTexSubImage2D(e.TEXTURE_2D,t,0,0,_.width,_.height,p,_.data):n.compressedTexImage2D(e.TEXTURE_2D,t,A,_.width,_.height,0,_.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):E?M&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,_.width,_.height,p,w,_.data):n.texImage2D(e.TEXTURE_2D,t,A,_.width,_.height,0,p,w,_.data)}else if(a.isDataArrayTexture)if(E){if(T&&n.texStorage3D(e.TEXTURE_2D_ARRAY,C,A,f.width,f.height,f.depth),M)if(a.layerUpdates.size>0){const t=Cu(f.width,f.height,a.format,a.type);for(const r of a.layerUpdates){const i=f.data.subarray(r*t/f.data.BYTES_PER_ELEMENT,(r+1)*t/f.data.BYTES_PER_ELEMENT);n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,r,f.width,f.height,1,p,w,i)}a.clearLayerUpdates()}else n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,f.width,f.height,f.depth,p,w,f.data)}else n.texImage3D(e.TEXTURE_2D_ARRAY,0,A,f.width,f.height,f.depth,0,p,w,f.data);else if(a.isData3DTexture)E?(T&&n.texStorage3D(e.TEXTURE_3D,C,A,f.width,f.height,f.depth),M&&n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,f.width,f.height,f.depth,p,w,f.data)):n.texImage3D(e.TEXTURE_3D,0,A,f.width,f.height,f.depth,0,p,w,f.data);else if(a.isFramebufferTexture){if(T)if(E)n.texStorage2D(e.TEXTURE_2D,C,A,f.width,f.height);else{let t=f.width,r=f.height;for(let i=0;i<C;i++)n.texImage2D(e.TEXTURE_2D,i,A,t,r,0,p,w,null),t>>=1,r>>=1}}else if(S.length>0){if(E&&T){const t=j(S[0]);n.texStorage2D(e.TEXTURE_2D,C,A,t.width,t.height)}for(let t=0,r=S.length;t<r;t++)_=S[t],E?M&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,p,w,_):n.texImage2D(e.TEXTURE_2D,t,A,p,w,_);a.generateMipmaps=!1}else if(E){if(T){const t=j(f);n.texStorage2D(e.TEXTURE_2D,C,A,t.width,t.height)}M&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,p,w,f)}else n.texImage2D(e.TEXTURE_2D,0,A,p,w,f);g(a)&&v(l),h.__version=u.version,a.onUpdate&&a.onUpdate(a)}t.__version=a.version}function P(t,i,a,l,c,u){const h=s.convert(a.format,a.colorSpace),d=s.convert(a.type),f=x(a.internalFormat,h,d,a.colorSpace);if(!r.get(i).__hasExternalTextures){const t=Math.max(1,i.width>>u),r=Math.max(1,i.height>>u);c===e.TEXTURE_3D||c===e.TEXTURE_2D_ARRAY?n.texImage3D(c,u,f,t,r,i.depth,0,h,d,null):n.texImage2D(c,u,f,t,r,0,h,d,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),F(i)?o.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,l,c,r.get(a).__webglTexture,0,O(i)):(c===e.TEXTURE_2D||c>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&c<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,l,c,r.get(a).__webglTexture,u),n.bindFramebuffer(e.FRAMEBUFFER,null)}function I(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer){const i=n.depthTexture,s=i&&i.isDepthTexture?i.type:null,a=b(n.stencilBuffer,s),l=n.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=O(n);F(n)?o.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,c,a,n.width,n.height):r?e.renderbufferStorageMultisample(e.RENDERBUFFER,c,a,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,a,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,l,e.RENDERBUFFER,t)}else{const t=n.textures;for(let i=0;i<t.length;i++){const a=t[i],l=s.convert(a.format,a.colorSpace),c=s.convert(a.type),u=x(a.internalFormat,l,c,a.colorSpace),h=O(n);r&&!1===F(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,h,u,n.width,n.height):F(n)?o.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,h,u,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,u,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function L(t){const i=r.get(t),s=!0===t.isWebGLCubeRenderTarget;if(i.__boundDepthTexture!==t.depthTexture){const e=t.depthTexture;if(i.__depthDisposeCallback&&i.__depthDisposeCallback(),e){const t=()=>{delete i.__boundDepthTexture,delete i.__depthDisposeCallback,e.removeEventListener("dispose",t)};e.addEventListener("dispose",t),i.__depthDisposeCallback=t}i.__boundDepthTexture=e}if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(s)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),E(i.depthTexture,0);const s=r.get(i.depthTexture).__webglTexture,a=O(i);if(i.depthTexture.format===Rn)F(i)?o.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,s,0,a):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,s,0);else{if(i.depthTexture.format!==kn)throw new Error("Unknown depthTexture format");F(i)?o.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,s,0,a):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,s,0)}}(i.__webglFramebuffer,t)}else if(s){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)if(n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[r]),void 0===i.__webglDepthbuffer[r])i.__webglDepthbuffer[r]=e.createRenderbuffer(),I(i.__webglDepthbuffer[r],t,!1);else{const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,s=i.__webglDepthbuffer[r];e.bindRenderbuffer(e.RENDERBUFFER,s),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,s)}}else if(n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),void 0===i.__webglDepthbuffer)i.__webglDepthbuffer=e.createRenderbuffer(),I(i.__webglDepthbuffer,t,!1);else{const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,r=i.__webglDepthbuffer;e.bindRenderbuffer(e.RENDERBUFFER,r),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,r)}n.bindFramebuffer(e.FRAMEBUFFER,null)}const D=[],B=[];function O(e){return Math.min(i.maxSamples,e.samples)}function F(e){const n=r.get(e);return e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function U(e,t){const n=e.colorSpace,r=e.format,i=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||n!==Or&&n!==Dr&&($i.getTransfer(n)===zr?r===Tn&&i===dn||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",n)),t}function j(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement?(c.width=e.naturalWidth||e.width,c.height=e.naturalHeight||e.height):"undefined"!==typeof VideoFrame&&e instanceof VideoFrame?(c.width=e.displayWidth,c.height=e.displayHeight):(c.width=e.width,c.height=e.height),c}this.allocateTextureUnit=function(){const e=S;return e>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+i.maxTextures),S+=1,e},this.resetTextureUnits=function(){S=0},this.setTexture2D=E,this.setTexture2DArray=function(t,i){const s=r.get(t);t.version>0&&s.__version!==t.version?N(s,t,i):n.bindTexture(e.TEXTURE_2D_ARRAY,s.__webglTexture,e.TEXTURE0+i)},this.setTexture3D=function(t,i){const s=r.get(t);t.version>0&&s.__version!==t.version?N(s,t,i):n.bindTexture(e.TEXTURE_3D,s.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,a){const o=r.get(t);t.version>0&&o.__version!==t.version?function(t,a,o){if(6!==a.image.length)return;const l=k(t,a),c=a.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+o);const u=r.get(c);if(c.version!==u.__version||!0===l){n.activeTexture(e.TEXTURE0+o);const t=$i.getPrimaries($i.workingColorSpace),r=a.colorSpace===Dr?null:$i.getPrimaries(a.colorSpace),h=a.colorSpace===Dr||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,a.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,a.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,h);const d=a.isCompressedTexture||a.image[0].isCompressedTexture,f=a.image[0]&&a.image[0].isDataTexture,p=[];for(let e=0;e<6;e++)p[e]=d||f?f?a.image[e].image:a.image[e]:m(a.image[e],!0,i.maxCubemapSize),p[e]=U(a,p[e]);const b=p[0],w=s.convert(a.format,a.colorSpace),_=s.convert(a.type),A=x(a.internalFormat,w,_,a.colorSpace),S=!0!==a.isVideoTexture,E=void 0===u.__version||!0===l,T=c.dataReady;let M,C=y(a,b);if(R(e.TEXTURE_CUBE_MAP,a),d){S&&E&&n.texStorage2D(e.TEXTURE_CUBE_MAP,C,A,b.width,b.height);for(let t=0;t<6;t++){M=p[t].mipmaps;for(let r=0;r<M.length;r++){const i=M[r];a.format!==Tn?null!==w?S?T&&n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,i.width,i.height,w,i.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,A,i.width,i.height,0,i.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):S?T&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,i.width,i.height,w,_,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,A,i.width,i.height,0,w,_,i.data)}}}else{if(M=a.mipmaps,S&&E){M.length>0&&C++;const t=j(p[0]);n.texStorage2D(e.TEXTURE_CUBE_MAP,C,A,t.width,t.height)}for(let t=0;t<6;t++)if(f){S?T&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,p[t].width,p[t].height,w,_,p[t].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,A,p[t].width,p[t].height,0,w,_,p[t].data);for(let r=0;r<M.length;r++){const i=M[r].image[t].image;S?T&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,i.width,i.height,w,_,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,A,i.width,i.height,0,w,_,i.data)}}else{S?T&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,w,_,p[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,A,w,_,p[t]);for(let r=0;r<M.length;r++){const i=M[r];S?T&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,w,_,i.image[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,A,w,_,i.image[t])}}}g(a)&&v(e.TEXTURE_CUBE_MAP),u.__version=c.version,a.onUpdate&&a.onUpdate(a)}t.__version=a.version}(o,t,a):n.bindTexture(e.TEXTURE_CUBE_MAP,o.__webglTexture,e.TEXTURE0+a)},this.rebindTextures=function(t,n,i){const s=r.get(t);void 0!==n&&P(s.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==i&&L(t)},this.setupRenderTarget=function(t){const i=t.texture,o=r.get(t),l=r.get(i);t.addEventListener("dispose",_);const c=t.textures,u=!0===t.isWebGLCubeRenderTarget,h=c.length>1;if(h||(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=i.version,a.memory.textures++),u){o.__webglFramebuffer=[];for(let t=0;t<6;t++)if(i.mipmaps&&i.mipmaps.length>0){o.__webglFramebuffer[t]=[];for(let n=0;n<i.mipmaps.length;n++)o.__webglFramebuffer[t][n]=e.createFramebuffer()}else o.__webglFramebuffer[t]=e.createFramebuffer()}else{if(i.mipmaps&&i.mipmaps.length>0){o.__webglFramebuffer=[];for(let t=0;t<i.mipmaps.length;t++)o.__webglFramebuffer[t]=e.createFramebuffer()}else o.__webglFramebuffer=e.createFramebuffer();if(h)for(let t=0,n=c.length;t<n;t++){const n=r.get(c[t]);void 0===n.__webglTexture&&(n.__webglTexture=e.createTexture(),a.memory.textures++)}if(t.samples>0&&!1===F(t)){o.__webglMultisampledFramebuffer=e.createFramebuffer(),o.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,o.__webglMultisampledFramebuffer);for(let n=0;n<c.length;n++){const r=c[n];o.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,o.__webglColorRenderbuffer[n]);const i=s.convert(r.format,r.colorSpace),a=s.convert(r.type),l=x(r.internalFormat,i,a,r.colorSpace,!0===t.isXRRenderTarget),u=O(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,u,l,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,e.RENDERBUFFER,o.__webglColorRenderbuffer[n])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(o.__webglDepthRenderbuffer=e.createRenderbuffer(),I(o.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(u){n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture),R(e.TEXTURE_CUBE_MAP,i);for(let n=0;n<6;n++)if(i.mipmaps&&i.mipmaps.length>0)for(let r=0;r<i.mipmaps.length;r++)P(o.__webglFramebuffer[n][r],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,r);else P(o.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);g(i)&&v(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(h){for(let i=0,s=c.length;i<s;i++){const s=c[i],a=r.get(s);n.bindTexture(e.TEXTURE_2D,a.__webglTexture),R(e.TEXTURE_2D,s),P(o.__webglFramebuffer,t,s,e.COLOR_ATTACHMENT0+i,e.TEXTURE_2D,0),g(s)&&v(e.TEXTURE_2D)}n.unbindTexture()}else{let r=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(r=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(r,l.__webglTexture),R(r,i),i.mipmaps&&i.mipmaps.length>0)for(let n=0;n<i.mipmaps.length;n++)P(o.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,r,n);else P(o.__webglFramebuffer,t,i,e.COLOR_ATTACHMENT0,r,0);g(i)&&v(r),n.unbindTexture()}t.depthBuffer&&L(t)},this.updateRenderTargetMipmap=function(t){const i=t.textures;for(let s=0,a=i.length;s<a;s++){const a=i[s];if(g(a)){const i=t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,s=r.get(a).__webglTexture;n.bindTexture(i,s),v(i),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(t.samples>0)if(!1===F(t)){const i=t.textures,s=t.width,a=t.height;let o=e.COLOR_BUFFER_BIT;const c=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,u=r.get(t),h=i.length>1;if(h)for(let t=0;t<i.length;t++)n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,u.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer);for(let n=0;n<i.length;n++){if(t.resolveDepthBuffer&&(t.depthBuffer&&(o|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&t.resolveStencilBuffer&&(o|=e.STENCIL_BUFFER_BIT)),h){e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,u.__webglColorRenderbuffer[n]);const t=r.get(i[n]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}e.blitFramebuffer(0,0,s,a,0,0,s,a,o,e.NEAREST),!0===l&&(D.length=0,B.length=0,D.push(e.COLOR_ATTACHMENT0+n),t.depthBuffer&&!1===t.resolveDepthBuffer&&(D.push(c),B.push(c),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,B)),e.invalidateFramebuffer(e.READ_FRAMEBUFFER,D))}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),h)for(let t=0;t<i.length;t++){n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,u.__webglColorRenderbuffer[t]);const s=r.get(i[t]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,s,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglMultisampledFramebuffer)}else if(t.depthBuffer&&!1===t.resolveDepthBuffer&&l){const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[n])}},this.setupDepthRenderbuffer=L,this.setupFrameBufferTexture=P,this.useMultisampledRTT=F}function Nu(e,t){return{convert:function(n){let r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dr;const s=$i.getTransfer(i);if(n===dn)return e.UNSIGNED_BYTE;if(n===yn)return e.UNSIGNED_SHORT_4_4_4_4;if(n===wn)return e.UNSIGNED_SHORT_5_5_5_1;if(n===An)return e.UNSIGNED_INT_5_9_9_9_REV;if(n===fn)return e.BYTE;if(n===pn)return e.SHORT;if(n===mn)return e.UNSIGNED_SHORT;if(n===gn)return e.INT;if(n===vn)return e.UNSIGNED_INT;if(n===xn)return e.FLOAT;if(n===bn)return e.HALF_FLOAT;if(n===Sn)return e.ALPHA;if(n===En)return e.RGB;if(n===Tn)return e.RGBA;if(n===Mn)return e.LUMINANCE;if(n===Cn)return e.LUMINANCE_ALPHA;if(n===Rn)return e.DEPTH_COMPONENT;if(n===kn)return e.DEPTH_STENCIL;if(n===Nn)return e.RED;if(n===Pn)return e.RED_INTEGER;if(n===In)return e.RG;if(n===Ln)return e.RG_INTEGER;if(n===Bn)return e.RGBA_INTEGER;if(n===On||n===Fn||n===Un||n===jn)if(s===zr){if(r=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===r)return null;if(n===On)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Fn)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Un)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===jn)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(r=t.get("WEBGL_compressed_texture_s3tc"),null===r)return null;if(n===On)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Fn)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Un)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===jn)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===zn||n===Hn||n===Gn||n===Vn){if(r=t.get("WEBGL_compressed_texture_pvrtc"),null===r)return null;if(n===zn)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Hn)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Gn)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Vn)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===Wn||n===Xn||n===Yn){if(r=t.get("WEBGL_compressed_texture_etc"),null===r)return null;if(n===Wn||n===Xn)return s===zr?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(n===Yn)return s===zr?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}if(n===Jn||n===Kn||n===qn||n===Qn||n===Zn||n===$n||n===er||n===tr||n===nr||n===rr||n===ir||n===sr||n===ar||n===or){if(r=t.get("WEBGL_compressed_texture_astc"),null===r)return null;if(n===Jn)return s===zr?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===Kn)return s===zr?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===qn)return s===zr?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===Qn)return s===zr?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Zn)return s===zr?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===$n)return s===zr?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===er)return s===zr?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===tr)return s===zr?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===nr)return s===zr?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===rr)return s===zr?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===ir)return s===zr?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===sr)return s===zr?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===ar)return s===zr?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===or)return s===zr?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===lr||n===cr||n===ur){if(r=t.get("EXT_texture_compression_bptc"),null===r)return null;if(n===lr)return s===zr?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===cr)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===ur)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(n===hr||n===dr||n===fr||n===pr){if(r=t.get("EXT_texture_compression_rgtc"),null===r)return null;if(n===lr)return r.COMPRESSED_RED_RGTC1_EXT;if(n===dr)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===fr)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===pr)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===_n?e.UNSIGNED_INT_24_8:void 0!==e[n]?e[n]:null}}}class Pu extends Uo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.isArrayCamera=!0,this.cameras=e}}class Iu extends ya{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Lu={type:"move"};class Du{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Iu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Iu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new vs,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new vs),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Iu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new vs,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new vs),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let r=null,i=null,s=null;const a=this._targetRay,o=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){s=!0;for(const s of e.hand.values()){const e=t.getJointPose(s,n),r=this._getHandJoint(l,s);null!==e&&(r.matrix.fromArray(e.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.matrixWorldNeedsUpdate=!0,r.jointRadius=e.radius),r.visible=null!==e}const r=l.joints["index-finger-tip"],i=l.joints["thumb-tip"],a=r.position.distanceTo(i.position),o=.02,c=.005;l.inputState.pinching&&a>o+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&a<=o-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==o&&e.gripSpace&&(i=t.getPose(e.gripSpace,n),null!==i&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1));null!==a&&(r=t.getPose(e.targetRaySpace,n),null===r&&null!==i&&(r=i),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Lu)))}return null!==a&&(a.visible=null!==r),null!==o&&(o.visible=null!==i),null!==l&&(l.visible=null!==s),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new Iu;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class Bu{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,n){if(null===this.texture){const r=new ls;e.properties.get(r).__webglTexture=t.texture,t.depthNear==n.depthNear&&t.depthFar==n.depthFar||(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(null!==this.texture&&null===this.mesh){const t=e.cameras[0].viewport,n=new Lo({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Mo(new $o(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Ou extends Mi{constructor(e,t){super();const n=this;let r=null,i=1,s=null,a="local-floor",o=1,l=null,c=null,u=null,h=null,d=null,f=null;const p=new Bu,m=t.getContextAttributes();let g=null,v=null;const x=[],b=[],y=new Ui;let w=null;const _=new Uo;_.layers.enable(1),_.viewport=new cs;const A=new Uo;A.layers.enable(2),A.viewport=new cs;const S=[_,A],E=new Pu;E.layers.enable(1),E.layers.enable(2);let T=null,M=null;function C(e){const t=b.indexOf(e.inputSource);if(-1===t)return;const n=x[t];void 0!==n&&(n.update(e.inputSource,e.frame,l||s),n.dispatchEvent({type:e.type,data:e.inputSource}))}function R(){r.removeEventListener("select",C),r.removeEventListener("selectstart",C),r.removeEventListener("selectend",C),r.removeEventListener("squeeze",C),r.removeEventListener("squeezestart",C),r.removeEventListener("squeezeend",C),r.removeEventListener("end",R),r.removeEventListener("inputsourceschange",k);for(let e=0;e<x.length;e++){const t=b[e];null!==t&&(b[e]=null,x[e].disconnect(t))}T=null,M=null,p.reset(),e.setRenderTarget(g),d=null,h=null,u=null,r=null,v=null,D.stop(),n.isPresenting=!1,e.setPixelRatio(w),e.setSize(y.width,y.height,!1),n.dispatchEvent({type:"sessionend"})}function k(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],r=b.indexOf(n);r>=0&&(b[r]=null,x[r].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let r=b.indexOf(n);if(-1===r){for(let e=0;e<x.length;e++){if(e>=b.length){b.push(n),r=e;break}if(null===b[e]){b[e]=n,r=e;break}}if(-1===r)break}const i=x[r];i&&i.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=x[e];return void 0===t&&(t=new Du,x[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=x[e];return void 0===t&&(t=new Du,x[e]=t),t.getGripSpace()},this.getHand=function(e){let t=x[e];return void 0===t&&(t=new Du,x[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){a=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||s},this.setReferenceSpace=function(e){l=e},this.getBaseLayer=function(){return null!==h?h:d},this.getBinding=function(){return u},this.getFrame=function(){return f},this.getSession=function(){return r},this.setSession=async function(c){if(r=c,null!==r){if(g=e.getRenderTarget(),r.addEventListener("select",C),r.addEventListener("selectstart",C),r.addEventListener("selectend",C),r.addEventListener("squeeze",C),r.addEventListener("squeezestart",C),r.addEventListener("squeezeend",C),r.addEventListener("end",R),r.addEventListener("inputsourceschange",k),!0!==m.xrCompatible&&await t.makeXRCompatible(),w=e.getPixelRatio(),e.getSize(y),void 0===r.renderState.layers){const n={antialias:m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:i};d=new XRWebGLLayer(r,t,n),r.updateRenderState({baseLayer:d}),e.setPixelRatio(1),e.setSize(d.framebufferWidth,d.framebufferHeight,!1),v=new hs(d.framebufferWidth,d.framebufferHeight,{format:Tn,type:dn,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil})}else{let n=null,s=null,a=null;m.depth&&(a=m.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,n=m.stencil?kn:Rn,s=m.stencil?_n:vn);const o={colorFormat:t.RGBA8,depthFormat:a,scaleFactor:i};u=new XRWebGLBinding(r,t),h=u.createProjectionLayer(o),r.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),v=new hs(h.textureWidth,h.textureHeight,{format:Tn,type:dn,depthTexture:new Ol(h.textureWidth,h.textureHeight,s,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0,resolveDepthBuffer:!1===h.ignoreDepthValues})}v.isXRRenderTarget=!0,this.setFoveation(o),l=null,s=await r.requestReferenceSpace(a),D.setContext(r),D.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode},this.getDepthTexture=function(){return p.getDepthTexture()};const N=new vs,P=new vs;function I(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===r)return;let t=e.near,n=e.far;null!==p.texture&&(p.depthNear>0&&(t=p.depthNear),p.depthFar>0&&(n=p.depthFar)),E.near=A.near=_.near=t,E.far=A.far=_.far=n,T===E.near&&M===E.far||(r.updateRenderState({depthNear:E.near,depthFar:E.far}),T=E.near,M=E.far);const i=e.parent,s=E.cameras;I(E,i);for(let r=0;r<s.length;r++)I(s[r],i);2===s.length?function(e,t,n){N.setFromMatrixPosition(t.matrixWorld),P.setFromMatrixPosition(n.matrixWorld);const r=N.distanceTo(P),i=t.projectionMatrix.elements,s=n.projectionMatrix.elements,a=i[14]/(i[10]-1),o=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],h=(s[8]+1)/s[0],d=a*u,f=a*h,p=r/(-u+h),m=p*-u;if(t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert(),-1===i[10])e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse);else{const t=a+p,n=o+p,i=d-m,s=f+(r-m),u=l*o/n*t,h=c*o/n*t;e.projectionMatrix.makePerspective(i,s,u,h,t,n),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}}(E,_,A):E.projectionMatrix.copy(_.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*Ni*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,E,i)},this.getCamera=function(){return E},this.getFoveation=function(){if(null!==h||null!==d)return o},this.setFoveation=function(e){o=e,null!==h&&(h.fixedFoveation=e),null!==d&&void 0!==d.fixedFoveation&&(d.fixedFoveation=e)},this.hasDepthSensing=function(){return null!==p.texture},this.getDepthSensingMesh=function(){return p.getMesh(E)};let L=null;const D=new Qo;D.setAnimationLoop((function(t,i){if(c=i.getViewerPose(l||s),f=i,null!==c){const t=c.views;null!==d&&(e.setRenderTargetFramebuffer(v,d.framebuffer),e.setRenderTarget(v));let n=!1;t.length!==E.cameras.length&&(E.cameras.length=0,n=!0);for(let r=0;r<t.length;r++){const i=t[r];let s=null;if(null!==d)s=d.getViewport(i);else{const t=u.getViewSubImage(h,i);s=t.viewport,0===r&&(e.setRenderTargetTextures(v,t.colorTexture,h.ignoreDepthValues?void 0:t.depthStencilTexture),e.setRenderTarget(v))}let a=S[r];void 0===a&&(a=new Uo,a.layers.enable(r),a.viewport=new cs,S[r]=a),a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.quaternion,a.scale),a.projectionMatrix.fromArray(i.projectionMatrix),a.projectionMatrixInverse.copy(a.projectionMatrix).invert(),a.viewport.set(s.x,s.y,s.width,s.height),0===r&&(E.matrix.copy(a.matrix),E.matrix.decompose(E.position,E.quaternion,E.scale)),!0===n&&E.cameras.push(a)}const i=r.enabledFeatures;if(i&&i.includes("depth-sensing")){const n=u.getDepthInformation(t[0]);n&&n.isValid&&n.texture&&p.init(e,n,r.renderState)}}for(let e=0;e<x.length;e++){const t=b[e],n=x[e];null!==t&&void 0!==n&&n.update(t,i,l||s)}L&&L(t,i),i.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:i}),f=null})),this.setAnimationLoop=function(e){L=e},this.dispose=function(){}}}const Fu=new ra,Uu=new Ys;function ju(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(e,r){e.opacity.value=r.opacity,r.color&&e.diffuse.value.copy(r.color),r.emissive&&e.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(e.map.value=r.map,n(r.map,e.mapTransform)),r.alphaMap&&(e.alphaMap.value=r.alphaMap,n(r.alphaMap,e.alphaMapTransform)),r.bumpMap&&(e.bumpMap.value=r.bumpMap,n(r.bumpMap,e.bumpMapTransform),e.bumpScale.value=r.bumpScale,r.side===Qe&&(e.bumpScale.value*=-1)),r.normalMap&&(e.normalMap.value=r.normalMap,n(r.normalMap,e.normalMapTransform),e.normalScale.value.copy(r.normalScale),r.side===Qe&&e.normalScale.value.negate()),r.displacementMap&&(e.displacementMap.value=r.displacementMap,n(r.displacementMap,e.displacementMapTransform),e.displacementScale.value=r.displacementScale,e.displacementBias.value=r.displacementBias),r.emissiveMap&&(e.emissiveMap.value=r.emissiveMap,n(r.emissiveMap,e.emissiveMapTransform)),r.specularMap&&(e.specularMap.value=r.specularMap,n(r.specularMap,e.specularMapTransform)),r.alphaTest>0&&(e.alphaTest.value=r.alphaTest);const i=t.get(r),s=i.envMap,a=i.envMapRotation;s&&(e.envMap.value=s,Fu.copy(a),Fu.x*=-1,Fu.y*=-1,Fu.z*=-1,s.isCubeTexture&&!1===s.isRenderTargetTexture&&(Fu.y*=-1,Fu.z*=-1),e.envMapRotation.value.setFromMatrix4(Uu.makeRotationFromEuler(Fu)),e.flipEnvMap.value=s.isCubeTexture&&!1===s.isRenderTargetTexture?-1:1,e.reflectivity.value=r.reflectivity,e.ior.value=r.ior,e.refractionRatio.value=r.refractionRatio),r.lightMap&&(e.lightMap.value=r.lightMap,e.lightMapIntensity.value=r.lightMapIntensity,n(r.lightMap,e.lightMapTransform)),r.aoMap&&(e.aoMap.value=r.aoMap,e.aoMapIntensity.value=r.aoMapIntensity,n(r.aoMap,e.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,Po(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,s,a,o){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(r(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(r(e,i),function(e,t){e.metalness.value=t.metalness,t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap,n(t.metalnessMap,e.metalnessMapTransform));e.roughness.value=t.roughness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap,n(t.roughnessMap,e.roughnessMapTransform));t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),t.side===Qe&&e.clearcoatNormalScale.value.negate()));t.dispersion>0&&(e.dispersion.value=t.dispersion);t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform)));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,o)):i.isMeshMatcapMaterial?(r(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){const r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,s,a):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function zu(e,t,n,r){let i={},s={},a=[];const o=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS);function l(e,t,n,r){const i=e.value,s=t+"_"+n;if(void 0===r[s])return r[s]="number"===typeof i||"boolean"===typeof i?i:i.clone(),!0;{const e=r[s];if("number"===typeof i||"boolean"===typeof i){if(e!==i)return r[s]=i,!0}else if(!1===e.equals(i))return e.copy(i),!0}return!1}function c(e){const t={boundary:0,storage:0};return"number"===typeof e||"boolean"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function u(t){const n=t.target;n.removeEventListener("dispose",u);const r=a.indexOf(n.__bindingPointIndex);a.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete s[n.id]}return{bind:function(e,t){const n=t.program;r.uniformBlockBinding(e,n)},update:function(n,h){let d=i[n.id];void 0===d&&(!function(e){const t=e.uniforms;let n=0;const r=16;for(let s=0,a=t.length;s<a;s++){const e=Array.isArray(t[s])?t[s]:[t[s]];for(let t=0,i=e.length;t<i;t++){const i=e[t],s=Array.isArray(i.value)?i.value:[i.value];for(let e=0,t=s.length;e<t;e++){const t=c(s[e]),a=n%r,o=a%t.boundary,l=a+o;n+=o,0!==l&&r-l<t.storage&&(n+=r-l),i.__data=new Float32Array(t.storage/Float32Array.BYTES_PER_ELEMENT),i.__offset=n,n+=t.storage}}}const i=n%r;i>0&&(n+=r-i);e.__size=n,e.__cache={}}(n),d=function(t){const n=function(){for(let e=0;e<o;e++)if(-1===a.indexOf(e))return a.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;const r=e.createBuffer(),i=t.__size,s=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,i,s),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}(n),i[n.id]=d,n.addEventListener("dispose",u));const f=h.program;r.updateUBOMapping(n,f);const p=t.render.frame;s[n.id]!==p&&(!function(t){const n=i[t.id],r=t.uniforms,s=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let i=0,a=r.length;i<a;i++){const t=Array.isArray(r[i])?r[i]:[r[i]];for(let n=0,r=t.length;n<r;n++){const r=t[n];if(!0===l(r,i,n,s)){const t=r.__offset,n=Array.isArray(r.value)?r.value:[r.value];let i=0;for(let s=0;s<n.length;s++){const a=n[s],o=c(a);"number"===typeof a||"boolean"===typeof a?(r.__data[0]=a,e.bufferSubData(e.UNIFORM_BUFFER,t+i,r.__data)):a.isMatrix3?(r.__data[0]=a.elements[0],r.__data[1]=a.elements[1],r.__data[2]=a.elements[2],r.__data[3]=0,r.__data[4]=a.elements[3],r.__data[5]=a.elements[4],r.__data[6]=a.elements[5],r.__data[7]=0,r.__data[8]=a.elements[6],r.__data[9]=a.elements[7],r.__data[10]=a.elements[8],r.__data[11]=0):(a.toArray(r.__data,i),i+=o.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,t,r.__data)}}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),s[n.id]=p)},dispose:function(){for(const t in i)e.deleteBuffer(i[t]);a=[],i={},s={}}}}class Hu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{canvas:t=Xi(),context:n=null,depth:r=!0,stencil:i=!1,alpha:s=!1,antialias:a=!1,premultipliedAlpha:o=!0,preserveDrawingBuffer:l=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:u=!1}=e;let h;if(this.isWebGLRenderer=!0,null!==n){if("undefined"!==typeof WebGLRenderingContext&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=n.getContextAttributes().alpha}else h=s;const d=new Uint32Array(4),f=new Int32Array(4);let p=null,m=null;const g=[],v=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Br,this.toneMapping=Bt,this.toneMappingExposure=1;const x=this;let b=!1,y=0,w=0,_=null,A=-1,S=null;const E=new cs,T=new cs;let M=null;const C=new Ua(0);let R=0,k=t.width,N=t.height,P=1,I=null,L=null;const D=new cs(0,0,k,N),B=new cs(0,0,k,N);let O=!1;const F=new qo;let U=!1,j=!1;const z=new Ys,H=new Ys,G=new vs,V=new cs,W={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let X=!1;function Y(){return null===_?P:1}let J,K,q,Q,Z,$,ee,te,ne,re,ie,se,ae,oe,le,ce,ue,he,de,fe,pe,me,ge,ve,xe=n;function be(e,n){return t.getContext(e,n)}try{const e={alpha:!0,depth:r,stencil:i,antialias:a,premultipliedAlpha:o,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Ue}`),t.addEventListener("webglcontextlost",_e,!1),t.addEventListener("webglcontextrestored",Ae,!1),t.addEventListener("webglcontextcreationerror",Se,!1),null===xe){const t="webgl2";if(xe=be(t,e),null===xe)throw be(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Cx){throw console.error("THREE.WebGLRenderer: "+Cx.message),Cx}function ye(){J=new Nl(xe),J.init(),me=new Nu(xe,J),K=new cl(xe,J,e,me),q=new Mu(xe),K.reverseDepthBuffer&&q.buffers.depth.setReversed(!0),Q=new Ll(xe),Z=new du,$=new ku(xe,J,q,Z,K,me,Q),ee=new hl(x),te=new kl(x),ne=new Zo(xe),ge=new ol(xe,ne),re=new Pl(xe,ne,Q,ge),ie=new Bl(xe,re,ne,Q),de=new Dl(xe,K,$),ce=new ul(Z),se=new hu(x,ee,te,J,K,ge,ce),ae=new ju(x,Z),oe=new gu,le=new _u(J),he=new al(x,ee,te,q,ie,h,o),ue=new Eu(x,ie,K),ve=new zu(xe,Q,K,q),fe=new ll(xe,J,Q),pe=new Il(xe,J,Q),Q.programs=se.programs,x.capabilities=K,x.extensions=J,x.properties=Z,x.renderLists=oe,x.shadowMap=ue,x.state=q,x.info=Q}ye();const we=new Ou(x,xe);function _e(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function Ae(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const e=Q.autoReset,t=ue.enabled,n=ue.autoUpdate,r=ue.needsUpdate,i=ue.type;ye(),Q.autoReset=e,ue.enabled=t,ue.autoUpdate=n,ue.needsUpdate=r,ue.type=i}function Se(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Ee(e){const t=e.target;t.removeEventListener("dispose",Ee),function(e){(function(e){const t=Z.get(e).programs;void 0!==t&&(t.forEach((function(e){se.releaseProgram(e)})),e.isShaderMaterial&&se.releaseShaderCache(e))})(e),Z.remove(e)}(t)}function Te(e,t,n){!0===e.transparent&&e.side===Ze&&!1===e.forceSinglePass?(e.side=Qe,e.needsUpdate=!0,Be(e,t,n),e.side=qe,e.needsUpdate=!0,Be(e,t,n),e.side=Ze):Be(e,t,n)}this.xr=we,this.getContext=function(){return xe},this.getContextAttributes=function(){return xe.getContextAttributes()},this.forceContextLoss=function(){const e=J.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=J.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return P},this.setPixelRatio=function(e){void 0!==e&&(P=e,this.setSize(k,N,!1))},this.getSize=function(e){return e.set(k,N)},this.setSize=function(e,n){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];we.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(k=e,N=n,t.width=Math.floor(e*P),t.height=Math.floor(n*P),!0===r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(k*P,N*P).floor()},this.setDrawingBufferSize=function(e,n,r){k=e,N=n,P=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(E)},this.getViewport=function(e){return e.copy(D)},this.setViewport=function(e,t,n,r){e.isVector4?D.set(e.x,e.y,e.z,e.w):D.set(e,t,n,r),q.viewport(E.copy(D).multiplyScalar(P).round())},this.getScissor=function(e){return e.copy(B)},this.setScissor=function(e,t,n,r){e.isVector4?B.set(e.x,e.y,e.z,e.w):B.set(e,t,n,r),q.scissor(T.copy(B).multiplyScalar(P).round())},this.getScissorTest=function(){return O},this.setScissorTest=function(e){q.setScissorTest(O=e)},this.setOpaqueSort=function(e){I=e},this.setTransparentSort=function(e){L=e},this.getClearColor=function(e){return e.copy(he.getClearColor())},this.setClearColor=function(){he.setClearColor.apply(he,arguments)},this.getClearAlpha=function(){return he.getClearAlpha()},this.setClearAlpha=function(){he.setClearAlpha.apply(he,arguments)},this.clear=function(){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=0;if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]){let e=!1;if(null!==_){const t=_.texture.format;e=t===Bn||t===Ln||t===Pn}if(e){const e=_.texture.type,t=e===dn||e===vn||e===mn||e===_n||e===yn||e===wn,n=he.getClearColor(),r=he.getClearAlpha(),i=n.r,s=n.g,a=n.b;t?(d[0]=i,d[1]=s,d[2]=a,d[3]=r,xe.clearBufferuiv(xe.COLOR,0,d)):(f[0]=i,f[1]=s,f[2]=a,f[3]=r,xe.clearBufferiv(xe.COLOR,0,f))}else n|=xe.COLOR_BUFFER_BIT}e&&(n|=xe.DEPTH_BUFFER_BIT,xe.clearDepth(this.capabilities.reverseDepthBuffer?0:1)),t&&(n|=xe.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),xe.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",_e,!1),t.removeEventListener("webglcontextrestored",Ae,!1),t.removeEventListener("webglcontextcreationerror",Se,!1),oe.dispose(),le.dispose(),Z.dispose(),ee.dispose(),te.dispose(),ie.dispose(),ge.dispose(),ve.dispose(),se.dispose(),we.dispose(),we.removeEventListener("sessionstart",Ce),we.removeEventListener("sessionend",Re),ke.stop()},this.renderBufferDirect=function(e,t,n,r,i,s){null===t&&(t=W);const a=i.isMesh&&i.matrixWorld.determinant()<0,o=function(e,t,n,r,i){!0!==t.isScene&&(t=W);$.resetTextureUnits();const s=t.fog,a=r.isMeshStandardMaterial?t.environment:null,o=null===_?x.outputColorSpace:!0===_.isXRRenderTarget?_.texture.colorSpace:Or,l=(r.isMeshStandardMaterial?te:ee).get(r.envMap||a),c=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),h=!!n.morphAttributes.position,d=!!n.morphAttributes.normal,f=!!n.morphAttributes.color;let p=Bt;r.toneMapped&&(null!==_&&!0!==_.isXRRenderTarget||(p=x.toneMapping));const g=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,v=void 0!==g?g.length:0,b=Z.get(r),y=m.state.lights;if(!0===U&&(!0===j||e!==S)){const t=e===S&&r.id===A;ce.setState(r,e,t)}let w=!1;r.version===b.__version?b.needsLights&&b.lightsStateVersion!==y.state.version||b.outputColorSpace!==o||i.isBatchedMesh&&!1===b.batching?w=!0:i.isBatchedMesh||!0!==b.batching?i.isBatchedMesh&&!0===b.batchingColor&&null===i.colorTexture||i.isBatchedMesh&&!1===b.batchingColor&&null!==i.colorTexture||i.isInstancedMesh&&!1===b.instancing?w=!0:i.isInstancedMesh||!0!==b.instancing?i.isSkinnedMesh&&!1===b.skinning?w=!0:i.isSkinnedMesh||!0!==b.skinning?i.isInstancedMesh&&!0===b.instancingColor&&null===i.instanceColor||i.isInstancedMesh&&!1===b.instancingColor&&null!==i.instanceColor||i.isInstancedMesh&&!0===b.instancingMorph&&null===i.morphTexture||i.isInstancedMesh&&!1===b.instancingMorph&&null!==i.morphTexture||b.envMap!==l||!0===r.fog&&b.fog!==s?w=!0:void 0===b.numClippingPlanes||b.numClippingPlanes===ce.numPlanes&&b.numIntersection===ce.numIntersection?(b.vertexAlphas!==c||b.vertexTangents!==u||b.morphTargets!==h||b.morphNormals!==d||b.morphColors!==f||b.toneMapping!==p||b.morphTargetsCount!==v)&&(w=!0):w=!0:w=!0:w=!0:w=!0:(w=!0,b.__version=r.version);let E=b.currentProgram;!0===w&&(E=Be(r,t,i));let T=!1,M=!1,C=!1;const R=E.getUniforms(),k=b.uniforms;q.useProgram(E.program)&&(T=!0,M=!0,C=!0);r.id!==A&&(A=r.id,M=!0);if(T||S!==e){K.reverseDepthBuffer?(z.copy(e.projectionMatrix),function(e){const t=e.elements;t[2]=.5*t[2]+.5*t[3],t[6]=.5*t[6]+.5*t[7],t[10]=.5*t[10]+.5*t[11],t[14]=.5*t[14]+.5*t[15]}(z),function(e){const t=e.elements;-1===t[11]?(t[10]=-t[10]-1,t[14]=-t[14]):(t[10]=-t[10],t[14]=1-t[14])}(z),R.setValue(xe,"projectionMatrix",z)):R.setValue(xe,"projectionMatrix",e.projectionMatrix),R.setValue(xe,"viewMatrix",e.matrixWorldInverse);const t=R.map.cameraPosition;void 0!==t&&t.setValue(xe,G.setFromMatrixPosition(e.matrixWorld)),K.logarithmicDepthBuffer&&R.setValue(xe,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&R.setValue(xe,"isOrthographic",!0===e.isOrthographicCamera),S!==e&&(S=e,M=!0,C=!0)}if(i.isSkinnedMesh){R.setOptional(xe,i,"bindMatrix"),R.setOptional(xe,i,"bindMatrixInverse");const e=i.skeleton;e&&(null===e.boneTexture&&e.computeBoneTexture(),R.setValue(xe,"boneTexture",e.boneTexture,$))}i.isBatchedMesh&&(R.setOptional(xe,i,"batchingTexture"),R.setValue(xe,"batchingTexture",i._matricesTexture,$),R.setOptional(xe,i,"batchingIdTexture"),R.setValue(xe,"batchingIdTexture",i._indirectTexture,$),R.setOptional(xe,i,"batchingColorTexture"),null!==i._colorsTexture&&R.setValue(xe,"batchingColorTexture",i._colorsTexture,$));const I=n.morphAttributes;void 0===I.position&&void 0===I.normal&&void 0===I.color||de.update(i,n,E);(M||b.receiveShadow!==i.receiveShadow)&&(b.receiveShadow=i.receiveShadow,R.setValue(xe,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(k.envMap.value=l,k.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);r.isMeshStandardMaterial&&null===r.envMap&&null!==t.environment&&(k.envMapIntensity.value=t.environmentIntensity);M&&(R.setValue(xe,"toneMappingExposure",x.toneMappingExposure),b.needsLights&&function(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}(k,C),s&&!0===r.fog&&ae.refreshFogUniforms(k,s),ae.refreshMaterialUniforms(k,r,P,N,m.state.transmissionRenderTarget[e.id]),Hc.upload(xe,Oe(b),k,$));r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(Hc.upload(xe,Oe(b),k,$),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&R.setValue(xe,"center",i.center);if(R.setValue(xe,"modelViewMatrix",i.modelViewMatrix),R.setValue(xe,"normalMatrix",i.normalMatrix),R.setValue(xe,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial){const e=r.uniformsGroups;for(let t=0,n=e.length;t<n;t++){const n=e[t];ve.update(n,E),ve.bind(n,E)}}return E}(e,t,n,r,i);q.setMaterial(r,a);let l=n.index,c=1;if(!0===r.wireframe){if(l=re.getWireframeAttribute(n),void 0===l)return;c=2}const u=n.drawRange,h=n.attributes.position;let d=u.start*c,f=(u.start+u.count)*c;null!==s&&(d=Math.max(d,s.start*c),f=Math.min(f,(s.start+s.count)*c)),null!==l?(d=Math.max(d,0),f=Math.min(f,l.count)):void 0!==h&&null!==h&&(d=Math.max(d,0),f=Math.min(f,h.count));const p=f-d;if(p<0||p===1/0)return;let g;ge.setup(i,r,o,n,l);let v=fe;if(null!==l&&(g=ne.get(l),v=pe,v.setIndex(g)),i.isMesh)!0===r.wireframe?(q.setLineWidth(r.wireframeLinewidth*Y()),v.setMode(xe.LINES)):v.setMode(xe.TRIANGLES);else if(i.isLine){let e=r.linewidth;void 0===e&&(e=1),q.setLineWidth(e*Y()),i.isLineSegments?v.setMode(xe.LINES):i.isLineLoop?v.setMode(xe.LINE_LOOP):v.setMode(xe.LINE_STRIP)}else i.isPoints?v.setMode(xe.POINTS):i.isSprite&&v.setMode(xe.TRIANGLES);if(i.isBatchedMesh)if(null!==i._multiDrawInstances)v.renderMultiDrawInstances(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount,i._multiDrawInstances);else if(J.get("WEBGL_multi_draw"))v.renderMultiDraw(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount);else{const e=i._multiDrawStarts,t=i._multiDrawCounts,n=i._multiDrawCount,s=l?ne.get(l).bytesPerElement:1,a=Z.get(r).currentProgram.getUniforms();for(let r=0;r<n;r++)a.setValue(xe,"_gl_DrawID",r),v.render(e[r]/s,t[r])}else if(i.isInstancedMesh)v.renderInstances(d,p,i.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);v.renderInstances(d,p,t)}else v.render(d,p)},this.compile=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===n&&(n=e),m=le.get(n),m.init(t),v.push(m),n.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(m.pushLight(e),e.castShadow&&m.pushShadow(e))})),e!==n&&e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(m.pushLight(e),e.castShadow&&m.pushShadow(e))})),m.setupLights();const r=new Set;return e.traverse((function(e){if(!(e.isMesh||e.isPoints||e.isLine||e.isSprite))return;const t=e.material;if(t)if(Array.isArray(t))for(let i=0;i<t.length;i++){const s=t[i];Te(s,n,e),r.add(s)}else Te(t,n,e),r.add(t)})),v.pop(),m=null,r},this.compileAsync=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=this.compile(e,t,n);return new Promise((t=>{function n(){r.forEach((function(e){Z.get(e).currentProgram.isReady()&&r.delete(e)})),0!==r.size?setTimeout(n,10):t(e)}null!==J.get("KHR_parallel_shader_compile")?n():setTimeout(n,10)}))};let Me=null;function Ce(){ke.stop()}function Re(){ke.start()}const ke=new Qo;function Ne(e,t,n,r){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)m.pushLight(e),e.castShadow&&m.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||F.intersectsSprite(e)){r&&V.setFromMatrixPosition(e.matrixWorld).applyMatrix4(H);const t=ie.update(e),i=e.material;i.visible&&p.push(e,t,i,n,V.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||F.intersectsObject(e))){const t=ie.update(e),i=e.material;if(r&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),V.copy(e.boundingSphere.center)):(null===t.boundingSphere&&t.computeBoundingSphere(),V.copy(t.boundingSphere.center)),V.applyMatrix4(e.matrixWorld).applyMatrix4(H)),Array.isArray(i)){const r=t.groups;for(let s=0,a=r.length;s<a;s++){const a=r[s],o=i[a.materialIndex];o&&o.visible&&p.push(e,t,o,n,V.z,a)}}else i.visible&&p.push(e,t,i,n,V.z,null)}const i=e.children;for(let s=0,a=i.length;s<a;s++)Ne(i[s],t,n,r)}function Pe(e,t,n,r){const i=e.opaque,s=e.transmissive,a=e.transparent;m.setupLightsView(n),!0===U&&ce.setGlobalState(x.clippingPlanes,n),r&&q.viewport(E.copy(r)),i.length>0&&Le(i,t,n),s.length>0&&Le(s,t,n),a.length>0&&Le(a,t,n),q.buffers.depth.setTest(!0),q.buffers.depth.setMask(!0),q.buffers.color.setMask(!0),q.setPolygonOffset(!1)}function Ie(e,t,n,r){if(null!==(!0===n.isScene?n.overrideMaterial:null))return;void 0===m.state.transmissionRenderTarget[r.id]&&(m.state.transmissionRenderTarget[r.id]=new hs(1,1,{generateMipmaps:!0,type:J.has("EXT_color_buffer_half_float")||J.has("EXT_color_buffer_float")?bn:dn,minFilter:un,samples:4,stencilBuffer:i,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:$i.workingColorSpace}));const s=m.state.transmissionRenderTarget[r.id],a=r.viewport||E;s.setSize(a.z,a.w);const o=x.getRenderTarget();x.setRenderTarget(s),x.getClearColor(C),R=x.getClearAlpha(),R<1&&x.setClearColor(16777215,.5),x.clear(),X&&he.render(n);const l=x.toneMapping;x.toneMapping=Bt;const c=r.viewport;if(void 0!==r.viewport&&(r.viewport=void 0),m.setupLightsView(r),!0===U&&ce.setGlobalState(x.clippingPlanes,r),Le(e,n,r),$.updateMultisampleRenderTarget(s),$.updateRenderTargetMipmap(s),!1===J.has("WEBGL_multisampled_render_to_texture")){let e=!1;for(let i=0,s=t.length;i<s;i++){const s=t[i],a=s.object,o=s.geometry,l=s.material,c=s.group;if(l.side===Ze&&a.layers.test(r.layers)){const t=l.side;l.side=Qe,l.needsUpdate=!0,De(a,n,r,o,l,c),l.side=t,l.needsUpdate=!0,e=!0}}!0===e&&($.updateMultisampleRenderTarget(s),$.updateRenderTargetMipmap(s))}x.setRenderTarget(o),x.setClearColor(C,R),void 0!==c&&(r.viewport=c),x.toneMapping=l}function Le(e,t,n){const r=!0===t.isScene?t.overrideMaterial:null;for(let i=0,s=e.length;i<s;i++){const s=e[i],a=s.object,o=s.geometry,l=null===r?s.material:r,c=s.group;a.layers.test(n.layers)&&De(a,t,n,o,l,c)}}function De(e,t,n,r,i,s){e.onBeforeRender(x,t,n,r,i,s),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(x,t,n,r,e,s),!0===i.transparent&&i.side===Ze&&!1===i.forceSinglePass?(i.side=Qe,i.needsUpdate=!0,x.renderBufferDirect(n,t,r,i,e,s),i.side=qe,i.needsUpdate=!0,x.renderBufferDirect(n,t,r,i,e,s),i.side=Ze):x.renderBufferDirect(n,t,r,i,e,s),e.onAfterRender(x,t,n,r,i,s)}function Be(e,t,n){!0!==t.isScene&&(t=W);const r=Z.get(e),i=m.state.lights,s=m.state.shadowsArray,a=i.state.version,o=se.getParameters(e,i.state,s,t,n),l=se.getProgramCacheKey(o);let c=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?te:ee).get(e.envMap||r.environment),r.envMapRotation=null!==r.environment&&null===e.envMap?t.environmentRotation:e.envMapRotation,void 0===c&&(e.addEventListener("dispose",Ee),c=new Map,r.programs=c);let u=c.get(l);if(void 0!==u){if(r.currentProgram===u&&r.lightsStateVersion===a)return Fe(e,o),u}else o.uniforms=se.getUniforms(e),e.onBeforeCompile(o,x),u=se.acquireProgram(o,l),c.set(l,u),r.uniforms=o.uniforms;const h=r.uniforms;return(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(h.clippingPlanes=ce.uniform),Fe(e,o),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=a,r.needsLights&&(h.ambientLightColor.value=i.state.ambient,h.lightProbe.value=i.state.probe,h.directionalLights.value=i.state.directional,h.directionalLightShadows.value=i.state.directionalShadow,h.spotLights.value=i.state.spot,h.spotLightShadows.value=i.state.spotShadow,h.rectAreaLights.value=i.state.rectArea,h.ltc_1.value=i.state.rectAreaLTC1,h.ltc_2.value=i.state.rectAreaLTC2,h.pointLights.value=i.state.point,h.pointLightShadows.value=i.state.pointShadow,h.hemisphereLights.value=i.state.hemi,h.directionalShadowMap.value=i.state.directionalShadowMap,h.directionalShadowMatrix.value=i.state.directionalShadowMatrix,h.spotShadowMap.value=i.state.spotShadowMap,h.spotLightMatrix.value=i.state.spotLightMatrix,h.spotLightMap.value=i.state.spotLightMap,h.pointShadowMap.value=i.state.pointShadowMap,h.pointShadowMatrix.value=i.state.pointShadowMatrix),r.currentProgram=u,r.uniformsList=null,u}function Oe(e){if(null===e.uniformsList){const t=e.currentProgram.getUniforms();e.uniformsList=Hc.seqWithValue(t.seq,e.uniforms)}return e.uniformsList}function Fe(e,t){const n=Z.get(e);n.outputColorSpace=t.outputColorSpace,n.batching=t.batching,n.batchingColor=t.batchingColor,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.instancingMorph=t.instancingMorph,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}ke.setAnimationLoop((function(e){Me&&Me(e)})),"undefined"!==typeof self&&ke.setContext(self),this.setAnimationLoop=function(e){Me=e,we.setAnimationLoop(e),null===e?ke.stop():ke.start()},we.addEventListener("sessionstart",Ce),we.addEventListener("sessionend",Re),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===b)return;if(!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===we.enabled&&!0===we.isPresenting&&(!0===we.cameraAutoUpdate&&we.updateCamera(t),t=we.getCamera()),!0===e.isScene&&e.onBeforeRender(x,e,t,_),m=le.get(e,v.length),m.init(t),v.push(m),H.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),F.setFromProjectionMatrix(H),j=this.localClippingEnabled,U=ce.init(this.clippingPlanes,j),p=oe.get(e,g.length),p.init(),g.push(p),!0===we.enabled&&!0===we.isPresenting){const e=x.xr.getDepthSensingMesh();null!==e&&Ne(e,t,-1/0,x.sortObjects)}Ne(e,t,0,x.sortObjects),p.finish(),!0===x.sortObjects&&p.sort(I,L),X=!1===we.enabled||!1===we.isPresenting||!1===we.hasDepthSensing(),X&&he.addToRenderList(p,e),this.info.render.frame++,!0===U&&ce.beginShadows();const n=m.state.shadowsArray;ue.render(n,e,t),!0===U&&ce.endShadows(),!0===this.info.autoReset&&this.info.reset();const r=p.opaque,i=p.transmissive;if(m.setupLights(),t.isArrayCamera){const n=t.cameras;if(i.length>0)for(let t=0,s=n.length;t<s;t++){Ie(r,i,e,n[t])}X&&he.render(e);for(let t=0,r=n.length;t<r;t++){const r=n[t];Pe(p,e,r,r.viewport)}}else i.length>0&&Ie(r,i,e,t),X&&he.render(e),Pe(p,e,t);null!==_&&($.updateMultisampleRenderTarget(_),$.updateRenderTargetMipmap(_)),!0===e.isScene&&e.onAfterRender(x,e,t),ge.resetDefaultState(),A=-1,S=null,v.pop(),v.length>0?(m=v[v.length-1],!0===U&&ce.setGlobalState(x.clippingPlanes,m.state.camera)):m=null,g.pop(),p=g.length>0?g[g.length-1]:null},this.getActiveCubeFace=function(){return y},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return _},this.setRenderTargetTextures=function(e,t,n){Z.get(e.texture).__webglTexture=t,Z.get(e.depthTexture).__webglTexture=n;const r=Z.get(e);r.__hasExternalTextures=!0,r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===J.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(e,t){const n=Z.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;_=e,y=t,w=n;let r=!0,i=null,s=!1,a=!1;if(e){const o=Z.get(e);if(void 0!==o.__useDefaultFramebuffer)q.bindFramebuffer(xe.FRAMEBUFFER,null),r=!1;else if(void 0===o.__webglFramebuffer)$.setupRenderTarget(e);else if(o.__hasExternalTextures)$.rebindTextures(e,Z.get(e.texture).__webglTexture,Z.get(e.depthTexture).__webglTexture);else if(e.depthBuffer){const t=e.depthTexture;if(o.__boundDepthTexture!==t){if(null!==t&&Z.has(t)&&(e.width!==t.image.width||e.height!==t.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");$.setupDepthRenderbuffer(e)}}const l=e.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(a=!0);const c=Z.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=Array.isArray(c[t])?c[t][n]:c[t],s=!0):i=e.samples>0&&!1===$.useMultisampledRTT(e)?Z.get(e).__webglMultisampledFramebuffer:Array.isArray(c)?c[n]:c,E.copy(e.viewport),T.copy(e.scissor),M=e.scissorTest}else E.copy(D).multiplyScalar(P).floor(),T.copy(B).multiplyScalar(P).floor(),M=O;if(q.bindFramebuffer(xe.FRAMEBUFFER,i)&&r&&q.drawBuffers(e,i),q.viewport(E),q.scissor(T),q.setScissorTest(M),s){const r=Z.get(e.texture);xe.framebufferTexture2D(xe.FRAMEBUFFER,xe.COLOR_ATTACHMENT0,xe.TEXTURE_CUBE_MAP_POSITIVE_X+t,r.__webglTexture,n)}else if(a){const r=Z.get(e.texture),i=t||0;xe.framebufferTextureLayer(xe.FRAMEBUFFER,xe.COLOR_ATTACHMENT0,r.__webglTexture,n||0,i)}A=-1},this.readRenderTargetPixels=function(e,t,n,r,i,s,a){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let o=Z.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(o=o[a]),o){q.bindFramebuffer(xe.FRAMEBUFFER,o);try{const a=e.texture,o=a.format,l=a.type;if(!K.textureFormatReadable(o))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!K.textureTypeReadable(l))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&xe.readPixels(t,n,r,i,me.convert(o),me.convert(l),s)}finally{const e=null!==_?Z.get(_).__webglFramebuffer:null;q.bindFramebuffer(xe.FRAMEBUFFER,e)}}},this.readRenderTargetPixelsAsync=async function(e,t,n,r,i,s,a){if(!e||!e.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let o=Z.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(o=o[a]),o){const a=e.texture,l=a.format,c=a.type;if(!K.textureFormatReadable(l))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!K.textureTypeReadable(c))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i){q.bindFramebuffer(xe.FRAMEBUFFER,o);const e=xe.createBuffer();xe.bindBuffer(xe.PIXEL_PACK_BUFFER,e),xe.bufferData(xe.PIXEL_PACK_BUFFER,s.byteLength,xe.STREAM_READ),xe.readPixels(t,n,r,i,me.convert(l),me.convert(c),0);const a=null!==_?Z.get(_).__webglFramebuffer:null;q.bindFramebuffer(xe.FRAMEBUFFER,a);const u=xe.fenceSync(xe.SYNC_GPU_COMMANDS_COMPLETE,0);return xe.flush(),await function(e,t,n){return new Promise((function(r,i){setTimeout((function s(){switch(e.clientWaitSync(t,e.SYNC_FLUSH_COMMANDS_BIT,0)){case e.WAIT_FAILED:i();break;case e.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:r()}}),n)}))}(xe,u,4),xe.bindBuffer(xe.PIXEL_PACK_BUFFER,e),xe.getBufferSubData(xe.PIXEL_PACK_BUFFER,0,s),xe.deleteBuffer(e),xe.deleteSync(u),s}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!0!==e.isTexture&&(Ji("WebGLRenderer: copyFramebufferToTexture function signature has changed."),t=arguments[0]||null,e=arguments[1]);const r=Math.pow(2,-n),i=Math.floor(e.image.width*r),s=Math.floor(e.image.height*r),a=null!==t?t.x:0,o=null!==t?t.y:0;$.setTexture2D(e,0),xe.copyTexSubImage2D(xe.TEXTURE_2D,n,0,0,a,o,i,s),q.unbindTexture()},this.copyTextureToTexture=function(e,t){let n,r,i,s,a,o,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;!0!==e.isTexture&&(Ji("WebGLRenderer: copyTextureToTexture function signature has changed."),c=arguments[0]||null,e=arguments[1],t=arguments[2],u=arguments[3]||0,l=null),null!==l?(n=l.max.x-l.min.x,r=l.max.y-l.min.y,i=l.min.x,s=l.min.y):(n=e.image.width,r=e.image.height,i=0,s=0),null!==c?(a=c.x,o=c.y):(a=0,o=0);const h=me.convert(t.format),d=me.convert(t.type);$.setTexture2D(t,0),xe.pixelStorei(xe.UNPACK_FLIP_Y_WEBGL,t.flipY),xe.pixelStorei(xe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),xe.pixelStorei(xe.UNPACK_ALIGNMENT,t.unpackAlignment);const f=xe.getParameter(xe.UNPACK_ROW_LENGTH),p=xe.getParameter(xe.UNPACK_IMAGE_HEIGHT),m=xe.getParameter(xe.UNPACK_SKIP_PIXELS),g=xe.getParameter(xe.UNPACK_SKIP_ROWS),v=xe.getParameter(xe.UNPACK_SKIP_IMAGES),x=e.isCompressedTexture?e.mipmaps[u]:e.image;xe.pixelStorei(xe.UNPACK_ROW_LENGTH,x.width),xe.pixelStorei(xe.UNPACK_IMAGE_HEIGHT,x.height),xe.pixelStorei(xe.UNPACK_SKIP_PIXELS,i),xe.pixelStorei(xe.UNPACK_SKIP_ROWS,s),e.isDataTexture?xe.texSubImage2D(xe.TEXTURE_2D,u,a,o,n,r,h,d,x.data):e.isCompressedTexture?xe.compressedTexSubImage2D(xe.TEXTURE_2D,u,a,o,x.width,x.height,h,x.data):xe.texSubImage2D(xe.TEXTURE_2D,u,a,o,n,r,h,d,x),xe.pixelStorei(xe.UNPACK_ROW_LENGTH,f),xe.pixelStorei(xe.UNPACK_IMAGE_HEIGHT,p),xe.pixelStorei(xe.UNPACK_SKIP_PIXELS,m),xe.pixelStorei(xe.UNPACK_SKIP_ROWS,g),xe.pixelStorei(xe.UNPACK_SKIP_IMAGES,v),0===u&&t.generateMipmaps&&xe.generateMipmap(xe.TEXTURE_2D),q.unbindTexture()},this.copyTextureToTexture3D=function(e,t){let n,r,i,s,a,o,l,c,u,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;!0!==e.isTexture&&(Ji("WebGLRenderer: copyTextureToTexture3D function signature has changed."),h=arguments[0]||null,d=arguments[1]||null,e=arguments[2],t=arguments[3],f=arguments[4]||0);const p=e.isCompressedTexture?e.mipmaps[f]:e.image;null!==h?(n=h.max.x-h.min.x,r=h.max.y-h.min.y,i=h.max.z-h.min.z,s=h.min.x,a=h.min.y,o=h.min.z):(n=p.width,r=p.height,i=p.depth,s=0,a=0,o=0),null!==d?(l=d.x,c=d.y,u=d.z):(l=0,c=0,u=0);const m=me.convert(t.format),g=me.convert(t.type);let v;if(t.isData3DTexture)$.setTexture3D(t,0),v=xe.TEXTURE_3D;else{if(!t.isDataArrayTexture&&!t.isCompressedArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");$.setTexture2DArray(t,0),v=xe.TEXTURE_2D_ARRAY}xe.pixelStorei(xe.UNPACK_FLIP_Y_WEBGL,t.flipY),xe.pixelStorei(xe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),xe.pixelStorei(xe.UNPACK_ALIGNMENT,t.unpackAlignment);const x=xe.getParameter(xe.UNPACK_ROW_LENGTH),b=xe.getParameter(xe.UNPACK_IMAGE_HEIGHT),y=xe.getParameter(xe.UNPACK_SKIP_PIXELS),w=xe.getParameter(xe.UNPACK_SKIP_ROWS),_=xe.getParameter(xe.UNPACK_SKIP_IMAGES);xe.pixelStorei(xe.UNPACK_ROW_LENGTH,p.width),xe.pixelStorei(xe.UNPACK_IMAGE_HEIGHT,p.height),xe.pixelStorei(xe.UNPACK_SKIP_PIXELS,s),xe.pixelStorei(xe.UNPACK_SKIP_ROWS,a),xe.pixelStorei(xe.UNPACK_SKIP_IMAGES,o),e.isDataTexture||e.isData3DTexture?xe.texSubImage3D(v,f,l,c,u,n,r,i,m,g,p.data):t.isCompressedArrayTexture?xe.compressedTexSubImage3D(v,f,l,c,u,n,r,i,m,p.data):xe.texSubImage3D(v,f,l,c,u,n,r,i,m,g,p),xe.pixelStorei(xe.UNPACK_ROW_LENGTH,x),xe.pixelStorei(xe.UNPACK_IMAGE_HEIGHT,b),xe.pixelStorei(xe.UNPACK_SKIP_PIXELS,y),xe.pixelStorei(xe.UNPACK_SKIP_ROWS,w),xe.pixelStorei(xe.UNPACK_SKIP_IMAGES,_),0===f&&t.generateMipmaps&&xe.generateMipmap(v),q.unbindTexture()},this.initRenderTarget=function(e){void 0===Z.get(e).__webglFramebuffer&&$.setupRenderTarget(e)},this.initTexture=function(e){e.isCubeTexture?$.setTextureCube(e,0):e.isData3DTexture?$.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?$.setTexture2DArray(e,0):$.setTexture2D(e,0),q.unbindTexture()},this.resetState=function(){y=0,w=0,_=null,q.reset(),ge.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ei}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===Fr?"display-p3":"srgb",t.unpackColorSpace=$i.workingColorSpace===Ur?"display-p3":"srgb"}}class Gu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;this.isFogExp2=!0,this.name="",this.color=new Ua(e),this.density=t}clone(){return new Gu(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Vu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;this.isFog=!0,this.name="",this.color=new Ua(e),this.near=t,this.far=n}clone(){return new Vu(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Wu extends ya{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ra,this.environmentIntensity=1,this.environmentRotation=new ra,this.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Xu{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=pi,this.updateRanges=[],this.version=0,this.uuid=Pi()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Pi()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Pi()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Yu=new vs;class Ju{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Yu.fromBufferAttribute(this,t),Yu.applyMatrix4(e),this.setXYZ(t,Yu.x,Yu.y,Yu.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Yu.fromBufferAttribute(this,t),Yu.applyNormalMatrix(e),this.setXYZ(t,Yu.x,Yu.y,Yu.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Yu.fromBufferAttribute(this,t),Yu.transformDirection(e),this.setXYZ(t,Yu.x,Yu.y,Yu.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=Bi(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Oi(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=Oi(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Oi(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Oi(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Oi(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Bi(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Bi(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Bi(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Bi(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Oi(t,this.array),n=Oi(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Oi(t,this.array),n=Oi(n,this.array),r=Oi(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Oi(t,this.array),n=Oi(n,this.array),r=Oi(r,this.array),i=Oi(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new Qa(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ju(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Ku extends Ha{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ua(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let qu;const Qu=new vs,Zu=new vs,$u=new vs,eh=new Ui,th=new Ui,nh=new Ys,rh=new vs,ih=new vs,sh=new vs,ah=new Ui,oh=new Ui,lh=new Ui;class ch extends ya{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ku;if(super(),this.isSprite=!0,this.type="Sprite",void 0===qu){qu=new mo;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new Xu(e,5);qu.setIndex([0,1,2,0,2,3]),qu.setAttribute("position",new Ju(t,3,0,!1)),qu.setAttribute("uv",new Ju(t,2,3,!1))}this.geometry=qu,this.material=e,this.center=new Ui(.5,.5)}raycast(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Zu.setFromMatrixScale(this.matrixWorld),nh.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),$u.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Zu.multiplyScalar(-$u.z);const n=this.material.rotation;let r,i;0!==n&&(i=Math.cos(n),r=Math.sin(n));const s=this.center;uh(rh.set(-.5,-.5,0),$u,s,Zu,r,i),uh(ih.set(.5,-.5,0),$u,s,Zu,r,i),uh(sh.set(.5,.5,0),$u,s,Zu,r,i),ah.set(0,0),oh.set(1,0),lh.set(1,1);let a=e.ray.intersectTriangle(rh,ih,sh,!1,Qu);if(null===a&&(uh(ih.set(-.5,.5,0),$u,s,Zu,r,i),oh.set(0,1),a=e.ray.intersectTriangle(rh,sh,ih,!1,Qu),null===a))return;const o=e.ray.origin.distanceTo(Qu);o<e.near||o>e.far||t.push({distance:o,point:Qu.clone(),uv:La.getInterpolation(Qu,rh,ih,sh,ah,oh,lh,new Ui),face:null,object:this})}copy(e,t){return super.copy(e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function uh(e,t,n,r,i,s){eh.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(th.x=s*eh.x-i*eh.y,th.y=i*eh.x+s*eh.y):th.copy(eh),e.copy(t),e.x+=th.x,e.y+=th.y,e.applyMatrix4(nh)}const hh=new vs,dh=new vs;class fh extends ya{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const e=t[n];this.addLevel(e.object.clone(),e.distance,e.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const e=t.splice(n,1);return this.remove(e[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let r=t[n].distance;if(t[n].object.visible&&(r-=r*t[n].hysteresis),e<r)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){hh.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(hh);this.getObjectForDistance(n).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){hh.setFromMatrixPosition(e.matrixWorld),dh.setFromMatrixPosition(this.matrixWorld);const n=hh.distanceTo(dh)/e.zoom;let r,i;for(t[0].object.visible=!0,r=1,i=t.length;r<i;r++){let e=t[r].distance;if(t[r].object.visible&&(e-=e*t[r].hysteresis),!(n>=e))break;t[r-1].object.visible=!1,t[r].object.visible=!0}for(this._currentLevel=r-1;r<i;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,i=n.length;r<i;r++){const e=n[r];t.object.levels.push({object:e.object.uuid,distance:e.distance,hysteresis:e.hysteresis})}return t}}const ph=new vs,mh=new cs,gh=new cs,vh=new vs,xh=new Ys,bh=new vs,yh=new Fs,wh=new Ys,_h=new Xs;class Ah extends Mo{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Vt,this.bindMatrix=new Ys,this.bindMatrixInverse=new Ys,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;null===this.boundingBox&&(this.boundingBox=new ys),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,bh),this.boundingBox.expandByPoint(bh)}computeBoundingSphere(){const e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new Fs),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,bh),this.boundingSphere.expandByPoint(bh)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,r=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),yh.copy(this.boundingSphere),yh.applyMatrix4(r),!1!==e.ray.intersectsSphere(yh)&&(wh.copy(r).invert(),_h.copy(e.ray).applyMatrix4(wh),null!==this.boundingBox&&!1===_h.intersectsBox(this.boundingBox)||this._computeIntersections(e,t,_h)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new cs,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Vt?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Wt?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;mh.fromBufferAttribute(r.attributes.skinIndex,e),gh.fromBufferAttribute(r.attributes.skinWeight,e),ph.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let i=0;i<4;i++){const e=gh.getComponent(i);if(0!==e){const r=mh.getComponent(i);xh.multiplyMatrices(n.bones[r].matrixWorld,n.boneInverses[r]),t.addScaledVector(vh.copy(ph).applyMatrix4(xh),e)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Sh extends ya{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Eh extends ls{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(null,arguments.length>5?arguments[5]:void 0,arguments.length>6?arguments[6]:void 0,arguments.length>7?arguments[7]:void 0,arguments.length>8&&void 0!==arguments[8]?arguments[8]:tn,arguments.length>9&&void 0!==arguments[9]?arguments[9]:tn,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0,arguments.length>10?arguments[10]:void 0,arguments.length>11?arguments[11]:void 0),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Th=new Ys,Mh=new Ys;class Ch{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.uuid=Pi(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new Ys)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const t=new Ys;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let i=0,s=e.length;i<s;i++){const r=e[i]?e[i].matrixWorld:Mh;Th.multiplyMatrices(r,t[i]),Th.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}clone(){return new Ch(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new Eh(t,e,e,Tn,xn);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const r=e.bones[n];let i=t[r];void 0===i&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),i=new Sh),this.bones.push(i),this.boneInverses.push((new Ys).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,i=t.length;r<i;r++){const i=t[r];e.bones.push(i.uuid);const s=n[r];e.boneInverses.push(s.toArray())}return e}}class Rh extends Qa{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const kh=new Ys,Nh=new Ys,Ph=[],Ih=new ys,Lh=new Ys,Dh=new Mo,Bh=new Fs;class Oh extends Mo{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Rh(new Float32Array(16*n),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,Lh)}computeBoundingBox(){const e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new ys),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,kh),Ih.copy(e.boundingBox).applyMatrix4(kh),this.boundingBox.union(Ih)}computeBoundingSphere(){const e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new Fs),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,kh),Bh.copy(e.boundingSphere).applyMatrix4(kh),this.boundingSphere.union(Bh)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.morphTexture&&(this.morphTexture=e.morphTexture.clone()),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}getMorphAt(e,t){const n=t.morphTargetInfluences,r=this.morphTexture.source.data.data,i=e*(n.length+1)+1;for(let s=0;s<n.length;s++)n[s]=r[i+s]}raycast(e,t){const n=this.matrixWorld,r=this.count;if(Dh.geometry=this.geometry,Dh.material=this.material,void 0!==Dh.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),Bh.copy(this.boundingSphere),Bh.applyMatrix4(n),!1!==e.ray.intersectsSphere(Bh)))for(let i=0;i<r;i++){this.getMatrixAt(i,kh),Nh.multiplyMatrices(n,kh),Dh.matrixWorld=Nh,Dh.raycast(e,Ph);for(let e=0,n=Ph.length;e<n;e++){const n=Ph[e];n.instanceId=i,n.object=this,t.push(n)}Ph.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new Rh(new Float32Array(3*this.instanceMatrix.count).fill(1),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}setMorphAt(e,t){const n=t.morphTargetInfluences,r=n.length+1;null===this.morphTexture&&(this.morphTexture=new Eh(new Float32Array(r*this.count),r,this.count,Nn,xn));const i=this.morphTexture.source.data.data;let s=0;for(let l=0;l<n.length;l++)s+=n[l];const a=this.geometry.morphTargetsRelative?1:1-s,o=r*e;i[o]=a,i.set(n,o+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function Fh(e,t){return e.z-t.z}function Uh(e,t){return t.z-e.z}class jh{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const s=r[this.index];i.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=t,s.index=n}reset(){this.list.length=0,this.index=0}}const zh=new Ys,Hh=new Ys,Gh=new Ys,Vh=new Ua(1,1,1),Wh=new Ys,Xh=new qo,Yh=new ys,Jh=new Fs,Kh=new vs,qh=new vs,Qh=new vs,Zh=new jh,$h=new Mo,ed=[];function td(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=t.itemSize;if(e.isInterleavedBufferAttribute||e.array.constructor!==t.array.constructor){const i=e.count;for(let s=0;s<i;s++)for(let i=0;i<r;i++)t.setComponent(s+n,i,e.getComponent(s,i))}else t.array.set(e.array,n*r);t.needsUpdate=!0}class nd extends Mo{get maxInstanceCount(){return this._maxInstanceCount}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2*t,r=arguments.length>3?arguments[3]:void 0;super(new mo,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawInfo=[],this._availableInstanceIds=[],this._drawRanges=[],this._reservedRanges=[],this._bounds=[],this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(4*this._maxInstanceCount);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new Eh(t,e,e,Tn,xn);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new Eh(t,e,e,Pn,vn);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new Eh(t,e,e,Tn,xn);n.colorSpace=$i.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,r=this._maxIndexCount;if(!1===this._geometryInitialized){for(const r in e.attributes){const i=e.getAttribute(r),{array:s,itemSize:a,normalized:o}=i,l=new s.constructor(n*a),c=new Qa(l,a,o);t.setAttribute(r,c)}if(null!==e.getIndex()){const e=n>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Qa(e,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(Boolean(e.getIndex())!==Boolean(t.getIndex()))throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const r=e.getAttribute(n),i=t.getAttribute(n);if(r.itemSize!==i.itemSize||r.normalized!==i.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new ys);const e=this.boundingBox,t=this._drawInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(!1===t[n].active)continue;const r=t[n].geometryIndex;this.getMatrixAt(n,zh),this.getBoundingBoxAt(r,Yh).applyMatrix4(zh),e.union(Yh)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Fs);const e=this.boundingSphere,t=this._drawInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(!1===t[n].active)continue;const r=t[n].geometryIndex;this.getMatrixAt(n,zh),this.getBoundingSphereAt(r,Jh).applyMatrix4(zh),e.union(Jh)}}addInstance(e){if(this._drawInfo.length>=this.maxInstanceCount&&0===this._availableInstanceIds.length)throw new Error("BatchedMesh: Maximum item count reached.");const t={visible:!0,active:!0,geometryIndex:e};let n=null;this._availableInstanceIds.length>0?(n=this._availableInstanceIds.pop(),this._drawInfo[n]=t):(n=this._drawInfo.length,this._drawInfo.push(t));const r=this._matricesTexture,i=r.image.data;Gh.toArray(i,16*n),r.needsUpdate=!0;const s=this._colorsTexture;return s&&(Vh.toArray(s.image.data,4*n),s.needsUpdate=!0),n}addGeometry(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(this._initializeGeometry(e),this._validateGeometry(e),this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");const r={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let i=null;const s=this._reservedRanges,a=this._drawRanges,o=this._bounds;0!==this._geometryCount&&(i=s[s.length-1]),r.vertexCount=-1===t?e.getAttribute("position").count:t,r.vertexStart=null===i?0:i.vertexStart+i.vertexCount;const l=e.getIndex(),c=null!==l;if(c&&(r.indexCount=-1===n?l.count:n,r.indexStart=null===i?0:i.indexStart+i.indexCount),-1!==r.indexStart&&r.indexStart+r.indexCount>this._maxIndexCount||r.vertexStart+r.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const u=this._geometryCount;return this._geometryCount++,s.push(r),a.push({start:c?r.indexStart:r.vertexStart,count:-1}),o.push({boxInitialized:!1,box:new ys,sphereInitialized:!1,sphere:new Fs}),this.setGeometryAt(u,e),u}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,r=null!==n.getIndex(),i=n.getIndex(),s=t.getIndex(),a=this._reservedRanges[e];if(r&&s.count>a.indexCount||t.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const o=a.vertexStart,l=a.vertexCount;for(const d in n.attributes){const e=t.getAttribute(d),r=n.getAttribute(d);td(e,r,o);const i=e.itemSize;for(let t=e.count,n=l;t<n;t++){const e=o+t;for(let t=0;t<i;t++)r.setComponent(e,t,0)}r.needsUpdate=!0,r.addUpdateRange(o*i,l*i)}if(r){const e=a.indexStart;for(let t=0;t<s.count;t++)i.setX(e+t,o+s.getX(t));for(let t=s.count,n=a.indexCount;t<n;t++)i.setX(e+t,o);i.needsUpdate=!0,i.addUpdateRange(e,a.indexCount)}const c=this._bounds[e];null!==t.boundingBox?(c.box.copy(t.boundingBox),c.boxInitialized=!0):c.boxInitialized=!1,null!==t.boundingSphere?(c.sphere.copy(t.boundingSphere),c.sphereInitialized=!0):c.sphereInitialized=!1;const u=this._drawRanges[e],h=t.getAttribute("position");return u.count=r?s.count:h.count,this._visibilityChanged=!0,e}deleteInstance(e){const t=this._drawInfo;return e>=t.length||!1===t[e].active||(t[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0),this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this._bounds[e],r=n.box,i=this.geometry;if(!1===n.boxInitialized){r.makeEmpty();const t=i.index,s=i.attributes.position,a=this._drawRanges[e];for(let e=a.start,n=a.start+a.count;e<n;e++){let n=e;t&&(n=t.getX(n)),r.expandByPoint(Kh.fromBufferAttribute(s,n))}n.boxInitialized=!0}return t.copy(r),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this._bounds[e],r=n.sphere,i=this.geometry;if(!1===n.sphereInitialized){r.makeEmpty(),this.getBoundingBoxAt(e,Yh),Yh.getCenter(r.center);const t=i.index,s=i.attributes.position,a=this._drawRanges[e];let o=0;for(let e=a.start,n=a.start+a.count;e<n;e++){let n=e;t&&(n=t.getX(n)),Kh.fromBufferAttribute(s,n),o=Math.max(o,r.center.distanceToSquared(Kh))}r.radius=Math.sqrt(o),n.sphereInitialized=!0}return t.copy(r),t}setMatrixAt(e,t){const n=this._drawInfo,r=this._matricesTexture,i=this._matricesTexture.image.data;return e>=n.length||!1===n[e].active||(t.toArray(i,16*e),r.needsUpdate=!0),this}getMatrixAt(e,t){const n=this._drawInfo,r=this._matricesTexture.image.data;return e>=n.length||!1===n[e].active?null:t.fromArray(r,16*e)}setColorAt(e,t){null===this._colorsTexture&&this._initColorsTexture();const n=this._colorsTexture,r=this._colorsTexture.image.data,i=this._drawInfo;return e>=i.length||!1===i[e].active||(t.toArray(r,4*e),n.needsUpdate=!0),this}getColorAt(e,t){const n=this._colorsTexture.image.data,r=this._drawInfo;return e>=r.length||!1===r[e].active?null:t.fromArray(n,4*e)}setVisibleAt(e,t){const n=this._drawInfo;return e>=n.length||!1===n[e].active||n[e].visible===t||(n[e].visible=t,this._visibilityChanged=!0),this}getVisibleAt(e){const t=this._drawInfo;return!(e>=t.length||!1===t[e].active)&&t[e].visible}setGeometryIdAt(e,t){const n=this._drawInfo;return e>=n.length||!1===n[e].active||t<0||t>=this._geometryCount?null:(n[e].geometryIndex=t,this)}getGeometryIdAt(e){const t=this._drawInfo;return e>=t.length||!1===t[e].active?-1:t[e].geometryIndex}getGeometryRangeAt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e<0||e>=this._geometryCount)return null;const n=this._drawRanges[e];return t.start=n.start,t.count=n.count,t}raycast(e,t){const n=this._drawInfo,r=this._drawRanges,i=this.matrixWorld,s=this.geometry;$h.material=this.material,$h.geometry.index=s.index,$h.geometry.attributes=s.attributes,null===$h.geometry.boundingBox&&($h.geometry.boundingBox=new ys),null===$h.geometry.boundingSphere&&($h.geometry.boundingSphere=new Fs);for(let a=0,o=n.length;a<o;a++){if(!n[a].visible||!n[a].active)continue;const s=n[a].geometryIndex,o=r[s];$h.geometry.setDrawRange(o.start,o.count),this.getMatrixAt(a,$h.matrixWorld).premultiply(i),this.getBoundingBoxAt(s,$h.geometry.boundingBox),this.getBoundingSphereAt(s,$h.geometry.boundingSphere),$h.raycast(e,ed);for(let e=0,n=ed.length;e<n;e++){const n=ed[e];n.object=this,n.batchId=a,t.push(n)}ed.length=0}$h.material=null,$h.geometry.index=null,$h.geometry.attributes={},$h.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=null!==e.boundingBox?e.boundingBox.clone():null,this.boundingSphere=null!==e.boundingSphere?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map((e=>({...e}))),this._reservedRanges=e._reservedRanges.map((e=>({...e}))),this._drawInfo=e._drawInfo.map((e=>({...e}))),this._bounds=e._bounds.map((e=>({boxInitialized:e.boxInitialized,box:e.box.clone(),sphereInitialized:e.sphereInitialized,sphere:e.sphere.clone()}))),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),null!==this._colorsTexture&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,null!==this._colorsTexture&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,n,r,i){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=r.getIndex(),a=null===s?1:s.array.BYTES_PER_ELEMENT,o=this._drawInfo,l=this._multiDrawStarts,c=this._multiDrawCounts,u=this._drawRanges,h=this.perObjectFrustumCulled,d=this._indirectTexture,f=d.image.data;h&&(Wh.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),Xh.setFromProjectionMatrix(Wh,e.coordinateSystem));let p=0;if(this.sortObjects){Hh.copy(this.matrixWorld).invert(),Kh.setFromMatrixPosition(n.matrixWorld).applyMatrix4(Hh),qh.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(Hh);for(let n=0,r=o.length;n<r;n++)if(o[n].visible&&o[n].active){const e=o[n].geometryIndex;this.getMatrixAt(n,zh),this.getBoundingSphereAt(e,Jh).applyMatrix4(zh);let t=!1;if(h&&(t=!Xh.intersectsSphere(Jh)),!t){const t=Qh.subVectors(Jh.center,Kh).dot(qh);Zh.push(u[e],t,n)}}const e=Zh.list,t=this.customSort;null===t?e.sort(i.transparent?Uh:Fh):t.call(this,e,n);for(let n=0,r=e.length;n<r;n++){const t=e[n];l[p]=t.start*a,c[p]=t.count,f[p]=t.index,p++}Zh.reset()}else for(let m=0,g=o.length;m<g;m++)if(o[m].visible&&o[m].active){const e=o[m].geometryIndex;let t=!1;if(h&&(this.getMatrixAt(m,zh),this.getBoundingSphereAt(e,Jh).applyMatrix4(zh),t=!Xh.intersectsSphere(Jh)),!t){const t=u[e];l[p]=t.start*a,c[p]=t.count,f[p]=m,p++}}d.needsUpdate=!0,this._multiDrawCount=p,this._visibilityChanged=!1}onBeforeShadow(e,t,n,r,i,s){this.onBeforeRender(e,null,r,i,s)}}class rd extends Ha{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ua(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const id=new vs,sd=new vs,ad=new Ys,od=new Xs,ld=new Fs,cd=new vs,ud=new vs;class hd extends ya{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new mo,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new rd;super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,r=t.count;e<r;e++)id.fromBufferAttribute(t,e-1),sd.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=id.distanceTo(sd);e.setAttribute("lineDistance",new ao(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,s=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),ld.copy(n.boundingSphere),ld.applyMatrix4(r),ld.radius+=i,!1===e.ray.intersectsSphere(ld))return;ad.copy(r).invert(),od.copy(e.ray).applyMatrix4(ad);const a=i/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,l=this.isLineSegments?2:1,c=n.index,u=n.attributes.position;if(null!==c){const n=Math.max(0,s.start),r=Math.min(c.count,s.start+s.count);for(let i=n,s=r-1;i<s;i+=l){const n=c.getX(i),r=c.getX(i+1),s=dd(this,e,od,o,n,r);s&&t.push(s)}if(this.isLineLoop){const i=c.getX(r-1),s=c.getX(n),a=dd(this,e,od,o,i,s);a&&t.push(a)}}else{const n=Math.max(0,s.start),r=Math.min(u.count,s.start+s.count);for(let i=n,s=r-1;i<s;i+=l){const n=dd(this,e,od,o,i,i+1);n&&t.push(n)}if(this.isLineLoop){const i=dd(this,e,od,o,r-1,n);i&&t.push(i)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function dd(e,t,n,r,i,s){const a=e.geometry.attributes.position;id.fromBufferAttribute(a,i),sd.fromBufferAttribute(a,s);if(n.distanceSqToSegment(id,sd,cd,ud)>r)return;cd.applyMatrix4(e.matrixWorld);const o=t.ray.origin.distanceTo(cd);return o<t.near||o>t.far?void 0:{distance:o,point:ud.clone().applyMatrix4(e.matrixWorld),index:i,face:null,faceIndex:null,barycoord:null,object:e}}const fd=new vs,pd=new vs;class md extends hd{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,r=t.count;e<r;e+=2)fd.fromBufferAttribute(t,e),pd.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+fd.distanceTo(pd);e.setAttribute("lineDistance",new ao(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class gd extends hd{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class vd extends Ha{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ua(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const xd=new Ys,bd=new Xs,yd=new Fs,wd=new vs;class _d extends ya{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new mo,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new vd;super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,s=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),yd.copy(n.boundingSphere),yd.applyMatrix4(r),yd.radius+=i,!1===e.ray.intersectsSphere(yd))return;xd.copy(r).invert(),bd.copy(e.ray).applyMatrix4(xd);const a=i/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,l=n.index,c=n.attributes.position;if(null!==l){for(let n=Math.max(0,s.start),i=Math.min(l.count,s.start+s.count);n<i;n++){const i=l.getX(n);wd.fromBufferAttribute(c,i),Ad(wd,i,o,r,e,t,this)}}else{for(let n=Math.max(0,s.start),i=Math.min(c.count,s.start+s.count);n<i;n++)wd.fromBufferAttribute(c,n),Ad(wd,n,o,r,e,t,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function Ad(e,t,n,r,i,s,a){const o=bd.distanceSqToPoint(e);if(o<n){const n=new vs;bd.closestPointToPoint(e,n),n.applyMatrix4(r);const l=i.ray.origin.distanceTo(n);if(l<i.near||l>i.far)return;s.push({distance:l,distanceToRay:Math.sqrt(o),point:n,index:t,face:null,faceIndex:null,barycoord:null,object:a})}}class Sd extends ls{constructor(e,t,n,r,i,s,a,o,l){super(e,t,n,r,i,s,a,o,l),this.isVideoTexture=!0,this.minFilter=void 0!==s?s:on,this.magFilter=void 0!==i?i:on,this.generateMipmaps=!1;const c=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){c.needsUpdate=!0,e.requestVideoFrameCallback(t)}))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Ed extends ls{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=tn,this.minFilter=tn,this.generateMipmaps=!1,this.needsUpdate=!0}}class Td extends ls{constructor(e,t,n,r,i,s,a,o,l,c,u,h){super(null,s,a,o,l,c,r,i,u,h),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Md extends Td{constructor(e,t,n,r,i,s){super(e,t,n,i,s),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=$t,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Cd extends Td{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,Yt),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Rd extends ls{constructor(e,t,n,r,i,s,a,o,l){super(e,t,n,r,i,s,a,o,l),this.isCanvasTexture=!0,this.needsUpdate=!0}}class kd{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),i=0;t.push(0);for(let s=1;s<=e;s++)n=this.getPoint(s/e),i+=n.distanceTo(r),t.push(i),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const i=n.length;let s;s=t||e*n[i-1];let a,o=0,l=i-1;for(;o<=l;)if(r=Math.floor(o+(l-o)/2),a=n[r]-s,a<0)o=r+1;else{if(!(a>0)){l=r;break}l=r-1}if(r=l,n[r]===s)return r/(i-1);const c=n[r];return(r+(s-c)/(n[r+1]-c))/(i-1)}getTangent(e,t){const n=1e-4;let r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);const s=this.getPoint(r),a=this.getPoint(i),o=t||(s.isVector2?new Ui:new vs);return o.copy(a).sub(s).normalize(),o}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new vs,r=[],i=[],s=[],a=new vs,o=new Ys;for(let d=0;d<=e;d++){const t=d/e;r[d]=this.getTangentAt(t,new vs)}i[0]=new vs,s[0]=new vs;let l=Number.MAX_VALUE;const c=Math.abs(r[0].x),u=Math.abs(r[0].y),h=Math.abs(r[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),h<=l&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],a),s[0].crossVectors(r[0],i[0]);for(let d=1;d<=e;d++){if(i[d]=i[d-1].clone(),s[d]=s[d-1].clone(),a.crossVectors(r[d-1],r[d]),a.length()>Number.EPSILON){a.normalize();const e=Math.acos(Ii(r[d-1].dot(r[d]),-1,1));i[d].applyMatrix4(o.makeRotationAxis(a,e))}s[d].crossVectors(r[d],i[d])}if(!0===t){let t=Math.acos(Ii(i[0].dot(i[e]),-1,1));t/=e,r[0].dot(a.crossVectors(i[0],i[e]))>0&&(t=-t);for(let n=1;n<=e;n++)i[n].applyMatrix4(o.makeRotationAxis(r[n],t*n)),s[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:s}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Nd extends kd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=s,this.aClockwise=a,this.aRotation=o}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ui,n=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const i=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=n;for(;r>n;)r-=n;r<Number.EPSILON&&(r=i?0:n),!0!==this.aClockwise||i||(r===n?r=-n:r-=n);const s=this.aStartAngle+e*r;let a=this.aX+this.xRadius*Math.cos(s),o=this.aY+this.yRadius*Math.sin(s);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=a-this.aX,r=o-this.aY;a=n*e-r*t+this.aX,o=n*t+r*e+this.aY}return t.set(a,o)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Pd extends Nd{constructor(e,t,n,r,i,s){super(e,t,n,n,r,i,s),this.isArcCurve=!0,this.type="ArcCurve"}}function Id(){let e=0,t=0,n=0,r=0;function i(i,s,a,o){e=i,t=a,n=-3*i+3*s-2*a-o,r=2*i-2*s+a+o}return{initCatmullRom:function(e,t,n,r,s){i(t,n,s*(n-e),s*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,s,a,o){let l=(t-e)/s-(n-e)/(s+a)+(n-t)/a,c=(n-t)/a-(r-t)/(a+o)+(r-n)/o;l*=a,c*=a,i(t,n,l,c)},calc:function(i){const s=i*i;return e+t*i+n*s+r*(s*i)}}}const Ld=new vs,Dd=new Id,Bd=new Id,Od=new Id;class Fd extends kd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new vs,n=this.points,r=n.length,i=(r-(this.closed?0:1))*e;let s,a,o=Math.floor(i),l=i-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/r)+1)*r:0===l&&o===r-1&&(o=r-2,l=1),this.closed||o>0?s=n[(o-1)%r]:(Ld.subVectors(n[0],n[1]).add(n[0]),s=Ld);const c=n[o%r],u=n[(o+1)%r];if(this.closed||o+2<r?a=n[(o+2)%r]:(Ld.subVectors(n[r-1],n[r-2]).add(n[r-1]),a=Ld),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(s.distanceToSquared(c),e),n=Math.pow(c.distanceToSquared(u),e),r=Math.pow(u.distanceToSquared(a),e);n<1e-4&&(n=1),t<1e-4&&(t=n),r<1e-4&&(r=n),Dd.initNonuniformCatmullRom(s.x,c.x,u.x,a.x,t,n,r),Bd.initNonuniformCatmullRom(s.y,c.y,u.y,a.y,t,n,r),Od.initNonuniformCatmullRom(s.z,c.z,u.z,a.z,t,n,r)}else"catmullrom"===this.curveType&&(Dd.initCatmullRom(s.x,c.x,u.x,a.x,this.tension),Bd.initCatmullRom(s.y,c.y,u.y,a.y,this.tension),Od.initCatmullRom(s.z,c.z,u.z,a.z,this.tension));return t.set(Dd.calc(l),Bd.calc(l),Od.calc(l)),t}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new vs).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Ud(e,t,n,r,i){const s=.5*(r-t),a=.5*(i-n),o=e*e;return(2*n-2*r+s+a)*(e*o)+(-3*n+3*r-2*s-a)*o+s*e+n}function jd(e,t,n,r){return function(e,t){const n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function zd(e,t,n,r,i){return function(e,t){const n=1-e;return n*n*n*t}(e,t)+function(e,t){const n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}class Hd extends kd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ui,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ui,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ui,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Ui;super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ui,n=this.v0,r=this.v1,i=this.v2,s=this.v3;return t.set(zd(e,n.x,r.x,i.x,s.x),zd(e,n.y,r.y,i.y,s.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Gd extends kd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new vs,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new vs,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new vs,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new vs;super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new vs,n=this.v0,r=this.v1,i=this.v2,s=this.v3;return t.set(zd(e,n.x,r.x,i.x,s.x),zd(e,n.y,r.y,i.y,s.y),zd(e,n.z,r.z,i.z,s.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Vd extends kd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ui,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ui;super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ui;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ui).subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Wd extends kd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new vs,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new vs;super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new vs;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new vs).subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Xd extends kd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ui,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ui,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ui;super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ui,n=this.v0,r=this.v1,i=this.v2;return t.set(jd(e,n.x,r.x,i.x),jd(e,n.y,r.y,i.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Yd extends kd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new vs,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new vs,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new vs;super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new vs,n=this.v0,r=this.v1,i=this.v2;return t.set(jd(e,n.x,r.x,i.x),jd(e,n.y,r.y,i.y),jd(e,n.z,r.z,i.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Jd extends kd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ui,n=this.points,r=(n.length-1)*e,i=Math.floor(r),s=r-i,a=n[0===i?i:i-1],o=n[i],l=n[i>n.length-2?n.length-1:i+1],c=n[i>n.length-3?n.length-1:i+2];return t.set(Ud(s,a.x,o.x,l.x,c.x),Ud(s,a.y,o.y,l.y,c.y)),t}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new Ui).fromArray(n))}return this}}var Kd=Object.freeze({__proto__:null,ArcCurve:Pd,CatmullRomCurve3:Fd,CubicBezierCurve:Hd,CubicBezierCurve3:Gd,EllipseCurve:Nd,LineCurve:Vd,LineCurve3:Wd,QuadraticBezierCurve:Xd,QuadraticBezierCurve3:Yd,SplineCurve:Jd});class qd extends kd{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=!0===e.isVector2?"LineCurve":"LineCurve3";this.curves.push(new Kd[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let i=0;for(;i<r.length;){if(r[i]>=n){const e=r[i]-n,s=this.curves[i],a=s.getLength(),o=0===a?0:1-e/a;return s.getPointAt(o,t)}i++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40;const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const t=[];let n;for(let r=0,i=this.curves;r<i.length;r++){const s=i[r],a=s.isEllipseCurve?2*e:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,o=s.getPoints(a);for(let e=0;e<o.length;e++){const r=o[e];n&&n.equals(r)||(t.push(r),n=r)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push((new Kd[n.type]).fromJSON(n))}return this}}class Qd extends qd{constructor(e){super(),this.type="Path",this.currentPoint=new Ui,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new Vd(this.currentPoint.clone(),new Ui(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const i=new Xd(this.currentPoint.clone(),new Ui(e,t),new Ui(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,i,s){const a=new Hd(this.currentPoint.clone(),new Ui(e,t),new Ui(n,r),new Ui(i,s));return this.curves.push(a),this.currentPoint.set(i,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new Jd(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,i,s){const a=this.currentPoint.x,o=this.currentPoint.y;return this.absarc(e+a,t+o,n,r,i,s),this}absarc(e,t,n,r,i,s){return this.absellipse(e,t,n,n,r,i,s),this}ellipse(e,t,n,r,i,s,a,o){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,r,i,s,a,o),this}absellipse(e,t,n,r,i,s,a,o){const l=new Nd(e,t,n,r,i,s,a,o);if(this.curves.length>0){const e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Zd extends mo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new Ui(0,-.5),new Ui(.5,0),new Ui(0,.5)],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=Ii(r,0,2*Math.PI);const i=[],s=[],a=[],o=[],l=[],c=1/t,u=new vs,h=new Ui,d=new vs,f=new vs,p=new vs;let m=0,g=0;for(let v=0;v<=e.length-1;v++)switch(v){case 0:m=e[v+1].x-e[v].x,g=e[v+1].y-e[v].y,d.x=1*g,d.y=-m,d.z=0*g,p.copy(d),d.normalize(),o.push(d.x,d.y,d.z);break;case e.length-1:o.push(p.x,p.y,p.z);break;default:m=e[v+1].x-e[v].x,g=e[v+1].y-e[v].y,d.x=1*g,d.y=-m,d.z=0*g,f.copy(d),d.x+=p.x,d.y+=p.y,d.z+=p.z,d.normalize(),o.push(d.x,d.y,d.z),p.copy(f)}for(let v=0;v<=t;v++){const i=n+v*c*r,d=Math.sin(i),f=Math.cos(i);for(let n=0;n<=e.length-1;n++){u.x=e[n].x*d,u.y=e[n].y,u.z=e[n].x*f,s.push(u.x,u.y,u.z),h.x=v/t,h.y=n/(e.length-1),a.push(h.x,h.y);const r=o[3*n+0]*d,i=o[3*n+1],c=o[3*n+0]*f;l.push(r,i,c)}}for(let v=0;v<t;v++)for(let t=0;t<e.length-1;t++){const n=t+v*e.length,r=n,s=n+e.length,a=n+e.length+1,o=n+1;i.push(r,s,o),i.push(a,o,s)}this.setIndex(i),this.setAttribute("position",new ao(s,3)),this.setAttribute("uv",new ao(a,2)),this.setAttribute("normal",new ao(l,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zd(e.points,e.segments,e.phiStart,e.phiLength)}}class $d extends Zd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;const i=new Qd;i.absarc(0,-t/2,e,1.5*Math.PI,0),i.absarc(0,t/2,e,0,.5*Math.PI),super(i.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:n,radialSegments:r}}static fromJSON(e){return new $d(e.radius,e.length,e.capSegments,e.radialSegments)}}class ef extends mo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const i=[],s=[],a=[],o=[],l=new vs,c=new Ui;s.push(0,0,0),a.push(0,0,1),o.push(.5,.5);for(let u=0,h=3;u<=t;u++,h+=3){const i=n+u/t*r;l.x=e*Math.cos(i),l.y=e*Math.sin(i),s.push(l.x,l.y,l.z),a.push(0,0,1),c.x=(s[h]/e+1)/2,c.y=(s[h+1]/e+1)/2,o.push(c.x,c.y)}for(let u=1;u<=t;u++)i.push(u,u+1,0);this.setIndex(i),this.setAttribute("position",new ao(s,3)),this.setAttribute("normal",new ao(a,3)),this.setAttribute("uv",new ao(o,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ef(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class tf extends mo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:a,thetaLength:o};const l=this;r=Math.floor(r),i=Math.floor(i);const c=[],u=[],h=[],d=[];let f=0;const p=[],m=n/2;let g=0;function v(n){const i=f,s=new Ui,p=new vs;let v=0;const x=!0===n?e:t,b=!0===n?1:-1;for(let e=1;e<=r;e++)u.push(0,m*b,0),h.push(0,b,0),d.push(.5,.5),f++;const y=f;for(let e=0;e<=r;e++){const t=e/r*o+a,n=Math.cos(t),i=Math.sin(t);p.x=x*i,p.y=m*b,p.z=x*n,u.push(p.x,p.y,p.z),h.push(0,b,0),s.x=.5*n+.5,s.y=.5*i*b+.5,d.push(s.x,s.y),f++}for(let e=0;e<r;e++){const t=i+e,r=y+e;!0===n?c.push(r,r+1,t):c.push(r+1,r,t),v+=3}l.addGroup(g,v,!0===n?1:2),g+=v}!function(){const s=new vs,v=new vs;let x=0;const b=(t-e)/n;for(let l=0;l<=i;l++){const c=[],g=l/i,x=g*(t-e)+e;for(let e=0;e<=r;e++){const t=e/r,i=t*o+a,l=Math.sin(i),p=Math.cos(i);v.x=x*l,v.y=-g*n+m,v.z=x*p,u.push(v.x,v.y,v.z),s.set(l,b,p).normalize(),h.push(s.x,s.y,s.z),d.push(t,1-g),c.push(f++)}p.push(c)}for(let n=0;n<r;n++)for(let r=0;r<i;r++){const i=p[r][n],s=p[r+1][n],a=p[r+1][n+1],o=p[r][n+1];e>0&&(c.push(i,s,o),x+=3),t>0&&(c.push(s,a,o),x+=3)}l.addGroup(g,x,0),g+=x}(),!1===s&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(c),this.setAttribute("position",new ao(u,3)),this.setAttribute("normal",new ao(h,3)),this.setAttribute("uv",new ao(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tf(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class nf extends tf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;super(0,e,t,n,r,i,s,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:s,thetaLength:a}}static fromJSON(e){return new nf(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class rf extends mo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const i=[],s=[];function a(e,t,n,r){const i=r+1,s=[];for(let a=0;a<=i;a++){s[a]=[];const r=e.clone().lerp(n,a/i),o=t.clone().lerp(n,a/i),l=i-a;for(let e=0;e<=l;e++)s[a][e]=0===e&&a===i?r:r.clone().lerp(o,e/l)}for(let a=0;a<i;a++)for(let e=0;e<2*(i-a)-1;e++){const t=Math.floor(e/2);e%2===0?(o(s[a][t+1]),o(s[a+1][t]),o(s[a][t])):(o(s[a][t+1]),o(s[a+1][t+1]),o(s[a+1][t]))}}function o(e){i.push(e.x,e.y,e.z)}function l(t,n){const r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function c(e,t,n,r){r<0&&1===e.x&&(s[t]=e.x-1),0===n.x&&0===n.z&&(s[t]=r/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}!function(e){const n=new vs,r=new vs,i=new vs;for(let s=0;s<t.length;s+=3)l(t[s+0],n),l(t[s+1],r),l(t[s+2],i),a(n,r,i,e)}(r),function(e){const t=new vs;for(let n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){const e=new vs;for(let n=0;n<i.length;n+=3){e.x=i[n+0],e.y=i[n+1],e.z=i[n+2];const r=u(e)/2/Math.PI+.5,a=(t=e,Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))/Math.PI+.5);s.push(r,1-a)}var t;(function(){const e=new vs,t=new vs,n=new vs,r=new vs,a=new Ui,o=new Ui,l=new Ui;for(let h=0,d=0;h<i.length;h+=9,d+=6){e.set(i[h+0],i[h+1],i[h+2]),t.set(i[h+3],i[h+4],i[h+5]),n.set(i[h+6],i[h+7],i[h+8]),a.set(s[d+0],s[d+1]),o.set(s[d+2],s[d+3]),l.set(s[d+4],s[d+5]),r.copy(e).add(t).add(n).divideScalar(3);const f=u(r);c(a,d+0,e,f),c(o,d+2,t,f),c(l,d+4,n,f)}})(),function(){for(let e=0;e<s.length;e+=6){const t=s[e+0],n=s[e+2],r=s[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(s[e+0]+=1),n<.2&&(s[e+2]+=1),r<.2&&(s[e+4]+=1))}}()}(),this.setAttribute("position",new ao(i,3)),this.setAttribute("normal",new ao(i.slice(),3)),this.setAttribute("uv",new ao(s,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rf(e.vertices,e.indices,e.radius,e.details)}}class sf extends rf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=(1+Math.sqrt(5))/2,r=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new sf(e.radius,e.detail)}}const af=new vs,of=new vs,lf=new vs,cf=new La;class uf extends mo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const n=4,r=Math.pow(10,n),i=Math.cos(ki*t),s=e.getIndex(),a=e.getAttribute("position"),o=s?s.count:a.count,l=[0,0,0],c=["a","b","c"],u=new Array(3),h={},d=[];for(let e=0;e<o;e+=3){s?(l[0]=s.getX(e),l[1]=s.getX(e+1),l[2]=s.getX(e+2)):(l[0]=e,l[1]=e+1,l[2]=e+2);const{a:t,b:n,c:o}=cf;if(t.fromBufferAttribute(a,l[0]),n.fromBufferAttribute(a,l[1]),o.fromBufferAttribute(a,l[2]),cf.getNormal(lf),u[0]=`${Math.round(t.x*r)},${Math.round(t.y*r)},${Math.round(t.z*r)}`,u[1]=`${Math.round(n.x*r)},${Math.round(n.y*r)},${Math.round(n.z*r)}`,u[2]=`${Math.round(o.x*r)},${Math.round(o.y*r)},${Math.round(o.z*r)}`,u[0]!==u[1]&&u[1]!==u[2]&&u[2]!==u[0])for(let e=0;e<3;e++){const t=(e+1)%3,n=u[e],r=u[t],s=cf[c[e]],a=cf[c[t]],o=`${n}_${r}`,f=`${r}_${n}`;f in h&&h[f]?(lf.dot(h[f].normal)<=i&&(d.push(s.x,s.y,s.z),d.push(a.x,a.y,a.z)),h[f]=null):o in h||(h[o]={index0:l[e],index1:l[t],normal:lf.clone()})}}for(const e in h)if(h[e]){const{index0:t,index1:n}=h[e];af.fromBufferAttribute(a,t),of.fromBufferAttribute(a,n),d.push(af.x,af.y,af.z),d.push(of.x,of.y,of.z)}this.setAttribute("position",new ao(d,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class hf extends Qd{constructor(e){super(e),this.uuid=Pi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push((new Qd).fromJSON(n))}return this}}const df=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const r=t&&t.length,i=r?t[0]*n:e.length;let s=ff(e,0,i,n,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,c,u,h,d,f;if(r&&(s=function(e,t,n,r){const i=[];let s,a,o,l,c;for(s=0,a=t.length;s<a;s++)o=t[s]*r,l=s<a-1?t[s+1]*r:e.length,c=ff(e,o,l,r,!1),c===c.next&&(c.steiner=!0),i.push(Sf(c));for(i.sort(yf),s=0;s<i.length;s++)n=wf(i[s],n);return n}(e,t,s,n)),e.length>80*n){o=c=e[0],l=u=e[1];for(let t=n;t<i;t+=n)h=e[t],d=e[t+1],h<o&&(o=h),d<l&&(l=d),h>c&&(c=h),d>u&&(u=d);f=Math.max(c-o,u-l),f=0!==f?32767/f:0}return mf(s,a,n,o,l,f,0),a};function ff(e,t,n,r,i){let s,a;if(i===function(e,t,n,r){let i=0;for(let s=t,a=n-r;s<n;s+=r)i+=(e[a]-e[s])*(e[s+1]+e[a+1]),a=s;return i}(e,t,n,r)>0)for(s=t;s<n;s+=r)a=Lf(s,e[s],e[s+1],a);else for(s=n-r;s>=t;s-=r)a=Lf(s,e[s],e[s+1],a);return a&&Cf(a,a.next)&&(Df(a),a=a.next),a}function pf(e,t){if(!e)return e;t||(t=e);let n,r=e;do{if(n=!1,r.steiner||!Cf(r,r.next)&&0!==Mf(r.prev,r,r.next))r=r.next;else{if(Df(r),r=t=r.prev,r===r.next)break;n=!0}}while(n||r!==t);return t}function mf(e,t,n,r,i,s,a){if(!e)return;!a&&s&&function(e,t,n,r){let i=e;do{0===i.z&&(i.z=Af(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){let t,n,r,i,s,a,o,l,c=1;do{for(n=e,e=null,s=null,a=0;n;){for(a++,r=n,o=0,t=0;t<c&&(o++,r=r.nextZ,r);t++);for(l=c;o>0||l>0&&r;)0!==o&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,o--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:e=i,i.prevZ=s,s=i;n=r}s.nextZ=null,c*=2}while(a>1)}(i)}(e,r,i,s);let o,l,c=e;for(;e.prev!==e.next;)if(o=e.prev,l=e.next,s?vf(e,r,i,s):gf(e))t.push(o.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),Df(e),e=l.next,c=l.next;else if((e=l)===c){a?1===a?mf(e=xf(pf(e),t,n),t,n,r,i,s,2):2===a&&bf(e,t,n,r,i,s):mf(pf(e),t,n,r,i,s,1);break}}function gf(e){const t=e.prev,n=e,r=e.next;if(Mf(t,n,r)>=0)return!1;const i=t.x,s=n.x,a=r.x,o=t.y,l=n.y,c=r.y,u=i<s?i<a?i:a:s<a?s:a,h=o<l?o<c?o:c:l<c?l:c,d=i>s?i>a?i:a:s>a?s:a,f=o>l?o>c?o:c:l>c?l:c;let p=r.next;for(;p!==t;){if(p.x>=u&&p.x<=d&&p.y>=h&&p.y<=f&&Ef(i,o,s,l,a,c,p.x,p.y)&&Mf(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function vf(e,t,n,r){const i=e.prev,s=e,a=e.next;if(Mf(i,s,a)>=0)return!1;const o=i.x,l=s.x,c=a.x,u=i.y,h=s.y,d=a.y,f=o<l?o<c?o:c:l<c?l:c,p=u<h?u<d?u:d:h<d?h:d,m=o>l?o>c?o:c:l>c?l:c,g=u>h?u>d?u:d:h>d?h:d,v=Af(f,p,t,n,r),x=Af(m,g,t,n,r);let b=e.prevZ,y=e.nextZ;for(;b&&b.z>=v&&y&&y.z<=x;){if(b.x>=f&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==a&&Ef(o,u,l,h,c,d,b.x,b.y)&&Mf(b.prev,b,b.next)>=0)return!1;if(b=b.prevZ,y.x>=f&&y.x<=m&&y.y>=p&&y.y<=g&&y!==i&&y!==a&&Ef(o,u,l,h,c,d,y.x,y.y)&&Mf(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;b&&b.z>=v;){if(b.x>=f&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==a&&Ef(o,u,l,h,c,d,b.x,b.y)&&Mf(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;y&&y.z<=x;){if(y.x>=f&&y.x<=m&&y.y>=p&&y.y<=g&&y!==i&&y!==a&&Ef(o,u,l,h,c,d,y.x,y.y)&&Mf(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function xf(e,t,n){let r=e;do{const i=r.prev,s=r.next.next;!Cf(i,s)&&Rf(i,r,r.next,s)&&Pf(i,s)&&Pf(s,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(s.i/n|0),Df(r),Df(r.next),r=e=s),r=r.next}while(r!==e);return pf(r)}function bf(e,t,n,r,i,s){let a=e;do{let e=a.next.next;for(;e!==a.prev;){if(a.i!==e.i&&Tf(a,e)){let o=If(a,e);return a=pf(a,a.next),o=pf(o,o.next),mf(a,t,n,r,i,s,0),void mf(o,t,n,r,i,s,0)}e=e.next}a=a.next}while(a!==e)}function yf(e,t){return e.x-t.x}function wf(e,t){const n=function(e,t){let n,r=t,i=-1/0;const s=e.x,a=e.y;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){const e=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(e<=s&&e>i&&(i=e,n=r.x<r.next.x?r:r.next,e===s))return n}r=r.next}while(r!==t);if(!n)return null;const o=n,l=n.x,c=n.y;let u,h=1/0;r=n;do{s>=r.x&&r.x>=l&&s!==r.x&&Ef(a<c?s:i,a,l,c,a<c?i:s,a,r.x,r.y)&&(u=Math.abs(a-r.y)/(s-r.x),Pf(r,e)&&(u<h||u===h&&(r.x>n.x||r.x===n.x&&_f(n,r)))&&(n=r,h=u)),r=r.next}while(r!==o);return n}(e,t);if(!n)return t;const r=If(n,e);return pf(r,r.next),pf(n,n.next)}function _f(e,t){return Mf(e.prev,e,t.prev)<0&&Mf(t.next,e,e.next)<0}function Af(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Sf(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Ef(e,t,n,r,i,s,a,o){return(i-a)*(t-o)>=(e-a)*(s-o)&&(e-a)*(r-o)>=(n-a)*(t-o)&&(n-a)*(s-o)>=(i-a)*(r-o)}function Tf(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Rf(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Pf(e,t)&&Pf(t,e)&&function(e,t){let n=e,r=!1;const i=(e.x+t.x)/2,s=(e.y+t.y)/2;do{n.y>s!==n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Mf(e.prev,e,t.prev)||Mf(e,t.prev,t))||Cf(e,t)&&Mf(e.prev,e,e.next)>0&&Mf(t.prev,t,t.next)>0)}function Mf(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Cf(e,t){return e.x===t.x&&e.y===t.y}function Rf(e,t,n,r){const i=Nf(Mf(e,t,n)),s=Nf(Mf(e,t,r)),a=Nf(Mf(n,r,e)),o=Nf(Mf(n,r,t));return i!==s&&a!==o||(!(0!==i||!kf(e,n,t))||(!(0!==s||!kf(e,r,t))||(!(0!==a||!kf(n,e,r))||!(0!==o||!kf(n,t,r)))))}function kf(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Nf(e){return e>0?1:e<0?-1:0}function Pf(e,t){return Mf(e.prev,e,e.next)<0?Mf(e,t,e.next)>=0&&Mf(e,e.prev,t)>=0:Mf(e,t,e.prev)<0||Mf(e,e.next,t)<0}function If(e,t){const n=new Bf(e.i,e.x,e.y),r=new Bf(t.i,t.x,t.y),i=e.next,s=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function Lf(e,t,n,r){const i=new Bf(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Df(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Bf(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class Of{static area(e){const t=e.length;let n=0;for(let r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}static isClockWise(e){return Of.area(e)<0}static triangulateShape(e,t){const n=[],r=[],i=[];Ff(e),Uf(n,e);let s=e.length;t.forEach(Ff);for(let o=0;o<t.length;o++)r.push(s),s+=t[o].length,Uf(n,t[o]);const a=df(n,r);for(let o=0;o<a.length;o+=3)i.push(a.slice(o,o+3));return i}}function Ff(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Uf(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class jf extends mo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new hf([new Ui(.5,.5),new Ui(-.5,.5),new Ui(-.5,-.5),new Ui(.5,-.5)]),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],i=[];for(let a=0,o=e.length;a<o;a++){s(e[a])}function s(e){const s=[],a=void 0!==t.curveSegments?t.curveSegments:12,o=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:1;let c=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:.2,h=void 0!==t.bevelSize?t.bevelSize:u-.1,d=void 0!==t.bevelOffset?t.bevelOffset:0,f=void 0!==t.bevelSegments?t.bevelSegments:3;const p=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:zf;let g,v,x,b,y,w=!1;p&&(g=p.getSpacedPoints(o),w=!0,c=!1,v=p.computeFrenetFrames(o,!1),x=new vs,b=new vs,y=new vs),c||(f=0,u=0,h=0,d=0);const _=e.extractPoints(a);let A=_.shape;const S=_.holes;if(!Of.isClockWise(A)){A=A.reverse();for(let e=0,t=S.length;e<t;e++){const t=S[e];Of.isClockWise(t)&&(S[e]=t.reverse())}}const E=Of.triangulateShape(A,S),T=A;for(let t=0,n=S.length;t<n;t++){const e=S[t];A=A.concat(e)}function M(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().addScaledVector(t,n)}const C=A.length,R=E.length;function k(e,t,n){let r,i,s;const a=e.x-t.x,o=e.y-t.y,l=n.x-e.x,c=n.y-e.y,u=a*a+o*o,h=a*c-o*l;if(Math.abs(h)>Number.EPSILON){const h=Math.sqrt(u),d=Math.sqrt(l*l+c*c),f=t.x-o/h,p=t.y+a/h,m=((n.x-c/d-f)*c-(n.y+l/d-p)*l)/(a*c-o*l);r=f+a*m-e.x,i=p+o*m-e.y;const g=r*r+i*i;if(g<=2)return new Ui(r,i);s=Math.sqrt(g/2)}else{let e=!1;a>Number.EPSILON?l>Number.EPSILON&&(e=!0):a<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(o)===Math.sign(c)&&(e=!0),e?(r=-o,i=a,s=Math.sqrt(u)):(r=a,i=o,s=Math.sqrt(u/2))}return new Ui(r/s,i/s)}const N=[];for(let t=0,n=T.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),N[t]=k(T[t],T[r],T[i]);const P=[];let I,L=N.concat();for(let t=0,n=S.length;t<n;t++){const e=S[t];I=[];for(let t=0,n=e.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),I[t]=k(e[t],e[r],e[i]);P.push(I),L=L.concat(I)}for(let t=0;t<f;t++){const e=t/f,n=u*Math.cos(e*Math.PI/2),r=h*Math.sin(e*Math.PI/2)+d;for(let t=0,i=T.length;t<i;t++){const e=M(T[t],N[t],r);O(e.x,e.y,-n)}for(let t=0,i=S.length;t<i;t++){const e=S[t];I=P[t];for(let t=0,i=e.length;t<i;t++){const i=M(e[t],I[t],r);O(i.x,i.y,-n)}}}const D=h+d;for(let t=0;t<C;t++){const e=c?M(A[t],L[t],D):A[t];w?(b.copy(v.normals[0]).multiplyScalar(e.x),x.copy(v.binormals[0]).multiplyScalar(e.y),y.copy(g[0]).add(b).add(x),O(y.x,y.y,y.z)):O(e.x,e.y,0)}for(let t=1;t<=o;t++)for(let e=0;e<C;e++){const n=c?M(A[e],L[e],D):A[e];w?(b.copy(v.normals[t]).multiplyScalar(n.x),x.copy(v.binormals[t]).multiplyScalar(n.y),y.copy(g[t]).add(b).add(x),O(y.x,y.y,y.z)):O(n.x,n.y,l/o*t)}for(let t=f-1;t>=0;t--){const e=t/f,n=u*Math.cos(e*Math.PI/2),r=h*Math.sin(e*Math.PI/2)+d;for(let t=0,i=T.length;t<i;t++){const e=M(T[t],N[t],r);O(e.x,e.y,l+n)}for(let t=0,i=S.length;t<i;t++){const e=S[t];I=P[t];for(let t=0,i=e.length;t<i;t++){const i=M(e[t],I[t],r);w?O(i.x,i.y+g[o-1].y,g[o-1].x+n):O(i.x,i.y,l+n)}}}function B(e,t){let n=e.length;for(;--n>=0;){const r=n;let i=n-1;i<0&&(i=e.length-1);for(let e=0,n=o+2*f;e<n;e++){const n=C*e,s=C*(e+1);U(t+r+n,t+i+n,t+i+s,t+r+s)}}}function O(e,t,n){s.push(e),s.push(t),s.push(n)}function F(e,t,i){j(e),j(t),j(i);const s=r.length/3,a=m.generateTopUV(n,r,s-3,s-2,s-1);z(a[0]),z(a[1]),z(a[2])}function U(e,t,i,s){j(e),j(t),j(s),j(t),j(i),j(s);const a=r.length/3,o=m.generateSideWallUV(n,r,a-6,a-3,a-2,a-1);z(o[0]),z(o[1]),z(o[3]),z(o[1]),z(o[2]),z(o[3])}function j(e){r.push(s[3*e+0]),r.push(s[3*e+1]),r.push(s[3*e+2])}function z(e){i.push(e.x),i.push(e.y)}!function(){const e=r.length/3;if(c){let e=0,t=C*e;for(let n=0;n<R;n++){const e=E[n];F(e[2]+t,e[1]+t,e[0]+t)}e=o+2*f,t=C*e;for(let n=0;n<R;n++){const e=E[n];F(e[0]+t,e[1]+t,e[2]+t)}}else{for(let e=0;e<R;e++){const t=E[e];F(t[2],t[1],t[0])}for(let e=0;e<R;e++){const t=E[e];F(t[0]+C*o,t[1]+C*o,t[2]+C*o)}}n.addGroup(e,r.length/3-e,0)}(),function(){const e=r.length/3;let t=0;B(T,t),t+=T.length;for(let n=0,r=S.length;n<r;n++){const e=S[n];B(e,t),t+=e.length}n.addGroup(e,r.length/3-e,1)}()}this.setAttribute("position",new ao(r,3)),this.setAttribute("uv",new ao(i,2)),this.computeVertexNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(let r=0,i=e.length;r<i;r++){const t=e[r];n.shapes.push(t.uuid)}else n.shapes.push(e.uuid);n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){const n=[];for(let i=0,s=e.shapes.length;i<s;i++){const r=t[e.shapes[i]];n.push(r)}const r=e.options.extrudePath;return void 0!==r&&(e.options.extrudePath=(new Kd[r.type]).fromJSON(r)),new jf(n,e.options)}}const zf={generateTopUV:function(e,t,n,r,i){const s=t[3*n],a=t[3*n+1],o=t[3*r],l=t[3*r+1],c=t[3*i],u=t[3*i+1];return[new Ui(s,a),new Ui(o,l),new Ui(c,u)]},generateSideWallUV:function(e,t,n,r,i,s){const a=t[3*n],o=t[3*n+1],l=t[3*n+2],c=t[3*r],u=t[3*r+1],h=t[3*r+2],d=t[3*i],f=t[3*i+1],p=t[3*i+2],m=t[3*s],g=t[3*s+1],v=t[3*s+2];return Math.abs(o-u)<Math.abs(a-c)?[new Ui(a,1-l),new Ui(c,1-h),new Ui(d,1-p),new Ui(m,1-v)]:[new Ui(o,1-l),new Ui(u,1-h),new Ui(f,1-p),new Ui(g,1-v)]}};class Hf extends rf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Hf(e.radius,e.detail)}}class Gf extends rf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Gf(e.radius,e.detail)}}class Vf extends mo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:s},n=Math.max(3,n),r=Math.max(1,r);const a=[],o=[],l=[],c=[];let u=e;const h=(t-e)/r,d=new vs,f=new Ui;for(let p=0;p<=r;p++){for(let e=0;e<=n;e++){const r=i+e/n*s;d.x=u*Math.cos(r),d.y=u*Math.sin(r),o.push(d.x,d.y,d.z),l.push(0,0,1),f.x=(d.x/t+1)/2,f.y=(d.y/t+1)/2,c.push(f.x,f.y)}u+=h}for(let p=0;p<r;p++){const e=p*(n+1);for(let t=0;t<n;t++){const r=t+e,i=r,s=r+n+1,o=r+n+2,l=r+1;a.push(i,s,l),a.push(s,o,l)}}this.setIndex(a),this.setAttribute("position",new ao(o,3)),this.setAttribute("normal",new ao(l,3)),this.setAttribute("uv",new ao(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vf(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Wf extends mo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new hf([new Ui(0,.5),new Ui(-.5,-.5),new Ui(.5,-.5)]),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],i=[],s=[];let a=0,o=0;if(!1===Array.isArray(e))l(e);else for(let c=0;c<e.length;c++)l(e[c]),this.addGroup(a,o,c),a+=o,o=0;function l(e){const a=r.length/3,l=e.extractPoints(t);let c=l.shape;const u=l.holes;!1===Of.isClockWise(c)&&(c=c.reverse());for(let t=0,n=u.length;t<n;t++){const e=u[t];!0===Of.isClockWise(e)&&(u[t]=e.reverse())}const h=Of.triangulateShape(c,u);for(let t=0,n=u.length;t<n;t++){const e=u[t];c=c.concat(e)}for(let t=0,n=c.length;t<n;t++){const e=c[t];r.push(e.x,e.y,0),i.push(0,0,1),s.push(e.x,e.y)}for(let t=0,r=h.length;t<r;t++){const e=h[t],r=e[0]+a,i=e[1]+a,s=e[2]+a;n.push(r,i,s),o+=3}}this.setIndex(n),this.setAttribute("position",new ao(r,3)),this.setAttribute("normal",new ao(i,3)),this.setAttribute("uv",new ao(s,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,r=e.length;n<r;n++){const r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}static fromJSON(e,t){const n=[];for(let r=0,i=e.shapes.length;r<i;r++){const i=t[e.shapes[r]];n.push(i)}return new Wf(n,e.curveSegments)}}class Xf extends mo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:s,thetaLength:a},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const o=Math.min(s+a,Math.PI);let l=0;const c=[],u=new vs,h=new vs,d=[],f=[],p=[],m=[];for(let g=0;g<=n;g++){const d=[],v=g/n;let x=0;0===g&&0===s?x=.5/t:g===n&&o===Math.PI&&(x=-.5/t);for(let n=0;n<=t;n++){const o=n/t;u.x=-e*Math.cos(r+o*i)*Math.sin(s+v*a),u.y=e*Math.cos(s+v*a),u.z=e*Math.sin(r+o*i)*Math.sin(s+v*a),f.push(u.x,u.y,u.z),h.copy(u).normalize(),p.push(h.x,h.y,h.z),m.push(o+x,1-v),d.push(l++)}c.push(d)}for(let g=0;g<n;g++)for(let e=0;e<t;e++){const t=c[g][e+1],r=c[g][e],i=c[g+1][e],a=c[g+1][e+1];(0!==g||s>0)&&d.push(t,r,a),(g!==n-1||o<Math.PI)&&d.push(r,i,a)}this.setIndex(d),this.setAttribute("position",new ao(f,3)),this.setAttribute("normal",new ao(p,3)),this.setAttribute("uv",new ao(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xf(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Yf extends rf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Yf(e.radius,e.detail)}}class Jf extends mo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:48,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},n=Math.floor(n),r=Math.floor(r);const s=[],a=[],o=[],l=[],c=new vs,u=new vs,h=new vs;for(let d=0;d<=n;d++)for(let s=0;s<=r;s++){const f=s/r*i,p=d/n*Math.PI*2;u.x=(e+t*Math.cos(p))*Math.cos(f),u.y=(e+t*Math.cos(p))*Math.sin(f),u.z=t*Math.sin(p),a.push(u.x,u.y,u.z),c.x=e*Math.cos(f),c.y=e*Math.sin(f),h.subVectors(u,c).normalize(),o.push(h.x,h.y,h.z),l.push(s/r),l.push(d/n)}for(let d=1;d<=n;d++)for(let e=1;e<=r;e++){const t=(r+1)*d+e-1,n=(r+1)*(d-1)+e-1,i=(r+1)*(d-1)+e,a=(r+1)*d+e;s.push(t,n,a),s.push(n,i,a)}this.setIndex(s),this.setAttribute("position",new ao(a,3)),this.setAttribute("normal",new ao(o,3)),this.setAttribute("uv",new ao(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jf(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Kf extends mo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:s},n=Math.floor(n),r=Math.floor(r);const a=[],o=[],l=[],c=[],u=new vs,h=new vs,d=new vs,f=new vs,p=new vs,m=new vs,g=new vs;for(let x=0;x<=n;++x){const a=x/n*i*Math.PI*2;v(a,i,s,e,d),v(a+.01,i,s,e,f),m.subVectors(f,d),g.addVectors(f,d),p.crossVectors(m,g),g.crossVectors(p,m),p.normalize(),g.normalize();for(let e=0;e<=r;++e){const i=e/r*Math.PI*2,s=-t*Math.cos(i),a=t*Math.sin(i);u.x=d.x+(s*g.x+a*p.x),u.y=d.y+(s*g.y+a*p.y),u.z=d.z+(s*g.z+a*p.z),o.push(u.x,u.y,u.z),h.subVectors(u,d).normalize(),l.push(h.x,h.y,h.z),c.push(x/n),c.push(e/r)}}for(let x=1;x<=n;x++)for(let e=1;e<=r;e++){const t=(r+1)*(x-1)+(e-1),n=(r+1)*x+(e-1),i=(r+1)*x+e,s=(r+1)*(x-1)+e;a.push(t,n,s),a.push(n,i,s)}function v(e,t,n,r,i){const s=Math.cos(e),a=Math.sin(e),o=n/t*e,l=Math.cos(o);i.x=r*(2+l)*.5*s,i.y=r*(2+l)*a*.5,i.z=r*Math.sin(o)*.5}this.setIndex(a),this.setAttribute("position",new ao(o,3)),this.setAttribute("normal",new ao(l,3)),this.setAttribute("uv",new ao(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Kf(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class qf extends mo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Yd(new vs(-1,-1,0),new vs(-1,1,0),new vs(1,1,0)),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i};const s=e.computeFrenetFrames(t,i);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const a=new vs,o=new vs,l=new Ui;let c=new vs;const u=[],h=[],d=[],f=[];function p(i){c=e.getPointAt(i/t,c);const l=s.normals[i],d=s.binormals[i];for(let e=0;e<=r;e++){const t=e/r*Math.PI*2,i=Math.sin(t),s=-Math.cos(t);o.x=s*l.x+i*d.x,o.y=s*l.y+i*d.y,o.z=s*l.z+i*d.z,o.normalize(),h.push(o.x,o.y,o.z),a.x=c.x+n*o.x,a.y=c.y+n*o.y,a.z=c.z+n*o.z,u.push(a.x,a.y,a.z)}}!function(){for(let e=0;e<t;e++)p(e);p(!1===i?t:0),function(){for(let e=0;e<=t;e++)for(let n=0;n<=r;n++)l.x=e/t,l.y=n/r,d.push(l.x,l.y)}(),function(){for(let e=1;e<=t;e++)for(let t=1;t<=r;t++){const n=(r+1)*(e-1)+(t-1),i=(r+1)*e+(t-1),s=(r+1)*e+t,a=(r+1)*(e-1)+t;f.push(n,i,a),f.push(i,s,a)}}()}(),this.setIndex(f),this.setAttribute("position",new ao(u,3)),this.setAttribute("normal",new ao(h,3)),this.setAttribute("uv",new ao(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new qf((new Kd[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Qf extends mo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},null!==e){const t=[],n=new Set,r=new vs,i=new vs;if(null!==e.index){const s=e.attributes.position,a=e.index;let o=e.groups;0===o.length&&(o=[{start:0,count:a.count,materialIndex:0}]);for(let e=0,l=o.length;e<l;++e){const l=o[e],c=l.start;for(let e=c,o=c+l.count;e<o;e+=3)for(let l=0;l<3;l++){const o=a.getX(e+l),c=a.getX(e+(l+1)%3);r.fromBufferAttribute(s,o),i.fromBufferAttribute(s,c),!0===Zf(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}}else{const s=e.attributes.position;for(let e=0,a=s.count/3;e<a;e++)for(let o=0;o<3;o++){const a=3*e+o,l=3*e+(o+1)%3;r.fromBufferAttribute(s,a),i.fromBufferAttribute(s,l),!0===Zf(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}this.setAttribute("position",new ao(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Zf(e,t,n){const r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`,i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`;return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var $f=Object.freeze({__proto__:null,BoxGeometry:Ro,CapsuleGeometry:$d,CircleGeometry:ef,ConeGeometry:nf,CylinderGeometry:tf,DodecahedronGeometry:sf,EdgesGeometry:uf,ExtrudeGeometry:jf,IcosahedronGeometry:Hf,LatheGeometry:Zd,OctahedronGeometry:Gf,PlaneGeometry:$o,PolyhedronGeometry:rf,RingGeometry:Vf,ShapeGeometry:Wf,SphereGeometry:Xf,TetrahedronGeometry:Yf,TorusGeometry:Jf,TorusKnotGeometry:Kf,TubeGeometry:qf,WireframeGeometry:Qf});class ep extends Ha{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ua(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class tp extends Lo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class np extends Ha{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ua(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ua(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ir,this.normalScale=new Ui(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ra,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class rp extends np{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ui(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ii(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ua(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ua(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ua(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!==e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!==e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class ip extends Ha{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ua(16777215),this.specular=new Ua(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ua(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ir,this.normalScale=new Ui(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ra,this.combine=It,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class sp extends Ha{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ua(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ua(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ir,this.normalScale=new Ui(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class ap extends Ha{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ir,this.normalScale=new Ui(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class op extends Ha{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ua(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ua(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ir,this.normalScale=new Ui(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ra,this.combine=It,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class lp extends Ha{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ua(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ir,this.normalScale=new Ui(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class cp extends rd{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function up(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function hp(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function dp(e){const t=e.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n}function fp(e,t,n){const r=e.length,i=new e.constructor(r);for(let s=0,a=0;a!==r;++s){const r=n[s]*t;for(let n=0;n!==t;++n)i[a++]=e[r+n]}return i}function pp(e,t,n,r){let i=1,s=e[0];for(;void 0!==s&&void 0===s[r];)s=e[i++];if(void 0===s)return;let a=s[r];if(void 0!==a)if(Array.isArray(a))do{a=s[r],void 0!==a&&(t.push(s.time),n.push.apply(n,a)),s=e[i++]}while(void 0!==s);else if(void 0!==a.toArray)do{a=s[r],void 0!==a&&(t.push(s.time),a.toArray(n,n.length)),s=e[i++]}while(void 0!==s);else do{a=s[r],void 0!==a&&(t.push(s.time),n.push(a)),s=e[i++]}while(void 0!==s)}const mp={convertArray:up,isTypedArray:hp,getKeyframeOrder:dp,sortedArray:fp,flattenJSON:pp,subclip:function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30;const s=e.clone();s.name=t;const a=[];for(let l=0;l<s.tracks.length;++l){const e=s.tracks[l],t=e.getValueSize(),o=[],c=[];for(let s=0;s<e.times.length;++s){const a=e.times[s]*i;if(!(a<n||a>=r)){o.push(e.times[s]);for(let n=0;n<t;++n)c.push(e.values[s*t+n])}}0!==o.length&&(e.times=up(o,e.times.constructor),e.values=up(c,e.values.constructor),a.push(e))}s.tracks=a;let o=1/0;for(let l=0;l<s.tracks.length;++l)o>s.tracks[l].times[0]&&(o=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*o);return s.resetDuration(),s},makeClipAdditive:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);const i=n.tracks.length,s=t/r;for(let a=0;a<i;++a){const t=n.tracks[a],r=t.ValueTypeName;if("bool"===r||"string"===r)continue;const i=e.tracks.find((function(e){return e.name===t.name&&e.ValueTypeName===r}));if(void 0===i)continue;let o=0;const l=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(o=l/3);let c=0;const u=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);const h=t.times.length-1;let d;if(s<=t.times[0]){const e=o,n=l-o;d=t.values.slice(e,n)}else if(s>=t.times[h]){const e=h*l+o,n=e+l-o;d=t.values.slice(e,n)}else{const e=t.createInterpolant(),n=o,r=l-o;e.evaluate(s),d=e.resultBuffer.slice(n,r)}if("quaternion"===r){(new gs).fromArray(d).normalize().conjugate().toArray(d)}const f=i.times.length;for(let e=0;e<f;++e){const t=e*u+c;if("quaternion"===r)gs.multiplyQuaternionsFlat(i.values,t,d,0,i.values,t);else{const e=u-2*c;for(let n=0;n<e;++n)i.values[t+n]-=d[n]}}}return e.blendMode=Er,e}};class gp{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{let s;n:{r:if(!(e<r)){for(let s=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===s)break;if(i=r,r=t[++n],e<r)break t}s=t.length;break n}if(e>=i)break e;{const a=t[1];e<a&&(n=2,i=a);for(let s=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===s)break;if(r=i,i=t[--n-1],e>=i)break t}s=n,n=0}}for(;n<s;){const r=n+s>>>1;e<t[r]?s=r:n=r+1}if(r=t[n],i=t[n-1],void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r;for(let s=0;s!==r;++s)t[s]=n[i+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class vp extends gp{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:wr,endingEnd:wr}}intervalChanged_(e,t,n){const r=this.parameterPositions;let i=e-2,s=e+1,a=r[i],o=r[s];if(void 0===a)switch(this.getSettings_().endingStart){case _r:i=e,a=2*t-n;break;case Ar:i=r.length-2,a=t+r[i]-r[i+1];break;default:i=e,a=n}if(void 0===o)switch(this.getSettings_().endingEnd){case _r:s=e,o=2*n-t;break;case Ar:s=1,o=n+r[1]-r[0];break;default:s=e-1,o=t}const l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(o-n),this._offsetPrev=i*c,this._offsetNext=s*c}interpolate_(e,t,n,r){const i=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=e*a,l=o-a,c=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,d=this._weightNext,f=(n-t)/(r-t),p=f*f,m=p*f,g=-h*m+2*h*p-h*f,v=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*f+1,x=(-1-d)*m+(1.5+d)*p+.5*f,b=d*m-d*p;for(let y=0;y!==a;++y)i[y]=g*s[c+y]+v*s[l+y]+x*s[o+y]+b*s[u+y];return i}}class xp extends gp{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=e*a,l=o-a,c=(n-t)/(r-t),u=1-c;for(let h=0;h!==a;++h)i[h]=s[l+h]*u+s[o+h]*c;return i}}class bp extends gp{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class yp{constructor(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=up(t,this.TimeBufferType),this.values=up(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:up(e.times,Array),values:up(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new bp(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new xp(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new vp(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case xr:t=this.InterpolantFactoryMethodDiscrete;break;case br:t=this.InterpolantFactoryMethodLinear;break;case yr:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return xr;case this.InterpolantFactoryMethodLinear:return br;case this.InterpolantFactoryMethodSmooth:return yr}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let i=0,s=r-1;for(;i!==r&&n[i]<e;)++i;for(;-1!==s&&n[s]>t;)--s;if(++s,0!==i||s!==r){i>=s&&(s=Math.max(s,1),i=s-1);const e=this.getValueSize();this.times=n.slice(i,s),this.values=this.values.slice(i*e,s*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let a=0;a!==i;a++){const t=n[a];if("number"===typeof t&&isNaN(t)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,t),e=!1;break}if(null!==s&&s>t){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,t,s),e=!1;break}s=t}if(void 0!==r&&hp(r))for(let a=0,o=r.length;a!==o;++a){const t=r[a];if(isNaN(t)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,t),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===yr,i=e.length-1;let s=1;for(let a=1;a<i;++a){let i=!1;const o=e[a];if(o!==e[a+1]&&(1!==a||o!==e[0]))if(r)i=!0;else{const e=a*n,r=e-n,s=e+n;for(let a=0;a!==n;++a){const n=t[e+a];if(n!==t[r+a]||n!==t[s+a]){i=!0;break}}}if(i){if(a!==s){e[s]=e[a];const r=a*n,i=s*n;for(let e=0;e!==n;++e)t[i+e]=t[r+e]}++s}}if(i>0){e[s]=e[i];for(let e=i*n,r=s*n,a=0;a!==n;++a)t[r+a]=t[e+a];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=t.slice(0,s*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}yp.prototype.TimeBufferType=Float32Array,yp.prototype.ValueBufferType=Float32Array,yp.prototype.DefaultInterpolation=br;class wp extends yp{constructor(e,t,n){super(e,t,n)}}wp.prototype.ValueTypeName="bool",wp.prototype.ValueBufferType=Array,wp.prototype.DefaultInterpolation=xr,wp.prototype.InterpolantFactoryMethodLinear=void 0,wp.prototype.InterpolantFactoryMethodSmooth=void 0;class _p extends yp{}_p.prototype.ValueTypeName="color";class Ap extends yp{}Ap.prototype.ValueTypeName="number";class Sp extends gp{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=(n-t)/(r-t);let l=e*a;for(let c=l+a;l!==c;l+=4)gs.slerpFlat(i,0,s,l-a,s,l,o);return i}}class Ep extends yp{InterpolantFactoryMethodLinear(e){return new Sp(this.times,this.values,this.getValueSize(),e)}}Ep.prototype.ValueTypeName="quaternion",Ep.prototype.InterpolantFactoryMethodSmooth=void 0;class Tp extends yp{constructor(e,t,n){super(e,t,n)}}Tp.prototype.ValueTypeName="string",Tp.prototype.ValueBufferType=Array,Tp.prototype.DefaultInterpolation=xr,Tp.prototype.InterpolantFactoryMethodLinear=void 0,Tp.prototype.InterpolantFactoryMethodSmooth=void 0;class Mp extends yp{}Mp.prototype.ValueTypeName="vector";class Cp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Sr;this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=Pi(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let s=0,a=n.length;s!==a;++s)t.push(Rp(n[s]).scale(r));const i=new this(e.name,e.duration,t,e.blendMode);return i.uuid=e.uuid,i}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let i=0,s=n.length;i!==s;++i)t.push(yp.toJSON(n[i]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const i=t.length,s=[];for(let a=0;a<i;a++){let e=[],o=[];e.push((a+i-1)%i,a,(a+1)%i),o.push(0,1,0);const l=dp(e);e=fp(e,1,l),o=fp(o,1,l),r||0!==e[0]||(e.push(i),o.push(o[0])),s.push(new Ap(".morphTargetInfluences["+t[a].name+"]",e,o).scale(1/n))}return new this(e,-1,s)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},i=/^([\w-]*?)([\d]+)$/;for(let a=0,o=e.length;a<o;a++){const t=e[a],n=t.name.match(i);if(n&&n.length>1){const e=n[1];let i=r[e];i||(r[e]=i=[]),i.push(t)}}const s=[];for(const a in r)s.push(this.CreateFromMorphTargetSequence(a,r[a],t,n));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(e,t,n,r,i){if(0!==n.length){const s=[],a=[];pp(n,s,a,r),0!==s.length&&i.push(new e(t,s,a))}},r=[],i=e.name||"default",s=e.fps||30,a=e.blendMode;let o=e.length||-1;const l=e.hierarchy||[];for(let c=0;c<l.length;c++){const e=l[c].keys;if(e&&0!==e.length)if(e[0].morphTargets){const t={};let n;for(n=0;n<e.length;n++)if(e[n].morphTargets)for(let r=0;r<e[n].morphTargets.length;r++)t[e[n].morphTargets[r]]=-1;for(const i in t){const t=[],s=[];for(let r=0;r!==e[n].morphTargets.length;++r){const r=e[n];t.push(r.time),s.push(r.morphTarget===i?1:0)}r.push(new Ap(".morphTargetInfluence["+i+"]",t,s))}o=t.length*s}else{const i=".bones["+t[c].name+"]";n(Mp,i+".position",e,"pos",r),n(Ep,i+".quaternion",e,"rot",r),n(Mp,i+".scale",e,"scl",r)}}if(0===r.length)return null;return new this(i,o,r,a)}resetDuration(){let e=0;for(let t=0,n=this.tracks.length;t!==n;++t){const n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Rp(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ap;case"vector":case"vector2":case"vector3":case"vector4":return Mp;case"color":return _p;case"quaternion":return Ep;case"bool":case"boolean":return wp;case"string":return Tp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],n=[];pp(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const kp={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class Np{constructor(e,t,n){const r=this;let i,s=!1,a=0,o=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){o++,!1===s&&void 0!==r.onStart&&r.onStart(e,a,o),s=!0},this.itemEnd=function(e){a++,void 0!==r.onProgress&&r.onProgress(e,a,o),a===o&&(s=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return i?i(e):e},this.setURLModifier=function(e){return i=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],r=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null}}}const Pp=new Np;class Ip{constructor(e){this.manager=void 0!==e?e:Pp,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Ip.DEFAULT_MATERIAL_NAME="__DEFAULT";const Lp={};class Dp extends Error{constructor(e,t){super(e),this.response=t}}class Bp extends Ip{constructor(e){super(e)}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=kp.get(e);if(void 0!==i)return this.manager.itemStart(e),setTimeout((()=>{t&&t(i),this.manager.itemEnd(e)}),0),i;if(void 0!==Lp[e])return void Lp[e].push({onLoad:t,onProgress:n,onError:r});Lp[e]=[],Lp[e].push({onLoad:t,onProgress:n,onError:r});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,o=this.responseType;fetch(s).then((t=>{if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;const n=Lp[e],r=t.body.getReader(),i=t.headers.get("X-File-Size")||t.headers.get("Content-Length"),s=i?parseInt(i):0,a=0!==s;let o=0;const l=new ReadableStream({start(e){!function t(){r.read().then((r=>{let{done:i,value:l}=r;if(i)e.close();else{o+=l.byteLength;const r=new ProgressEvent("progress",{lengthComputable:a,loaded:o,total:s});for(let e=0,t=n.length;e<t;e++){const t=n[e];t.onProgress&&t.onProgress(r)}e.enqueue(l),t()}}),(t=>{e.error(t)}))}()}});return new Response(l)}throw new Dp(`fetch for "${t.url}" responded with ${t.status}: ${t.statusText}`,t)})).then((e=>{switch(o){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((e=>(new DOMParser).parseFromString(e,a)));case"json":return e.json();default:if(void 0===a)return e.text();{const t=/charset="?([^;"\s]*)"?/i.exec(a),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((e=>r.decode(e)))}}})).then((t=>{kp.add(e,t);const n=Lp[e];delete Lp[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onLoad&&r.onLoad(t)}})).catch((t=>{const n=Lp[e];if(void 0===n)throw this.manager.itemError(e),t;delete Lp[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onError&&r.onError(t)}this.manager.itemError(e)})).finally((()=>{this.manager.itemEnd(e)})),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Op extends Ip{constructor(e){super(e)}load(e,t,n,r){const i=this,s=new Bp(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(TS){r?r(TS):console.error(TS),i.manager.itemError(e)}}),n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=Cp.parse(e[n]);t.push(r)}return t}}class Fp extends Ip{constructor(e){super(e)}load(e,t,n,r){const i=this,s=[],a=new Td,o=new Bp(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(i.withCredentials);let l=0;function c(c){o.load(e[c],(function(e){const n=i.parse(e,!0);s[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(a.minFilter=on),a.image=s,a.format=n.format,a.needsUpdate=!0,t&&t(a))}),n,r)}if(Array.isArray(e))for(let u=0,h=e.length;u<h;++u)c(u);else o.load(e,(function(e){const n=i.parse(e,!0);if(n.isCubemap){const e=n.mipmaps.length/n.mipmapCount;for(let t=0;t<e;t++){s[t]={mipmaps:[]};for(let e=0;e<n.mipmapCount;e++)s[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+e]),s[t].format=n.format,s[t].width=n.width,s[t].height=n.height}a.image=s}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=on),a.format=n.format,a.needsUpdate=!0,t&&t(a)}),n,r);return a}}class Up extends Ip{constructor(e){super(e)}load(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,s=kp.get(e);if(void 0!==s)return i.manager.itemStart(e),setTimeout((function(){t&&t(s),i.manager.itemEnd(e)}),0),s;const a=Wi("img");function o(){c(),kp.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){c(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function c(){a.removeEventListener("load",o,!1),a.removeEventListener("error",l,!1)}return a.addEventListener("load",o,!1),a.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a}}class jp extends Ip{constructor(e){super(e)}load(e,t,n,r){const i=new Ho;i.colorSpace=Br;const s=new Up(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let a=0;function o(n){s.load(e[n],(function(e){i.images[n]=e,a++,6===a&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(let l=0;l<e.length;++l)o(l);return i}}class zp extends Ip{constructor(e){super(e)}load(e,t,n,r){const i=this,s=new Eh,a=new Bp(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(i.withCredentials),a.load(e,(function(e){let n;try{n=i.parse(e)}catch(Cx){if(void 0===r)return void console.error(Cx);r(Cx)}void 0!==n.image?s.image=n.image:void 0!==n.data&&(s.image.width=n.width,s.image.height=n.height,s.image.data=n.data),s.wrapS=void 0!==n.wrapS?n.wrapS:$t,s.wrapT=void 0!==n.wrapT?n.wrapT:$t,s.magFilter=void 0!==n.magFilter?n.magFilter:on,s.minFilter=void 0!==n.minFilter?n.minFilter:on,s.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.colorSpace&&(s.colorSpace=n.colorSpace),void 0!==n.flipY&&(s.flipY=n.flipY),void 0!==n.format&&(s.format=n.format),void 0!==n.type&&(s.type=n.type),void 0!==n.mipmaps&&(s.mipmaps=n.mipmaps,s.minFilter=un),1===n.mipmapCount&&(s.minFilter=on),void 0!==n.generateMipmaps&&(s.generateMipmaps=n.generateMipmaps),s.needsUpdate=!0,t&&t(s,n)}),n,r),s}}class Hp extends Ip{constructor(e){super(e)}load(e,t,n,r){const i=new ls,s=new Up(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}class Gp extends ya{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;super(),this.isLight=!0,this.type="Light",this.color=new Ua(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(t.object.target=this.target.uuid),t}}class Vp extends Gp{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(ya.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ua(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Wp=new Ys,Xp=new vs,Yp=new vs;class Jp{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ui(512,512),this.map=null,this.mapPass=null,this.matrix=new Ys,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new qo,this._frameExtents=new Ui(1,1),this._viewportCount=1,this._viewports=[new cs(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;Xp.setFromMatrixPosition(e.matrixWorld),t.position.copy(Xp),Yp.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Yp),t.updateMatrixWorld(),Wp.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Wp),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Wp)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 1!==this.intensity&&(e.intensity=this.intensity),0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Kp extends Jp{constructor(){super(new Uo(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=2*Ni*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class qp extends Gp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(ya.DEFAULT_UP),this.updateMatrix(),this.target=new ya,this.distance=n,this.angle=r,this.penumbra=i,this.decay=s,this.map=null,this.shadow=new Kp}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Qp=new Ys,Zp=new vs,$p=new vs;class em extends Jp{constructor(){super(new Uo(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ui(4,2),this._viewportCount=6,this._viewports=[new cs(2,1,1,1),new cs(0,1,1,1),new cs(3,1,1,1),new cs(1,1,1,1),new cs(3,0,1,1),new cs(1,0,1,1)],this._cubeDirections=[new vs(1,0,0),new vs(-1,0,0),new vs(0,0,1),new vs(0,0,-1),new vs(0,1,0),new vs(0,-1,0)],this._cubeUps=[new vs(0,1,0),new vs(0,1,0),new vs(0,1,0),new vs(0,1,0),new vs(0,0,1),new vs(0,0,-1)]}updateMatrices(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),Zp.setFromMatrixPosition(e.matrixWorld),n.position.copy(Zp),$p.copy(n.position),$p.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt($p),n.updateMatrixWorld(),r.makeTranslation(-Zp.x,-Zp.y,-Zp.z),Qp.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Qp)}}class tm extends Gp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new em}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class nm extends Jp{constructor(){super(new dl(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class rm extends Gp{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(ya.DEFAULT_UP),this.updateMatrix(),this.target=new ya,this.shadow=new nm}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class im extends Gp{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class sm extends Gp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class am{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new vs)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,i=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*r),t.addScaledVector(s[2],.488603*i),t.addScaledVector(s[3],.488603*n),t.addScaledVector(s[4],n*r*1.092548),t.addScaledVector(s[5],r*i*1.092548),t.addScaledVector(s[6],.315392*(3*i*i-1)),t.addScaledVector(s[7],n*i*1.092548),t.addScaledVector(s[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,i=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],1.023328*r),t.addScaledVector(s[2],1.023328*i),t.addScaledVector(s[3],1.023328*n),t.addScaledVector(s[4],.858086*n*r),t.addScaledVector(s[5],.858086*r*i),t.addScaledVector(s[6],.743125*i*i-.247708),t.addScaledVector(s[7],.858086*n*i),t.addScaledVector(s[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}static getBasisAt(e,t){const n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}class om extends Gp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new am;super(void 0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class lm extends Ip{constructor(e){super(e),this.textures={}}load(e,t,n,r){const i=this,s=new Bp(i.manager);s.setPath(i.path),s.setRequestHeader(i.requestHeader),s.setWithCredentials(i.withCredentials),s.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(TS){r?r(TS):console.error(TS),i.manager.itemError(e)}}),n,r)}parse(e){const t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}const r=this.createMaterialFromType(e.type);if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=e.sheen),void 0!==e.sheenColor&&(r.sheenColor=(new Ua).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(r.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.specularIntensity&&(r.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==r.specularColor&&r.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.dispersion&&(r.dispersion=e.dispersion),void 0!==e.iridescence&&(r.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(r.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.thickness&&(r.thickness=e.thickness),void 0!==e.attenuationDistance&&(r.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(e.attenuationColor),void 0!==e.anisotropy&&(r.anisotropy=e.anisotropy),void 0!==e.anisotropyRotation&&(r.anisotropyRotation=e.anisotropyRotation),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.shadowSide&&(r.shadowSide=e.shadowSide),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.alphaHash&&(r.alphaHash=e.alphaHash),void 0!==e.depthFunc&&(r.depthFunc=e.depthFunc),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.blendSrc&&(r.blendSrc=e.blendSrc),void 0!==e.blendDst&&(r.blendDst=e.blendDst),void 0!==e.blendEquation&&(r.blendEquation=e.blendEquation),void 0!==e.blendSrcAlpha&&(r.blendSrcAlpha=e.blendSrcAlpha),void 0!==e.blendDstAlpha&&(r.blendDstAlpha=e.blendDstAlpha),void 0!==e.blendEquationAlpha&&(r.blendEquationAlpha=e.blendEquationAlpha),void 0!==e.blendColor&&void 0!==r.blendColor&&r.blendColor.setHex(e.blendColor),void 0!==e.blendAlpha&&(r.blendAlpha=e.blendAlpha),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),void 0!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.alphaToCoverage&&(r.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(r.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(r.forceSinglePass=e.forceSinglePass),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(const i in e.uniforms){const t=e.uniforms[i];switch(r.uniforms[i]={},t.type){case"t":r.uniforms[i].value=n(t.value);break;case"c":r.uniforms[i].value=(new Ua).setHex(t.value);break;case"v2":r.uniforms[i].value=(new Ui).fromArray(t.value);break;case"v3":r.uniforms[i].value=(new vs).fromArray(t.value);break;case"v4":r.uniforms[i].value=(new cs).fromArray(t.value);break;case"m3":r.uniforms[i].value=(new ji).fromArray(t.value);break;case"m4":r.uniforms[i].value=(new Ys).fromArray(t.value);break;default:r.uniforms[i].value=t.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(r.glslVersion=e.glslVersion),void 0!==e.extensions)for(const i in e.extensions)r.extensions[i]=e.extensions[i];if(void 0!==e.lights&&(r.lights=e.lights),void 0!==e.clipping&&(r.clipping=e.clipping),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),r.normalScale=(new Ui).fromArray(t)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.specularIntensityMap&&(r.specularIntensityMap=n(e.specularIntensityMap)),void 0!==e.specularColorMap&&(r.specularColorMap=n(e.specularColorMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapRotation&&r.envMapRotation.fromArray(e.envMapRotation),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new Ui).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(r.iridescenceMap=n(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(r.thicknessMap=n(e.thicknessMap)),void 0!==e.anisotropyMap&&(r.anisotropyMap=n(e.anisotropyMap)),void 0!==e.sheenColorMap&&(r.sheenColorMap=n(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return lm.createMaterialFromType(e)}static createMaterialFromType(e){return new{ShadowMaterial:ep,SpriteMaterial:Ku,RawShaderMaterial:tp,ShaderMaterial:Lo,PointsMaterial:vd,MeshPhysicalMaterial:rp,MeshStandardMaterial:np,MeshPhongMaterial:ip,MeshToonMaterial:sp,MeshNormalMaterial:ap,MeshLambertMaterial:op,MeshDepthMaterial:Au,MeshDistanceMaterial:Su,MeshBasicMaterial:Ga,MeshMatcapMaterial:lp,LineDashedMaterial:cp,LineBasicMaterial:rd,Material:Ha}[e]}}class cm{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),"undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(TS){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class um extends mo{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class hm extends Ip{constructor(e){super(e)}load(e,t,n,r){const i=this,s=new Bp(i.manager);s.setPath(i.path),s.setRequestHeader(i.requestHeader),s.setWithCredentials(i.withCredentials),s.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(TS){r?r(TS):console.error(TS),i.manager.itemError(e)}}),n,r)}parse(e){const t={},n={};function r(e,r){if(void 0!==t[r])return t[r];const i=e.interleavedBuffers[r],s=function(e,t){if(void 0!==n[t])return n[t];const r=e.arrayBuffers,i=r[t],s=new Uint32Array(i).buffer;return n[t]=s,s}(e,i.buffer),a=Vi(i.type,s),o=new Xu(a,i.stride);return o.uuid=i.uuid,t[r]=o,o}const i=e.isInstancedBufferGeometry?new um:new mo,s=e.data.index;if(void 0!==s){const e=Vi(s.type,s.array);i.setIndex(new Qa(e,1))}const a=e.data.attributes;for(const u in a){const t=a[u];let n;if(t.isInterleavedBufferAttribute){const i=r(e.data,t.data);n=new Ju(i,t.itemSize,t.offset,t.normalized)}else{const e=Vi(t.type,t.array);n=new(t.isInstancedBufferAttribute?Rh:Qa)(e,t.itemSize,t.normalized)}void 0!==t.name&&(n.name=t.name),void 0!==t.usage&&n.setUsage(t.usage),i.setAttribute(u,n)}const o=e.data.morphAttributes;if(o)for(const u in o){const t=o[u],n=[];for(let i=0,s=t.length;i<s;i++){const s=t[i];let a;if(s.isInterleavedBufferAttribute){const t=r(e.data,s.data);a=new Ju(t,s.itemSize,s.offset,s.normalized)}else{const e=Vi(s.type,s.array);a=new Qa(e,s.itemSize,s.normalized)}void 0!==s.name&&(a.name=s.name),n.push(a)}i.morphAttributes[u]=n}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);const l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(let u=0,h=l.length;u!==h;++u){const e=l[u];i.addGroup(e.start,e.count,e.materialIndex)}const c=e.data.boundingSphere;if(void 0!==c){const e=new vs;void 0!==c.center&&e.fromArray(c.center),i.boundingSphere=new Fs(e,c.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}class dm extends Ip{constructor(e){super(e)}load(e,t,n,r){const i=this,s=""===this.path?cm.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const a=new Bp(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){let s=null;try{s=JSON.parse(n)}catch(Cx){return void 0!==r&&r(Cx),void console.error("THREE:ObjectLoader: Can't parse "+e+".",Cx.message)}const a=s.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())return void 0!==r&&r(new Error("THREE.ObjectLoader: Can't load "+e)),void console.error("THREE.ObjectLoader: Can't load "+e);i.parse(s,t)}),n,r)}async loadAsync(e,t){const n=""===this.path?cm.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||n;const r=new Bp(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const i=await r.loadAsync(e,t),s=JSON.parse(i),a=s.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+e);return await this.parseAsync(s)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=this.parseImages(e.images,(function(){void 0!==t&&t(l)})),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,o,a,n),c=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,c),this.bindLightTargets(l),void 0!==t){let e=!1;for(const t in s)if(s[t].data instanceof HTMLImageElement){e=!0;break}!1===e&&t(l)}return l}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),i=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,i),a=this.parseMaterials(e.materials,s),o=this.parseObject(e.object,r,a,s,t),l=this.parseSkeletons(e.skeletons,o);return this.bindSkeletons(o,l),this.bindLightTargets(o),o}parseShapes(e){const t={};if(void 0!==e)for(let n=0,r=e.length;n<r;n++){const r=(new hf).fromJSON(e[n]);t[r.uuid]=r}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(let i=0,s=e.length;i<s;i++){const t=(new Ch).fromJSON(e[i],r);n[t.uuid]=t}return n}parseGeometries(e,t){const n={};if(void 0!==e){const r=new hm;for(let i=0,s=e.length;i<s;i++){let s;const a=e[i];switch(a.type){case"BufferGeometry":case"InstancedBufferGeometry":s=r.parse(a);break;default:a.type in $f?s=$f[a.type].fromJSON(a,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${a.type}"`)}s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),void 0!==a.userData&&(s.userData=a.userData),n[a.uuid]=s}}return n}parseMaterials(e,t){const n={},r={};if(void 0!==e){const i=new lm;i.setTextures(t);for(let t=0,s=e.length;t<s;t++){const s=e[t];void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r}parseAnimations(e){const t={};if(void 0!==e)for(let n=0;n<e.length;n++){const r=e[n],i=Cp.parse(r);t[i.uuid]=i}return t}parseImages(e,t){const n=this,r={};let i;function s(e){if("string"===typeof e){const t=e;return function(e){return n.manager.itemStart(e),i.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:n.resourcePath+t)}return e.data?{data:Vi(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){const n=new Np(t);i=new Up(n),i.setCrossOrigin(this.crossOrigin);for(let t=0,i=e.length;t<i;t++){const n=e[t],i=n.url;if(Array.isArray(i)){const e=[];for(let t=0,n=i.length;t<n;t++){const n=s(i[t]);null!==n&&(n instanceof HTMLImageElement?e.push(n):e.push(new Eh(n.data,n.width,n.height)))}r[n.uuid]=new ss(e)}else{const e=s(n.url);r[n.uuid]=new ss(e)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function i(e){if("string"===typeof e){const n=e,i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:t.resourcePath+n;return await r.loadAsync(i)}return e.data?{data:Vi(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){r=new Up(this.manager),r.setCrossOrigin(this.crossOrigin);for(let t=0,r=e.length;t<r;t++){const r=e[t],s=r.url;if(Array.isArray(s)){const e=[];for(let t=0,n=s.length;t<n;t++){const n=s[t],r=await i(n);null!==r&&(r instanceof HTMLImageElement?e.push(r):e.push(new Eh(r.data,r.width,r.height)))}n[r.uuid]=new ss(e)}else{const e=await i(r.url);n[r.uuid]=new ss(e)}}}return n}parseTextures(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}const r={};if(void 0!==e)for(let i=0,s=e.length;i<s;i++){const s=e[i];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const a=t[s.image],o=a.data;let l;Array.isArray(o)?(l=new Ho,6===o.length&&(l.needsUpdate=!0)):(l=o&&o.data?new Eh:new ls,o&&(l.needsUpdate=!0)),l.source=a,l.uuid=s.uuid,void 0!==s.name&&(l.name=s.name),void 0!==s.mapping&&(l.mapping=n(s.mapping,fm)),void 0!==s.channel&&(l.channel=s.channel),void 0!==s.offset&&l.offset.fromArray(s.offset),void 0!==s.repeat&&l.repeat.fromArray(s.repeat),void 0!==s.center&&l.center.fromArray(s.center),void 0!==s.rotation&&(l.rotation=s.rotation),void 0!==s.wrap&&(l.wrapS=n(s.wrap[0],pm),l.wrapT=n(s.wrap[1],pm)),void 0!==s.format&&(l.format=s.format),void 0!==s.internalFormat&&(l.internalFormat=s.internalFormat),void 0!==s.type&&(l.type=s.type),void 0!==s.colorSpace&&(l.colorSpace=s.colorSpace),void 0!==s.minFilter&&(l.minFilter=n(s.minFilter,mm)),void 0!==s.magFilter&&(l.magFilter=n(s.magFilter,mm)),void 0!==s.anisotropy&&(l.anisotropy=s.anisotropy),void 0!==s.flipY&&(l.flipY=s.flipY),void 0!==s.generateMipmaps&&(l.generateMipmaps=s.generateMipmaps),void 0!==s.premultiplyAlpha&&(l.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(l.unpackAlignment=s.unpackAlignment),void 0!==s.compareFunction&&(l.compareFunction=s.compareFunction),void 0!==s.userData&&(l.userData=s.userData),r[s.uuid]=l}return r}parseObject(e,t,n,r,i){let s,a,o;function l(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function c(e){if(void 0!==e){if(Array.isArray(e)){const t=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];void 0===n[i]&&console.warn("THREE.ObjectLoader: Undefined material",i),t.push(n[i])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function u(e){return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),r[e]}switch(e.type){case"Scene":s=new Wu,void 0!==e.background&&(Number.isInteger(e.background)?s.background=new Ua(e.background):s.background=u(e.background)),void 0!==e.environment&&(s.environment=u(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?s.fog=new Vu(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(s.fog=new Gu(e.fog.color,e.fog.density)),""!==e.fog.name&&(s.fog.name=e.fog.name)),void 0!==e.backgroundBlurriness&&(s.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(s.backgroundIntensity=e.backgroundIntensity),void 0!==e.backgroundRotation&&s.backgroundRotation.fromArray(e.backgroundRotation),void 0!==e.environmentIntensity&&(s.environmentIntensity=e.environmentIntensity),void 0!==e.environmentRotation&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new Uo(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(s.focus=e.focus),void 0!==e.zoom&&(s.zoom=e.zoom),void 0!==e.filmGauge&&(s.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(s.filmOffset=e.filmOffset),void 0!==e.view&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new dl(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(s.zoom=e.zoom),void 0!==e.view&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new im(e.color,e.intensity);break;case"DirectionalLight":s=new rm(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new tm(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new sm(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new qp(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new Vp(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=(new om).fromJSON(e);break;case"SkinnedMesh":a=l(e.geometry),o=c(e.material),s=new Ah(a,o),void 0!==e.bindMode&&(s.bindMode=e.bindMode),void 0!==e.bindMatrix&&s.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(s.skeleton=e.skeleton);break;case"Mesh":a=l(e.geometry),o=c(e.material),s=new Mo(a,o);break;case"InstancedMesh":a=l(e.geometry),o=c(e.material);const t=e.count,n=e.instanceMatrix,r=e.instanceColor;s=new Oh(a,o,t),s.instanceMatrix=new Rh(new Float32Array(n.array),16),void 0!==r&&(s.instanceColor=new Rh(new Float32Array(r.array),r.itemSize));break;case"BatchedMesh":a=l(e.geometry),o=c(e.material),s=new nd(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,o),s.geometry=a,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._visibility=e.visibility,s._active=e.active,s._bounds=e.bounds.map((e=>{const t=new ys;t.min.fromArray(e.boxMin),t.max.fromArray(e.boxMax);const n=new Fs;return n.radius=e.sphereRadius,n.center.fromArray(e.sphereCenter),{boxInitialized:e.boxInitialized,box:t,sphereInitialized:e.sphereInitialized,sphere:n}})),s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._geometryCount=e.geometryCount,s._matricesTexture=u(e.matricesTexture.uuid),void 0!==e.colorsTexture&&(s._colorsTexture=u(e.colorsTexture.uuid));break;case"LOD":s=new fh;break;case"Line":s=new hd(l(e.geometry),c(e.material));break;case"LineLoop":s=new gd(l(e.geometry),c(e.material));break;case"LineSegments":s=new md(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":s=new _d(l(e.geometry),c(e.material));break;case"Sprite":s=new ch(c(e.material));break;case"Group":s=new Iu;break;case"Bone":s=new Sh;break;default:s=new ya}if(s.uuid=e.uuid,void 0!==e.name&&(s.name=e.name),void 0!==e.matrix?(s.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(void 0!==e.position&&s.position.fromArray(e.position),void 0!==e.rotation&&s.rotation.fromArray(e.rotation),void 0!==e.quaternion&&s.quaternion.fromArray(e.quaternion),void 0!==e.scale&&s.scale.fromArray(e.scale)),void 0!==e.up&&s.up.fromArray(e.up),void 0!==e.castShadow&&(s.castShadow=e.castShadow),void 0!==e.receiveShadow&&(s.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.intensity&&(s.shadow.intensity=e.shadow.intensity),void 0!==e.shadow.bias&&(s.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(s.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(s.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&s.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(s.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(s.visible=e.visible),void 0!==e.frustumCulled&&(s.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(s.renderOrder=e.renderOrder),void 0!==e.userData&&(s.userData=e.userData),void 0!==e.layers&&(s.layers.mask=e.layers),void 0!==e.children){const a=e.children;for(let e=0;e<a.length;e++)s.add(this.parseObject(a[e],t,n,r,i))}if(void 0!==e.animations){const t=e.animations;for(let e=0;e<t.length;e++){const n=t[e];s.animations.push(i[n])}}if("LOD"===e.type){void 0!==e.autoUpdate&&(s.autoUpdate=e.autoUpdate);const t=e.levels;for(let e=0;e<t.length;e++){const n=t[e],r=s.getObjectByProperty("uuid",n.object);void 0!==r&&s.addLevel(r,n.distance,n.hysteresis)}}return s}bindSkeletons(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){const n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}bindLightTargets(e){e.traverse((function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,r=e.getObjectByProperty("uuid",n);t.target=void 0!==r?r:new ya}}))}}const fm={UVMapping:Xt,CubeReflectionMapping:Yt,CubeRefractionMapping:Jt,EquirectangularReflectionMapping:Kt,EquirectangularRefractionMapping:qt,CubeUVReflectionMapping:Qt},pm={RepeatWrapping:Zt,ClampToEdgeWrapping:$t,MirroredRepeatWrapping:en},mm={NearestFilter:tn,NearestMipmapNearestFilter:nn,NearestMipmapLinearFilter:sn,LinearFilter:on,LinearMipmapNearestFilter:ln,LinearMipmapLinearFilter:un};class gm extends Ip{constructor(e){super(e),this.isImageBitmapLoader=!0,"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,s=kp.get(e);if(void 0!==s)return i.manager.itemStart(e),s.then?void s.then((n=>{t&&t(n),i.manager.itemEnd(e)})).catch((e=>{r&&r(e)})):(setTimeout((function(){t&&t(s),i.manager.itemEnd(e)}),0),s);const a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader;const o=fetch(e,a).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){return kp.add(e,n),t&&t(n),i.manager.itemEnd(e),n})).catch((function(t){r&&r(t),kp.remove(e),i.manager.itemError(e),i.manager.itemEnd(e)}));kp.add(e,o),i.manager.itemStart(e)}}let vm;class xm{static getContext(){return void 0===vm&&(vm=new(window.AudioContext||window.webkitAudioContext)),vm}static setContext(e){vm=e}}class bm extends Ip{constructor(e){super(e)}load(e,t,n,r){const i=this,s=new Bp(this.manager);function a(t){r?r(t):console.error(t),i.manager.itemError(e)}s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(e){try{const n=e.slice(0);xm.getContext().decodeAudioData(n,(function(e){t(e)})).catch(a)}catch(TS){a(TS)}}),n,r)}}const ym=new Ys,wm=new Ys,_m=new Ys;class Am{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Uo,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Uo,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,_m.copy(e.projectionMatrix);const n=t.eyeSep/2,r=n*t.near/t.focus,i=t.near*Math.tan(ki*t.fov*.5)/t.zoom;let s,a;wm.elements[12]=-n,ym.elements[12]=n,s=-i*t.aspect+r,a=i*t.aspect+r,_m.elements[0]=2*t.near/(a-s),_m.elements[8]=(a+s)/(a-s),this.cameraL.projectionMatrix.copy(_m),s=-i*t.aspect-r,a=i*t.aspect-r,_m.elements[0]=2*t.near/(a-s),_m.elements[8]=(a+s)/(a-s),this.cameraR.projectionMatrix.copy(_m)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(wm),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(ym)}}class Sm{constructor(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Em(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=Em();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function Em(){return performance.now()}const Tm=new vs,Mm=new gs,Cm=new vs,Rm=new vs;class km extends ya{constructor(){super(),this.type="AudioListener",this.context=xm.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Sm}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Tm,Mm,Cm),Rm.set(0,0,-1).applyQuaternion(Mm),t.positionX){const e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Tm.x,e),t.positionY.linearRampToValueAtTime(Tm.y,e),t.positionZ.linearRampToValueAtTime(Tm.z,e),t.forwardX.linearRampToValueAtTime(Rm.x,e),t.forwardY.linearRampToValueAtTime(Rm.y,e),t.forwardZ.linearRampToValueAtTime(Rm.z,e),t.upX.linearRampToValueAtTime(n.x,e),t.upY.linearRampToValueAtTime(n.y,e),t.upZ.linearRampToValueAtTime(n.z,e)}else t.setPosition(Tm.x,Tm.y,Tm.z),t.setOrientation(Rm.x,Rm.y,Rm.z,n.x,n.y,n.z)}}class Nm extends ya{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(!1!==this._connected){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,!0===this.isPlaying&&void 0!==this.source.detune&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Pm=new vs,Im=new gs,Lm=new vs,Dm=new vs;class Bm extends Nm{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(Pm,Im,Lm),Dm.set(0,0,1).applyQuaternion(Im);const t=this.panner;if(t.positionX){const e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Pm.x,e),t.positionY.linearRampToValueAtTime(Pm.y,e),t.positionZ.linearRampToValueAtTime(Pm.z,e),t.orientationX.linearRampToValueAtTime(Dm.x,e),t.orientationY.linearRampToValueAtTime(Dm.y,e),t.orientationZ.linearRampToValueAtTime(Dm.z,e)}else t.setPosition(Pm.x,Pm.y,Pm.z),t.setOrientation(Dm.x,Dm.y,Dm.z)}}class Om{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class Fm{constructor(e,t,n){let r,i,s;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,i=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,i=e*r+r;let s=this.cumulativeWeight;if(0===s){for(let e=0;e!==r;++e)n[i+e]=n[e];s=t}else{s+=t;const e=t/s;this._mixBufferRegion(n,i,0,e,r)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,s=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){const e=t*this._origIndex;this._mixBufferRegion(n,r,e,1-i,t)}s>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let o=t,l=t+t;o!==l;++o)if(n[o]!==n[o+t]){a.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let i=n,s=r;i!==s;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,i){if(r>=.5)for(let s=0;s!==i;++s)e[t+s]=e[n+s]}_slerp(e,t,n,r){gs.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,i){const s=this._workIndex*i;gs.multiplyQuaternionsFlat(e,s,e,t,e,n),gs.slerpFlat(e,t,e,t,e,s,r)}_lerp(e,t,n,r,i){const s=1-r;for(let a=0;a!==i;++a){const i=t+a;e[i]=e[i]*s+e[n+a]*r}}_lerpAdditive(e,t,n,r,i){for(let s=0;s!==i;++s){const i=t+s;e[i]=e[i]+e[n+s]*r}}}const Um="\\[\\]\\.:\\/",jm=new RegExp("["+Um+"]","g"),zm="[^"+Um+"]",Hm="[^"+Um.replace("\\.","")+"]",Gm=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",zm)+/(WCOD+)?/.source.replace("WCOD",Hm)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",zm)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",zm)+"$"),Vm=["material","materials","bones","map"];class Wm{constructor(e,t,n){this.path=t,this.parsedPath=n||Wm.parseTrackName(t),this.node=Wm.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Wm.Composite(e,t,n):new Wm(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(jm,"")}static parseTrackName(e){const t=Gm.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const e=n.nodeName.substring(r+1);-1!==Vm.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let r=0;r<e.length;r++){const i=e[r];if(i.name===t||i.uuid===t)return i;const s=n(i.children);if(s)return s}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let i=t.propertyIndex;if(e||(e=Wm.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(n){let r=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===r){r=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==r){if(void 0===e[r])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[r]}}const s=e[r];if(void 0===s){const n=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+r+" but it wasn't found.",e)}let a=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?a=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(a=this.Versioning.MatrixWorldNeedsUpdate);let o=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}o=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(o=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(o=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[o],this.setValue=this.SetterByBindingTypeAndVersioning[o][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Wm.Composite=class{constructor(e,t,n){const r=n||Wm.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},Wm.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Wm.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Wm.prototype.GetterByBindingType=[Wm.prototype._getValue_direct,Wm.prototype._getValue_array,Wm.prototype._getValue_arrayElement,Wm.prototype._getValue_toArray],Wm.prototype.SetterByBindingTypeAndVersioning=[[Wm.prototype._setValue_direct,Wm.prototype._setValue_direct_setNeedsUpdate,Wm.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Wm.prototype._setValue_array,Wm.prototype._setValue_array_setNeedsUpdate,Wm.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Wm.prototype._setValue_arrayElement,Wm.prototype._setValue_arrayElement_setNeedsUpdate,Wm.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Wm.prototype._setValue_fromArray,Wm.prototype._setValue_fromArray_setNeedsUpdate,Wm.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Xm{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Pi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,s=i.length;let a,o=e.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const u=arguments[c],h=u.uuid;let d=t[h];if(void 0===d){d=o++,t[h]=d,e.push(u);for(let e=0,t=s;e!==t;++e)i[e].push(new Wm(u,n[e],r[e]))}else if(d<l){a=e[d];const o=--l,c=e[o];t[c.uuid]=d,e[d]=c,t[h]=o,e[o]=u;for(let e=0,t=s;e!==t;++e){const t=i[e],s=t[o];let a=t[d];t[d]=s,void 0===a&&(a=new Wm(u,n[e],r[e])),t[o]=a}}else e[d]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_;for(let s=0,a=arguments.length;s!==a;++s){const a=arguments[s],o=a.uuid,l=t[o];if(void 0!==l&&l>=i){const s=i++,c=e[s];t[c.uuid]=l,e[l]=c,t[o]=s,e[s]=a;for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[s],i=t[l];t[l]=r,t[s]=i}}}this.nCachedObjects_=i}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_,s=e.length;for(let a=0,o=arguments.length;a!==o;++a){const o=arguments[a].uuid,l=t[o];if(void 0!==l)if(delete t[o],l<i){const a=--i,o=e[a],c=--s,u=e[c];t[o.uuid]=l,e[l]=o,t[u.uuid]=a,e[a]=u,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[a],i=t[c];t[l]=r,t[a]=i,t.pop()}}else{const i=--s,a=e[i];i>0&&(t[a.uuid]=l),e[l]=a,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e];t[l]=t[i],t.pop()}}}this.nCachedObjects_=i}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const i=this._bindings;if(void 0!==r)return i[r];const s=this._paths,a=this._parsedPaths,o=this._objects,l=o.length,c=this.nCachedObjects_,u=new Array(l);r=i.length,n[e]=r,s.push(e),a.push(t),i.push(u);for(let h=c,d=o.length;h!==d;++h){const n=o[h];u[h]=new Wm(n,e,t)}return u}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){const r=this._paths,i=this._parsedPaths,s=this._bindings,a=s.length-1,o=s[a];t[e[a]]=n,s[n]=o,s.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}class Ym{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.blendMode;this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const i=t.tracks,s=i.length,a=new Array(s),o={endingStart:wr,endingEnd:wr};for(let l=0;l!==s;++l){const e=i[l].createInterpolant(null);a[l]=e,e.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=gr,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const n=this._clip.duration,r=e._clip.duration,i=r/n,s=n/r;e.warp(1,i,t),this.warp(s,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,i=r.time,s=this.timeScale;let a=this._timeScaleInterpolant;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=i,o[1]=i+n,l[0]=e/s,l[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled)return void this._updateWeight(e);const i=this._startTime;if(null!==i){const r=(e-i)*n;r<0||0===n?t=0:(this._startTime=null,t=n*r)}t*=this._updateTimeScale(e);const s=this._updateTime(t),a=this._updateWeight(e);if(a>0){const e=this._interpolants,t=this._propertyBindings;if(this.blendMode===Er)for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(s),t[n].accumulateAdditive(a);else for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(s),t[n].accumulate(r,a)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,i=this._loopCount;const s=n===vr;if(0===e)return-1===i?r:s&&1===(1&i)?t-r:r;if(n===mr){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,s)):this._setEndings(0===this.repetitions,!0,s)),r>=t||r<0){const n=Math.floor(r/t);r-=t*n,i+=Math.abs(n);const a=this.repetitions-i;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===a){const t=e<0;this._setEndings(t,!t,s)}else this._setEndings(!1,!1,s);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=r;if(s&&1===(1&i))return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=_r,r.endingEnd=_r):(r.endingStart=e?this.zeroSlopeAtStart?_r:wr:Ar,r.endingEnd=t?this.zeroSlopeAtEnd?_r:wr:Ar)}_scheduleFading(e,t,n){const r=this._mixer,i=r.time;let s=this._weightInterpolant;null===s&&(s=r._lendControlInterpolant(),this._weightInterpolant=s);const a=s.parameterPositions,o=s.sampleValues;return a[0]=i,o[0]=t,a[1]=i+e,o[1]=n,this}}const Jm=new Float32Array(1);class Km extends Mi{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,s=e._propertyBindings,a=e._interpolants,o=n.uuid,l=this._bindingsByRootAndName;let c=l[o];void 0===c&&(c={},l[o]=c);for(let u=0;u!==i;++u){const e=r[u],i=e.name;let l=c[i];if(void 0!==l)++l.referenceCount,s[u]=l;else{if(l=s[u],void 0!==l){null===l._cacheIndex&&(++l.referenceCount,this._addInactiveBinding(l,o,i));continue}const r=t&&t._propertyBindings[u].binding.parsedPath;l=new Fm(Wm.create(n,i,r),e.ValueTypeName,e.getValueSize()),++l.referenceCount,this._addInactiveBinding(l,o,i),s[u]=l}a[u].resultBuffer=l.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,i=this._actionsByClip;let s=i[t];if(void 0===s)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=s;else{const t=s.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=r.length,r.push(e),s.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const i=e._clip.uuid,s=this._actionsByClip,a=s[i],o=a.knownActions,l=o[o.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,o[c]=l,o.pop(),e._byClipCacheIndex=null;delete a.actionByRoot[(e._localRoot||this._root).uuid],0===o.length&&delete s[i],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const e=t[n];0===--e.referenceCount&&this._removeInactiveBinding(e)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,i=this._bindings;let s=r[t];void 0===s&&(s={},r[t]=s),s[n]=e,e._cacheIndex=i.length,i.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,s=this._bindingsByRootAndName,a=s[r],o=t[t.length-1],l=e._cacheIndex;o._cacheIndex=l,t[l]=o,t.pop(),delete a[i],0===Object.keys(a).length&&delete s[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new xp(new Float32Array(2),new Float32Array(2),1,Jm),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}clipAction(e,t,n){const r=t||this._root,i=r.uuid;let s="string"===typeof e?Cp.findByName(r,e):e;const a=null!==s?s.uuid:e,o=this._actionsByClip[a];let l=null;if(void 0===n&&(n=null!==s?s.blendMode:Sr),void 0!==o){const e=o.actionByRoot[i];if(void 0!==e&&e.blendMode===n)return e;l=o.knownActions[0],null===s&&(s=l._clip)}if(null===s)return null;const c=new Ym(this,s,t,n);return this._bindAction(c,l),this._addInactiveAction(c,a,i),c}existingAction(e,t){const n=t||this._root,r=n.uuid,i="string"===typeof e?Cp.findByName(n,e):e,s=i?i.uuid:e,a=this._actionsByClip[s];return void 0!==a&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),s=this._accuIndex^=1;for(let l=0;l!==n;++l){t[l]._update(r,e,i,s)}const a=this._bindings,o=this._nActiveBindings;for(let l=0;l!==o;++l)a[l].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){const e=i.knownActions;for(let n=0,r=e.length;n!==r;++n){const r=e[n];this._deactivateAction(r);const i=r._cacheIndex,s=t[t.length-1];r._cacheIndex=null,r._byClipCacheIndex=null,s._cacheIndex=i,t[i]=s,t.pop(),this._removeInactiveBindingsForAction(r)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const i in n){const e=n[i].actionByRoot[t];void 0!==e&&(this._deactivateAction(e),this._removeInactiveAction(e))}const r=this._bindingsByRootAndName[t];if(void 0!==r)for(const i in r){const e=r[i];e.restoreOriginalState(),this._removeInactiveBinding(e)}}uncacheAction(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class qm{constructor(e){this.value=e}clone(){return new qm(void 0===this.value.clone?this.value:this.value.clone())}}let Qm=0;class Zm extends Mi{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Qm++}),this.name="",this.usage=pi,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++){const e=Array.isArray(t[n])?t[n]:[t[n]];for(let t=0;t<e.length;t++)this.uniforms.push(e[t].clone())}return this}clone(){return(new this.constructor).copy(this)}}class $m extends Xu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class eg{constructor(e,t,n,r,i){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=i,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const tg=new Ys;class ng{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;this.ray=new Xs(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new ia,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return tg.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(tg),this}intersectObject(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return ig(e,this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),t.sort(rg),t}intersectObjects(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(let r=0,i=e.length;r<i;r++)ig(e[r],this,n,t);return n.sort(rg),n}}function rg(e,t){return e.distance-t.distance}function ig(e,t,n,r){let i=!0;if(e.layers.test(t.layers)){!1===e.raycast(t,n)&&(i=!1)}if(!0===i&&!0===r){const r=e.children;for(let e=0,i=r.length;e<i;e++)ig(r[e],t,n,!0)}}class sg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Ii(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class ag{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return(new this.constructor).copy(this)}}class og{constructor(e,t,n,r){og.prototype.isMatrix2=!0,this.elements=[1,0,0,1],void 0!==e&&this.set(e,t,n,r)}identity(){return this.set(1,0,0,1),this}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,r){const i=this.elements;return i[0]=e,i[2]=t,i[1]=n,i[3]=r,this}}const lg=new Ui;class cg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ui(1/0,1/0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ui(-1/0,-1/0);this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=lg.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,lg).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ug=new vs,hg=new vs;class dg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new vs,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new vs;this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){ug.subVectors(e,this.start),hg.subVectors(this.end,this.start);const n=hg.dot(hg);let r=hg.dot(ug)/n;return t&&(r=Ii(r,0,1)),r}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}const fg=new vs;class pg extends ya{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new mo,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,a=1,o=32;s<o;s++,a++){const e=s/o*Math.PI*2,t=a/o*Math.PI*2;r.push(Math.cos(e),Math.sin(e),1,Math.cos(t),Math.sin(t),1)}n.setAttribute("position",new ao(r,3));const i=new rd({fog:!1,toneMapped:!1});this.cone=new md(n,i),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),fg.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(fg),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const mg=new vs,gg=new Ys,vg=new Ys;class xg extends md{constructor(e){const t=bg(e),n=new mo,r=[],i=[],s=new Ua(0,0,1),a=new Ua(0,1,0);for(let o=0;o<t.length;o++){const e=t[o];e.parent&&e.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(s.r,s.g,s.b),i.push(a.r,a.g,a.b))}n.setAttribute("position",new ao(r,3)),n.setAttribute("color",new ao(i,3));super(n,new rd({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");vg.copy(this.root.matrixWorld).invert();for(let i=0,s=0;i<t.length;i++){const e=t[i];e.parent&&e.parent.isBone&&(gg.multiplyMatrices(vg,e.matrixWorld),mg.setFromMatrixPosition(gg),r.setXYZ(s,mg.x,mg.y,mg.z),gg.multiplyMatrices(vg,e.parent.matrixWorld),mg.setFromMatrixPosition(gg),r.setXYZ(s+1,mg.x,mg.y,mg.z),s+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function bg(e){const t=[];!0===e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,bg(e.children[n]));return t}class yg extends Mo{constructor(e,t,n){super(new Xf(t,4,2),new Ga({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const wg=new vs,_g=new Ua,Ag=new Ua;class Sg extends ya{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new Gf(t);r.rotateY(.5*Math.PI),this.material=new Ga({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const i=r.getAttribute("position"),s=new Float32Array(3*i.count);r.setAttribute("color",new Qa(s,3)),this.add(new Mo(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");_g.copy(this.light.color),Ag.copy(this.light.groundColor);for(let e=0,n=t.count;e<n;e++){const r=e<n/2?_g:Ag;t.setXYZ(e,r.r,r.g,r.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(wg.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Eg extends md{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;n=new Ua(n),r=new Ua(r);const i=t/2,s=e/t,a=e/2,o=[],l=[];for(let u=0,h=0,d=-a;u<=t;u++,d+=s){o.push(-a,0,d,a,0,d),o.push(d,0,-a,d,0,a);const e=u===i?n:r;e.toArray(l,h),h+=3,e.toArray(l,h),h+=3,e.toArray(l,h),h+=3,e.toArray(l,h),h+=3}const c=new mo;c.setAttribute("position",new ao(o,3)),c.setAttribute("color",new ao(l,3));super(c,new rd({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Tg extends md{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;i=new Ua(i),s=new Ua(s);const a=[],o=[];if(t>1)for(let c=0;c<t;c++){const n=c/t*(2*Math.PI),r=Math.sin(n)*e,l=Math.cos(n)*e;a.push(0,0,0),a.push(r,0,l);const u=1&c?i:s;o.push(u.r,u.g,u.b),o.push(u.r,u.g,u.b)}for(let c=0;c<n;c++){const t=1&c?i:s,l=e-e/n*c;for(let e=0;e<r;e++){let n=e/r*(2*Math.PI),i=Math.sin(n)*l,s=Math.cos(n)*l;a.push(i,0,s),o.push(t.r,t.g,t.b),n=(e+1)/r*(2*Math.PI),i=Math.sin(n)*l,s=Math.cos(n)*l,a.push(i,0,s),o.push(t.r,t.g,t.b)}}const l=new mo;l.setAttribute("position",new ao(a,3)),l.setAttribute("color",new ao(o,3));super(l,new rd({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Mg=new vs,Cg=new vs,Rg=new vs;class kg extends ya{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",void 0===t&&(t=1);let r=new mo;r.setAttribute("position",new ao([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const i=new rd({fog:!1,toneMapped:!1});this.lightPlane=new hd(r,i),this.add(this.lightPlane),r=new mo,r.setAttribute("position",new ao([0,0,0,0,0,1],3)),this.targetLine=new hd(r,i),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Mg.setFromMatrixPosition(this.light.matrixWorld),Cg.setFromMatrixPosition(this.light.target.matrixWorld),Rg.subVectors(Cg,Mg),this.lightPlane.lookAt(Cg),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Cg),this.targetLine.scale.z=Rg.length()}}const Ng=new vs,Pg=new Do;class Ig extends md{constructor(e){const t=new mo,n=new rd({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],i=[],s={};function a(e,t){o(e),o(t)}function o(e){r.push(0,0,0),i.push(0,0,0),void 0===s[e]&&(s[e]=[]),s[e].push(r.length/3-1)}a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4"),t.setAttribute("position",new ao(r,3)),t.setAttribute("color",new ao(i,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const l=new Ua(16755200),c=new Ua(16711680),u=new Ua(43775),h=new Ua(16777215),d=new Ua(3355443);this.setColors(l,c,u,h,d)}setColors(e,t,n,r,i){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,t.r,t.g,t.b),s.setXYZ(25,t.r,t.g,t.b),s.setXYZ(26,t.r,t.g,t.b),s.setXYZ(27,t.r,t.g,t.b),s.setXYZ(28,t.r,t.g,t.b),s.setXYZ(29,t.r,t.g,t.b),s.setXYZ(30,t.r,t.g,t.b),s.setXYZ(31,t.r,t.g,t.b),s.setXYZ(32,n.r,n.g,n.b),s.setXYZ(33,n.r,n.g,n.b),s.setXYZ(34,n.r,n.g,n.b),s.setXYZ(35,n.r,n.g,n.b),s.setXYZ(36,n.r,n.g,n.b),s.setXYZ(37,n.r,n.g,n.b),s.setXYZ(38,r.r,r.g,r.b),s.setXYZ(39,r.r,r.g,r.b),s.setXYZ(40,i.r,i.g,i.b),s.setXYZ(41,i.r,i.g,i.b),s.setXYZ(42,i.r,i.g,i.b),s.setXYZ(43,i.r,i.g,i.b),s.setXYZ(44,i.r,i.g,i.b),s.setXYZ(45,i.r,i.g,i.b),s.setXYZ(46,i.r,i.g,i.b),s.setXYZ(47,i.r,i.g,i.b),s.setXYZ(48,i.r,i.g,i.b),s.setXYZ(49,i.r,i.g,i.b),s.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap;Pg.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Lg("c",t,e,Pg,0,0,-1),Lg("t",t,e,Pg,0,0,1),Lg("n1",t,e,Pg,-1,-1,-1),Lg("n2",t,e,Pg,1,-1,-1),Lg("n3",t,e,Pg,-1,1,-1),Lg("n4",t,e,Pg,1,1,-1),Lg("f1",t,e,Pg,-1,-1,1),Lg("f2",t,e,Pg,1,-1,1),Lg("f3",t,e,Pg,-1,1,1),Lg("f4",t,e,Pg,1,1,1),Lg("u1",t,e,Pg,.7,1.1,-1),Lg("u2",t,e,Pg,-.7,1.1,-1),Lg("u3",t,e,Pg,0,2,-1),Lg("cf1",t,e,Pg,-1,0,1),Lg("cf2",t,e,Pg,1,0,1),Lg("cf3",t,e,Pg,0,-1,1),Lg("cf4",t,e,Pg,0,1,1),Lg("cn1",t,e,Pg,-1,0,-1),Lg("cn2",t,e,Pg,1,0,-1),Lg("cn3",t,e,Pg,0,-1,-1),Lg("cn4",t,e,Pg,0,1,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Lg(e,t,n,r,i,s,a){Ng.set(i,s,a).unproject(r);const o=t[e];if(void 0!==o){const e=n.getAttribute("position");for(let t=0,n=o.length;t<n;t++)e.setXYZ(o[t],Ng.x,Ng.y,Ng.z)}}const Dg=new ys;class Bg extends md{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new mo;i.setIndex(new Qa(n,1)),i.setAttribute("position",new Qa(r,3)),super(i,new rd({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Dg.setFromObject(this.object),Dg.isEmpty())return;const t=Dg.min,n=Dg.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Og extends md{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new mo;r.setIndex(new Qa(n,1)),r.setAttribute("position",new ao([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(r,new rd({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Fg extends hd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960,r=new mo;r.setAttribute("position",new ao([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),r.computeBoundingSphere(),super(r,new rd({color:n,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const i=new mo;i.setAttribute("position",new ao([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),i.computeBoundingSphere(),this.add(new Mo(i,new Ga({color:n,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Ug=new vs;let jg,zg;class Hg extends ya{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new vs(0,0,1),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new vs(0,0,0),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*n,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*i;super(),this.type="ArrowHelper",void 0===jg&&(jg=new mo,jg.setAttribute("position",new ao([0,0,0,0,1,0],3)),zg=new tf(0,.5,1,5,1),zg.translate(0,-.5,0)),this.position.copy(t),this.line=new hd(jg,new rd({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mo(zg,new Ga({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Ug.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Ug,t)}}setLength(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*t;this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Gg extends md{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new mo;n.setAttribute("position",new ao(t,3)),n.setAttribute("color",new ao([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));super(n,new rd({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,n){const r=new Ua,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Vg{constructor(){this.type="ShapePath",this.color=new Ua,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Qd,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,i,s){return this.currentPath.bezierCurveTo(e,t,n,r,i,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(e,t){const n=t.length;let r=!1;for(let i=n-1,s=0;s<n;i=s++){let n=t[i],a=t[s],o=a.x-n.x,l=a.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=t[s],o=-o,a=t[i],l=-l),e.y<n.y||e.y>a.y)continue;if(e.y===n.y){if(e.x===n.x)return!0}else{const t=l*(e.x-n.x)-o*(e.y-n.y);if(0===t)return!0;if(t<0)continue;r=!r}}else{if(e.y!==n.y)continue;if(a.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=a.x)return!0}}return r}const n=Of.isClockWise,r=this.subPaths;if(0===r.length)return[];let i,s,a;const o=[];if(1===r.length)return s=r[0],a=new hf,a.curves=s.curves,o.push(a),o;let l=!n(r[0].getPoints());l=e?!l:l;const c=[],u=[];let h,d,f=[],p=0;u[p]=void 0,f[p]=[];for(let m=0,g=r.length;m<g;m++)s=r[m],h=s.getPoints(),i=n(h),i=e?!i:i,i?(!l&&u[p]&&p++,u[p]={s:new hf,p:h},u[p].s.curves=s.curves,l&&p++,f[p]=[]):f[p].push({h:s,p:h[0]});if(!u[0])return function(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n],i=new hf;i.curves=r.curves,t.push(i)}return t}(r);if(u.length>1){let e=!1,n=0;for(let t=0,r=u.length;t<r;t++)c[t]=[];for(let r=0,i=u.length;r<i;r++){const i=f[r];for(let s=0;s<i.length;s++){const a=i[s];let o=!0;for(let i=0;i<u.length;i++)t(a.p,u[i].p)&&(r!==i&&n++,o?(o=!1,c[i].push(a)):e=!0);o&&c[r].push(a)}}n>0&&!1===e&&(f=c)}for(let m=0,g=u.length;m<g;m++){a=u[m].s,o.push(a),d=f[m];for(let e=0,t=d.length;e<t;e++)a.holes.push(d[e].h)}return o}}class Wg extends Mi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}class Xg extends hs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,t,{...r,count:n}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Ue}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Ue);var Yg=n(7205);function Jg(e){let t;const n=new Set,r=(e,r)=>{const i="function"===typeof e?e(t):e;if(i!==t){const e=t;t=r?i:Object.assign({},t,i),n.forEach((n=>n(t,e)))}},i=()=>t,s={setState:r,getState:i,subscribe:(e,r,s)=>r||s?function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let a=r(t);function o(){const n=r(t);if(!s(a,n)){const t=a;e(a=n,t)}}return n.add(o),()=>n.delete(o)}(e,r,s):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,i,s),s}const Kg="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?s.useEffect:s.useLayoutEffect;const qg=[];function Qg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;if(e===t)return!0;if(!e||!t)return!1;const r=e.length;if(t.length!==r)return!1;for(let i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}function Zg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};null===t&&(t=[e]);for(const a of qg)if(Qg(t,a.keys,a.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return r.lifespan&&r.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,r.lifespan)),a.response;if(!n)throw a.promise}const i={keys:t,equal:r.equal,remove:()=>{const e=qg.indexOf(i);-1!==e&&qg.splice(e,1)},promise:(s=e,"object"===typeof s&&"function"===typeof s.then?e:e(...t)).then((e=>{i.response=e,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))})).catch((e=>i.error=e))};var s;if(qg.push(i),!n)throw i.promise}var $g=n(579),ev=n(2016),tv=n.n(ev),nv=n(8853);const rv={};var iv,sv;const av=e=>"colorSpace"in e||"outputColorSpace"in e,ov=()=>{var e;return null!=(e=rv.ColorManagement)?e:null},lv=e=>e&&e.isOrthographicCamera,cv="undefined"!==typeof window&&(null!=(iv=window.document)&&iv.createElement||"ReactNative"===(null==(sv=window.navigator)?void 0:sv.product))?s.useLayoutEffect:s.useEffect;function uv(e){const t=s.useRef(e);return cv((()=>{t.current=e}),[e]),t}function hv(e){let{set:t}=e;return cv((()=>(t(new Promise((()=>null))),()=>t(!1))),[t]),null}class dv extends s.Component{constructor(){super(...arguments),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}dv.getDerivedStateFromError=()=>({error:!0});const fv="__default",pv=new Map,mv=e=>e&&!!e.memoized&&!!e.changes;function gv(e){var t;const n="undefined"!==typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}const vv=e=>{var t;return null==(t=e.__r3f)?void 0:t.root.getState()};function xv(e){let t=e.__r3f.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}const bv={obj:e=>e===Object(e)&&!bv.arr(e)&&"function"!==typeof e,fun:e=>"function"===typeof e,str:e=>"string"===typeof e,num:e=>"number"===typeof e,boo:e=>"boolean"===typeof e,und:e=>void 0===e,arr:e=>Array.isArray(e),equ(e,t){let{arrays:n="shallow",objects:r="reference",strict:i=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(typeof e!==typeof t||!!e!==!!t)return!1;if(bv.str(e)||bv.num(e)||bv.boo(e))return e===t;const s=bv.obj(e);if(s&&"reference"===r)return e===t;const a=bv.arr(e);if(a&&"reference"===n)return e===t;if((a||s)&&e===t)return!0;let o;for(o in e)if(!(o in t))return!1;if(s&&"shallow"===n&&"shallow"===r){for(o in i?t:e)if(!bv.equ(e[o],t[o],{strict:i,objects:"reference"}))return!1}else for(o in i?t:e)if(e[o]!==t[o])return!1;if(bv.und(o)){if(a&&0===e.length&&0===t.length)return!0;if(s&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function yv(e){const t={nodes:{},materials:{}};return e&&e.traverse((e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}function wv(e,t){return e.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...t},e}function _v(e,t){let n=e;if(t.includes("-")){const r=t.split("-"),i=r.pop();return n=r.reduce(((e,t)=>e[t]),e),{target:n,key:i}}return{target:n,key:t}}const Av=/-\d+$/;function Sv(e,t,n){if(bv.str(n)){if(Av.test(n)){const t=n.replace(Av,""),{target:r,key:i}=_v(e,t);Array.isArray(r[i])||(r[i]=[])}const{target:r,key:i}=_v(e,n);t.__r3f.previousAttach=r[i],r[i]=t}else t.__r3f.previousAttach=n(e,t)}function Ev(e,t,n){var r,i;if(bv.str(n)){const{target:r,key:i}=_v(e,n),s=t.__r3f.previousAttach;void 0===s?delete r[i]:r[i]=s}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(i=t.__r3f)||delete i.previousAttach}function Tv(e,t){let{children:n,key:r,ref:i,...s}=t,{children:a,key:o,ref:l,...c}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const h=e.__r3f,d=Object.entries(s),f=[];if(u){const e=Object.keys(c);for(let t=0;t<e.length;t++)s.hasOwnProperty(e[t])||d.unshift([e[t],fv+"remove"])}d.forEach((t=>{let[n,r]=t;var i;if(null!=(i=e.__r3f)&&i.primitive&&"object"===n)return;if(bv.equ(r,c[n]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(n))return f.push([n,r,!0,[]]);let a=[];n.includes("-")&&(a=n.split("-")),f.push([n,r,!1,a]);for(const e in s){const t=s[e];e.startsWith(`${n}-`)&&f.push([e,t,!1,e.split("-")])}}));const p={...s};return null!=h&&h.memoizedProps&&null!=h&&h.memoizedProps.args&&(p.args=h.memoizedProps.args),null!=h&&h.memoizedProps&&null!=h&&h.memoizedProps.attach&&(p.attach=h.memoizedProps.attach),{memoized:p,changes:f}}const Mv="undefined"!==typeof process&&!1;function Cv(e,t){var n;const r=e.__r3f,i=null==r?void 0:r.root,s=null==i||null==i.getState?void 0:i.getState(),{memoized:a,changes:o}=mv(t)?t:Tv(e,t),l=null==r?void 0:r.eventCount;e.__r3f&&(e.__r3f.memoizedProps=a);for(let h=0;h<o.length;h++){let[t,n,i,a]=o[h];if(av(e)){const e=3001,r="srgb",i="srgb-linear";"encoding"===t?(t="colorSpace",n=n===e?r:i):"outputEncoding"===t&&(t="outputColorSpace",n=n===e?r:i)}let l=e,d=l[t];if(a.length&&(d=a.reduce(((e,t)=>e[t]),e),!d||!d.set)){const[n,...r]=a.reverse();l=r.reverse().reduce(((e,t)=>e[t]),e),t=n}if(n===fv+"remove")if(l.constructor){let e=pv.get(l.constructor);e||(e=new l.constructor,pv.set(l.constructor,e)),n=e[t]}else n=0;if(i&&r)n?r.handlers[t]=n:delete r.handlers[t],r.eventCount=Object.keys(r.handlers).length;else if(d&&d.set&&(d.copy||d instanceof ia)){if(Array.isArray(n))d.fromArray?d.fromArray(n):d.set(...n);else if(d.copy&&n&&n.constructor&&(Mv?d.constructor.name===n.constructor.name:d.constructor===n.constructor))d.copy(n);else if(void 0!==n){var c;const e=null==(c=d)?void 0:c.isColor;!e&&d.setScalar?d.setScalar(n):d instanceof ia&&n instanceof ia?d.mask=n.mask:d.set(n),!ov()&&s&&!s.linear&&e&&d.convertSRGBToLinear()}}else{var u;if(l[t]=n,null!=(u=l[t])&&u.isTexture&&l[t].format===Tn&&l[t].type===dn&&s){const e=l[t];av(e)&&av(s.gl)?e.colorSpace=s.gl.outputColorSpace:e.encoding=s.gl.outputEncoding}}Rv(e)}if(r&&r.parent&&e.raycast&&l!==r.eventCount){const t=xv(e).getState().internal,n=t.interaction.indexOf(e);n>-1&&t.interaction.splice(n,1),r.eventCount&&t.interaction.push(e)}return!(1===o.length&&"onUpdate"===o[0][0])&&o.length&&null!=(n=e.__r3f)&&n.parent&&kv(e),e}function Rv(e){var t,n;const r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function kv(e){null==e.onUpdate||e.onUpdate(e)}function Nv(e,t){e.manual||(lv(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function Pv(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function Iv(e,t,n,r){const i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}function Lv(e){function t(e){return e.filter((e=>["Move","Over","Enter","Out","Leave"].some((t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))))}function n(t){const{internal:n}=e.getState();for(const e of n.hovered.values())if(!t.length||!t.find((t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId))){const r=e.eventObject.__r3f,i=null==r?void 0:r.handlers;if(n.hovered.delete(Pv(e)),null!=r&&r.eventCount){const n={...e,intersections:t};null==i.onPointerOut||i.onPointerOut(n),null==i.onPointerLeave||i.onPointerLeave(n)}}}function r(e,t){for(let n=0;n<t.length;n++){const r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return t=>{const{internal:r}=e.getState();"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame((()=>{r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))}))}}return function(s){const{onPointerMissed:a,internal:o}=e.getState();o.lastEvent.current=s;const l="onPointerMove"===i,c="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,u=function(t,n){const r=e.getState(),i=new Set,s=[],a=n?n(r.internal.interaction):r.internal.interaction;for(let e=0;e<a.length;e++){const t=vv(a[e]);t&&(t.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);let o=a.flatMap((function(e){const n=vv(e);return n&&n.events.enabled&&null!==n.raycaster.camera?(void 0===n.raycaster.camera&&(null==n.events.compute||n.events.compute(t,n,null==(r=n.previousRoot)?void 0:r.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)),n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]):[];var r})).sort(((e,t)=>{const n=vv(e.object),r=vv(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance})).filter((e=>{const t=Pv(e);return!i.has(t)&&(i.add(t),!0)}));r.events.filter&&(o=r.events.filter(o,r));for(const e of o){let t=e.object;for(;t;){var l;null!=(l=t.__r3f)&&l.eventCount&&s.push({...e,eventObject:t}),t=t.parent}}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId))for(let e of r.internal.capturedMap.get(t.pointerId).values())i.has(Pv(e.intersection))||s.push(e.intersection);return s}(s,l?t:void 0),h=c?function(t){const{internal:n}=e.getState(),r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(s):0;"onPointerDown"===i&&(o.initialClick=[s.offsetX,s.offsetY],o.initialHits=u.map((e=>e.eventObject))),c&&!u.length&&h<=2&&(r(s,o.interaction),a&&a(s)),l&&n(u),function(t,r,i,s){const a=e.getState();if(t.length){const e={stopped:!1};for(const o of t){const l=vv(o.object)||a,{raycaster:c,pointer:u,camera:h,internal:d}=l,f=new vs(u.x,u.y,0).unproject(h),p=e=>{var t,n;return null!=(t=null==(n=d.capturedMap.get(e))?void 0:n.has(o.eventObject))&&t},m=e=>{const t={intersection:o,target:r.target};d.capturedMap.has(e)?d.capturedMap.get(e).set(o.eventObject,t):d.capturedMap.set(e,new Map([[o.eventObject,t]])),r.target.setPointerCapture(e)},g=e=>{const t=d.capturedMap.get(e);t&&Iv(d.capturedMap,o.eventObject,t,e)};let v={};for(let e in r){let t=r[e];"function"!==typeof t&&(v[e]=t)}let x={...o,...v,pointer:u,intersections:t,stopped:e.stopped,delta:i,unprojectedPoint:f,ray:c.ray,camera:h,stopPropagation(){const i="pointerId"in r&&d.capturedMap.get(r.pointerId);(!i||i.has(o.eventObject))&&(x.stopped=e.stopped=!0,d.hovered.size&&Array.from(d.hovered.values()).find((e=>e.eventObject===o.eventObject)))&&n([...t.slice(0,t.indexOf(o)),o])},target:{hasPointerCapture:p,setPointerCapture:m,releasePointerCapture:g},currentTarget:{hasPointerCapture:p,setPointerCapture:m,releasePointerCapture:g},nativeEvent:r};if(s(x),!0===e.stopped)break}}}(u,s,h,(function(e){const t=e.eventObject,n=t.__r3f,a=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(l){if(a.onPointerOver||a.onPointerEnter||a.onPointerOut||a.onPointerLeave){const t=Pv(e),n=o.hovered.get(t);n?n.stopped&&e.stopPropagation():(o.hovered.set(t,e),null==a.onPointerOver||a.onPointerOver(e),null==a.onPointerEnter||a.onPointerEnter(e))}null==a.onPointerMove||a.onPointerMove(e)}else{const n=a[i];n?c&&!o.initialHits.includes(t)||(r(s,o.interaction.filter((e=>!o.initialHits.includes(e)))),n(e)):c&&o.initialHits.includes(t)&&r(s,o.interaction.filter((e=>!o.initialHits.includes(e))))}}))}}}}const Dv=e=>!(null==e||!e.render),Bv=s.createContext(null),Ov=(e,t)=>{const n=function(e){const t="function"===typeof e?Jg(e):e,n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is;const[,r]=(0,s.useReducer)((e=>e+1),0),i=t.getState(),a=(0,s.useRef)(i),o=(0,s.useRef)(e),l=(0,s.useRef)(n),c=(0,s.useRef)(!1),u=(0,s.useRef)();let h;void 0===u.current&&(u.current=e(i));let d=!1;(a.current!==i||o.current!==e||l.current!==n||c.current)&&(h=e(i),d=!n(u.current,h)),Kg((()=>{d&&(u.current=h),a.current=i,o.current=e,l.current=n,c.current=!1}));const f=(0,s.useRef)(i);Kg((()=>{const e=()=>{try{const e=t.getState(),n=o.current(e);l.current(u.current,n)||(a.current=e,u.current=n,r())}catch(Cx){c.current=!0,r()}},n=t.subscribe(e);return t.getState()!==f.current&&e(),n}),[]);const p=d?h:u.current;return(0,s.useDebugValue)(p),p};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const e=[n,t];return{next(){const t=e.length<=0;return{value:e.shift(),done:t}}}},n}(((n,r)=>{const i=new vs,a=new vs,o=new vs;function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r().size;const{width:s,height:l,top:c,left:u}=n,h=s/l;t.isVector3?o.copy(t):o.set(...t);const d=e.getWorldPosition(i).distanceTo(o);if(lv(e))return{width:s/e.zoom,height:l/e.zoom,top:c,left:u,factor:1,distance:d,aspect:h};{const t=e.fov*Math.PI/180,n=2*Math.tan(t/2)*d,r=n*(s/l);return{width:r,height:n,top:c,left:u,factor:s/r,distance:d,aspect:h}}}let c;const u=e=>n((t=>({performance:{...t.performance,current:e}}))),h=new Ui,d={set:n,get:r,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e(r(),t)},advance:(e,n)=>t(e,n,r()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Sm,pointer:h,mouse:h,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const e=r();c&&clearTimeout(c),e.performance.current!==e.performance.min&&u(e.performance.min),c=setTimeout((()=>u(r().performance.max)),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:l},setEvents:e=>n((t=>({...t,events:{...t.events,...e}}))),setSize:(e,t,i,s,o)=>{const c=r().camera,u={width:e,height:t,top:s||0,left:o||0,updateStyle:i};n((e=>({size:u,viewport:{...e.viewport,...l(c,a,u)}})))},setDpr:e=>n((t=>{const n=gv(e);return{viewport:{...t.viewport,dpr:n,initialDpr:t.viewport.initialDpr||n}}})),setFrameloop:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always";const t=r().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n((()=>({frameloop:e})))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:s.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(e,t,n)=>{const i=r().internal;return i.priority=i.priority+(t>0?1:0),i.subscribers.push({ref:e,priority:t,store:n}),i.subscribers=i.subscribers.sort(((e,t)=>e.priority-t.priority)),()=>{const n=r().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter((t=>t.ref!==e)))}}}};return d})),r=n.getState();let i=r.size,a=r.viewport.dpr,o=r.camera;return n.subscribe((()=>{const{camera:e,size:t,viewport:r,gl:s,set:l}=n.getState();if(t.width!==i.width||t.height!==i.height||r.dpr!==a){var c;i=t,a=r.dpr,Nv(e,t),s.setPixelRatio(r.dpr);const n=null!=(c=t.updateStyle)?c:"undefined"!==typeof HTMLCanvasElement&&s.domElement instanceof HTMLCanvasElement;s.setSize(t.width,t.height,n)}e!==o&&(o=e,l((t=>({viewport:{...t.viewport,...t.viewport.getCurrentViewport(e)}}))))})),n.subscribe((t=>e(t))),n};let Fv,Uv=new Set,jv=new Set,zv=new Set;function Hv(e,t){if(e.size)for(const{callback:n}of e.values())n(t)}function Gv(e,t){switch(e){case"before":return Hv(Uv,t);case"after":return Hv(jv,t);case"tail":return Hv(zv,t)}}let Vv,Wv;function Xv(e,t,n){let r=t.clock.getDelta();for("never"===t.frameloop&&"number"===typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),Vv=t.internal.subscribers,Fv=0;Fv<Vv.length;Fv++)Wv=Vv[Fv],Wv.ref.current(Wv.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function Yv(){const e=s.useContext(Bv);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}function Jv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e,t=arguments.length>1?arguments[1]:void 0;return Yv()(e,t)}function Kv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=Yv(),r=n.getState().internal.subscribe,i=uv(e);return cv((()=>r(i,t,n)),[t,r,n]),null}const qv=new WeakMap;function Qv(e,t){return function(n){let r=qv.get(n);r||(r=new n,qv.set(n,r)),e&&e(r);for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return Promise.all(s.map((e=>new Promise(((n,i)=>r.load(e,(e=>{e.scene&&Object.assign(e,yv(e.scene)),n(e)}),t,(t=>i(new Error(`Could not load ${e}: ${null==t?void 0:t.message}`)))))))))}}function Zv(e,t,n,r){const i=Array.isArray(t)?t:[t],s=((e,t,n)=>Zg(e,t,!1,n))(Qv(n,r),[e,...i],{equal:bv.equ});return Array.isArray(t)?s:s[0]}Zv.preload=function(e,t,n){const r=Array.isArray(t)?t:[t];return((e,t,n)=>{Zg(e,t,!0,n)})(Qv(n),[e,...r])},Zv.clear=function(e,t){return(e=>{if(void 0===e||0===e.length)qg.splice(0,qg.length);else{const t=qg.find((t=>Qg(e,t.keys,t.equal)));t&&t.remove()}})([e,...Array.isArray(t)?t:[t]])};const $v=new Map,{invalidate:ex,advance:tx}=function(e){let t,n,r,i=!1,s=!1;function a(o){n=requestAnimationFrame(a),i=!0,t=0,Gv("before",o),s=!0;for(const n of e.values()){var l;r=n.store.getState(),!r.internal.active||!("always"===r.frameloop||r.internal.frames>0)||null!=(l=r.gl.xr)&&l.isPresenting||(t+=Xv(o,r))}if(s=!1,Gv("after",o),0===t)return Gv("tail",o),i=!1,cancelAnimationFrame(n)}return{loop:a,invalidate:function t(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;var o;if(!n)return e.forEach((e=>t(e.store.getState(),r)));null!=(o=n.gl.xr)&&o.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=r>1?Math.min(60,n.internal.frames+r):s?2:1,i||(i=!0,requestAnimationFrame(a)))},advance:function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(n&&Gv("before",t),r)Xv(t,r,i);else for(const s of e.values())Xv(t,s.store.getState());n&&Gv("after",t)}}}($v),{reconciler:nx,applyProps:rx}=function(e,t){function n(e,t,n){let r,{args:i=[],attach:s,...a}=t,o=`${e[0].toUpperCase()}${e.slice(1)}`;if("primitive"===e){if(void 0===a.object)throw new Error("R3F: Primitives without 'object' are invalid!");r=wv(a.object,{type:e,root:n,attach:s,primitive:!0})}else{const t=rv[o];if(!t)throw new Error(`R3F: ${o} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(i))throw new Error("R3F: The args prop must be an array!");r=wv(new t(...i),{type:e,root:n,attach:s,memoizedProps:{args:i}})}return void 0===r.__r3f.attach&&(r.isBufferGeometry?r.__r3f.attach="geometry":r.isMaterial&&(r.__r3f.attach="material")),"inject"!==o&&Cv(r,a),r}function r(e,t){let n=!1;var r,i;t&&(null!=(r=t.__r3f)&&r.attach?Sv(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),n=!0),n||null==(i=e.__r3f)||i.objects.push(t),t.__r3f||wv(t,{}),t.__r3f.parent=e,kv(t),Rv(t))}function i(e,t,n){let r=!1;if(t){var i,s;if(null!=(i=t.__r3f)&&i.attach)Sv(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"}),e.dispatchEvent({type:"childadded",child:t});const i=e.children.filter((e=>e!==t)),s=i.indexOf(n);e.children=[...i.slice(0,s),t,...i.slice(s)],r=!0}r||null==(s=e.__r3f)||s.objects.push(t),t.__r3f||wv(t,{}),t.__r3f.parent=e,kv(t),Rv(t)}}function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&[...e].forEach((e=>a(t,e,n)))}function a(e,t,n){if(t){var r,i,a;if(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter((e=>e!==t))),null!=(i=t.__r3f)&&i.attach)Ev(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){var o;e.remove(t),null!=(o=t.__r3f)&&o.root&&function(e,t){const{internal:n}=e.getState();n.interaction=n.interaction.filter((e=>e!==t)),n.initialHits=n.initialHits.filter((e=>e!==t)),n.hovered.forEach(((e,r)=>{e.eventObject!==t&&e.object!==t||n.hovered.delete(r)})),n.capturedMap.forEach(((e,r)=>{Iv(n.capturedMap,t,e,r)}))}(xv(t),t)}const c=null==(a=t.__r3f)?void 0:a.primitive,u=!c&&(void 0===n?null!==t.dispose:n);var l;if(!c)s(null==(l=t.__r3f)?void 0:l.objects,t,u),s(t.children,t,u);if(delete t.__r3f,u&&t.dispose&&"Scene"!==t.type){const e=()=>{try{t.dispose()}catch(TS){}};"undefined"===typeof IS_REACT_ACT_ENVIRONMENT?(0,nv.unstable_scheduleCallback)(nv.unstable_IdlePriority,e):e()}Rv(e)}}const o=()=>{},l=tv()({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(e,t)=>{if(!t)return;const n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,r(n,t))},removeChildFromContainer:(e,t)=>{t&&a(e.getState().scene,t)},insertInContainerBefore:(e,t,n)=>{if(!t||!n)return;const r=e.getState().scene;r.__r3f&&i(r,t,n)},getRootHostContext:()=>null,getChildHostContext:e=>e,finalizeInitialChildren(e){var t;const n=null!=(t=null==e?void 0:e.__r3f)?t:{};return Boolean(n.handlers)},prepareUpdate(e,t,n,r){var i;if((null!=(i=null==e?void 0:e.__r3f)?i:{}).primitive&&r.object&&r.object!==e)return[!0];{const{args:t=[],children:i,...s}=r,{args:a=[],children:o,...l}=n;if(!Array.isArray(t))throw new Error("R3F: the args prop must be an array!");if(t.some(((e,t)=>e!==a[t])))return[!0];const c=Tv(e,s,l,!0);return c.changes.length?[!1,c]:null}},commitUpdate(e,t,i,s,o,l){let[c,u]=t;c?function(e,t,i,s){var o;const l=null==(o=e.__r3f)?void 0:o.parent;if(!l)return;const c=n(t,i,e.__r3f.root);if(e.children){for(const t of e.children)t.__r3f&&r(c,t);e.children=e.children.filter((e=>!e.__r3f))}e.__r3f.objects.forEach((e=>r(c,e))),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||a(l,e),c.parent&&(c.__r3f.autoRemovedBeforeAppend=!0),r(l,c),c.raycast&&c.__r3f.eventCount&&xv(c).getState().internal.interaction.push(c);[s,s.alternate].forEach((e=>{null!==e&&(e.stateNode=c,e.ref&&("function"===typeof e.ref?e.ref(c):e.ref.current=c))}))}(e,i,o,l):Cv(e,u)},commitMount(e,t,n,r){var i;const s=null!=(i=e.__r3f)?i:{};e.raycast&&s.handlers&&s.eventCount&&xv(e).getState().internal.interaction.push(e)},getPublicInstance:e=>e,prepareForCommit:()=>null,preparePortalMount:e=>wv(e.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(e){var t;const{attach:n,parent:r}=null!=(t=e.__r3f)?t:{};n&&r&&Ev(r,e,n),e.isObject3D&&(e.visible=!1),Rv(e)},unhideInstance(e,t){var n;const{attach:r,parent:i}=null!=(n=e.__r3f)?n:{};r&&i&&Sv(i,e,r),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),Rv(e)},createTextInstance:o,hideTextInstance:o,unhideTextInstance:o,getCurrentEventPriority:()=>t?t():Yg.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:"undefined"!==typeof performance&&bv.fun(performance.now)?performance.now:bv.fun(Date.now)?Date.now:()=>0,scheduleTimeout:bv.fun(setTimeout)?setTimeout:void 0,cancelTimeout:bv.fun(clearTimeout)?clearTimeout:void 0});return{reconciler:l,applyProps:Cv}}(0,(function(){var e;const t="undefined"!==typeof self&&self||"undefined"!==typeof window&&window;if(!t)return Yg.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Yg.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Yg.ContinuousEventPriority;default:return Yg.DefaultEventPriority}})),ix={objects:"shallow",strict:!1},sx=(e,t)=>{const n="function"===typeof e?e(t):e;return Dv(n)?n:new Hu({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0,...e})};function ax(e){const t=$v.get(e),n=null==t?void 0:t.fiber,r=null==t?void 0:t.store;t&&console.warn("R3F.createRoot should only be called once!");const i="function"===typeof reportError?reportError:console.error,s=r||Ov(ex,tx),a=n||nx.createContainer(s,Yg.ConcurrentRoot,null,!1,null,"",i,null);let o;t||$v.set(e,{fiber:a,store:s});let l,c=!1;return{configure(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{gl:n,size:r,scene:i,events:a,onCreated:u,shadows:h=!1,linear:d=!1,flat:f=!1,legacy:p=!1,orthographic:m=!1,frameloop:g="always",dpr:v=[1,2],performance:x,raycaster:b,camera:y,onPointerMissed:w}=t,_=s.getState(),A=_.gl;_.gl||_.set({gl:A=sx(n,e)});let S=_.raycaster;S||_.set({raycaster:S=new ng});const{params:E,...T}=b||{};if(bv.equ(T,S,ix)||rx(S,{...T}),bv.equ(E,S.params,ix)||rx(S,{params:{...S.params,...E}}),!_.camera||_.camera===l&&!bv.equ(l,y,ix)){l=y;const e=y instanceof Do,t=e?y:m?new dl(0,0,0,0,.1,1e3):new Uo(75,0,.1,1e3);e||(t.position.z=5,y&&(rx(t,y),("aspect"in y||"left"in y||"right"in y||"bottom"in y||"top"in y)&&(t.manual=!0,t.updateProjectionMatrix())),_.camera||null!=y&&y.rotation||t.lookAt(0,0,0)),_.set({camera:t}),S.camera=t}if(!_.scene){let e;null!=i&&i.isScene?e=i:(e=new Wu,i&&rx(e,i)),_.set({scene:wv(e)})}if(!_.xr){var M;const e=(e,t)=>{const n=s.getState();"never"!==n.frameloop&&tx(e,!0,n,t)},t=()=>{const t=s.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||ex(t)},n={connect(){const e=s.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){const e=s.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};"function"===typeof(null==(M=A.xr)?void 0:M.addEventListener)&&n.connect(),_.set({xr:n})}if(A.shadowMap){const e=A.shadowMap.enabled,t=A.shadowMap.type;if(A.shadowMap.enabled=!!h,bv.boo(h))A.shadowMap.type=Je;else if(bv.str(h)){var C;const e={basic:Xe,percentage:Ye,soft:Je,variance:Ke};A.shadowMap.type=null!=(C=e[h])?C:Je}else bv.obj(h)&&Object.assign(A.shadowMap,h);e===A.shadowMap.enabled&&t===A.shadowMap.type||(A.shadowMap.needsUpdate=!0)}const R=ov();if(R&&("enabled"in R?R.enabled=!p:"legacyMode"in R&&(R.legacyMode=p)),!c){rx(A,{outputEncoding:d?3e3:3001,toneMapping:f?Bt:jt})}_.legacy!==p&&_.set((()=>({legacy:p}))),_.linear!==d&&_.set((()=>({linear:d}))),_.flat!==f&&_.set((()=>({flat:f}))),!n||bv.fun(n)||Dv(n)||bv.equ(n,A,ix)||rx(A,n),a&&!_.events.handlers&&_.set({events:a(s)});const k=function(e,t){const n="undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement;if(t){const{width:e,height:r,top:i,left:s,updateStyle:a=n}=t;return{width:e,height:r,top:i,left:s,updateStyle:a}}if("undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){const{width:t,height:r,top:i,left:s}=e.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:s,updateStyle:n}}return"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0,updateStyle:n}:{width:0,height:0,top:0,left:0}}(e,r);return bv.equ(k,_.size,ix)||_.setSize(k.width,k.height,k.updateStyle,k.top,k.left),v&&_.viewport.dpr!==gv(v)&&_.setDpr(v),_.frameloop!==g&&_.setFrameloop(g),_.onPointerMissed||_.set({onPointerMissed:w}),x&&!bv.equ(x,_.performance,ix)&&_.set((e=>({performance:{...e.performance,...x}}))),o=u,c=!0,this},render(t){return c||this.configure(),nx.updateContainer((0,$g.jsx)(ox,{store:s,children:t,onCreated:o,rootElement:e}),a,null,(()=>{})),s},unmount(){lx(e)}}}function ox(e){let{store:t,children:n,onCreated:r,rootElement:i}=e;return cv((()=>{const e=t.getState();e.set((e=>({internal:{...e.internal,active:!0}}))),r&&r(e),t.getState().events.connected||null==e.events.connect||e.events.connect(i)}),[]),(0,$g.jsx)(Bv.Provider,{value:t,children:n})}function lx(e,t){const n=$v.get(e),r=null==n?void 0:n.fiber;if(r){const i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),nx.updateContainer(null,r,null,(()=>{i&&setTimeout((()=>{try{var n,r,s,a;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(s=i.gl)||null==s.forceContextLoss||s.forceContextLoss(),null!=(a=i.gl)&&a.xr&&i.xr.disconnect(),function(e){e.dispose&&"Scene"!==e.type&&e.dispose();for(const t in e)null==t.dispose||t.dispose(),delete e[t]}(i),$v.delete(e),t&&t(e)}catch(TS){}}),500)}))}}nx.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:s.version});s.unstable_act;const cx={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function ux(e){const{handlePointer:t}=Lv(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(cx).reduce(((e,n)=>({...e,[n]:t(n)})),{}),update:()=>{var t;const{events:n,internal:r}=e.getState();null!=(t=r.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var n;const{set:r,events:i}=e.getState();null==i.disconnect||i.disconnect(),r((e=>({events:{...e.events,connected:t}}))),Object.entries(null!=(n=i.handlers)?n:[]).forEach((e=>{let[n,r]=e;const[i,s]=cx[n];t.addEventListener(i,r,{passive:s})}))},disconnect:()=>{const{set:t,events:n}=e.getState();var r;n.connected&&(Object.entries(null!=(r=n.handlers)?r:[]).forEach((e=>{let[t,r]=e;if(n&&n.connected instanceof HTMLElement){const[e]=cx[t];n.connected.removeEventListener(e,r)}})),t((e=>({events:{...e.events,connected:void 0}}))))}}}function hx(e,t){let n;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];window.clearTimeout(n),n=window.setTimeout((()=>e(...i)),t)}}function dx(){let{debounce:e,scroll:t,polyfill:n,offsetSize:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{debounce:0,scroll:!1,offsetSize:!1};const i=n||("undefined"==typeof window?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,o]=(0,s.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=(0,s.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),c=e?"number"==typeof e?e:e.scroll:null,u=e?"number"==typeof e?e:e.resize:null,h=(0,s.useRef)(!1);(0,s.useEffect)((()=>(h.current=!0,()=>{h.current=!1})));const[d,f,p]=(0,s.useMemo)((()=>{const e=()=>{if(!l.current.element)return;const{left:e,top:t,width:n,height:i,bottom:s,right:a,x:c,y:u}=l.current.element.getBoundingClientRect(),d={left:e,top:t,width:n,height:i,bottom:s,right:a,x:c,y:u};l.current.element instanceof HTMLElement&&r&&(d.height=l.current.element.offsetHeight,d.width=l.current.element.offsetWidth),Object.freeze(d),h.current&&!mx(l.current.lastBounds,d)&&o(l.current.lastBounds=d)};return[e,u?hx(e,u):e,c?hx(e,c):e]}),[o,r,c,u]);function m(){l.current.scrollContainers&&(l.current.scrollContainers.forEach((e=>e.removeEventListener("scroll",p,!0))),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function g(){l.current.element&&(l.current.resizeObserver=new i(p),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach((e=>e.addEventListener("scroll",p,{capture:!0,passive:!0}))),l.current.orientationHandler=()=>{p()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}return function(e,t){(0,s.useEffect)((()=>{if(t){const t=e;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",t,!0)}}}),[e,t])}(p,!!t),function(e){(0,s.useEffect)((()=>{const t=e;return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}}),[e])}(f),(0,s.useEffect)((()=>{m(),g()}),[t,p,f]),(0,s.useEffect)((()=>m),[]),[e=>{!e||e===l.current.element||(m(),l.current.element=e,l.current.scrollContainers=fx(e),g())},a,d]}function fx(e){const t=[];if(!e||e===document.body)return t;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(e);return[n,r,i].some((e=>"auto"===e||"scroll"===e))&&t.push(e),[...t,...fx(e.parentElement)]}const px=["x","y","top","bottom","left","right","width","height"],mx=(e,t)=>px.every((n=>e[n]===t[n]));var gx,vx,xx=Object.defineProperty,bx=Object.defineProperties,yx=Object.getOwnPropertyDescriptors,wx=Object.getOwnPropertySymbols,_x=Object.prototype.hasOwnProperty,Ax=Object.prototype.propertyIsEnumerable,Sx=(e,t,n)=>t in e?xx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ex=(e,t)=>{for(var n in t||(t={}))_x.call(t,n)&&Sx(e,n,t[n]);if(wx)for(var n of wx(t))Ax.call(t,n)&&Sx(e,n,t[n]);return e};"undefined"===typeof window||!(null==(gx=window.document)?void 0:gx.createElement)&&"ReactNative"!==(null==(vx=window.navigator)?void 0:vx.product)?s.useEffect:s.useLayoutEffect;function Tx(e,t,n){if(!e)return;if(!0===n(e))return e;let r=t?e.return:e.child;for(;r;){const e=Tx(r,t,n);if(e)return e;r=t?null:r.sibling}}function Mx(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(Vw){return e}}const Cx=console.error;console.error=function(){const e=[...arguments].join("");if(!(null==e?void 0:e.startsWith("Warning:"))||!e.includes("useContext"))return Cx.apply(this,arguments);console.error=Cx};const Rx=Mx(s.createContext(null));class kx extends s.Component{render(){return s.createElement(Rx.Provider,{value:this._reactInternals},this.props.children)}}function Nx(){const e=s.useContext(Rx);if(null===e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=s.useId();return s.useMemo((()=>{for(const n of[e,null==e?void 0:e.alternate]){if(!n)continue;const e=Tx(n,!1,(e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}}));if(e)return e}}),[e,t])}function Px(){const e=function(){const e=Nx(),[t]=s.useState((()=>new Map));t.clear();let n=e;for(;n;){if(n.type&&"object"===typeof n.type){const e=void 0===n.type._context&&n.type.Provider===n.type?n.type:n.type._context;e&&e!==Rx&&!t.has(e)&&t.set(e,s.useContext(Mx(e)))}n=n.return}return t}();return s.useMemo((()=>Array.from(e.keys()).reduce(((t,n)=>r=>s.createElement(t,null,s.createElement(n.Provider,((e,t)=>bx(e,yx(t)))(Ex({},r),{value:e.get(n)})))),(e=>s.createElement(kx,Ex({},e))))),[e])}const Ix=s.forwardRef((function(t,n){let{children:r,fallback:i,resize:a,style:o,gl:l,events:c=ux,eventSource:u,eventPrefix:h,shadows:d,linear:f,flat:p,legacy:m,orthographic:g,frameloop:v,dpr:x,performance:b,raycaster:y,camera:w,scene:_,onPointerMissed:A,onCreated:S,...E}=t;s.useMemo((()=>{return t=e,void Object.assign(rv,t);var t}),[]);const T=Px(),[M,C]=dx({scroll:!0,debounce:{scroll:50,resize:0},...a}),R=s.useRef(null),k=s.useRef(null);s.useImperativeHandle(n,(()=>R.current));const N=uv(A),[P,I]=s.useState(!1),[L,D]=s.useState(!1);if(P)throw P;if(L)throw L;const B=s.useRef(null);cv((()=>{const e=R.current;C.width>0&&C.height>0&&e&&(B.current||(B.current=ax(e)),B.current.configure({gl:l,events:c,shadows:d,linear:f,flat:p,legacy:m,orthographic:g,frameloop:v,dpr:x,performance:b,raycaster:y,camera:w,scene:_,size:C,onPointerMissed:function(){return null==N.current?void 0:N.current(...arguments)},onCreated:e=>{var t;null==e.events.connect||e.events.connect(u?(t=u)&&t.hasOwnProperty("current")?u.current:u:k.current),h&&e.setEvents({compute:(e,t)=>{const n=e[h+"X"],r=e[h+"Y"];t.pointer.set(n/t.size.width*2-1,-r/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==S||S(e)}}),B.current.render((0,$g.jsx)(T,{children:(0,$g.jsx)(dv,{set:D,children:(0,$g.jsx)(s.Suspense,{fallback:(0,$g.jsx)(hv,{set:I}),children:r})})})))})),s.useEffect((()=>{const e=R.current;if(e)return()=>lx(e)}),[]);const O=u?"none":"auto";return(0,$g.jsx)("div",{ref:k,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:O,...o},...E,children:(0,$g.jsx)("div",{ref:M,style:{width:"100%",height:"100%"},children:(0,$g.jsx)("canvas",{ref:R,style:{display:"block"},children:i})})})})),Lx=s.forwardRef((function(e,t){return(0,$g.jsx)(kx,{children:(0,$g.jsx)(Ix,{...e,ref:t})})})),Dx=new WeakMap;class Bx extends Ip{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,r){const i=new Bp(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,(e=>{const n={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(e,n).then(t).catch(r)}),n,r)}decodeDracoFile(e,t,n,r){const i={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,i).then(t)}decodeGeometry(e,t){for(const o in t.attributeTypes){const e=t.attributeTypes[o];void 0!==e.BYTES_PER_ELEMENT&&(t.attributeTypes[o]=e.name)}const n=JSON.stringify(t);if(Dx.has(e)){const t=Dx.get(e);if(t.key===n)return t.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const i=this.workerNextTaskID++,s=e.byteLength,a=this._getWorker(i,s).then((n=>(r=n,new Promise(((n,s)=>{r._callbacks[i]={resolve:n,reject:s},r.postMessage({type:"decode",id:i,taskConfig:t,buffer:e},[e])}))))).then((e=>this._createGeometry(e.geometry)));return a.catch((()=>!0)).then((()=>{r&&i&&this._releaseTask(r,i)})),Dx.set(e,{key:n,promise:a}),a}_createGeometry(e){const t=new mo;e.index&&t.setIndex(new Qa(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const r=e.attributes[n],i=r.name,s=r.array,a=r.itemSize;t.setAttribute(i,new Qa(s,a))}return t}_loadLibrary(e,t){const n=new Bp(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise(((t,r)=>{n.load(e,t,void 0,r)}))}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e="object"!==typeof WebAssembly||"js"===this.decoderConfig.type,t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then((t=>{const n=t[0];e||(this.decoderConfig.wasmBinary=t[1]);const r=Ox.toString(),i=["/* draco decoder */",n,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([i]))})),this.decoderPending}_getWorker(e,t){return this._initDecoder().then((()=>{if(this.workerPool.length<this.workerLimit){const e=new Worker(this.workerSourceURL);e._callbacks={},e._taskCosts={},e._taskLoad=0,e.postMessage({type:"init",decoderConfig:this.decoderConfig}),e.onmessage=function(t){const n=t.data;switch(n.type){case"decode":e._callbacks[n.id].resolve(n);break;case"error":e._callbacks[n.id].reject(n);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+n.type+'"')}},this.workerPool.push(e)}else this.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n}))}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map((e=>e._taskLoad)))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Ox(){let e,t;function n(e,t,n,r,i,s){const a=s.num_components(),o=n.num_points()*a,l=o*i.BYTES_PER_ELEMENT,c=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,i),u=e._malloc(l);t.GetAttributeDataArrayForAllPoints(n,s,c,l,u);const h=new i(e.HEAPF32.buffer,u,o).slice();return e._free(u),{name:r,array:h,itemSize:a}}onmessage=function(r){const i=r.data;switch(i.type){case"init":e=i.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":const r=i.buffer,s=i.taskConfig;t.then((e=>{const t=e.draco,a=new t.Decoder,o=new t.DecoderBuffer;o.Init(new Int8Array(r),r.byteLength);try{const e=function(e,t,r,i){const s=i.attributeIDs,a=i.attributeTypes;let o,l;const c=t.GetEncodedGeometryType(r);if(c===e.TRIANGULAR_MESH)o=new e.Mesh,l=t.DecodeBufferToMesh(r,o);else{if(c!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");o=new e.PointCloud,l=t.DecodeBufferToPointCloud(r,o)}if(!l.ok()||0===o.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+l.error_msg());const u={index:null,attributes:[]};for(const h in s){const r=self[a[h]];let l,c;if(i.useUniqueIDs)c=s[h],l=t.GetAttributeByUniqueId(o,c);else{if(c=t.GetAttributeId(o,e[s[h]]),-1===c)continue;l=t.GetAttribute(o,c)}u.attributes.push(n(e,t,o,h,r,l))}c===e.TRIANGULAR_MESH&&(u.index=function(e,t,n){const r=n.num_faces(),i=3*r,s=4*i,a=e._malloc(s);t.GetTrianglesUInt32Array(n,s,a);const o=new Uint32Array(e.HEAPF32.buffer,a,i).slice();return e._free(a),{array:o,itemSize:1}}(e,t,o));return e.destroy(o),u}(t,a,o,s),r=e.attributes.map((e=>e.array.buffer));e.index&&r.push(e.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:e},r)}catch(Cx){console.error(Cx),self.postMessage({type:"error",id:i.id,error:Cx.message})}finally{t.destroy(o),t.destroy(a)}}))}}}let Fx;const Ux=()=>{if(Fx)return Fx;const e=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),t=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if("object"!==typeof WebAssembly)return{supported:!1};let n,r="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB";WebAssembly.validate(e)&&(r="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB");const i=WebAssembly.instantiate(function(e){const n=new Uint8Array(e.length);for(let t=0;t<e.length;++t){const r=e.charCodeAt(t);n[t]=r>96?r-71:r>64?r-65:r>47?r+4:r>46?63:62}let r=0;for(let i=0;i<e.length;++i)n[r++]=n[i]<60?t[n[i]]:64*(n[i]-60)+n[++i];return n.buffer.slice(0,r)}(r),{}).then((e=>{n=e.instance,n.exports.__wasm_call_ctors()}));function s(e,t,r,i,s,a){const o=n.exports.sbrk,l=r+3&-4,c=o(l*i),u=o(s.length),h=new Uint8Array(n.exports.memory.buffer);h.set(s,u);const d=e(c,r,i,u,s.length);if(0===d&&a&&a(c,l,i),t.set(h.subarray(c,c+r*i)),o(c-o(0)),0!==d)throw new Error(`Malformed buffer data: ${d}`)}const a={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},o={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Fx={ready:i,supported:!0,decodeVertexBuffer(e,t,r,i,o){s(n.exports.meshopt_decodeVertexBuffer,e,t,r,i,n.exports[a[o]])},decodeIndexBuffer(e,t,r,i){s(n.exports.meshopt_decodeIndexBuffer,e,t,r,i)},decodeIndexSequence(e,t,r,i){s(n.exports.meshopt_decodeIndexSequence,e,t,r,i)},decodeGltfBuffer(e,t,r,i,l,c){s(n.exports[o[l]],e,t,r,i,n.exports[a[c]])}},Fx};function jx(e,t){if(t===Tr)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===Cr||t===Mr){let n=e.getIndex();if(null===n){const t=[],r=e.getAttribute("position");if(void 0===r)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<r.count;e++)t.push(e);e.setIndex(t),n=e.getIndex()}const r=n.count-2,i=[];if(n)if(t===Cr)for(let e=1;e<=r;e++)i.push(n.getX(0)),i.push(n.getX(e)),i.push(n.getX(e+1));else for(let e=0;e<r;e++)e%2===0?(i.push(n.getX(e)),i.push(n.getX(e+1)),i.push(n.getX(e+2))):(i.push(n.getX(e+2)),i.push(n.getX(e+1)),i.push(n.getX(e)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=e.clone();return s.setIndex(i),s.clearGroups(),s}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}const zx=(()=>parseInt(Ue.replace(/\D+/g,"")))();function Hx(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(TS){return t}}const Gx="srgb",Vx="srgb-linear";class Wx extends Ip{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(e){return new Qx(e)})),this.register((function(e){return new Zx(e)})),this.register((function(e){return new ob(e)})),this.register((function(e){return new lb(e)})),this.register((function(e){return new cb(e)})),this.register((function(e){return new eb(e)})),this.register((function(e){return new tb(e)})),this.register((function(e){return new nb(e)})),this.register((function(e){return new rb(e)})),this.register((function(e){return new qx(e)})),this.register((function(e){return new ib(e)})),this.register((function(e){return new $x(e)})),this.register((function(e){return new ab(e)})),this.register((function(e){return new sb(e)})),this.register((function(e){return new Jx(e)})),this.register((function(e){return new ub(e)})),this.register((function(e){return new hb(e)}))}load(e,t,n,r){const i=this;let s;if(""!==this.resourcePath)s=this.resourcePath;else if(""!==this.path){const t=cm.extractUrlBase(e);s=cm.resolveURL(t,this.path)}else s=cm.extractUrlBase(e);this.manager.itemStart(e);const a=function(t){r?r(t):console.error(t),i.manager.itemError(e),i.manager.itemEnd(e)},o=new Bp(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){try{i.parse(n,s,(function(n){t(n),i.manager.itemEnd(e)}),a)}catch(TS){a(TS)}}),n,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,r){let i;const s={},a={};if("string"===typeof e)i=JSON.parse(e);else if(e instanceof ArrayBuffer){if(Hx(new Uint8Array(e.slice(0,4)))===db){try{s[Yx.KHR_BINARY_GLTF]=new mb(e)}catch(Cx){return void(r&&r(Cx))}i=JSON.parse(s[Yx.KHR_BINARY_GLTF].content)}else i=JSON.parse(Hx(new Uint8Array(e)))}else i=e;if(void 0===i.asset||i.asset.version[0]<2)return void(r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const o=new zb(i,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});o.fileLoader.setRequestHeader(this.requestHeader);for(let l=0;l<this.pluginCallbacks.length;l++){const e=this.pluginCallbacks[l](o);e.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[e.name]=e,s[e.name]=!0}if(i.extensionsUsed)for(let l=0;l<i.extensionsUsed.length;++l){const e=i.extensionsUsed[l],t=i.extensionsRequired||[];switch(e){case Yx.KHR_MATERIALS_UNLIT:s[e]=new Kx;break;case Yx.KHR_DRACO_MESH_COMPRESSION:s[e]=new gb(i,this.dracoLoader);break;case Yx.KHR_TEXTURE_TRANSFORM:s[e]=new vb;break;case Yx.KHR_MESH_QUANTIZATION:s[e]=new xb;break;default:t.indexOf(e)>=0&&void 0===a[e]&&console.warn('THREE.GLTFLoader: Unknown extension "'+e+'".')}}o.setExtensions(s),o.setPlugins(a),o.parse(n,r)}parseAsync(e,t){const n=this;return new Promise((function(r,i){n.parse(e,t,r,i)}))}}function Xx(){let e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}const Yx={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Jx{constructor(e){this.parser=e,this.name=Yx.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,r=t.length;n<r;n++){const r=t[n];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let r=t.cache.get(n);if(r)return r;const i=t.json,s=((i.extensions&&i.extensions[this.name]||{}).lights||[])[e];let a;const o=new Ua(16777215);void 0!==s.color&&o.setRGB(s.color[0],s.color[1],s.color[2],Vx);const l=void 0!==s.range?s.range:0;switch(s.type){case"directional":a=new rm(o),a.target.position.set(0,0,-1),a.add(a.target);break;case"point":a=new tm(o),a.distance=l;break;case"spot":a=new qp(o),a.distance=l,s.spot=s.spot||{},s.spot.innerConeAngle=void 0!==s.spot.innerConeAngle?s.spot.innerConeAngle:0,s.spot.outerConeAngle=void 0!==s.spot.outerConeAngle?s.spot.outerConeAngle:Math.PI/4,a.angle=s.spot.outerConeAngle,a.penumbra=1-s.spot.innerConeAngle/s.spot.outerConeAngle,a.target.position.set(0,0,-1),a.add(a.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+s.type)}return a.position.set(0,0,0),a.decay=2,Db(a,s),void 0!==s.intensity&&(a.intensity=s.intensity),a.name=t.createUniqueName(s.name||"light_"+e),r=Promise.resolve(a),t.cache.add(n,r),r}getDependency(e,t){if("light"===e)return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,r=n.json.nodes[e],i=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(e){return n._getNodeRef(t.cache,i,e)}))}}class Kx{constructor(){this.name=Yx.KHR_MATERIALS_UNLIT}getMaterialType(){return Ga}extendParams(e,t,n){const r=[];e.color=new Ua(1,1,1),e.opacity=1;const i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){const t=i.baseColorFactor;e.color.setRGB(t[0],t[1],t[2],Vx),e.opacity=t[3]}void 0!==i.baseColorTexture&&r.push(n.assignTexture(e,"map",i.baseColorTexture,Gx))}return Promise.all(r)}}class qx{constructor(e){this.parser=e,this.name=Yx.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=n.extensions[this.name].emissiveStrength;return void 0!==r&&(t.emissiveIntensity=r),Promise.resolve()}}class Qx{constructor(e){this.parser=e,this.name=Yx.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?rp:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],s=r.extensions[this.name];if(void 0!==s.clearcoatFactor&&(t.clearcoat=s.clearcoatFactor),void 0!==s.clearcoatTexture&&i.push(n.assignTexture(t,"clearcoatMap",s.clearcoatTexture)),void 0!==s.clearcoatRoughnessFactor&&(t.clearcoatRoughness=s.clearcoatRoughnessFactor),void 0!==s.clearcoatRoughnessTexture&&i.push(n.assignTexture(t,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),void 0!==s.clearcoatNormalTexture&&(i.push(n.assignTexture(t,"clearcoatNormalMap",s.clearcoatNormalTexture)),void 0!==s.clearcoatNormalTexture.scale)){const e=s.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Ui(e,e)}return Promise.all(i)}}class Zx{constructor(e){this.parser=e,this.name=Yx.KHR_MATERIALS_DISPERSION}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?rp:null}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=n.extensions[this.name];return t.dispersion=void 0!==r.dispersion?r.dispersion:0,Promise.resolve()}}class $x{constructor(e){this.parser=e,this.name=Yx.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?rp:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],s=r.extensions[this.name];return void 0!==s.iridescenceFactor&&(t.iridescence=s.iridescenceFactor),void 0!==s.iridescenceTexture&&i.push(n.assignTexture(t,"iridescenceMap",s.iridescenceTexture)),void 0!==s.iridescenceIor&&(t.iridescenceIOR=s.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==s.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),void 0!==s.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),void 0!==s.iridescenceThicknessTexture&&i.push(n.assignTexture(t,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(i)}}class eb{constructor(e){this.parser=e,this.name=Yx.KHR_MATERIALS_SHEEN}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?rp:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[];t.sheenColor=new Ua(0,0,0),t.sheenRoughness=0,t.sheen=1;const s=r.extensions[this.name];if(void 0!==s.sheenColorFactor){const e=s.sheenColorFactor;t.sheenColor.setRGB(e[0],e[1],e[2],Vx)}return void 0!==s.sheenRoughnessFactor&&(t.sheenRoughness=s.sheenRoughnessFactor),void 0!==s.sheenColorTexture&&i.push(n.assignTexture(t,"sheenColorMap",s.sheenColorTexture,Gx)),void 0!==s.sheenRoughnessTexture&&i.push(n.assignTexture(t,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(i)}}class tb{constructor(e){this.parser=e,this.name=Yx.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?rp:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],s=r.extensions[this.name];return void 0!==s.transmissionFactor&&(t.transmission=s.transmissionFactor),void 0!==s.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",s.transmissionTexture)),Promise.all(i)}}class nb{constructor(e){this.parser=e,this.name=Yx.KHR_MATERIALS_VOLUME}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?rp:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],s=r.extensions[this.name];t.thickness=void 0!==s.thicknessFactor?s.thicknessFactor:0,void 0!==s.thicknessTexture&&i.push(n.assignTexture(t,"thicknessMap",s.thicknessTexture)),t.attenuationDistance=s.attenuationDistance||1/0;const a=s.attenuationColor||[1,1,1];return t.attenuationColor=(new Ua).setRGB(a[0],a[1],a[2],Vx),Promise.all(i)}}class rb{constructor(e){this.parser=e,this.name=Yx.KHR_MATERIALS_IOR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?rp:null}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=n.extensions[this.name];return t.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}class ib{constructor(e){this.parser=e,this.name=Yx.KHR_MATERIALS_SPECULAR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?rp:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],s=r.extensions[this.name];t.specularIntensity=void 0!==s.specularFactor?s.specularFactor:1,void 0!==s.specularTexture&&i.push(n.assignTexture(t,"specularIntensityMap",s.specularTexture));const a=s.specularColorFactor||[1,1,1];return t.specularColor=(new Ua).setRGB(a[0],a[1],a[2],Vx),void 0!==s.specularColorTexture&&i.push(n.assignTexture(t,"specularColorMap",s.specularColorTexture,Gx)),Promise.all(i)}}class sb{constructor(e){this.parser=e,this.name=Yx.EXT_MATERIALS_BUMP}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?rp:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],s=r.extensions[this.name];return t.bumpScale=void 0!==s.bumpFactor?s.bumpFactor:1,void 0!==s.bumpTexture&&i.push(n.assignTexture(t,"bumpMap",s.bumpTexture)),Promise.all(i)}}class ab{constructor(e){this.parser=e,this.name=Yx.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?rp:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],s=r.extensions[this.name];return void 0!==s.anisotropyStrength&&(t.anisotropy=s.anisotropyStrength),void 0!==s.anisotropyRotation&&(t.anisotropyRotation=s.anisotropyRotation),void 0!==s.anisotropyTexture&&i.push(n.assignTexture(t,"anisotropyMap",s.anisotropyTexture)),Promise.all(i)}}class ob{constructor(e){this.parser=e,this.name=Yx.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const i=r.extensions[this.name],s=t.options.ktx2Loader;if(!s){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,s)}}class lb{constructor(e){this.parser=e,this.name=Yx.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;const s=i.extensions[t],a=r.images[s.source];let o=n.textureLoader;if(a.uri){const e=n.options.manager.getHandler(a.uri);null!==e&&(o=e)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,s.source,o);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}class cb{constructor(e){this.parser=e,this.name=Yx.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;const s=i.extensions[t],a=r.images[s.source];let o=n.textureLoader;if(a.uri){const e=n.options.manager.getHandler(a.uri);null!==e&&(o=e)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,s.source,o);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}class ub{constructor(e){this.name=Yx.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const e=n.extensions[this.name],r=this.parser.getDependency("buffer",e.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return r.then((function(t){const n=e.byteOffset||0,r=e.byteLength||0,s=e.count,a=e.byteStride,o=new Uint8Array(t,n,r);return i.decodeGltfBufferAsync?i.decodeGltfBufferAsync(s,a,o,e.mode,e.filter).then((function(e){return e.buffer})):i.ready.then((function(){const t=new ArrayBuffer(s*a);return i.decodeGltfBuffer(new Uint8Array(t),s,a,o,e.mode,e.filter),t}))}))}return null}}class hb{constructor(e){this.name=Yx.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||void 0===n.mesh)return null;const r=t.meshes[n.mesh];for(const o of r.primitives)if(o.mode!==_b.TRIANGLES&&o.mode!==_b.TRIANGLE_STRIP&&o.mode!==_b.TRIANGLE_FAN&&void 0!==o.mode)return null;const i=n.extensions[this.name].attributes,s=[],a={};for(const o in i)s.push(this.parser.getDependency("accessor",i[o]).then((e=>(a[o]=e,a[o]))));return s.length<1?null:(s.push(this.parser.createNodeMesh(e)),Promise.all(s).then((e=>{const t=e.pop(),n=t.isGroup?t.children:[t],r=e[0].count,i=[];for(const s of n){const e=new Ys,t=new vs,n=new gs,o=new vs(1,1,1),l=new Oh(s.geometry,s.material,r);for(let i=0;i<r;i++)a.TRANSLATION&&t.fromBufferAttribute(a.TRANSLATION,i),a.ROTATION&&n.fromBufferAttribute(a.ROTATION,i),a.SCALE&&o.fromBufferAttribute(a.SCALE,i),l.setMatrixAt(i,e.compose(t,n,o));for(const r in a)if("_COLOR_0"===r){const e=a[r];l.instanceColor=new Rh(e.array,e.itemSize,e.normalized)}else"TRANSLATION"!==r&&"ROTATION"!==r&&"SCALE"!==r&&s.geometry.setAttribute(r,a[r]);ya.prototype.copy.call(l,s),this.parser.assignFinalMaterial(l),i.push(l)}return t.isGroup?(t.clear(),t.add(...i),t):i[0]})))}}const db="glTF",fb=1313821514,pb=5130562;class mb{constructor(e){this.name=Yx.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,12);if(this.header={magic:Hx(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==db)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-12,r=new DataView(e,12);let i=0;for(;i<n;){const t=r.getUint32(i,!0);i+=4;const n=r.getUint32(i,!0);if(i+=4,n===fb){const n=new Uint8Array(e,12+i,t);this.content=Hx(n)}else if(n===pb){const n=12+i;this.body=e.slice(n,n+t)}i+=t}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class gb{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Yx.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,a={},o={},l={};for(const c in s){const e=Mb[c]||c.toLowerCase();a[e]=s[c]}for(const c in e.attributes){const t=Mb[c]||c.toLowerCase();if(void 0!==s[c]){const r=n.accessors[e.attributes[c]],i=Ab[r.componentType];l[t]=i.name,o[t]=!0===r.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t,n){r.decodeDracoFile(e,(function(e){for(const t in e.attributes){const n=e.attributes[t],r=o[t];void 0!==r&&(n.normalized=r)}t(e)}),a,l,Vx,n)}))}))}}class vb{constructor(){this.name=Yx.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return void 0!==t.texCoord&&t.texCoord!==e.channel||void 0!==t.offset||void 0!==t.rotation||void 0!==t.scale?(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0,e):e}}class xb{constructor(){this.name=Yx.KHR_MESH_QUANTIZATION}}class bb extends gp{constructor(e,t,n,r){super(e,t,n,r)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r;for(let s=0;s!==r;s++)t[s]=n[i+s];return t}interpolate_(e,t,n,r){const i=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=2*a,l=3*a,c=r-t,u=(n-t)/c,h=u*u,d=h*u,f=e*l,p=f-l,m=-2*d+3*h,g=d-h,v=1-m,x=g-h+u;for(let b=0;b!==a;b++){const e=s[p+b+a],t=s[p+b+o]*c,n=s[f+b+a],r=s[f+b]*c;i[b]=v*e+x*t+m*n+g*r}return i}}const yb=new gs;class wb extends bb{interpolate_(e,t,n,r){const i=super.interpolate_(e,t,n,r);return yb.fromArray(i).normalize().toArray(i),i}}const _b={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Ab={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Sb={9728:tn,9729:on,9984:nn,9985:ln,9986:sn,9987:un},Eb={33071:$t,33648:en,10497:Zt},Tb={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Mb={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...zx>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Cb={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Rb={CUBICSPLINE:void 0,LINEAR:br,STEP:xr},kb="OPAQUE",Nb="MASK",Pb="BLEND";function Ib(e){return void 0===e.DefaultMaterial&&(e.DefaultMaterial=new np({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:qe})),e.DefaultMaterial}function Lb(e,t,n){for(const r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function Db(e,t){void 0!==t.extras&&("object"===typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function Bb(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(let n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){const n=t.extras.targetNames;if(e.morphTargetInfluences.length===n.length){e.morphTargetDictionary={};for(let t=0,r=n.length;t<r;t++)e.morphTargetDictionary[n[t]]=t}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Ob(e){let t;const n=e.extensions&&e.extensions[Yx.KHR_DRACO_MESH_COMPRESSION];if(t=n?"draco:"+n.bufferView+":"+n.indices+":"+Fb(n.attributes):e.indices+":"+Fb(e.attributes)+":"+e.mode,void 0!==e.targets)for(let r=0,i=e.targets.length;r<i;r++)t+=":"+Fb(e.targets[r]);return t}function Fb(e){let t="";const n=Object.keys(e).sort();for(let r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function Ub(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}const jb=new Ys;class zb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Xx,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,r=!1,i=-1;"undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent&&(n=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),r=navigator.userAgent.indexOf("Firefox")>-1,i=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),"undefined"===typeof createImageBitmap||n||r&&i<98?this.textureLoader=new Hp(this.options.manager):this.textureLoader=new gm(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Bp(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){const s={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};return Lb(i,s,r),Db(s,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(s)}))).then((function(){for(const e of s.scenes)e.updateMatrixWorld();e(s)}))})).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let r=0,i=t.length;r<i;r++){const n=t[r].joints;for(let t=0,r=n.length;t<r;t++)e[n[t]].isBone=!0}for(let r=0,i=e.length;r<i;r++){const t=e[r];void 0!==t.mesh&&(this._addNodeRef(this.meshCache,t.mesh),void 0!==t.skin&&(n[t.mesh].isSkinnedMesh=!0)),void 0!==t.camera&&this._addNodeRef(this.cameraCache,t.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const r=n.clone(),i=(e,t)=>{const n=this.associations.get(e);null!=n&&this.associations.set(t,n);for(const[r,s]of e.children.entries())i(s,t.children[r])};return i(n,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const r=e(t[n]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let r=0;r<t.length;r++){const i=e(t[r]);i&&n.push(i)}return n}getDependency(e,t){const n=e+":"+t;let r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne((function(e){return e.loadNode&&e.loadNode(t)}));break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne((function(n){return n!=this&&n.getDependency&&n.getDependency(e,t)})),!r)throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[Yx.KHR_BINARY_GLTF].body);const r=this.options;return new Promise((function(e,i){n.load(cm.resolveURL(t.uri,r.path),e,void 0,(function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){const n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}loadAccessor(e){const t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse){const e=Tb[r.type],t=Ab[r.componentType],n=!0===r.normalized,i=new t(r.count*e);return Promise.resolve(new Qa(i,e,n))}const i=[];return void 0!==r.bufferView?i.push(this.getDependency("bufferView",r.bufferView)):i.push(null),void 0!==r.sparse&&(i.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(i).then((function(e){const i=e[0],s=Tb[r.type],a=Ab[r.componentType],o=a.BYTES_PER_ELEMENT,l=o*s,c=r.byteOffset||0,u=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,h=!0===r.normalized;let d,f;if(u&&u!==l){const e=Math.floor(c/u),n="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+e+":"+r.count;let l=t.cache.get(n);l||(d=new a(i,e*u,r.count*u/o),l=new Xu(d,u/o),t.cache.add(n,l)),f=new Ju(l,s,c%u/o,h)}else d=null===i?new a(r.count*s):new a(i,c,r.count*s),f=new Qa(d,s,h);if(void 0!==r.sparse){const t=Tb.SCALAR,n=Ab[r.sparse.indices.componentType],o=r.sparse.indices.byteOffset||0,l=r.sparse.values.byteOffset||0,c=new n(e[1],o,r.sparse.count*t),u=new a(e[2],l,r.sparse.count*s);null!==i&&(f=new Qa(f.array.slice(),f.itemSize,f.normalized));for(let e=0,r=c.length;e<r;e++){const t=c[e];if(f.setX(t,u[e*s]),s>=2&&f.setY(t,u[e*s+1]),s>=3&&f.setZ(t,u[e*s+2]),s>=4&&f.setW(t,u[e*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return f}))}loadTexture(e){const t=this.json,n=this.options,r=t.textures[e].source,i=t.images[r];let s=this.textureLoader;if(i.uri){const e=n.manager.getHandler(i.uri);null!==e&&(s=e)}return this.loadTextureImage(e,r,s)}loadTextureImage(e,t,n){const r=this,i=this.json,s=i.textures[e],a=i.images[t],o=(a.uri||a.bufferView)+":"+s.sampler;if(this.textureCache[o])return this.textureCache[o];const l=this.loadImageSource(t,n).then((function(t){t.flipY=!1,t.name=s.name||a.name||"",""===t.name&&"string"===typeof a.uri&&!1===a.uri.startsWith("data:image/")&&(t.name=a.uri);const n=(i.samplers||{})[s.sampler]||{};return t.magFilter=Sb[n.magFilter]||on,t.minFilter=Sb[n.minFilter]||un,t.wrapS=Eb[n.wrapS]||Zt,t.wrapT=Eb[n.wrapT]||Zt,r.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[o]=l,l}loadImageSource(e,t){const n=this,r=this.json,i=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then((e=>e.clone()));const s=r.images[e],a=self.URL||self.webkitURL;let o=s.uri||"",l=!1;if(void 0!==s.bufferView)o=n.getDependency("bufferView",s.bufferView).then((function(e){l=!0;const t=new Blob([e],{type:s.mimeType});return o=a.createObjectURL(t),o}));else if(void 0===s.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const c=Promise.resolve(o).then((function(e){return new Promise((function(n,r){let s=n;!0===t.isImageBitmapLoader&&(s=function(e){const t=new ls(e);t.needsUpdate=!0,n(t)}),t.load(cm.resolveURL(e,i.path),s,void 0,r)}))})).then((function(e){var t;return!0===l&&a.revokeObjectURL(o),Db(e,s),e.userData.mimeType=s.mimeType||((t=s.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e})).catch((function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",o),e}));return this.sourceCache[e]=c,c}assignTexture(e,t,n,r){const i=this;return this.getDependency("texture",n.index).then((function(s){if(!s)return null;if(void 0!==n.texCoord&&n.texCoord>0&&((s=s.clone()).channel=n.texCoord),i.extensions[Yx.KHR_TEXTURE_TRANSFORM]){const e=void 0!==n.extensions?n.extensions[Yx.KHR_TEXTURE_TRANSFORM]:void 0;if(e){const t=i.associations.get(s);s=i.extensions[Yx.KHR_TEXTURE_TRANSFORM].extendTexture(s,e),i.associations.set(s,t)}}return void 0!==r&&("number"===typeof r&&(r=3001===r?Gx:Vx),"colorSpace"in s?s.colorSpace=r:s.encoding=r===Gx?3001:3e3),e[t]=s,s}))}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const r=void 0===t.attributes.tangent,i=void 0!==t.attributes.color,s=void 0===t.attributes.normal;if(e.isPoints){const e="PointsMaterial:"+n.uuid;let t=this.cache.get(e);t||(t=new vd,Ha.prototype.copy.call(t,n),t.color.copy(n.color),t.map=n.map,t.sizeAttenuation=!1,this.cache.add(e,t)),n=t}else if(e.isLine){const e="LineBasicMaterial:"+n.uuid;let t=this.cache.get(e);t||(t=new rd,Ha.prototype.copy.call(t,n),t.color.copy(n.color),t.map=n.map,this.cache.add(e,t)),n=t}if(r||i||s){let e="ClonedMaterial:"+n.uuid+":";r&&(e+="derivative-tangents:"),i&&(e+="vertex-colors:"),s&&(e+="flat-shading:");let t=this.cache.get(e);t||(t=n.clone(),i&&(t.vertexColors=!0),s&&(t.flatShading=!0),r&&(t.normalScale&&(t.normalScale.y*=-1),t.clearcoatNormalScale&&(t.clearcoatNormalScale.y*=-1)),this.cache.add(e,t),this.associations.set(t,this.associations.get(n))),n=t}e.material=n}getMaterialType(){return np}loadMaterial(e){const t=this,n=this.json,r=this.extensions,i=n.materials[e];let s;const a={},o=[];if((i.extensions||{})[Yx.KHR_MATERIALS_UNLIT]){const e=r[Yx.KHR_MATERIALS_UNLIT];s=e.getMaterialType(),o.push(e.extendParams(a,i,t))}else{const n=i.pbrMetallicRoughness||{};if(a.color=new Ua(1,1,1),a.opacity=1,Array.isArray(n.baseColorFactor)){const e=n.baseColorFactor;a.color.setRGB(e[0],e[1],e[2],Vx),a.opacity=e[3]}void 0!==n.baseColorTexture&&o.push(t.assignTexture(a,"map",n.baseColorTexture,Gx)),a.metalness=void 0!==n.metallicFactor?n.metallicFactor:1,a.roughness=void 0!==n.roughnessFactor?n.roughnessFactor:1,void 0!==n.metallicRoughnessTexture&&(o.push(t.assignTexture(a,"metalnessMap",n.metallicRoughnessTexture)),o.push(t.assignTexture(a,"roughnessMap",n.metallicRoughnessTexture))),s=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),o.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,a)}))))}!0===i.doubleSided&&(a.side=Ze);const l=i.alphaMode||kb;if(l===Pb?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,l===Nb&&(a.alphaTest=void 0!==i.alphaCutoff?i.alphaCutoff:.5)),void 0!==i.normalTexture&&s!==Ga&&(o.push(t.assignTexture(a,"normalMap",i.normalTexture)),a.normalScale=new Ui(1,1),void 0!==i.normalTexture.scale)){const e=i.normalTexture.scale;a.normalScale.set(e,e)}if(void 0!==i.occlusionTexture&&s!==Ga&&(o.push(t.assignTexture(a,"aoMap",i.occlusionTexture)),void 0!==i.occlusionTexture.strength&&(a.aoMapIntensity=i.occlusionTexture.strength)),void 0!==i.emissiveFactor&&s!==Ga){const e=i.emissiveFactor;a.emissive=(new Ua).setRGB(e[0],e[1],e[2],Vx)}return void 0!==i.emissiveTexture&&s!==Ga&&o.push(t.assignTexture(a,"emissiveMap",i.emissiveTexture,Gx)),Promise.all(o).then((function(){const n=new s(a);return i.name&&(n.name=i.name),Db(n,i),t.associations.set(n,{materials:e}),i.extensions&&Lb(r,n,i),n}))}createUniqueName(e){const t=Wm.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,n=this.extensions,r=this.primitiveCache;function i(e){return n[Yx.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return Hb(n,e,t)}))}const s=[];for(let a=0,o=e.length;a<o;a++){const n=e[a],o=Ob(n),l=r[o];if(l)s.push(l.promise);else{let e;e=n.extensions&&n.extensions[Yx.KHR_DRACO_MESH_COMPRESSION]?i(n):Hb(new mo,n,t),r[o]={primitive:n,promise:e},s.push(e)}}return Promise.all(s)}loadMesh(e){const t=this,n=this.json,r=this.extensions,i=n.meshes[e],s=i.primitives,a=[];for(let o=0,l=s.length;o<l;o++){const e=void 0===s[o].material?Ib(this.cache):this.getDependency("material",s[o].material);a.push(e)}return a.push(t.loadGeometries(s)),Promise.all(a).then((function(n){const a=n.slice(0,n.length-1),o=n[n.length-1],l=[];for(let u=0,h=o.length;u<h;u++){const n=o[u],c=s[u];let h;const d=a[u];if(c.mode===_b.TRIANGLES||c.mode===_b.TRIANGLE_STRIP||c.mode===_b.TRIANGLE_FAN||void 0===c.mode)h=!0===i.isSkinnedMesh?new Ah(n,d):new Mo(n,d),!0===h.isSkinnedMesh&&h.normalizeSkinWeights(),c.mode===_b.TRIANGLE_STRIP?h.geometry=jx(h.geometry,Mr):c.mode===_b.TRIANGLE_FAN&&(h.geometry=jx(h.geometry,Cr));else if(c.mode===_b.LINES)h=new md(n,d);else if(c.mode===_b.LINE_STRIP)h=new hd(n,d);else if(c.mode===_b.LINE_LOOP)h=new gd(n,d);else{if(c.mode!==_b.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+c.mode);h=new _d(n,d)}Object.keys(h.geometry.morphAttributes).length>0&&Bb(h,i),h.name=t.createUniqueName(i.name||"mesh_"+e),Db(h,i),c.extensions&&Lb(r,h,c),t.assignFinalMaterial(h),l.push(h)}for(let r=0,i=l.length;r<i;r++)t.associations.set(l[r],{meshes:e,primitives:r});if(1===l.length)return i.extensions&&Lb(r,l[0],i),l[0];const c=new Iu;i.extensions&&Lb(r,c,i),t.associations.set(c,{meshes:e});for(let e=0,t=l.length;e<t;e++)c.add(l[e]);return c}))}loadCamera(e){let t;const n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new Uo(Fi.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new dl(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),Db(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){const t=this.json.skins[e],n=[];for(let r=0,i=t.joints.length;r<i;r++)n.push(this._loadNodeShallow(t.joints[r]));return void 0!==t.inverseBindMatrices?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then((function(e){const n=e.pop(),r=e,i=[],s=[];for(let a=0,o=r.length;a<o;a++){const e=r[a];if(e){i.push(e);const t=new Ys;null!==n&&t.fromArray(n.array,16*a),s.push(t)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[a])}return new Ch(i,s)}))}loadAnimation(e){const t=this.json,n=this,r=t.animations[e],i=r.name?r.name:"animation_"+e,s=[],a=[],o=[],l=[],c=[];for(let u=0,h=r.channels.length;u<h;u++){const e=r.channels[u],t=r.samplers[e.sampler],n=e.target,i=n.node,h=void 0!==r.parameters?r.parameters[t.input]:t.input,d=void 0!==r.parameters?r.parameters[t.output]:t.output;void 0!==n.node&&(s.push(this.getDependency("node",i)),a.push(this.getDependency("accessor",h)),o.push(this.getDependency("accessor",d)),l.push(t),c.push(n))}return Promise.all([Promise.all(s),Promise.all(a),Promise.all(o),Promise.all(l),Promise.all(c)]).then((function(e){const t=e[0],r=e[1],s=e[2],a=e[3],o=e[4],l=[];for(let i=0,c=t.length;i<c;i++){const e=t[i],c=r[i],u=s[i],h=a[i],d=o[i];if(void 0===e)continue;e.updateMatrix&&e.updateMatrix();const f=n._createAnimationTracks(e,c,u,h,d);if(f)for(let t=0;t<f.length;t++)l.push(f[t])}return new Cp(i,void 0,l)}))}createNodeMesh(e){const t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){const t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(let t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}loadNode(e){const t=this,n=this.json.nodes[e],r=t._loadNodeShallow(e),i=[],s=n.children||[];for(let o=0,l=s.length;o<l;o++)i.push(t.getDependency("node",s[o]));const a=void 0===n.skin?Promise.resolve(null):t.getDependency("skin",n.skin);return Promise.all([r,Promise.all(i),a]).then((function(e){const t=e[0],n=e[1],r=e[2];null!==r&&t.traverse((function(e){e.isSkinnedMesh&&e.bind(r,jb)}));for(let i=0,s=n.length;i<s;i++)t.add(n[i]);return t}))}_loadNodeShallow(e){const t=this.json,n=this.extensions,r=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];const i=t.nodes[e],s=i.name?r.createUniqueName(i.name):"",a=[],o=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return o&&a.push(o),void 0!==i.camera&&a.push(r.getDependency("camera",i.camera).then((function(e){return r._getNodeRef(r.cameraCache,i.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){a.push(e)})),this.nodeCache[e]=Promise.all(a).then((function(t){let a;if(a=!0===i.isBone?new Sh:t.length>1?new Iu:1===t.length?t[0]:new ya,a!==t[0])for(let e=0,n=t.length;e<n;e++)a.add(t[e]);if(i.name&&(a.userData.name=i.name,a.name=s),Db(a,i),i.extensions&&Lb(n,a,i),void 0!==i.matrix){const e=new Ys;e.fromArray(i.matrix),a.applyMatrix4(e)}else void 0!==i.translation&&a.position.fromArray(i.translation),void 0!==i.rotation&&a.quaternion.fromArray(i.rotation),void 0!==i.scale&&a.scale.fromArray(i.scale);return r.associations.has(a)||r.associations.set(a,{}),r.associations.get(a).nodes=e,a})),this.nodeCache[e]}loadScene(e){const t=this.extensions,n=this.json.scenes[e],r=this,i=new Iu;n.name&&(i.name=r.createUniqueName(n.name)),Db(i,n),n.extensions&&Lb(t,i,n);const s=n.nodes||[],a=[];for(let o=0,l=s.length;o<l;o++)a.push(r.getDependency("node",s[o]));return Promise.all(a).then((function(e){for(let t=0,n=e.length;t<n;t++)i.add(e[t]);return r.associations=(e=>{const t=new Map;for(const[n,i]of r.associations)(n instanceof Ha||n instanceof ls)&&t.set(n,i);return e.traverse((e=>{const n=r.associations.get(e);null!=n&&t.set(e,n)})),t})(i),i}))}_createAnimationTracks(e,t,n,r,i){const s=[],a=e.name?e.name:e.uuid,o=[];let l;switch(Cb[i.path]===Cb.weights?e.traverse((function(e){e.morphTargetInfluences&&o.push(e.name?e.name:e.uuid)})):o.push(a),Cb[i.path]){case Cb.weights:l=Ap;break;case Cb.rotation:l=Ep;break;case Cb.position:case Cb.scale:l=Mp;break;default:if(1===n.itemSize)l=Ap;else l=Mp}const c=void 0!==r.interpolation?Rb[r.interpolation]:br,u=this._getArrayFromAccessor(n);for(let h=0,d=o.length;h<d;h++){const e=new l(o[h]+"."+Cb[i.path],t.array,u,c);"CUBICSPLINE"===r.interpolation&&this._createCubicSplineTrackInterpolant(e),s.push(e)}return s}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const e=Ub(t.constructor),n=new Float32Array(t.length);for(let r=0,i=t.length;r<i;r++)n[r]=t[r]*e;t=n}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(e){return new(this instanceof Ep?wb:bb)(this.times,this.values,this.getValueSize()/3,e)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Hb(e,t,n){const r=t.attributes,i=[];function s(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(const a in r){const t=Mb[a]||a.toLowerCase();t in e.attributes||i.push(s(r[a],t))}if(void 0!==t.indices&&!e.index){const r=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(r)}return Db(e,t),function(e,t,n){const r=t.attributes,i=new ys;if(void 0===r.POSITION)return;{const e=n.json.accessors[r.POSITION],t=e.min,s=e.max;if(void 0===t||void 0===s)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(i.set(new vs(t[0],t[1],t[2]),new vs(s[0],s[1],s[2])),e.normalized){const t=Ub(Ab[e.componentType]);i.min.multiplyScalar(t),i.max.multiplyScalar(t)}}const s=t.targets;if(void 0!==s){const e=new vs,t=new vs;for(let r=0,i=s.length;r<i;r++){const i=s[r];if(void 0!==i.POSITION){const r=n.json.accessors[i.POSITION],s=r.min,a=r.max;if(void 0!==s&&void 0!==a){if(t.setX(Math.max(Math.abs(s[0]),Math.abs(a[0]))),t.setY(Math.max(Math.abs(s[1]),Math.abs(a[1]))),t.setZ(Math.max(Math.abs(s[2]),Math.abs(a[2]))),r.normalized){const e=Ub(Ab[r.componentType]);t.multiplyScalar(e)}e.max(t)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(e)}e.boundingBox=i;const a=new Fs;i.getCenter(a.center),a.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=a}(e,t,n),Promise.all(i).then((function(){return void 0!==t.targets?function(e,t,n){let r=!1,i=!1,s=!1;for(let c=0,u=t.length;c<u;c++){const e=t[c];if(void 0!==e.POSITION&&(r=!0),void 0!==e.NORMAL&&(i=!0),void 0!==e.COLOR_0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(e);const a=[],o=[],l=[];for(let c=0,u=t.length;c<u;c++){const u=t[c];if(r){const t=void 0!==u.POSITION?n.getDependency("accessor",u.POSITION):e.attributes.position;a.push(t)}if(i){const t=void 0!==u.NORMAL?n.getDependency("accessor",u.NORMAL):e.attributes.normal;o.push(t)}if(s){const t=void 0!==u.COLOR_0?n.getDependency("accessor",u.COLOR_0):e.attributes.color;l.push(t)}}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l)]).then((function(t){const n=t[0],a=t[1],o=t[2];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=a),s&&(e.morphAttributes.color=o),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}let Gb=null,Vb="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function Wb(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;return r=>{n&&n(r),e&&(Gb||(Gb=new Bx),Gb.setDecoderPath("string"===typeof e?e:Vb),r.setDRACOLoader(Gb)),t&&r.setMeshoptDecoder(Ux())}}const Xb=(e,t,n,r)=>Zv(Wx,e,Wb(t,n,r));Xb.preload=(e,t,n,r)=>Zv.preload(Wx,e,Wb(t,n,r)),Xb.clear=e=>Zv.clear(Wx,e),Xb.setDecoderPath=e=>{Vb=e};function Yb(){return Yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yb.apply(null,arguments)}const Jb=new vs,Kb=new vs,qb=new vs,Qb=new Ui;function Zb(e,t,n){const r=Jb.setFromMatrixPosition(e.matrixWorld);r.project(t);const i=n.width/2,s=n.height/2;return[r.x*i+i,-r.y*s+s]}const $b=e=>Math.abs(e)<1e-10?0:e;function ey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="matrix3d(";for(let i=0;16!==i;i++)r+=$b(t[i]*e.elements[i])+(15!==i?",":")");return n+r}const ty=(ny=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],e=>ey(e,ny));var ny;const ry=(e,t)=>ey(e,(e=>[1/e,1/e,1/e,1,-1/e,-1/e,-1/e,-1,1/e,1/e,1/e,1,1,1,1,1])(t),"translate(-50%,-50%)");const iy=s.forwardRef(((e,t)=>{let{children:n,eps:r=.001,style:i,className:a,prepend:l,center:c,fullscreen:u,portal:h,distanceFactor:d,sprite:f=!1,transform:p=!1,occlude:m,onOcclude:g,castShadow:v,receiveShadow:x,material:b,geometry:y,zIndexRange:w=[16777271,0],calculatePosition:_=Zb,as:A="div",wrapperClass:S,pointerEvents:E="auto",...T}=e;const{gl:M,camera:C,scene:R,size:k,raycaster:N,events:P,viewport:I}=Jv(),[L]=s.useState((()=>document.createElement(A))),D=s.useRef(),B=s.useRef(null),O=s.useRef(0),F=s.useRef([0,0]),U=s.useRef(null),j=s.useRef(null),z=(null==h?void 0:h.current)||P.connected||M.domElement.parentNode,H=s.useRef(null),G=s.useRef(!1),V=s.useMemo((()=>m&&"blending"!==m||Array.isArray(m)&&m.length&&function(e){return e&&"object"===typeof e&&"current"in e}(m[0])),[m]);s.useLayoutEffect((()=>{const e=M.domElement;m&&"blending"===m?(e.style.zIndex=`${Math.floor(w[0]/2)}`,e.style.position="absolute",e.style.pointerEvents="none"):(e.style.zIndex=null,e.style.position=null,e.style.pointerEvents=null)}),[m]),s.useLayoutEffect((()=>{if(B.current){const e=D.current=o.createRoot(L);if(R.updateMatrixWorld(),p)L.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const e=_(B.current,C,k);L.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${e[0]}px,${e[1]}px,0);transform-origin:0 0;`}return z&&(l?z.prepend(L):z.appendChild(L)),()=>{z&&z.removeChild(L),e.unmount()}}}),[z,p]),s.useLayoutEffect((()=>{S&&(L.className=S)}),[S]);const W=s.useMemo((()=>p?{position:"absolute",top:0,left:0,width:k.width,height:k.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:c?"translate3d(-50%,-50%,0)":"none",...u&&{top:-k.height/2,left:-k.width/2,width:k.width,height:k.height},...i}),[i,c,u,k,p]),X=s.useMemo((()=>({position:"absolute",pointerEvents:E})),[E]);s.useLayoutEffect((()=>{var e,r;(G.current=!1,p)?null==(e=D.current)||e.render(s.createElement("div",{ref:U,style:W},s.createElement("div",{ref:j,style:X},s.createElement("div",{ref:t,className:a,style:i,children:n})))):null==(r=D.current)||r.render(s.createElement("div",{ref:t,style:W,className:a,children:n}))}));const Y=s.useRef(!0);Kv((e=>{if(B.current){C.updateMatrixWorld(),B.current.updateWorldMatrix(!0,!1);const e=p?F.current:_(B.current,C,k);if(p||Math.abs(O.current-C.zoom)>r||Math.abs(F.current[0]-e[0])>r||Math.abs(F.current[1]-e[1])>r){const t=function(e,t){const n=Jb.setFromMatrixPosition(e.matrixWorld),r=Kb.setFromMatrixPosition(t.matrixWorld),i=n.sub(r),s=t.getWorldDirection(qb);return i.angleTo(s)>Math.PI/2}(B.current,C);let n=!1;V&&(Array.isArray(m)?n=m.map((e=>e.current)):"blending"!==m&&(n=[R]));const r=Y.current;if(n){const e=function(e,t,n,r){const i=Jb.setFromMatrixPosition(e.matrixWorld),s=i.clone();s.project(t),Qb.set(s.x,s.y),n.setFromCamera(Qb,t);const a=n.intersectObjects(r,!0);if(a.length){const e=a[0].distance;return i.distanceTo(n.ray.origin)<e}return!0}(B.current,C,N,n);Y.current=e&&!t}else Y.current=!t;r!==Y.current&&(g?g(!Y.current):L.style.display=Y.current?"block":"none");const i=Math.floor(w[0]/2),s=m?V?[w[0],i]:[i-1,0]:w;if(L.style.zIndex=`${function(e,t,n){if(t instanceof Uo||t instanceof dl){const r=Jb.setFromMatrixPosition(e.matrixWorld),i=Kb.setFromMatrixPosition(t.matrixWorld),s=r.distanceTo(i),a=(n[1]-n[0])/(t.far-t.near),o=n[1]-a*t.far;return Math.round(a*s+o)}}(B.current,C,s)}`,p){const[e,t]=[k.width/2,k.height/2],n=C.projectionMatrix.elements[5]*t,{isOrthographicCamera:r,top:i,left:s,bottom:a,right:o}=C,l=ty(C.matrixWorldInverse),c=r?`scale(${n})translate(${$b(-(o+s)/2)}px,${$b((i+a)/2)}px)`:`translateZ(${n}px)`;let u=B.current.matrixWorld;f&&(u=C.matrixWorldInverse.clone().transpose().copyPosition(u).scale(B.current.scale),u.elements[3]=u.elements[7]=u.elements[11]=0,u.elements[15]=1),L.style.width=k.width+"px",L.style.height=k.height+"px",L.style.perspective=r?"":`${n}px`,U.current&&j.current&&(U.current.style.transform=`${c}${l}translate(${e}px,${t}px)`,j.current.style.transform=ry(u,1/((d||10)/400)))}else{const t=void 0===d?1:function(e,t){if(t instanceof dl)return t.zoom;if(t instanceof Uo){const n=Jb.setFromMatrixPosition(e.matrixWorld),r=Kb.setFromMatrixPosition(t.matrixWorld),i=t.fov*Math.PI/180,s=n.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}return 1}(B.current,C)*d;L.style.transform=`translate3d(${e[0]}px,${e[1]}px,0) scale(${t})`}F.current=e,O.current=C.zoom}}if(!V&&H.current&&!G.current)if(p){if(U.current){const e=U.current.children[0];if(null!=e&&e.clientWidth&&null!=e&&e.clientHeight){const{isOrthographicCamera:t}=C;if(t||y)T.scale&&(Array.isArray(T.scale)?T.scale instanceof vs?H.current.scale.copy(T.scale.clone().divideScalar(1)):H.current.scale.set(1/T.scale[0],1/T.scale[1],1/T.scale[2]):H.current.scale.setScalar(1/T.scale));else{const t=(d||10)/400,n=e.clientWidth*t,r=e.clientHeight*t;H.current.scale.set(n,r,1)}G.current=!0}}}else{const t=L.children[0];if(null!=t&&t.clientWidth&&null!=t&&t.clientHeight){const e=1/I.factor,n=t.clientWidth*e,r=t.clientHeight*e;H.current.scale.set(n,r,1),G.current=!0}H.current.lookAt(e.camera.position)}}));const J=s.useMemo((()=>({vertexShader:p?void 0:'\n          /*\n            This shader is from the THREE\'s SpriteMaterial.\n            We need to turn the backing plane into a Sprite\n            (make it always face the camera) if "transfrom"\n            is false.\n          */\n          #include <common>\n\n          void main() {\n            vec2 center = vec2(0., 1.);\n            float rotation = 0.0;\n\n            // This is somewhat arbitrary, but it seems to work well\n            // Need to figure out how to derive this dynamically if it even matters\n            float size = 0.03;\n\n            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n            vec2 scale;\n            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\n            bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n            if ( isPerspective ) scale *= - mvPosition.z;\n\n            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;\n            vec2 rotatedPosition;\n            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n            mvPosition.xy += rotatedPosition;\n\n            gl_Position = projectionMatrix * mvPosition;\n          }\n      ',fragmentShader:"\n        void main() {\n          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n        }\n      "})),[p]);return s.createElement("group",Yb({},T,{ref:B}),m&&!V&&s.createElement("mesh",{castShadow:v,receiveShadow:x,ref:H},y||s.createElement("planeGeometry",null),b||s.createElement("shaderMaterial",{side:Ze,vertexShader:J.vertexShader,fragmentShader:J.fragmentShader})))}));function sy(e,t,n){const r=Jv((e=>e.size)),i=Jv((e=>e.viewport)),a="number"===typeof e?e:r.width*i.dpr,o="number"===typeof t?t:r.height*i.dpr,l=("number"===typeof e?n:e)||{},{samples:c=0,depth:u,...h}=l,d=s.useMemo((()=>{const e=new hs(a,o,{minFilter:on,magFilter:on,type:bn,...h});return u&&(e.depthTexture=new Ol(a,o,xn)),e.samples=c,e}),[]);return s.useLayoutEffect((()=>{d.setSize(a,o),c&&(d.samples=c)}),[c,d,a,o]),s.useEffect((()=>()=>d.dispose()),[]),d}const ay=s.forwardRef(((e,t)=>{let{envMap:n,resolution:r=256,frames:i=1/0,makeDefault:a,children:o,...l}=e;const c=Jv((e=>{let{set:t}=e;return t})),u=Jv((e=>{let{camera:t}=e;return t})),h=Jv((e=>{let{size:t}=e;return t})),d=s.useRef(null);s.useImperativeHandle(t,(()=>d.current),[]);const f=s.useRef(null),p=sy(r);s.useLayoutEffect((()=>{l.manual||(d.current.aspect=h.width/h.height)}),[h,l]),s.useLayoutEffect((()=>{d.current.updateProjectionMatrix()}));let m=0,g=null;const v="function"===typeof o;return Kv((e=>{v&&(i===1/0||m<i)&&(f.current.visible=!1,e.gl.setRenderTarget(p),g=e.scene.background,n&&(e.scene.background=n),e.gl.render(e.scene,d.current),e.scene.background=g,e.gl.setRenderTarget(null),f.current.visible=!0,m++)})),s.useLayoutEffect((()=>{if(a){const e=u;return c((()=>({camera:d.current}))),()=>c((()=>({camera:e})))}}),[d,a,c]),s.createElement(s.Fragment,null,s.createElement("perspectiveCamera",Yb({ref:d},l),!v&&o),s.createElement("group",{ref:f},v&&o(p.texture)))}));var oy=Object.defineProperty,ly=(e,t,n)=>(((e,t,n)=>{t in e?oy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!==typeof t?t+"":t,n),n);class cy{constructor(){ly(this,"_listeners")}addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const n=this._listeners[e];if(void 0!==n){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const n=t.slice(0);for(let t=0,r=n.length;t<r;t++)n[t].call(this,e);e.target=null}}}var uy=Object.defineProperty,hy=(e,t,n)=>(((e,t,n)=>{t in e?uy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!==typeof t?t+"":t,n),n);const dy=new Xs,fy=new Yo,py=Math.cos(Math.PI/180*70),my=(e,t)=>(e%t+t)%t;class gy extends cy{constructor(e,t){super(),hy(this,"object"),hy(this,"domElement"),hy(this,"enabled",!0),hy(this,"target",new vs),hy(this,"minDistance",0),hy(this,"maxDistance",1/0),hy(this,"minZoom",0),hy(this,"maxZoom",1/0),hy(this,"minPolarAngle",0),hy(this,"maxPolarAngle",Math.PI),hy(this,"minAzimuthAngle",-1/0),hy(this,"maxAzimuthAngle",1/0),hy(this,"enableDamping",!1),hy(this,"dampingFactor",.05),hy(this,"enableZoom",!0),hy(this,"zoomSpeed",1),hy(this,"enableRotate",!0),hy(this,"rotateSpeed",1),hy(this,"enablePan",!0),hy(this,"panSpeed",1),hy(this,"screenSpacePanning",!0),hy(this,"keyPanSpeed",7),hy(this,"zoomToCursor",!1),hy(this,"autoRotate",!1),hy(this,"autoRotateSpeed",2),hy(this,"reverseOrbit",!1),hy(this,"reverseHorizontalOrbit",!1),hy(this,"reverseVerticalOrbit",!1),hy(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),hy(this,"mouseButtons",{LEFT:je.ROTATE,MIDDLE:je.DOLLY,RIGHT:je.PAN}),hy(this,"touches",{ONE:ze.ROTATE,TWO:ze.DOLLY_PAN}),hy(this,"target0"),hy(this,"position0"),hy(this,"zoom0"),hy(this,"_domElementKeyEvents",null),hy(this,"getPolarAngle"),hy(this,"getAzimuthalAngle"),hy(this,"setPolarAngle"),hy(this,"setAzimuthalAngle"),hy(this,"getDistance"),hy(this,"getZoomScale"),hy(this,"listenToKeyEvents"),hy(this,"stopListenToKeyEvents"),hy(this,"saveState"),hy(this,"reset"),hy(this,"update"),hy(this,"connect"),hy(this,"dispose"),hy(this,"dollyIn"),hy(this,"dollyOut"),hy(this,"getScale"),hy(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=e=>{let t=my(e,2*Math.PI),r=c.phi;r<0&&(r+=2*Math.PI),t<0&&(t+=2*Math.PI);let i=Math.abs(t-r);2*Math.PI-i<i&&(t<r?t+=2*Math.PI:r+=2*Math.PI),u.phi=t-r,n.update()},this.setAzimuthalAngle=e=>{let t=my(e,2*Math.PI),r=c.theta;r<0&&(r+=2*Math.PI),t<0&&(t+=2*Math.PI);let i=Math.abs(t-r);2*Math.PI-i<i&&(t<r?t+=2*Math.PI:r+=2*Math.PI),u.theta=t-r,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=e=>{e.addEventListener("keydown",q),this._domElementKeyEvents=e},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",q),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),o=a.NONE},this.update=(()=>{const t=new vs,i=new vs(0,1,0),s=(new gs).setFromUnitVectors(e.up,i),f=s.clone().invert(),p=new vs,m=new gs,g=2*Math.PI;return function(){const v=n.object.position;s.setFromUnitVectors(e.up,i),f.copy(s).invert(),t.copy(v).sub(n.target),t.applyQuaternion(s),c.setFromVector3(t),n.autoRotate&&o===a.NONE&&C(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(c.theta+=u.theta*n.dampingFactor,c.phi+=u.phi*n.dampingFactor):(c.theta+=u.theta,c.phi+=u.phi);let x=n.minAzimuthAngle,b=n.maxAzimuthAngle;isFinite(x)&&isFinite(b)&&(x<-Math.PI?x+=g:x>Math.PI&&(x-=g),b<-Math.PI?b+=g:b>Math.PI&&(b-=g),c.theta=x<=b?Math.max(x,Math.min(b,c.theta)):c.theta>(x+b)/2?Math.max(x,c.theta):Math.min(b,c.theta)),c.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,c.phi)),c.makeSafe(),!0===n.enableDamping?n.target.addScaledVector(d,n.dampingFactor):n.target.add(d),n.zoomToCursor&&S||n.object.isOrthographicCamera?c.radius=O(c.radius):c.radius=O(c.radius*h),t.setFromSpherical(c),t.applyQuaternion(f),v.copy(n.target).add(t),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),!0===n.enableDamping?(u.theta*=1-n.dampingFactor,u.phi*=1-n.dampingFactor,d.multiplyScalar(1-n.dampingFactor)):(u.set(0,0,0),d.set(0,0,0));let y=!1;if(n.zoomToCursor&&S){let r=null;if(n.object instanceof Uo&&n.object.isPerspectiveCamera){const e=t.length();r=O(e*h);const i=e-r;n.object.position.addScaledVector(_,i),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const e=new vs(A.x,A.y,0);e.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/h)),n.object.updateProjectionMatrix(),y=!0;const i=new vs(A.x,A.y,0);i.unproject(n.object),n.object.position.sub(i).add(e),n.object.updateMatrixWorld(),r=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;null!==r&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(r).add(n.object.position):(dy.origin.copy(n.object.position),dy.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(dy.direction))<py?e.lookAt(n.target):(fy.setFromNormalAndCoplanarPoint(n.object.up,n.target),dy.intersectPlane(fy,n.target))))}else n.object instanceof dl&&n.object.isOrthographicCamera&&(y=1!==h,y&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/h)),n.object.updateProjectionMatrix()));return h=1,S=!1,!!(y||p.distanceToSquared(n.object.position)>l||8*(1-m.dot(n.object.quaternion))>l)&&(n.dispatchEvent(r),p.copy(n.object.position),m.copy(n.object.quaternion),y=!1,!0)}})(),this.connect=e=>{n.domElement=e,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",Q),n.domElement.addEventListener("pointerdown",X),n.domElement.addEventListener("pointercancel",J),n.domElement.addEventListener("wheel",K)},this.dispose=()=>{var e,t,r,i,s,a;n.domElement&&(n.domElement.style.touchAction="auto"),null==(e=n.domElement)||e.removeEventListener("contextmenu",Q),null==(t=n.domElement)||t.removeEventListener("pointerdown",X),null==(r=n.domElement)||r.removeEventListener("pointercancel",J),null==(i=n.domElement)||i.removeEventListener("wheel",K),null==(s=n.domElement)||s.ownerDocument.removeEventListener("pointermove",Y),null==(a=n.domElement)||a.ownerDocument.removeEventListener("pointerup",J),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",q)};const n=this,r={type:"change"},i={type:"start"},s={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let o=a.NONE;const l=1e-6,c=new sg,u=new sg;let h=1;const d=new vs,f=new Ui,p=new Ui,m=new Ui,g=new Ui,v=new Ui,x=new Ui,b=new Ui,y=new Ui,w=new Ui,_=new vs,A=new Ui;let S=!1;const E=[],T={};function M(){return Math.pow(.95,n.zoomSpeed)}function C(e){n.reverseOrbit||n.reverseHorizontalOrbit?u.theta+=e:u.theta-=e}function R(e){n.reverseOrbit||n.reverseVerticalOrbit?u.phi+=e:u.phi-=e}const k=(()=>{const e=new vs;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),d.add(e)}})(),N=(()=>{const e=new vs;return function(t,r){!0===n.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),d.add(e)}})(),P=(()=>{const e=new vs;return function(t,r){const i=n.domElement;if(i&&n.object instanceof Uo&&n.object.isPerspectiveCamera){const s=n.object.position;e.copy(s).sub(n.target);let a=e.length();a*=Math.tan(n.object.fov/2*Math.PI/180),k(2*t*a/i.clientHeight,n.object.matrix),N(2*r*a/i.clientHeight,n.object.matrix)}else i&&n.object instanceof dl&&n.object.isOrthographicCamera?(k(t*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),N(r*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function I(e){n.object instanceof Uo&&n.object.isPerspectiveCamera||n.object instanceof dl&&n.object.isOrthographicCamera?h=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function L(e){I(h/e)}function D(e){I(h*e)}function B(e){if(!n.zoomToCursor||!n.domElement)return;S=!0;const t=n.domElement.getBoundingClientRect(),r=e.clientX-t.left,i=e.clientY-t.top,s=t.width,a=t.height;A.x=r/s*2-1,A.y=-i/a*2+1,_.set(A.x,A.y,1).unproject(n.object).sub(n.object.position).normalize()}function O(e){return Math.max(n.minDistance,Math.min(n.maxDistance,e))}function F(e){f.set(e.clientX,e.clientY)}function U(e){g.set(e.clientX,e.clientY)}function j(){if(1==E.length)f.set(E[0].pageX,E[0].pageY);else{const e=.5*(E[0].pageX+E[1].pageX),t=.5*(E[0].pageY+E[1].pageY);f.set(e,t)}}function z(){if(1==E.length)g.set(E[0].pageX,E[0].pageY);else{const e=.5*(E[0].pageX+E[1].pageX),t=.5*(E[0].pageY+E[1].pageY);g.set(e,t)}}function H(){const e=E[0].pageX-E[1].pageX,t=E[0].pageY-E[1].pageY,n=Math.sqrt(e*e+t*t);b.set(0,n)}function G(e){if(1==E.length)p.set(e.pageX,e.pageY);else{const t=$(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);p.set(n,r)}m.subVectors(p,f).multiplyScalar(n.rotateSpeed);const t=n.domElement;t&&(C(2*Math.PI*m.x/t.clientHeight),R(2*Math.PI*m.y/t.clientHeight)),f.copy(p)}function V(e){if(1==E.length)v.set(e.pageX,e.pageY);else{const t=$(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);v.set(n,r)}x.subVectors(v,g).multiplyScalar(n.panSpeed),P(x.x,x.y),g.copy(v)}function W(e){const t=$(e),r=e.pageX-t.x,i=e.pageY-t.y,s=Math.sqrt(r*r+i*i);y.set(0,s),w.set(0,Math.pow(y.y/b.y,n.zoomSpeed)),L(w.y),b.copy(y)}function X(e){var t,r;!1!==n.enabled&&(0===E.length&&(null==(t=n.domElement)||t.ownerDocument.addEventListener("pointermove",Y),null==(r=n.domElement)||r.ownerDocument.addEventListener("pointerup",J)),function(e){E.push(e)}(e),"touch"===e.pointerType?function(e){switch(Z(e),E.length){case 1:switch(n.touches.ONE){case ze.ROTATE:if(!1===n.enableRotate)return;j(),o=a.TOUCH_ROTATE;break;case ze.PAN:if(!1===n.enablePan)return;z(),o=a.TOUCH_PAN;break;default:o=a.NONE}break;case 2:switch(n.touches.TWO){case ze.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&H(),n.enablePan&&z(),o=a.TOUCH_DOLLY_PAN;break;case ze.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&H(),n.enableRotate&&j(),o=a.TOUCH_DOLLY_ROTATE;break;default:o=a.NONE}break;default:o=a.NONE}o!==a.NONE&&n.dispatchEvent(i)}(e):function(e){let t;switch(e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case je.DOLLY:if(!1===n.enableZoom)return;!function(e){B(e),b.set(e.clientX,e.clientY)}(e),o=a.DOLLY;break;case je.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;U(e),o=a.PAN}else{if(!1===n.enableRotate)return;F(e),o=a.ROTATE}break;case je.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;F(e),o=a.ROTATE}else{if(!1===n.enablePan)return;U(e),o=a.PAN}break;default:o=a.NONE}o!==a.NONE&&n.dispatchEvent(i)}(e))}function Y(e){!1!==n.enabled&&("touch"===e.pointerType?function(e){switch(Z(e),o){case a.TOUCH_ROTATE:if(!1===n.enableRotate)return;G(e),n.update();break;case a.TOUCH_PAN:if(!1===n.enablePan)return;V(e),n.update();break;case a.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&W(e),n.enablePan&&V(e)}(e),n.update();break;case a.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&W(e),n.enableRotate&&G(e)}(e),n.update();break;default:o=a.NONE}}(e):function(e){if(!1===n.enabled)return;switch(o){case a.ROTATE:if(!1===n.enableRotate)return;!function(e){p.set(e.clientX,e.clientY),m.subVectors(p,f).multiplyScalar(n.rotateSpeed);const t=n.domElement;t&&(C(2*Math.PI*m.x/t.clientHeight),R(2*Math.PI*m.y/t.clientHeight)),f.copy(p),n.update()}(e);break;case a.DOLLY:if(!1===n.enableZoom)return;!function(e){y.set(e.clientX,e.clientY),w.subVectors(y,b),w.y>0?L(M()):w.y<0&&D(M()),b.copy(y),n.update()}(e);break;case a.PAN:if(!1===n.enablePan)return;!function(e){v.set(e.clientX,e.clientY),x.subVectors(v,g).multiplyScalar(n.panSpeed),P(x.x,x.y),g.copy(v),n.update()}(e)}}(e))}function J(e){var t,r,i;!function(e){delete T[e.pointerId];for(let t=0;t<E.length;t++)if(E[t].pointerId==e.pointerId)return void E.splice(t,1)}(e),0===E.length&&(null==(t=n.domElement)||t.releasePointerCapture(e.pointerId),null==(r=n.domElement)||r.ownerDocument.removeEventListener("pointermove",Y),null==(i=n.domElement)||i.ownerDocument.removeEventListener("pointerup",J)),n.dispatchEvent(s),o=a.NONE}function K(e){!1===n.enabled||!1===n.enableZoom||o!==a.NONE&&o!==a.ROTATE||(e.preventDefault(),n.dispatchEvent(i),function(e){B(e),e.deltaY<0?D(M()):e.deltaY>0&&L(M()),n.update()}(e),n.dispatchEvent(s))}function q(e){!1!==n.enabled&&!1!==n.enablePan&&function(e){let t=!1;switch(e.code){case n.keys.UP:P(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:P(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:P(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:P(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function Q(e){!1!==n.enabled&&e.preventDefault()}function Z(e){let t=T[e.pointerId];void 0===t&&(t=new Ui,T[e.pointerId]=t),t.set(e.pageX,e.pageY)}function $(e){const t=e.pointerId===E[0].pointerId?E[1]:E[0];return T[t.pointerId]}this.dollyIn=function(){D(arguments.length>0&&void 0!==arguments[0]?arguments[0]:M()),n.update()},this.dollyOut=function(){L(arguments.length>0&&void 0!==arguments[0]?arguments[0]:M()),n.update()},this.getScale=()=>h,this.setScale=e=>{I(e),n.update()},this.getZoomScale=()=>M(),void 0!==t&&this.connect(t),this.update()}}const vy=s.forwardRef(((e,t)=>{let{makeDefault:n,camera:r,regress:i,domElement:a,enableDamping:o=!0,keyEvents:l=!1,onChange:c,onStart:u,onEnd:h,...d}=e;const f=Jv((e=>e.invalidate)),p=Jv((e=>e.camera)),m=Jv((e=>e.gl)),g=Jv((e=>e.events)),v=Jv((e=>e.setEvents)),x=Jv((e=>e.set)),b=Jv((e=>e.get)),y=Jv((e=>e.performance)),w=r||p,_=a||g.connected||m.domElement,A=s.useMemo((()=>new gy(w)),[w]);return Kv((()=>{A.enabled&&A.update()}),-1),s.useEffect((()=>(l&&A.connect(!0===l?_:l),A.connect(_),()=>{A.dispose()})),[l,_,i,A,f]),s.useEffect((()=>{const e=e=>{f(),i&&y.regress(),c&&c(e)},t=e=>{u&&u(e)},n=e=>{h&&h(e)};return A.addEventListener("change",e),A.addEventListener("start",t),A.addEventListener("end",n),()=>{A.removeEventListener("start",t),A.removeEventListener("end",n),A.removeEventListener("change",e)}}),[c,u,h,A,f,v]),s.useEffect((()=>{if(n){const e=b().controls;return x({controls:A}),()=>x({controls:e})}}),[n,A]),s.createElement("primitive",Yb({ref:t,object:A,enableDamping:o},d))})),xy="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACeSURBVHgB5ZCxDcIwFER/gMLljZARMgIlBUJsQckImA1oKIA16GEkl+ngTkoRRflxinQ+6VvWv/PTyWbl6gl8NLncyhZSKaA70LyAS+4RP//MaVzQxmz7M4tTsM67MXd0QaeUFLh6MO3kKcNs7HvrYfjdtt99CBWv8RCCVrUO3msPIlXm6AFEmmqVONDOg4w2GjYjbJeDzJKaaaxc/QHv8jgm8Wo41QAAAABJRU5ErkJggg==",by="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACqSURBVHgB5dAhDsIwFMbxj1c8BkuR9BhIDCcBEm6wcgMSGGiOgEAPbjHsFALBDkAfbwICybayZGr7mzavLz9RoL2ZUAdmrwPfnvIhclgwxv1pD/dTeqkMfRCpw3jIMSnDlAdZgVkkusHhkM2KMCpD4lli3/N4IXcnsIPN+zP6B8nDRju9/H7r/qp0fLJLr/NkjYIyzGw0FNEZVTLbQWTCYeTbI9RUg6EG9wIoZ0NnZiYqKQAAAABJRU5ErkJggg==",yy=e=>{let{socketData:t}=e;console.log("Socket Data:",t);const n=ie(),r=(0,s.useRef)(),{scene:i}=Xb("./potline.gltf"),[a,o]=(0,s.useState)(null),[l,c]=(0,s.useState)(null),[u,h]=(0,s.useState)({x:0,y:0,show:!1}),d=(0,s.useRef)(new Ui),f=(0,s.useRef)(new ng),p=(0,s.useRef)(0),[m,g]=(0,s.useState)(null),v=Object.fromEntries(Object.entries({CBT1A2:"s1",CBT1A1:"s2",CBT2A2:"s3",CBT2A1:"s4",CBT3A2:"s5",CBT3A1:"s6",CBT4A2:"s7",CBT4A1:"s8",CBT5A2:"s9",CBT5A1:"s10",CBT6A2:"s11",CBT6A1:"s12",CBT7A2:"s13",CBT7A1:"s14",CBT8A2:"s15",CBT8A1:"s16",CBT9A2:"s17",CBT9A1:"s18",CBT10A2:"s19",CBT10A1:"s20",CBT11A2:"s21",CBT11A1:"s22",CBT12A2:"s23",CBT12A1:"s24",CBT13A2:"s25",CBT13A1:"s26",CBT14A2:"s27",CBT14A1:"s28",CBT15A2:"s29",CBT15A1:"s30",CBT16A2:"s31",CBT16A1:"s32",CBT17A2:"s33",CBT17A1:"s34",CBT18A2:"s35",CBT18A1:"s36",CBT19A2:"s37",CBT19A1:"s38",CBT20A2:"s39",CBT20A1:"s40",CBT21A2:"s41",CBT21A1:"s42",CBT22A2:"s43",CBT22A1:"s44",CBT23A2:"s45",CBT23A1:"s46",CBT24A2:"s47",CBT24A1:"s48",CBT25A2:"s49",CBT25A1:"s50",CBT26A2:"s51",CBT26A1:"s52",CBT27A2:"s53",CBT27A1:"s54",CBT1B2:"s55",CBT1B1:"s56",CBT2B2:"s57",CBT2B1:"s58",CBT3B2:"s59",CBT3B1:"s60",CBT4B2:"s61",CBT4B1:"s62",CBT5B2:"s63",CBT5B1:"s64",CBT6B2:"s65",CBT6B1:"s66",CBT7B2:"s67",CBT7B1:"s68",CBT8B2:"s69",CBT8B1:"s70",CBT9B2:"s71",CBT9B1:"s72",CBT10B2:"s73",CBT10B1:"s74",CBT11B2:"s75",CBT11B1:"s76",CBT12B2:"s77",CBT12B1:"s78",CBT13B2:"s79",CBT13B1:"s80",CBT14B2:"s81",CBT14B1:"s82",CBT15B2:"s83",CBT15B1:"s84",CBT16B2:"s85",CBT16B1:"s86",CBT17B2:"s87",CBT17B1:"s88",CBT18B2:"s89",CBT18B1:"s90",CBT19B2:"s91",CBT19B1:"s92",CBT20B2:"s93",CBT20B1:"s94",CBT21B2:"s95",CBT21B1:"s96",CBT22B2:"s97",CBT22B1:"s98",CBT23B2:"s99",CBT23B1:"s100",CBT24B2:"s101",CBT24B1:"s102",CBT25B2:"s103",CBT25B1:"s104",CBT26B2:"s105",CBT26B1:"s106",CBT27B2:"s107",CBT27B1:"s108"}).map((e=>{let[t,n]=e;return[n,t]})));(0,s.useEffect)((()=>{const e=e=>{const t=document.querySelector("canvas");if(!t)return;const n=t.getBoundingClientRect();d.current.x=(e.clientX-n.left)/n.width*2-1,d.current.y=-(e.clientY-n.top)/n.height*2+1,a&&h({x:e.clientX,y:e.clientY,show:!0})};return window.addEventListener("mousemove",e),()=>window.removeEventListener("mousemove",e)}),[a]);return Kv((e=>{let{camera:n,clock:i}=e;if(!r.current)return;const s=i.getElapsedTime();if(s-p.current<.05)return;p.current=s,f.current.setFromCamera(d.current,n);const a=f.current.intersectObject(r.current,!0);if(r.current)if(a.length>0){const e=a[0].object;if(!e)return;const n=v[e.name];if(n){g(e),o(n);let r="N/A",i="N/A",s="N/A";const a=t.find((e=>e.name===n));a&&(r=a.value,i=a.maxTemp,s=a.minTemp),c({name:n,value:`${parseFloat(r).toFixed(2)}\xb0C`,maxTemp:`${parseFloat(i).toFixed(2)}\xb0C`,minTemp:`${parseFloat(s).toFixed(2)}\xb0C`})}else g(null),o(null),h((e=>({...e,show:!1})))}else g(null),o(null),h((e=>({...e,show:!1})))})),(0,$g.jsxs)($g.Fragment,{children:[(0,$g.jsx)("primitive",{ref:r,object:i,position:[0,-2,0],scale:1,onClick:e=>{e.stopPropagation();const t=v[e.object.name];t&&(o(t),n(`/CollectorBar?part=${encodeURIComponent(t)}`))}}),u.show&&(null===m||void 0===m?void 0:m.position)&&l&&(0,$g.jsx)(iy,{position:[m.position.x,m.position.y,m.position.z],zIndexRange:[100,0],children:(0,$g.jsx)("div",{className:"relative text-white pointer-events-none",children:(0,$g.jsxs)("div",{className:"w-[159px] h-[79.50px] ml-1 bg-gradient-to-t from-[#101010cc] to-[#0073FFA3] rounded-2xl border border-white grid grid-cols-2 place-items-center",children:[(0,$g.jsx)("div",{className:"w-full text-xs font-semibold text-center",children:l.name}),(0,$g.jsx)("div",{className:"w-full text-base font-bold text-center",children:l.value}),(0,$g.jsxs)("div",{className:"h-[17px] flex items-center justify-center gap-2.5 w-full",children:[(0,$g.jsx)("img",{src:by,alt:"up",className:"w-[17px] h-[17px]"}),(0,$g.jsx)("div",{className:"text-white text-[11px] font-medium",children:l.maxTemp})]}),(0,$g.jsxs)("div",{className:"h-[17px] flex items-center justify-center gap-2.5 w-full",children:[(0,$g.jsx)("img",{src:xy,alt:"up",className:"w-[17px] h-[17px]"}),(0,$g.jsx)("div",{className:"text-white text-[11px] font-medium",children:l.minTemp})]})]})})})]})},wy=e=>{let{socketData:t,lastButtonClicked:n}=e;const r=(0,s.useRef)(),[i,a]=(0,s.useState)(""),[o,l]=(0,s.useState)("");return(0,s.useEffect)((()=>{const e=async()=>{try{const e=await fetch("http://34.100.168.176:4000/api/v2/getLatestTimestamp"),t=await e.json();l(t.latestTimestamp)}catch(Cx){console.error("Error fetching timestamp:",Cx),l("N/A")}},t=setInterval((()=>{const t=localStorage.getItem("id");a(t||""),e()}),5e3);return e(),()=>clearInterval(t)}),[]),(0,$g.jsxs)("div",{className:"h-[500px] md:w-[95%] bg-[rgba(16,16,16,0.9)] backdrop-blur-sm lg:w-[96%] xl:w-[73%] 2xl:w-[73%]  2x:w-auto rounded-2xl m-4 lg:h-auto relative",children:[(0,$g.jsxs)("div",{className:"absolute flex flex-col p-4 space-y-4 md:h-full md:w-full",children:[(0,$g.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,$g.jsx)("div",{className:"flex items-center gap-4",children:(0,$g.jsx)("p",{className:"text-2xl font-semibold text-white",children:i||"N/A"})}),(0,$g.jsxs)("div",{className:"flex items-center gap-6",children:[(0,$g.jsxs)("p",{className:"font-bold text-white",children:["Active: ",(0,$g.jsx)("span",{className:"text-green-500",children:"1"})]}),(0,$g.jsxs)("p",{className:"font-bold text-white",children:["Inactive: ",(0,$g.jsx)("span",{className:"text-red-600",children:"11"})]}),(0,$g.jsxs)("p",{className:"font-bold text-white",children:["Total Pots: ",(0,$g.jsx)("span",{className:"text-[rgba(0,119,228)]",children:"12"})]})]})]}),(0,$g.jsx)("div",{className:"container mx-auto",children:(0,$g.jsx)("div",{className:"flex justify-end",children:(0,$g.jsxs)("div",{className:"w-[90%] md:w-fit rounded-lg grid grid-cols-2 justify-center items-center",children:[(0,$g.jsx)("div",{className:"font-semibold text-gray-300 text-md",children:"Last Updation:"}),(0,$g.jsx)("div",{className:"text-base font-semibold text-white",children:o||"Loading..."})]})})})]}),(0,$g.jsxs)(Lx,{className:"",children:[(0,$g.jsx)("ambientLight",{intensity:2}),(0,$g.jsx)("directionalLight",{position:[1,5,5],intensity:2}),(0,$g.jsx)(ay,{makeDefault:!0,position:[18,1,0]}),(0,$g.jsx)(yy,{socketData:t}),(0,$g.jsx)(vy,{ref:r,minDistance:12,maxDistance:14,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2,enableZoom:!0,enablePan:!0})]})]})},_y=n.p+"static/media/Vedanta-Logo.0411bd0fdb07b2eadec7.png",Ay="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIYAAAA5CAYAAADz5VMxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABJmSURBVHgB7V3rbhtJdj7VTWqsGU9MPYHa2PHOAkFiOsifAAFMBdhYspMRPS8gKkCQABsMqR8zE2yAsB0kCLJBlpKzAfIjgKh9gIiTy9qZBCGNLDBYBAglzCaZWXuH9AusKN8kkd119hyyWiy2+kZSvi30GXTfqk5VV311zqlbS8AU6H56PSulcVU4mAVHZKWLGewJS7iA6AiBDrTpvC0dsQsSmr2ecW9urdaGM7zyEDAmsJ7LOKk3i7KHBeGKeap8YBKAK4DPwe1fA/Tv87U6p/t8JAI1QGL1/Mf/tAVneGWRmBjYJEIczZZBGivo4Bz0tQLd74l9qvwGne9CT7bdPjGMtkBpGW7qAnTRko6RFRJzfaI4gBSeidQGR9rny2cEeRWRiBjd3aWicIRNlZoZtHzRgR5uudKozX7zXxpJZOxV8hlTunkTjWXZg3xfswy0SdvtwsLcX52ZmFcJkcToa4nU7KaQkFfmYY98hY3U4bMNsdDowITY+8u8lXawTCRbQdYepEnIF7Hf/k7tFpzhlUAoMbC1aLlHUCf1bwGTwoVayjhYFVcmJ4Qfj+18jsixScSw+sRzcf3Cd2trcIaXjkBiHBApZtwhKag1l8zLdzbChOB2PtOb6VpkErKya1jsRxhdAOnCLh6l2ue/VdsJi7tn5y3zACooRd+8EDmqFzZqq3CGl4pAYjita9tEhmXsGfvQc1dTv/ppLShc778WyaE0y9iFy0SGOexSz6RHROnyQz4fXEMP2nTd6D0Vt+bsYF9i/6N8mcKViSC7mY3tK4iYEUIcaye6tuhQgGToUNz1sIcJZVUThIlMJw6Ujywd8gmD71BatYRyC3SwJo3PED6BnNFlaC9sSOeNOkrjVurdOyeE9ZqLOapoIoTIUeV38Ai3iAw74M40znU6HbHa6OBmPvPEcbJm17hMYXLYxWUmCnVxt3oSAgmyV8qX6FDLVLY5HxX6LdDLtLW8bWvBLTiJtnekeAsQAp+sjPr5Zdj0K2nP/OE8cB4bMAFUBZYjZLe1c67Ym5Bcdp0OOe0WN7KLemNLKihLvz0coMyOZ1A498dLlV5zCbs/Wmo5P1xcSSi+73A++ovlzcf2snz0J/nWo4/yKwny0YTw/K7jKJowAVR6HuyIcBkMxjZMCZKRD5DbginApAuQmYNxoV68qQkpjzxv5TK9Lxbrvc8XkYhRCSNOHNin2P92vrX/0U3cL71f9uXB0kjRUio/Kr970744xakmrQgtXy1fuhOVhS8PTZ/caYlRwpPYhEkQRQ73q2tN58tF7P54qQRTgsiR2f8wv9kp3cS9b71fUmlbWsFEkkLLr//l6zAGmEhaXCtBeIYdkK4NE0K9N6pj9RSJUceT4IaUiMQiQCBH5ALOqlt23+fAc023ixsz3/i3QGfr4M6iJWRqWR7Ii+LIvOA+xX15BA3XSe2EzY90ivk6Oadrmb/b7qg0LRjYwiuebxEHHJiQrHarQHETjaaqwrfod4vi2AnCI4elH5cBx/UKmZ3QOZgATAY6zLNPpM49E8t+0kWYAIrknL82/e5pMhmJfCLDf0M5J+y4eV1MG6x60RCHV4JIwY5o77OlujFjtEhankVKiQ8Nw5ynUc7vpnrYevJn+U02If64mY3aQgApFpKSQsE/7mEnaRVKG1r0ayQhhQ5VRnr3nTVtDsaEqkCutIl7NiEoqKOtfjoS+4WBCDArJwS6/3et2P0f8jl+dL3Mk2tBcrp/c/MyDWTVH307/xX1OixfGrr5YCTtuvnzWh9HteNQfbeSmBAt3rFsPOmMjmXGlIyqbjLwlEyJVqaW73oscxKVQCg53NZi2fli8Wfd5vVsElmP/zhf3l+7ubf3h3krRHYBJoRW0YleXiuosVqPTgx1XfelmxtDltcoVrR7UxMDh35TXbtnT5pPSPACI+SQDxd/hl/+9uVxZO2Vbq7v/0G+qOTqpJjaoQ14eTskXFk9H9tDDyBGzpdmYpOg8tHy3TsNYlT1egrJ52S9k4DETpCDu68wIThjcRU4gUx/95XPLV+YiUyIFv9EfnFUayRW0+jTFureVMTQ3u9EPvC0zYkv0ZZWsJmQcMzOQljBqwpsnSYpNNmlqJaBE5oQLX4QMfyDU7HaT5VPK4C40xKjEPTe6pl/QDAHpwVFjm0Mr/TtJIWk5ExtPkJkN4MKgI7FsEIbQ/YJYqj7uqaKdUIVKYIqb1piNMMqHZ+XOUmQqaBh3T14wQgogDoOR1RbOIEJ0WSHEcPGADKGyPBatRXwbGJi4HBovxURxm9qT8ecxGQsaAg2sABeQF7qIXnJwRSIIIbfv6lHyGhhSGudkhhe3M2IMM/PnEQkmguoiKmGdafIixWQl6kHkcKIoZ75Cz0TEMbTqlaIjGmI0VLxshFhnlvvhNVVM+LFbC2DUeFW8DnbOPT5GnAKiCGGv9DtgDB1jG7RExEDh+YpyUTg6ZoTHJ0Or8eEtWLknC5jg9Opv0hiBKS553vmEScXEX9SYnjpJukRVXEUOZgUGDDz2W19M9GIpw4e9dz7/TwTw37e5HhJxPBrjWXtGVdIM0b+9rjEwFGzaSUIn8icGAkEWRAwyZUyjE33/mIZEoLmSTLiDdiGNOTVpJW3IryAL6rr9JyhZi3b2q3jJQWQbLJsErVeUMdGwslHnhzVV3Gx33Mi3UhihJGCnzlSrqKDpd7n12PJwTOrxhskhyf5ZwaF84tKDhiddc0pVW3DYBr9eWyu8gbrqkkCq5nhHe0Wk+KE9g8lho8UjFUSeixw5uK/7/RAXBGOXOl+dr3l3LuxcrC9aOkyDip56/F33iubApqUUoP0+cLceq2jZdKGUXJU4PVHFUZbJC/948qz4ZShSGepy08gOfwETTYSjAEzn7ylIGw538EPFwtH/3GjefSD38HDf7zRevb9G62n//De3tO/fQ8f//VynfePBMXjaXj2O3C0q5fYPMW8Q/1F+xhaONtnx5P6C/Vx4mCCsYuQeP4lAyd6J6mQuPoKrjVq2VX3q2st+da5Bl2f2PMx+5t3q3So4nYuc+iez/LOQyGNTs+B9tyHtU5QAnsfk3nhDU0mtEj+b6mM9VsW1yPde513pbG51Al+6iZE81sYNRgDbE4ofgOGq8g9c9LwwqQCEtyEISluefsmpCu2BEK5979LmVQ3eEeauNm/14AYPPn45mUXkV5GXEAXf09ltqAa9mtPjoCCr8LpI6eO7LuMY0Y8fAKj2wu43BvexYiPoUhRUJcj6yDTl+7apAhsQV0wF2abzn9fX4YJ8PhP3yvLVL/QQAL+2tzfD9eDMjlg2Lrs0zIrLwkeqatjLlVMCq9sGjAZqr7rkd7J8WJgn7MZuji29/kibzLahF5/+2JVdOVWeuFuAyLAO91TvIH5iAZgOF5PNFwHVv073NXSv06mss1aihnMm2yuQELgcLCGX7ACo5uS9A1I7bjK8jl2HrjhsNrWW2hoNxEHe07WIp5bMNpqvXWoDNa++nrWhvaMG6U3mLWjhevoHYSQND2zocvwwO/W71WJgIzyKmu7P0YhAcx3755Q59jMZ5zuYVF2qYU7giu6Rb9deQi74Mq2y9sSD0kdSfOyPIIsESlLzzNMCCLGrbftWsMvk30O0SViSuiggAUiB2d6PenOKVWRsVPeCtyKV2PksfNnwSnIikjDhlFfJDIdiN8yGbuyPGmawXtXHyzlgdnOnyeQYJu/fDfU1nfriyvYS+XxSGZxQJLhvtUu+Qw9Y0d28R44Ru3tD08SgtF3RFH0N1ELB1BKfH/ue7WxHCoGJh/e3YkjHA4mo5IMOO2Icbf9DdOwIBn5GG0Y1S6BYeK2BgRoqSB0Qj+D4Dy4tknagDUCfzKpkUIkh/NuG6IS5V7JYSbD2oIxuxr/MRQa/MoZh6SiXSog6s4IBwu/dLv2PAaCzjAGRNTD3v8v2sIV5cHnCchOSmGnfv1fT6XSeDeaySrNwSJ/PIXI18Ee3KQBsAac4aVDxAVwP18qSpdG7VzIDD5u0v+kgT1zdTKCMCFSM7KIUpSEQ36Hg0hd4V0piRQJP7eEFStDSikzu9aODH9QsaxzrBbX2p2oe9PIjwozTvpemn4ZQfLHyZ8DKSsFTjsqLMt7CmkLATPnwdnhvMVOopm/cmeD6u4KDStsMYvYRqHA6tF/Xm8dfnp9/eDOYi5OBvdKHt3+3cLTyvJm+rz8ivql1O2FC9j3vMUteTDeN7ieGel1MNOtZ7ffiZ5mNtKbh0Z6dDe6ma4/Nc18VLRDM91k+VywYWEOKt+wOMzjyju5UEFGqtCX5YvzBFIn5iaeGakSPzvxC8BTM50Pe+alc7BxqY5GupkyqAdJYQ9vfz1wV373e19fOaDnpgHbpiG2Kb97/N5hI58jmB34FoXeZ4tV8gLIo8WrCIZFBuADKuni4T/f4O9z7aALHUMapFH6X9Nh38TqO5SuO9/XNsQGoHEr+rcnQXyfOj3rc38+/kfZDAFXSRR1ywR3udYjAwvIPbv9bunND75cTyAaupVLWZcdQqS5HTOVhym2Dx5KZ/0NM108oMKf/aOfbEnDtaklVt9ee9Dwh32r+MCmg/3k9qUCm9jZD+5PtG+1D9OtUwtuz0rnoqeZjipfC2wMDkpqXKI6W7zf7/Iyqc5Br5OIGB7Sv9Efr2g8qV/PpkGWEMVVck3neYwSuW9M/0k1fEnPBJ8xCySPYkKfEw26XXMOYWvOrk3kyXsVhxIXwKSeDKnBKLPAFYEgy9QKanGql+EYsiCw79nfo2M88SIwR/k62Hhng16/RAV+D4S7Am5v8gpPAK98HEmTnlq5vLH208BenpCCeyA5zyzOrn3R5vtjEcPD+YUf8CBKgc95l7vEVDZlwGVqyhZrCh7/EJSaFLhPxGiR6dl967y5I1YnI4MOr+JmqdU9u32pc2CmChBReS7gLrF03xiYlPjBMkNcNaWx7kr5EEwoxxEvDn2tIdJFYbjb1E6qScg5Deh9M9wc2a9IFEGaq2g4fXNzcPtSlYh7i/M4ETF0zC71zQz/xh53mARCGMukgbaY4RLhEyPGnFBrzXSla58zjObTjXfsKNl9HwDd7JEhH6YkF2y6HUe8OBxrDcG9u17iTyVNChNExx0jvNIQC09I0wgDSsbAb1qIdT5fJbCapINFZFghx7JOmb/KPgS36qh4XDlkz1YNrpwIoOnQfAF0UpIcNpLPpFLmZCq4akj8eWsLxsza/R126qXRJ3QsvLI7T/HeKt4vkHbfSZliZWqN8SLBZgTQ2HmzeP/YJJA52UvSqvumZ+NrG6RxiqGBBM3nIG68OXAESYNQjyPGjzENzFNrs/rn0Gu8iMqPg+HiLTRFhUzDvOvCPTMl5kl1WuTQnhi6PzLTZSoXIaWxY6TgAjmCloli/bXSGOS8dkwpR4bnhQuhH4wl9n+Skng8qXQkB70C0w2e1KIC2TGkU/WumUwc/jCge3kIh52+LGFcSJtwlX/kslmBcl1sGwmn3jksOfS1uDBR8s6tPVgnZ2OVyUDEXaGBojkiSOB3Wg0XtqiHmeFwBk0ppFCUZoo/ORt5PsMZznCGM5zhDGfAwTcutjHiGx2nnB73Uja1X9BGZRtOAerdvHTGWtKI4d8hWcGITc6/MEAceOs42JZX0M6LOPxCHW+BzKt7GXUvp5b0e2Ey6vmKds1x8r70bBx+eCWHwy/2cRret8RyvqPlVYaSueLLRxEDvk6Ig298eucFLW+WnvcQuVlf2KyWT3/alnZ9nI6eLsd5rbqrhLZaR0ldw+ORVl6HyWswS6oQuNC5YO7BcJNPUYX3Wta6en5RFYy3RnQnLGG1MmpeXXIeHqpzr2A9InIaHRz+BYBdLd2ySjcfo/E4rzklr6Kuy4rAulxbez9QYaswXNjLZZFRRMyptCtaXtr0u6JIklNy+b0KrxsxuEJ5kIbn5CqqcLkAbBhUmqXCNdSi2Avq2qscb6p6Xj2vwnCZ21aC1dwZTb5/rIHHCZiwF5ScHAwIWtLitVW6bYiGRb99dbQ0GXye4y0dLId+fhPC4w+2ykNHu8/5qKq097W8NGBAOpa7o479bQSvDTFUC2DtwEevZfPLt0HtDYXwAp9XYTwV3lGk4uHuBkQjq1qU13LDwHla1+S11TnfS7oTzWu53JqrMHwnWztvK5XPZsO/A+2qSm/Op5E4b54ZmQ9J3lL55AHE8NHhVxGqMNZ9/oPl8wWyuh1Vx7wvjBdH9zGyAellVSUUUFto7DvP6vdRc1BVvBFfR5Ob8aWVC0lr5P1i5PrfS/cxCjjqZ2W1d7f8YX4OrJgXKBJjAgMAAAAASUVORK5CYII=";function Sy(e){var t;return"undefined"!==typeof window&&null!=window.navigator&&((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.brands.some((t=>e.test(t.brand))))||e.test(window.navigator.userAgent))}function Ey(e){var t;return"undefined"!==typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function Ty(e){let t=null;return()=>(null==t&&(t=e()),t)}const My=Ty((function(){return Ey(/^Mac/i)})),Cy=Ty((function(){return Ey(/^iPhone/i)})),Ry=Ty((function(){return Ey(/^iPad/i)||My()&&navigator.maxTouchPoints>1})),ky=Ty((function(){return Cy()||Ry()})),Ny=(Ty((function(){return My()||ky()})),Ty((function(){return Sy(/AppleWebKit/i)&&!Ny()})),Ty((function(){return Sy(/Chrome/i)}))),Py=Ty((function(){return Sy(/Android/i)}));Ty((function(){return Sy(/Firefox/i)}));const Iy=e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.ownerDocument)&&void 0!==t?t:document},Ly=e=>{if(e&&"window"in e&&e.window===e)return e;return Iy(e).defaultView||window};let Dy=null,By=new Set,Oy=new Map,Fy=!1,Uy=!1;const jy={Tab:!0,Escape:!0};function zy(e,t){for(let n of By)n(e,t)}function Hy(e){Fy=!0,function(e){return!(e.metaKey||!My()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key)}(e)&&(Dy="keyboard",zy("keyboard",e))}function Gy(e){Dy="pointer","mousedown"!==e.type&&"pointerdown"!==e.type||(Fy=!0,zy("pointer",e))}function Vy(e){var t;(0===(t=e).mozInputSource&&t.isTrusted||(Py()&&t.pointerType?"click"===t.type&&1===t.buttons:0===t.detail&&!t.pointerType))&&(Fy=!0,Dy="virtual")}function Wy(e){e.target!==window&&e.target!==document&&(Fy||Uy||(Dy="virtual",zy("virtual",e)),Fy=!1,Uy=!1)}function Xy(){Fy=!1,Uy=!0}function Yy(e){if("undefined"===typeof window||Oy.get(Ly(e)))return;const t=Ly(e),n=Iy(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Fy=!0,r.apply(this,arguments)},n.addEventListener("keydown",Hy,!0),n.addEventListener("keyup",Hy,!0),n.addEventListener("click",Vy,!0),t.addEventListener("focus",Wy,!0),t.addEventListener("blur",Xy,!1),"undefined"!==typeof PointerEvent?(n.addEventListener("pointerdown",Gy,!0),n.addEventListener("pointermove",Gy,!0),n.addEventListener("pointerup",Gy,!0)):(n.addEventListener("mousedown",Gy,!0),n.addEventListener("mousemove",Gy,!0),n.addEventListener("mouseup",Gy,!0)),t.addEventListener("beforeunload",(()=>{Jy(e)}),{once:!0}),Oy.set(t,{focus:r})}const Jy=(e,t)=>{const n=Ly(e),r=Iy(e);t&&r.removeEventListener("DOMContentLoaded",t),Oy.has(n)&&(n.HTMLElement.prototype.focus=Oy.get(n).focus,r.removeEventListener("keydown",Hy,!0),r.removeEventListener("keyup",Hy,!0),r.removeEventListener("click",Vy,!0),n.removeEventListener("focus",Wy,!0),n.removeEventListener("blur",Xy,!1),"undefined"!==typeof PointerEvent?(r.removeEventListener("pointerdown",Gy,!0),r.removeEventListener("pointermove",Gy,!0),r.removeEventListener("pointerup",Gy,!0)):(r.removeEventListener("mousedown",Gy,!0),r.removeEventListener("mousemove",Gy,!0),r.removeEventListener("mouseup",Gy,!0)),Oy.delete(n))};function Ky(){return"pointer"!==Dy}"undefined"!==typeof document&&function(e){const t=Iy(e);let n;"loading"!==t.readyState?Yy(e):(n=()=>{Yy(e)},t.addEventListener("DOMContentLoaded",n))}();const qy=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Qy(e,t,n){Yy(),(0,s.useEffect)((()=>{let t=(t,r)=>{(function(e,t,n){var r;const i="undefined"!==typeof window?Ly(null===n||void 0===n?void 0:n.target).HTMLInputElement:HTMLInputElement,s="undefined"!==typeof window?Ly(null===n||void 0===n?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,a="undefined"!==typeof window?Ly(null===n||void 0===n?void 0:n.target).HTMLElement:HTMLElement,o="undefined"!==typeof window?Ly(null===n||void 0===n?void 0:n.target).KeyboardEvent:KeyboardEvent;return!((e=e||(null===n||void 0===n?void 0:n.target)instanceof i&&!qy.has(null===n||void 0===n||null===(r=n.target)||void 0===r?void 0:r.type)||(null===n||void 0===n?void 0:n.target)instanceof s||(null===n||void 0===n?void 0:n.target)instanceof a&&(null===n||void 0===n?void 0:n.target.isContentEditable))&&"keyboard"===t&&n instanceof o&&!jy[n.key])})(!!(null===n||void 0===n?void 0:n.isTextInput),t,r)&&e(Ky())};return By.add(t),()=>{By.delete(t)}}),t)}const Zy="undefined"!==typeof document?s.useLayoutEffect:()=>{};function $y(e){const t=(0,s.useRef)(null);return Zy((()=>{t.current=e}),[e]),(0,s.useCallback)((function(){const e=t.current;return null===e||void 0===e?void 0:e(...arguments)}),[])}class ew{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}}function tw(e){let t=(0,s.useRef)({isFocused:!1,observer:null});Zy((()=>{const e=t.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}}),[]);let n=$y((t=>{null===e||void 0===e||e(t)}));return(0,s.useCallback)((e=>{if(e.target instanceof HTMLButtonElement||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement){t.current.isFocused=!0;let r=e.target,i=e=>{t.current.isFocused=!1,r.disabled&&n(new ew("blur",e)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};r.addEventListener("focusout",i,{once:!0}),t.current.observer=new MutationObserver((()=>{if(t.current.isFocused&&r.disabled){var e;null===(e=t.current.observer)||void 0===e||e.disconnect();let n=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:n})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:n}))}})),t.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}}),[n])}function nw(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:i}=e;const a=(0,s.useCallback)((e=>{if(e.target===e.currentTarget)return r&&r(e),i&&i(!1),!0}),[r,i]),o=tw(a),l=(0,s.useCallback)((e=>{const t=Iy(e.target);e.target===e.currentTarget&&t.activeElement===e.target&&(n&&n(e),i&&i(!0),o(e))}),[i,n,o]);return{focusProps:{onFocus:!t&&(n||i||r)?l:void 0,onBlur:t||!r&&!i?void 0:a}}}function rw(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=e,a=(0,s.useRef)({isFocusWithin:!1}),o=(0,s.useCallback)((e=>{a.current.isFocusWithin&&!e.currentTarget.contains(e.relatedTarget)&&(a.current.isFocusWithin=!1,n&&n(e),i&&i(!1))}),[n,i,a]),l=tw(o),c=(0,s.useCallback)((e=>{a.current.isFocusWithin||document.activeElement!==e.target||(r&&r(e),i&&i(!0),a.current.isFocusWithin=!0,l(e))}),[r,i,l]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:c,onBlur:o}}}function iw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{autoFocus:t=!1,isTextInput:n,within:r}=e,i=(0,s.useRef)({isFocused:!1,isFocusVisible:t||Ky()}),[a,o]=(0,s.useState)(!1),[l,c]=(0,s.useState)((()=>i.current.isFocused&&i.current.isFocusVisible)),u=(0,s.useCallback)((()=>c(i.current.isFocused&&i.current.isFocusVisible)),[]),h=(0,s.useCallback)((e=>{i.current.isFocused=e,o(e),u()}),[u]);Qy((e=>{i.current.isFocusVisible=e,u()}),[],{isTextInput:n});let{focusProps:d}=nw({isDisabled:r,onFocusChange:h}),{focusWithinProps:f}=rw({isDisabled:!r,onFocusWithinChange:h});return{isFocused:a,isFocusVisible:l,focusProps:r?f:d}}let sw=!1,aw=0;function ow(){sw=!0,setTimeout((()=>{sw=!1}),50)}function lw(e){"touch"===e.pointerType&&ow()}function cw(){if("undefined"!==typeof document)return"undefined"!==typeof PointerEvent?document.addEventListener("pointerup",lw):document.addEventListener("touchend",ow),aw++,()=>{aw--,aw>0||("undefined"!==typeof PointerEvent?document.removeEventListener("pointerup",lw):document.removeEventListener("touchend",ow))}}var uw=Object.defineProperty,hw=(e,t,n)=>(((e,t,n)=>{t in e?uw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);let dw=new class{constructor(){hw(this,"current",this.detect()),hw(this,"handoffState","pending"),hw(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}};function fw(e){return dw.isServer?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function pw(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch((e=>setTimeout((()=>{throw e}))))}function mw(){let e=[],t={addEventListener:(e,n,r,i)=>(e.addEventListener(n,r,i),t.add((()=>e.removeEventListener(n,r,i)))),requestAnimationFrame(){let e=requestAnimationFrame(...arguments);return t.add((()=>cancelAnimationFrame(e)))},nextFrame(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.requestAnimationFrame((()=>t.requestAnimationFrame(...n)))},setTimeout(){let e=setTimeout(...arguments);return t.add((()=>clearTimeout(e)))},microTask(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];let i={current:!0};return pw((()=>{i.current&&n[0]()})),t.add((()=>{i.current=!1}))},style(e,t,n){let r=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:n}),this.add((()=>{Object.assign(e.style,{[t]:r})}))},group(e){let t=mw();return e(t),this.add((()=>t.dispose()))},add:t=>(e.includes(t)||e.push(t),()=>{let n=e.indexOf(t);if(n>=0)for(let t of e.splice(n,1))t()}),dispose(){for(let t of e.splice(0))t()}};return t}function gw(){let[e]=(0,s.useState)(mw);return(0,s.useEffect)((()=>()=>e.dispose()),[e]),e}let vw=(e,t)=>{dw.isServer?(0,s.useEffect)(e,t):(0,s.useLayoutEffect)(e,t)};function xw(e){let t=(0,s.useRef)(e);return vw((()=>{t.current=e}),[e]),t}let bw=function(e){let t=xw(e);return s.useCallback((function(){return t.current(...arguments)}),[t])};function yw(){let{disabled:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.useRef)(null),[n,r]=(0,s.useState)(!1),i=gw(),a=bw((()=>{t.current=null,r(!1),i.dispose()})),o=bw((e=>{if(i.dispose(),null===t.current){t.current=e.currentTarget,r(!0);{let n=fw(e.currentTarget);i.addEventListener(n,"pointerup",a,!1),i.addEventListener(n,"pointermove",(e=>{if(t.current){let n=function(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}(e);r(function(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}(n,t.current.getBoundingClientRect()))}}),!1),i.addEventListener(n,"pointercancel",a,!1)}}}));return{pressed:n,pressProps:e?{}:{onPointerDown:o,onPointerUp:a,onClick:a}}}function ww(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],[n,r]=(0,s.useReducer)((()=>({})),{}),i=(0,s.useMemo)((()=>function(e){if(null===e)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}(e)),[e,n]);return vw((()=>{if(!e)return;let t=new ResizeObserver(r);return t.observe(e),()=>{t.disconnect()}}),[e]),t?{width:`${i.width}px`,height:`${i.height}px`}:i}class _w extends Map{constructor(e){super(),this.factory=e}get(e){let t=super.get(e);return void 0===t&&(t=this.factory(e),this.set(e,t)),t}}function Aw(e,t){let n=e(),r=new Set;return{getSnapshot:()=>n,subscribe:e=>(r.add(e),()=>r.delete(e)),dispatch(e){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];let o=t[e].call(n,...s);o&&(n=o,r.forEach((e=>e())))}}}function Sw(e){return(0,s.useSyncExternalStore)(e.subscribe,e.getSnapshot,e.getSnapshot)}let Ew=new _w((()=>Aw((()=>[]),{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(-1===t)return this;let n=this.slice();return n.splice(t,1),n}})));function Tw(e,t){let n=Ew.get(t),r=(0,s.useId)(),i=Sw(n);if(vw((()=>{if(e)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)}),[n,e]),!e)return!1;let a=i.indexOf(r),o=i.length;return-1===a&&(a=o,o+=1),a===o-1}let Mw=new Map,Cw=new Map;function Rw(e){var t;let n=null!=(t=Cw.get(e))?t:0;return Cw.set(e,n+1),0!==n||(Mw.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0),()=>kw(e)}function kw(e){var t;let n=null!=(t=Cw.get(e))?t:1;if(1===n?Cw.delete(e):Cw.set(e,n-1),1!==n)return;let r=Mw.get(e);r&&(null===r["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,Mw.delete(e))}function Nw(e){let{allowed:t,disallowed:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Tw(e,"inert-others");vw((()=>{var e,i;if(!r)return;let s=mw();for(let t of null!=(e=null==n?void 0:n())?e:[])t&&s.add(Rw(t));let a=null!=(i=null==t?void 0:t())?i:[];for(let t of a){if(!t)continue;let e=fw(t);if(!e)continue;let n=t.parentElement;for(;n&&n!==e.body;){for(let e of n.children)a.some((t=>e.contains(t)))||s.add(Rw(e));n=n.parentElement}}return s.dispose}),[r,t,n])}function Pw(e,t){if(e in t){let s=t[e];for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return"function"==typeof s?s(...r):s}let s=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((e=>`"${e}"`)).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Pw),s}let Iw=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((e=>`${e}:not([tabindex='-1'])`)).join(","),Lw=["[data-autofocus]"].map((e=>`${e}:not([tabindex='-1'])`)).join(",");var Dw=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Dw||{}),Bw=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Bw||{}),Ow=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Ow||{});function Fw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return null==e?[]:Array.from(e.querySelectorAll(Iw)).sort(((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER))))}var Uw=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Uw||{});function jw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;var n;return e!==(null==(n=fw(e))?void 0:n.body)&&Pw(t,{0:()=>e.matches(Iw),1(){let t=e;for(;null!==t;){if(t.matches(Iw))return!0;t=t.parentElement}return!1}})}function zw(e){let t=fw(e);mw().nextFrame((()=>{t&&!jw(t.activeElement,0)&&function(e){null==e||e.focus({preventScroll:!0})}(e)}))}var Hw=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Hw||{});"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("keydown",(e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")}),!0),document.addEventListener("click",(e=>{1===e.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===e.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")}),!0));let Gw=["textarea","input"].join(",");function Vw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return e.slice().sort(((e,n)=>{let r=t(e),i=t(n);if(null===r||null===i)return 0;let s=r.compareDocumentPosition(i);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}function Ww(e,t){return function(e,t){let{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?n?Vw(e):e:64&t?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return null==e?[]:Array.from(e.querySelectorAll(Lw)).sort(((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER))))}(e):Fw(e);i.length>0&&a.length>1&&(a=a.filter((e=>!i.some((t=>null!=t&&"current"in t?(null==t?void 0:t.current)===e:t===e))))),r=null!=r?r:s.activeElement;let o,l=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,a.indexOf(r))-1;if(4&t)return Math.max(0,a.indexOf(r))+1;if(8&t)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=32&t?{preventScroll:!0}:{},h=0,d=a.length;do{if(h>=d||h+d<=0)return 0;let e=c+h;if(16&t)e=(e+d)%d;else{if(e<0)return 3;if(e>=d)return 1}o=a[e],null==o||o.focus(u),h+=l}while(o!==s.activeElement);return 6&t&&function(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,Gw))&&n}(o)&&o.select(),2}(Fw(),t,{relativeTo:e})}function Xw(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Yw(){return Xw()||/Android/gi.test(window.navigator.userAgent)}function Jw(e,t,n,r){let i=xw(n);(0,s.useEffect)((()=>{if(e)return document.addEventListener(t,n,r),()=>document.removeEventListener(t,n,r);function n(e){i.current(e)}}),[e,t,r])}function Kw(e,t,n){let r=Tw(e,"outside-click"),i=xw(n),a=(0,s.useCallback)((function(e,n){if(e.defaultPrevented)return;let r=n(e);if(null===r||!r.getRootNode().contains(r)||!r.isConnected)return;let s=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(t);for(let t of s)if(null!==t&&(t.contains(r)||e.composed&&e.composedPath().includes(t)))return;return!jw(r,Uw.Loose)&&-1!==r.tabIndex&&e.preventDefault(),i.current(e,r)}),[i,t]),o=(0,s.useRef)(null);Jw(r,"pointerdown",(e=>{var t,n;o.current=(null==(n=null==(t=e.composedPath)?void 0:t.call(e))?void 0:n[0])||e.target}),!0),Jw(r,"mousedown",(e=>{var t,n;o.current=(null==(n=null==(t=e.composedPath)?void 0:t.call(e))?void 0:n[0])||e.target}),!0),Jw(r,"click",(e=>{Yw()||o.current&&(a(e,(()=>o.current)),o.current=null)}),!0);let l=(0,s.useRef)({x:0,y:0});Jw(r,"touchstart",(e=>{l.current.x=e.touches[0].clientX,l.current.y=e.touches[0].clientY}),!0),Jw(r,"touchend",(e=>{let t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY;if(!(Math.abs(t-l.current.x)>=30||Math.abs(n-l.current.y)>=30))return a(e,(()=>e.target instanceof HTMLElement?e.target:null))}),!0),function(e,t,n,r){let i=xw(n);(0,s.useEffect)((()=>{if(e)return window.addEventListener(t,n,r),()=>window.removeEventListener(t,n,r);function n(e){i.current(e)}}),[e,t,r])}(r,"blur",(e=>a(e,(()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null))),!0)}function qw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.useMemo)((()=>fw(...t)),[...t])}function Qw(e,t){return(0,s.useMemo)((()=>{var n;if(e.type)return e.type;let r=null!=(n=e.as)?n:"button";return"string"==typeof r&&"button"===r.toLowerCase()||"BUTTON"===(null==t?void 0:t.tagName)&&!t.hasAttribute("type")?"button":void 0}),[e.type,e.as,t])}function Zw(){let e;return{before(t){let{doc:n}=t;var r;let i=n.documentElement,s=null!=(r=n.defaultView)?r:window;e=Math.max(0,s.innerWidth-i.clientWidth)},after(t){let{doc:n,d:r}=t,i=n.documentElement,s=Math.max(0,i.clientWidth-i.offsetWidth),a=Math.max(0,e-s);r.style(i,"paddingRight",`${a}px`)}}}function $w(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let e_=Aw((()=>new Map),{PUSH(e,t){var n;let r=null!=(n=this.get(e))?n:{doc:e,count:0,d:mw(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT(e){let{doc:t,d:n,meta:r}=e,i={doc:t,d:n,meta:$w(r)},s=[Xw()?{before(e){let{doc:t,d:n,meta:r}=e;function i(e){return r.containers.flatMap((e=>e())).some((t=>t.contains(e)))}n.microTask((()=>{var e;if("auto"!==window.getComputedStyle(t.documentElement).scrollBehavior){let e=mw();e.style(t.documentElement,"scrollBehavior","auto"),n.add((()=>n.microTask((()=>e.dispose()))))}let r=null!=(e=window.scrollY)?e:window.pageYOffset,s=null;n.addEventListener(t,"click",(e=>{if(e.target instanceof HTMLElement)try{let n=e.target.closest("a");if(!n)return;let{hash:r}=new URL(n.href),a=t.querySelector(r);a&&!i(a)&&(s=a)}catch{}}),!0),n.addEventListener(t,"touchstart",(e=>{if(e.target instanceof HTMLElement)if(i(e.target)){let t=e.target;for(;t.parentElement&&i(t.parentElement);)t=t.parentElement;n.style(t,"overscrollBehavior","contain")}else n.style(e.target,"touchAction","none")})),n.addEventListener(t,"touchmove",(e=>{if(e.target instanceof HTMLElement){if("INPUT"===e.target.tagName)return;if(i(e.target)){let t=e.target;for(;t.parentElement&&""!==t.dataset.headlessuiPortal&&!(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth);)t=t.parentElement;""===t.dataset.headlessuiPortal&&e.preventDefault()}else e.preventDefault()}}),{passive:!1}),n.add((()=>{var e;let t=null!=(e=window.scrollY)?e:window.pageYOffset;r!==t&&window.scrollTo(0,r),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)}))}))}}:{},Zw(),{before(e){let{doc:t,d:n}=e;n.style(t.documentElement,"overflow","hidden")}}];s.forEach((e=>{let{before:t}=e;return null==t?void 0:t(i)})),s.forEach((e=>{let{after:t}=e;return null==t?void 0:t(i)}))},SCROLL_ALLOW(e){let{d:t}=e;t.dispose()},TEARDOWN(e){let{doc:t}=e;this.delete(t)}});function t_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>[document.body];!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>({containers:[]}),r=Sw(e_),i=t?r.get(t):void 0,s=!!i&&i.count>0;vw((()=>{if(t&&e)return e_.dispatch("PUSH",t,n),()=>e_.dispatch("POP",t,n)}),[e,t])}(Tw(e,"scroll-lock"),t,(e=>{var t;return{containers:[...null!=(t=e.containers)?t:[],n]}}))}e_.subscribe((()=>{let e=e_.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let e="hidden"===t.get(n.doc),r=0!==n.count;(r&&!e||!r&&e)&&e_.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),0===n.count&&e_.dispatch("TEARDOWN",n)}}));let n_=Symbol();function r_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=(0,s.useRef)(t);(0,s.useEffect)((()=>{r.current=t}),[t]);let i=bw((e=>{for(let t of r.current)null!=t&&("function"==typeof t?t(e):t.current=e)}));return t.every((e=>null==e||(null==e?void 0:e[n_])))?void 0:i}let i_=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function s_(e){var t,n;let r=null!=(t=e.innerText)?t:"",i=e.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let s=!1;for(let o of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))o.remove(),s=!0;let a=s?null!=(n=i.innerText)?n:"":r;return i_.test(a)&&(a=a.replace(i_,"")),a}function a_(e){let t=(0,s.useRef)(""),n=(0,s.useRef)("");return bw((()=>{let r=e.current;if(!r)return"";let i=r.innerText;if(t.current===i)return n.current;let s=function(e){let t=e.getAttribute("aria-label");if("string"==typeof t)return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let e=n.split(" ").map((e=>{let t=document.getElementById(e);if(t){let e=t.getAttribute("aria-label");return"string"==typeof e?e.trim():s_(t).trim()}return null})).filter(Boolean);if(e.length>0)return e.join(", ")}return s_(e).trim()}(r).trim().toLowerCase();return t.current=i,n.current=s,s}))}function o_(e){return[e.screenX,e.screenY]}var l_,c_;"undefined"!=typeof process&&"undefined"!=typeof globalThis&&"undefined"!=typeof Element&&"test"===(null==(l_=null==process?void 0:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER_URL:"http://34.100.168.176:4000/",REACT_APP_SIGNUP_SECRET_KEY:"c3Jpbml2YXNhbi1kYXJrbmVidWxhLS0wMDAw",REACT_APP_URL:"http://localhost:3000",REACT_APP_WEBSOCKET_URL:"http://34.100.168.176:5001"})?void 0:l_.NODE_ENV)&&"undefined"==typeof(null==(c_=null==Element?void 0:Element.prototype)?void 0:c_.getAnimations)&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join("\n")),[]});var u_=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(u_||{});function h_(e){let t={};for(let n in e)!0===e[n]&&(t[`data-${n}`]="");return t}function d_(e,t,n,r){let[i,a]=(0,s.useState)(n),{hasFlag:o,addFlag:l,removeFlag:c}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,[t,n]=(0,s.useState)(e),r=(0,s.useCallback)((e=>n(e)),[t]),i=(0,s.useCallback)((e=>n((t=>t|e))),[t]),a=(0,s.useCallback)((e=>(t&e)===e),[t]),o=(0,s.useCallback)((e=>n((t=>t&~e))),[n]),l=(0,s.useCallback)((e=>n((t=>t^e))),[n]);return{flags:t,setFlag:r,addFlag:i,hasFlag:a,removeFlag:o,toggleFlag:l}}(e&&i?3:0),u=(0,s.useRef)(!1),h=(0,s.useRef)(!1),d=gw();return vw((()=>{var i;if(e)return n&&a(!0),t?(null==(i=null==r?void 0:r.start)||i.call(r,n),function(e,t){let{prepare:n,run:r,done:i,inFlight:s}=t,a=mw();return function(e,t){let{inFlight:n,prepare:r}=t;if(null!=n&&n.current)return void r();let i=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=i}(e,{prepare:n,inFlight:s}),a.nextFrame((()=>{r(),a.requestAnimationFrame((()=>{a.add(function(e,t){var n,r;let i=mw();if(!e)return i.dispose;let s=!1;i.add((()=>{s=!0}));let a=null!=(r=null==(n=e.getAnimations)?void 0:n.call(e).filter((e=>e instanceof CSSTransition)))?r:[];return 0===a.length?(t(),i.dispose):(Promise.allSettled(a.map((e=>e.finished))).then((()=>{s||t()})),i.dispose)}(e,i))}))})),a.dispose}(t,{inFlight:u,prepare(){h.current?h.current=!1:h.current=u.current,u.current=!0,!h.current&&(n?(l(3),c(4)):(l(4),c(2)))},run(){h.current?n?(c(3),l(4)):(c(4),l(3)):n?c(1):l(1)},done(){var e;h.current&&"function"==typeof t.getAnimations&&t.getAnimations().length>0||(u.current=!1,c(7),n||a(!1),null==(e=null==r?void 0:r.end)||e.call(r,n))}})):void(n&&l(3))}),[e,n,t,d]),e?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function f_(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map((e=>{let{brand:t,version:n}=e;return t+"/"+n})).join(" "):navigator.userAgent}const p_=Math.min,m_=Math.max,g_=Math.round,v_=Math.floor,x_=e=>({x:e,y:e}),b_={left:"right",right:"left",bottom:"top",top:"bottom"},y_={start:"end",end:"start"};function w_(e,t,n){return m_(e,p_(t,n))}function __(e,t){return"function"===typeof e?e(t):e}function A_(e){return e.split("-")[0]}function S_(e){return e.split("-")[1]}function E_(e){return"x"===e?"y":"x"}function T_(e){return"y"===e?"height":"width"}function M_(e){return["top","bottom"].includes(A_(e))?"y":"x"}function C_(e){return E_(M_(e))}function R_(e){return e.replace(/start|end/g,(e=>y_[e]))}function k_(e){return e.replace(/left|right|bottom|top/g,(e=>b_[e]))}function N_(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function P_(){return"undefined"!==typeof window}function I_(e){return B_(e)?(e.nodeName||"").toLowerCase():"#document"}function L_(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function D_(e){var t;return null==(t=(B_(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function B_(e){return!!P_()&&(e instanceof Node||e instanceof L_(e).Node)}function O_(e){return!!P_()&&(e instanceof Element||e instanceof L_(e).Element)}function F_(e){return!!P_()&&(e instanceof HTMLElement||e instanceof L_(e).HTMLElement)}function U_(e){return!(!P_()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof L_(e).ShadowRoot)}function j_(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=X_(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function z_(e){return["table","td","th"].includes(I_(e))}function H_(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(TS){return!1}}))}function G_(e){const t=V_(),n=O_(e)?X_(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!n[e]&&"none"!==n[e]))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function V_(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function W_(e){return["html","body","#document"].includes(I_(e))}function X_(e){return L_(e).getComputedStyle(e)}function Y_(e){return O_(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function J_(e){if("html"===I_(e))return e;const t=e.assignedSlot||e.parentNode||U_(e)&&e.host||D_(e);return U_(t)?t.host:t}function K_(e){const t=J_(e);return W_(t)?e.ownerDocument?e.ownerDocument.body:e.body:F_(t)&&j_(t)?t:K_(t)}function q_(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=K_(e),s=i===(null==(r=e.ownerDocument)?void 0:r.body),a=L_(i);if(s){const e=Q_(a);return t.concat(a,a.visualViewport||[],j_(i)?i:[],e&&n?q_(e):[])}return t.concat(i,q_(i,[],n))}function Q_(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Z_(e,t,n){let{reference:r,floating:i}=e;const s=M_(t),a=C_(t),o=T_(a),l=A_(t),c="y"===s,u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,d=r[o]/2-i[o]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-i.width,y:h};break;default:f={x:r.x,y:r.y}}switch(S_(t)){case"start":f[a]-=d*(n&&c?-1:1);break;case"end":f[a]+=d*(n&&c?-1:1)}return f}async function $_(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=__(t,e),p=function(e){return"number"!==typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}(f),m=o[d?"floating"===h?"reference":"floating":h],g=N_(await s.getClippingRect({element:null==(n=await(null==s.isElement?void 0:s.isElement(m)))||n?m:m.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===h?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,x=await(null==s.getOffsetParent?void 0:s.getOffsetParent(o.floating)),b=await(null==s.isElement?void 0:s.isElement(x))&&await(null==s.getScale?void 0:s.getScale(x))||{x:1,y:1},y=N_(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:x,strategy:l}):v);return{top:(g.top-y.top+p.top)/b.y,bottom:(y.bottom-g.bottom+p.bottom)/b.y,left:(g.left-y.left+p.left)/b.x,right:(y.right-g.right+p.right)/b.x}}function eA(e){const t=X_(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=F_(e),s=i?e.offsetWidth:n,a=i?e.offsetHeight:r,o=g_(n)!==s||g_(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function tA(e){return O_(e)?e:e.contextElement}function nA(e){const t=tA(e);if(!F_(t))return x_(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=eA(t);let a=(s?g_(n.width):n.width)/r,o=(s?g_(n.height):n.height)/i;return a&&Number.isFinite(a)||(a=1),o&&Number.isFinite(o)||(o=1),{x:a,y:o}}const rA=x_(0);function iA(e){const t=L_(e);return V_()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:rA}function sA(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),s=tA(e);let a=x_(1);t&&(r?O_(r)&&(a=nA(r)):a=nA(e));const o=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==L_(e))&&t}(s,n,r)?iA(s):x_(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,u=i.width/a.x,h=i.height/a.y;if(s){const e=L_(s),t=r&&O_(r)?L_(r):r;let n=e,i=Q_(n);for(;i&&r&&t!==n;){const e=nA(i),t=i.getBoundingClientRect(),r=X_(i),s=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,h*=e.y,l+=s,c+=a,n=L_(i),i=Q_(n)}}return N_({width:u,height:h,x:l,y:c})}function aA(e,t){const n=Y_(e).scrollLeft;return t?t.left+n:sA(D_(e)).left+n}function oA(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:aA(e,r)),y:r.top+t.scrollTop}}function lA(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=L_(e),r=D_(e),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const e=V_();(!e||e&&"fixed"===t)&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o,y:l}}(e,n);else if("document"===t)r=function(e){const t=D_(e),n=Y_(e),r=e.ownerDocument.body,i=m_(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=m_(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+aA(e);const o=-n.scrollTop;return"rtl"===X_(r).direction&&(a+=m_(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}(D_(e));else if(O_(t))r=function(e,t){const n=sA(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=F_(e)?nA(e):x_(1);return{width:e.clientWidth*s.x,height:e.clientHeight*s.y,x:i*s.x,y:r*s.y}}(t,n);else{const n=iA(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return N_(r)}function cA(e,t){const n=J_(e);return!(n===t||!O_(n)||W_(n))&&("fixed"===X_(n).position||cA(n,t))}function uA(e,t,n){const r=F_(t),i=D_(t),s="fixed"===n,a=sA(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const l=x_(0);if(r||!r&&!s)if(("body"!==I_(t)||j_(i))&&(o=Y_(t)),r){const e=sA(t,!0,s,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&(l.x=aA(i));const c=!i||r||s?x_(0):oA(i,o);return{x:a.left+o.scrollLeft-l.x-c.x,y:a.top+o.scrollTop-l.y-c.y,width:a.width,height:a.height}}function hA(e){return"static"===X_(e).position}function dA(e,t){if(!F_(e)||"fixed"===X_(e).position)return null;if(t)return t(e);let n=e.offsetParent;return D_(e)===n&&(n=n.ownerDocument.body),n}function fA(e,t){const n=L_(e);if(H_(e))return n;if(!F_(e)){let t=J_(e);for(;t&&!W_(t);){if(O_(t)&&!hA(t))return t;t=J_(t)}return n}let r=dA(e,t);for(;r&&z_(r)&&hA(r);)r=dA(r,t);return r&&W_(r)&&hA(r)&&!G_(r)?n:r||function(e){let t=J_(e);for(;F_(t)&&!W_(t);){if(G_(t))return t;if(H_(t))return null;t=J_(t)}return null}(e)||n}const pA={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s="fixed"===i,a=D_(r),o=!!t&&H_(t.floating);if(r===a||o&&s)return n;let l={scrollLeft:0,scrollTop:0},c=x_(1);const u=x_(0),h=F_(r);if((h||!h&&!s)&&(("body"!==I_(r)||j_(a))&&(l=Y_(r)),F_(r))){const e=sA(r);c=nA(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const d=!a||h||s?x_(0):oA(a,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:n.y*c.y-l.scrollTop*c.y+u.y+d.y}},getDocumentElement:D_,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s="clippingAncestors"===n?H_(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=q_(e,[],!1).filter((e=>O_(e)&&"body"!==I_(e))),i=null;const s="fixed"===X_(e).position;let a=s?J_(e):e;for(;O_(a)&&!W_(a);){const t=X_(a),n=G_(a);n||"fixed"!==t.position||(i=null),(s?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||j_(a)&&!n&&cA(e,a))?r=r.filter((e=>e!==a)):i=t,a=J_(a)}return t.set(e,r),r}(t,this._c):[].concat(n),a=[...s,r],o=a[0],l=a.reduce(((e,n)=>{const r=lA(t,n,i);return e.top=m_(r.top,e.top),e.right=p_(r.right,e.right),e.bottom=p_(r.bottom,e.bottom),e.left=m_(r.left,e.left),e}),lA(t,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:fA,getElementRects:async function(e){const t=this.getOffsetParent||fA,n=this.getDimensions,r=await n(e.floating);return{reference:uA(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=eA(e);return{width:t,height:n}},getScale:nA,isElement:O_,isRTL:function(e){return"rtl"===X_(e).direction}};function mA(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function gA(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a="function"===typeof ResizeObserver,layoutShift:o="function"===typeof IntersectionObserver,animationFrame:l=!1}=r,c=tA(e),u=i||s?[...c?q_(c):[],...q_(t)]:[];u.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),s&&e.addEventListener("resize",n)}));const h=c&&o?function(e,t){let n,r=null;const i=D_(e);function s(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function a(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),s();const c=e.getBoundingClientRect(),{left:u,top:h,width:d,height:f}=c;if(o||t(),!d||!f)return;const p={rootMargin:-v_(h)+"px "+-v_(i.clientWidth-(u+d))+"px "+-v_(i.clientHeight-(h+f))+"px "+-v_(u)+"px",threshold:m_(0,p_(1,l))||1};let m=!0;function g(t){const r=t[0].intersectionRatio;if(r!==l){if(!m)return a();r?a(!1,r):n=setTimeout((()=>{a(!1,1e-7)}),1e3)}1!==r||mA(c,e.getBoundingClientRect())||a(),m=!1}try{r=new IntersectionObserver(g,{...p,root:i.ownerDocument})}catch(TS){r=new IntersectionObserver(g,p)}r.observe(e)}(!0),s}(c,n):null;let d,f=-1,p=null;a&&(p=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame((()=>{var e;null==(e=p)||e.observe(t)}))),n()})),c&&!l&&p.observe(c),p.observe(t));let m=l?sA(e):null;return l&&function t(){const r=sA(e);m&&!mA(m,r)&&n();m=r,d=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach((e=>{i&&e.removeEventListener("scroll",n),s&&e.removeEventListener("resize",n)})),null==h||h(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(d)}}const vA=$_,xA=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=t,l=await async function(e,t){const{placement:n,platform:r,elements:i}=e,s=await(null==r.isRTL?void 0:r.isRTL(i.floating)),a=A_(n),o=S_(n),l="y"===M_(n),c=["left","top"].includes(a)?-1:1,u=s&&l?-1:1,h=__(t,e);let{mainAxis:d,crossAxis:f,alignmentAxis:p}="number"===typeof h?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&"number"===typeof p&&(f="end"===o?-1*p:p),l?{x:f*u,y:d*c}:{x:d*c,y:f*u}}(t,e);return a===(null==(n=o.offset)?void 0:n.placement)&&null!=(r=o.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},bA=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=__(e,t),c={x:n,y:r},u=await $_(t,l),h=M_(A_(i)),d=E_(h);let f=c[d],p=c[h];if(s){const e="y"===d?"bottom":"right";f=w_(f+u["y"===d?"top":"left"],f,f-u[e])}if(a){const e="y"===h?"bottom":"right";p=w_(p+u["y"===h?"top":"left"],p,p-u[e])}const m=o.fn({...t,[d]:f,[h]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[d]:s,[h]:a}}}}}},yA=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=__(e,t);if(null!=(n=s.arrow)&&n.alignmentOffset)return{};const v=A_(i),x=M_(o),b=A_(o)===o,y=await(null==l.isRTL?void 0:l.isRTL(c.floating)),w=d||(b||!m?[k_(o)]:function(e){const t=k_(e);return[R_(e),t,R_(t)]}(o)),_="none"!==p;!d&&_&&w.push(...function(e,t,n,r){const i=S_(e);let s=function(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:a;default:return[]}}(A_(e),"start"===n,r);return i&&(s=s.map((e=>e+"-"+i)),t&&(s=s.concat(s.map(R_)))),s}(o,m,p,y));const A=[o,...w],S=await $_(t,g),E=[];let T=(null==(r=s.flip)?void 0:r.overflows)||[];if(u&&E.push(S[v]),h){const e=function(e,t,n){void 0===n&&(n=!1);const r=S_(e),i=C_(e),s=T_(i);let a="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=k_(a)),[a,k_(a)]}(i,a,y);E.push(S[e[0]],S[e[1]])}if(T=[...T,{placement:i,overflows:E}],!E.every((e=>e<=0))){var M,C;const e=((null==(M=s.flip)?void 0:M.index)||0)+1,t=A[e];if(t)return{data:{index:e,overflows:T},reset:{placement:t}};let n=null==(C=T.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:C.placement;if(!n)switch(f){case"bestFit":{var R;const e=null==(R=T.filter((e=>{if(_){const t=M_(e.placement);return t===x||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:R[0];e&&(n=e);break}case"initialPlacement":n=o}if(i!==n)return{reset:{placement:n}}}return{}}}},wA=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:a,elements:o}=t,{apply:l=()=>{},...c}=__(e,t),u=await $_(t,c),h=A_(i),d=S_(i),f="y"===M_(i),{width:p,height:m}=s.floating;let g,v;"top"===h||"bottom"===h?(g=h,v=d===(await(null==a.isRTL?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(v=h,g="end"===d?"top":"bottom");const x=m-u.top-u.bottom,b=p-u.left-u.right,y=p_(m-u[g],x),w=p_(p-u[v],b),_=!t.middlewareData.shift;let A=y,S=w;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(S=b),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(A=x),_&&!d){const e=m_(u.left,0),t=m_(u.right,0),n=m_(u.top,0),r=m_(u.bottom,0);f?S=p-2*(0!==e||0!==t?e+t:m_(u.left,u.right)):A=m-2*(0!==n||0!==r?n+r:m_(u.top,u.bottom))}await l({...t,availableWidth:S,availableHeight:A});const E=await a.getDimensions(o.floating);return p!==E.width||m!==E.height?{reset:{rects:!0}}:{}}}},_A=(e,t,n)=>{const r=new Map,i={platform:pA,...n},s={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:h}=Z_(c,r,l),d=r,f={},p=0;for(let m=0;m<o.length;m++){const{name:n,fn:s}=o[m],{x:g,y:v,data:x,reset:b}=await s({x:u,y:h,initialPlacement:r,placement:d,strategy:i,middlewareData:f,rects:c,platform:a,elements:{reference:e,floating:t}});u=null!=g?g:u,h=null!=v?v:h,f={...f,[n]:{...f[n],...x}},b&&p<=50&&(p++,"object"===typeof b&&(b.placement&&(d=b.placement),b.rects&&(c=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:u,y:h}=Z_(c,d,l))),m=-1)}return{x:u,y:h,placement:d,strategy:i,middlewareData:f}})(e,t,{...i,platform:s})};var AA="undefined"!==typeof document?s.useLayoutEffect:s.useEffect;function SA(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!SA(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!SA(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function EA(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function TA(e,t){const n=EA(e);return Math.round(t*n)/n}function MA(e){const t=s.useRef(e);return AA((()=>{t.current=e})),t}const CA=(e,t)=>({...xA(e),options:[e,t]}),RA=(e,t)=>({...yA(e),options:[e,t]}),kA=(e,t)=>({...wA(e),options:[e,t]});const NA={...a},PA=NA.useInsertionEffect||(e=>e());function IA(e){const t=s.useRef((()=>{0}));return PA((()=>{t.current=e})),s.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}const LA="ArrowUp",DA="ArrowDown",BA="ArrowLeft",OA="ArrowRight";var FA="undefined"!==typeof document?s.useLayoutEffect:s.useEffect;const UA=[BA,OA],jA=[LA,DA];let zA=!1,HA=0;const GA=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+HA++;const VA=NA.useId||function(){const[e,t]=s.useState((()=>zA?GA():void 0));return FA((()=>{null==e&&t(GA())}),[]),s.useEffect((()=>{zA=!0}),[]),e};function WA(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter((e=>e!==n)))||[])}}}const XA=s.createContext(null),YA=s.createContext(null),JA=()=>{var e;return(null==(e=s.useContext(XA))?void 0:e.id)||null},KA=()=>s.useContext(YA);const qA="data-floating-ui-focusable";function QA(e){void 0===e&&(e={});const{nodeId:t}=e,n=function(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=VA(),a=s.useRef({}),[o]=s.useState((()=>WA())),l=null!=JA(),[c,u]=s.useState(r.reference),h=IA(((e,t,r)=>{a.current.openEvent=e?t:void 0,o.emit("openchange",{open:e,event:t,reason:r,nested:l}),null==n||n(e,t,r)})),d=s.useMemo((()=>({setPositionReference:u})),[]),f=s.useMemo((()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference})),[c,r.reference,r.floating]);return s.useMemo((()=>({dataRef:a,open:t,onOpenChange:h,elements:f,events:o,floatingId:i,refs:d})),[t,h,f,o,i,d])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[a,o]=s.useState(null),[c,u]=s.useState(null),h=(null==i?void 0:i.domReference)||a,d=s.useRef(null),f=KA();FA((()=>{h&&(d.current=h)}),[h]);const p=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:c=!0,whileElementsMounted:u,open:h}=e,[d,f]=s.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=s.useState(r);SA(p,r)||m(r);const[g,v]=s.useState(null),[x,b]=s.useState(null),y=s.useCallback((e=>{e!==S.current&&(S.current=e,v(e))}),[]),w=s.useCallback((e=>{e!==E.current&&(E.current=e,b(e))}),[]),_=a||g,A=o||x,S=s.useRef(null),E=s.useRef(null),T=s.useRef(d),M=null!=u,C=MA(u),R=MA(i),k=MA(h),N=s.useCallback((()=>{if(!S.current||!E.current)return;const e={placement:t,strategy:n,middleware:p};R.current&&(e.platform=R.current),_A(S.current,E.current,e).then((e=>{const t={...e,isPositioned:!1!==k.current};P.current&&!SA(T.current,t)&&(T.current=t,l.flushSync((()=>{f(t)})))}))}),[p,t,n,R,k]);AA((()=>{!1===h&&T.current.isPositioned&&(T.current.isPositioned=!1,f((e=>({...e,isPositioned:!1}))))}),[h]);const P=s.useRef(!1);AA((()=>(P.current=!0,()=>{P.current=!1})),[]),AA((()=>{if(_&&(S.current=_),A&&(E.current=A),_&&A){if(C.current)return C.current(_,A,N);N()}}),[_,A,N,C,M]);const I=s.useMemo((()=>({reference:S,floating:E,setReference:y,setFloating:w})),[y,w]),L=s.useMemo((()=>({reference:_,floating:A})),[_,A]),D=s.useMemo((()=>{const e={position:n,left:0,top:0};if(!L.floating)return e;const t=TA(L.floating,d.x),r=TA(L.floating,d.y);return c?{...e,transform:"translate("+t+"px, "+r+"px)",...EA(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}}),[n,c,L.floating,d.x,d.y]);return s.useMemo((()=>({...d,update:N,refs:I,elements:L,floatingStyles:D})),[d,N,I,L,D])}({...e,elements:{...i,...c&&{reference:c}}}),m=s.useCallback((e=>{const t=O_(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;u(t),p.refs.setReference(t)}),[p.refs]),g=s.useCallback((e=>{(O_(e)||null===e)&&(d.current=e,o(e)),(O_(p.refs.reference.current)||null===p.refs.reference.current||null!==e&&!O_(e))&&p.refs.setReference(e)}),[p.refs]),v=s.useMemo((()=>({...p.refs,setReference:g,setPositionReference:m,domReference:d})),[p.refs,g,m]),x=s.useMemo((()=>({...p.elements,domReference:h})),[p.elements,h]),b=s.useMemo((()=>({...p,...r,refs:v,elements:x,nodeId:t})),[p,v,x,t,r]);return FA((()=>{r.dataRef.current.floatingContext=b;const e=null==f?void 0:f.nodesRef.current.find((e=>e.id===t));e&&(e.context=b)})),s.useMemo((()=>({...p,context:b,refs:v,elements:x})),[p,v,x,b])}const ZA="active",$A="selected";function eS(e,t,n){const r=new Map,i="item"===n;let s=e;if(i&&e){const{[ZA]:t,[$A]:n,...r}=e;s=r}return{..."floating"===n&&{tabIndex:-1,[qA]:""},...s,...t.map((t=>{const r=t?t[n]:null;return"function"===typeof r?e?r(e):null:r})).concat(e).reduce(((e,t)=>t?(Object.entries(t).forEach((t=>{let[n,s]=t;var a;i&&[ZA,$A].includes(n)||(0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"===typeof s&&(null==(a=r.get(n))||a.push(s),e[n]=function(){for(var e,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return null==(e=r.get(n))?void 0:e.map((e=>e(...i))).find((e=>void 0!==e))})):e[n]=s)})),e):e),{})}}function tS(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}let nS=(0,s.createContext)({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});nS.displayName="FloatingContext";let rS=(0,s.createContext)(null);rS.displayName="PlacementContext";function iS(e){let{children:t,enabled:n=!0}=e,[r,i]=(0,s.useState)(null),[a,o]=(0,s.useState)(0),c=(0,s.useRef)(null),[u,h]=(0,s.useState)(null);!function(e){vw((()=>{if(!e)return;let t=new MutationObserver((()=>{let t=window.getComputedStyle(e).maxHeight,n=parseFloat(t);if(isNaN(n))return;let r=parseInt(t);isNaN(r)||n!==r&&(e.style.maxHeight=`${Math.ceil(n)}px`)}));return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}}),[e])}(u);let d=n&&null!==r&&null!==u,{to:f="bottom",gap:p=0,offset:m=0,padding:g=0,inner:v}=function(e,t){var n,r,i;let s=sS(null!=(n=null==e?void 0:e.gap)?n:"var(--anchor-gap, 0)",t),a=sS(null!=(r=null==e?void 0:e.offset)?r:"var(--anchor-offset, 0)",t),o=sS(null!=(i=null==e?void 0:e.padding)?i:"var(--anchor-padding, 0)",t);return{...e,gap:s,offset:a,padding:o}}(r,u),[x,b="center"]=f.split(" ");vw((()=>{d&&o(0)}),[d]);let{refs:y,floatingStyles:w,context:_}=QA({open:d,placement:"selection"===x?"center"===b?"bottom":`bottom-${b}`:"center"===b?`${x}`:`${x}-${b}`,strategy:"absolute",transform:!1,middleware:[CA({mainAxis:"selection"===x?0:p,crossAxis:m}),(T={padding:g},{...bA(T),options:[T,M]}),"selection"!==x&&RA({padding:g}),"selection"===x&&v?(E={...v,padding:g,overflowRef:c,offset:a,minItemsVisible:4,referenceOverflowThreshold:g,onFallbackChange(e){var t,n;if(!e)return;let r=_.elements.floating;if(!r)return;let i=parseFloat(getComputedStyle(r).scrollPaddingBottom)||0,s=Math.min(4,r.childElementCount),a=0,l=0;for(let o of null!=(n=null==(t=_.elements.floating)?void 0:t.childNodes)?n:[])if(o instanceof HTMLElement){let e=o.offsetTop,t=e+o.clientHeight+i,n=r.scrollTop,c=n+r.clientHeight;if(!(e>=n&&t<=c)){l=Math.max(0,Math.min(t,c)-Math.max(e,n)),a=o.clientHeight;break}s--}s>=1&&o((e=>{let t=a*s-l+i;return e>=t?e:t}))}},{name:"inner",options:E,async fn(e){const{listRef:t,overflowRef:n,onFallbackChange:r,offset:i=0,index:s=0,minItemsVisible:a=4,referenceOverflowThreshold:o=0,scrollRef:c,...u}=__(E,e),{rects:h,elements:{floating:d}}=e,f=t.current[s],p=(null==c?void 0:c.current)||d,m=d.clientTop||p.clientTop,g=0!==d.clientTop,v=0!==p.clientTop,x=d===p;if(!f)return{};const b={...e,...await CA(-f.offsetTop-d.clientTop-h.reference.height/2-f.offsetHeight/2-i).fn(e)},y=await vA(tS(b,p.scrollHeight+m+d.clientTop),u),w=await vA(b,{...u,elementContext:"reference"}),_=m_(0,y.top),A=b.y+_,S=p.scrollHeight>p.clientHeight?e=>e:g_,T=S(m_(0,p.scrollHeight+(g&&x||v?2*m:0)-_-m_(0,y.bottom)));if(p.style.maxHeight=T+"px",p.scrollTop=_,r){const e=p.offsetHeight<f.offsetHeight*p_(a,t.current.length)-1||w.top>=-o||w.bottom>=-o;l.flushSync((()=>r(e)))}return n&&(n.current=await vA(tS({...b,y:A},p.offsetHeight+m+d.clientTop),u)),{y:A}}}):null,kA({padding:g,apply(e){let{availableWidth:t,availableHeight:n,elements:r}=e;Object.assign(r.floating.style,{overflow:"auto",maxWidth:`${t}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${n}px)`})}})].filter(Boolean),whileElementsMounted:gA}),[A=x,S=b]=_.placement.split("-");var E,T,M;"selection"===x&&(A="selection");let C=(0,s.useMemo)((()=>({anchor:[A,S].filter(Boolean).join(" ")})),[A,S]),R=function(e,t){const{open:n,elements:r}=e,{enabled:i=!0,overflowRef:a,scrollRef:o,onChange:c}=t,u=IA(c),h=s.useRef(!1),d=s.useRef(null),f=s.useRef(null);s.useEffect((()=>{if(!i)return;function e(e){if(e.ctrlKey||!t||null==a.current)return;const n=e.deltaY,r=a.current.top>=-.5,i=a.current.bottom>=-.5,s=t.scrollHeight-t.clientHeight,o=n<0?-1:1,c=n<0?"max":"min";t.scrollHeight<=t.clientHeight||(!r&&n>0||!i&&n<0?(e.preventDefault(),l.flushSync((()=>{u((e=>e+Math[c](n,s*o)))}))):/firefox/i.test(f_())&&(t.scrollTop+=n))}const t=(null==o?void 0:o.current)||r.floating;return n&&t?(t.addEventListener("wheel",e),requestAnimationFrame((()=>{d.current=t.scrollTop,null!=a.current&&(f.current={...a.current})})),()=>{d.current=null,f.current=null,t.removeEventListener("wheel",e)}):void 0}),[i,n,r.floating,a,o,u]);const p=s.useMemo((()=>({onKeyDown(){h.current=!0},onWheel(){h.current=!1},onPointerMove(){h.current=!1},onScroll(){const e=(null==o?void 0:o.current)||r.floating;if(a.current&&e&&h.current){if(null!==d.current){const t=e.scrollTop-d.current;(a.current.bottom<-.5&&t<-1||a.current.top<-.5&&t>1)&&l.flushSync((()=>u((e=>e+t))))}requestAnimationFrame((()=>{d.current=e.scrollTop}))}}})),[r.floating,u,a,o]);return s.useMemo((()=>i?{floating:p}:{}),[i,p])}(_,{overflowRef:c,onChange:o}),{getReferenceProps:k,getFloatingProps:N}=function(e){void 0===e&&(e=[]);const t=e.map((e=>null==e?void 0:e.reference)),n=e.map((e=>null==e?void 0:e.floating)),r=e.map((e=>null==e?void 0:e.item)),i=s.useCallback((t=>eS(t,e,"reference")),t),a=s.useCallback((t=>eS(t,e,"floating")),n),o=s.useCallback((t=>eS(t,e,"item")),r);return s.useMemo((()=>({getReferenceProps:i,getFloatingProps:a,getItemProps:o})),[i,a,o])}([R]),P=bw((e=>{h(e),y.setFloating(e)}));return s.createElement(rS.Provider,{value:i},s.createElement(nS.Provider,{value:{setFloating:P,setReference:y.setReference,styles:w,getReferenceProps:k,getFloatingProps:N,slot:C}},t))}function sS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=gw(),i=bw(((e,t)=>{if(null==e)return[n,null];if("number"==typeof e)return[e,null];if("string"==typeof e){if(!t)return[n,null];let i=oS(e,t);return[i,n=>{let s=aS(e);{let a=s.map((e=>window.getComputedStyle(t).getPropertyValue(e)));r.requestAnimationFrame((function o(){r.nextFrame(o);let l=!1;for(let[e,n]of s.entries()){let r=window.getComputedStyle(t).getPropertyValue(n);if(a[e]!==r){a[e]=r,l=!0;break}}if(!l)return;let c=oS(e,t);i!==c&&(n(c),i=c)}))}return r.dispose}]}return[n,null]})),a=(0,s.useMemo)((()=>i(e,t)[0]),[e,t]),[o=a,l]=(0,s.useState)();return vw((()=>{let[n,r]=i(e,t);if(l(n),r)return r(l)}),[e,t]),o}function aS(e){let t=/var\((.*)\)/.exec(e);if(t){let e=t[1].indexOf(",");if(-1===e)return[t[1]];let n=t[1].slice(0,e).trim(),r=t[1].slice(e+1).trim();return r?[n,...aS(r)]:[n]}return[]}function oS(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}let lS=(0,s.createContext)(null);lS.displayName="OpenClosedContext";var cS=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(cS||{});function uS(e){let{value:t,children:n}=e;return s.createElement(lS.Provider,{value:t},n)}function hS(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=""===(null==t?void 0:t.getAttribute("disabled"));return(!r||!function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(n))&&r}var dS=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(dS||{});function fS(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=null!=r?r:-1;switch(e.focus){case 0:for(let e=0;e<n.length;++e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 1:-1===i&&(i=n.length);for(let e=i-1;e>=0;--e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 2:for(let e=i+1;e<n.length;++e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 3:for(let e=n.length-1;e>=0;--e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 4:for(let r=0;r<n.length;++r)if(t.resolveId(n[r],r,n)===e.id)return r;return r;case 5:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}}function pS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.from(new Set(t.flatMap((e=>"string"==typeof e?e.split(" "):[])))).filter(Boolean).join(" ")}var mS=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(mS||{}),gS=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(gS||{});function vS(){let e=function(){let e=(0,s.useRef)([]),t=(0,s.useCallback)((t=>{for(let n of e.current)null!=n&&("function"==typeof n?n(t):n.current=t)}),[]);return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(!r.every((e=>null==e)))return e.current=r,t}}();return(0,s.useCallback)((t=>function(e){let{ourProps:t,theirProps:n,slot:r,defaultTag:i,features:s,visible:a=!0,name:o,mergeRefs:l}=e;l=null!=l?l:bS;let c=yS(n,t);if(a)return xS(c,r,i,o,l);let u=null!=s?s:0;if(2&u){let{static:e=!1,...t}=c;if(e)return xS(t,r,i,o,l)}if(1&u){let{unmount:e=!0,...t}=c;return Pw(e?0:1,{0:()=>null,1:()=>xS({...t,hidden:!0,style:{display:"none"}},r,i,o,l)})}return xS(c,r,i,o,l)}({mergeRefs:e,...t})),[e])}function xS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,{as:a=n,children:o,refName:l="ref",...c}=SS(e,["unmount","static"]),u=void 0!==e.ref?{[l]:e.ref}:{},h="function"==typeof o?o(t):o;"className"in c&&c.className&&"function"==typeof c.className&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let d={};if(t){let e=!1,n=[];for(let[r,i]of Object.entries(t))"boolean"==typeof i&&(e=!0),!0===i&&n.push(r.replace(/([A-Z])/g,(e=>`-${e.toLowerCase()}`)));if(e){d["data-headlessui-state"]=n.join(" ");for(let e of n)d[`data-${e}`]=""}}if(a===s.Fragment&&(Object.keys(AS(c)).length>0||Object.keys(AS(d)).length>0)){if((0,s.isValidElement)(h)&&!(Array.isArray(h)&&h.length>1)){let e=h.props,t=null==e?void 0:e.className,n="function"==typeof t?function(){return pS(t(...arguments),c.className)}:pS(t,c.className),r=n?{className:n}:{},a=yS(h.props,AS(SS(c,["ref"])));for(let i in d)i in a&&delete d[i];return(0,s.cloneElement)(h,Object.assign({},a,d,u,{ref:i(ES(h),u.ref)},r))}if(Object.keys(AS(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(AS(c)).concat(Object.keys(AS(d))).map((e=>`  - ${e}`)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((e=>`  - ${e}`)).join("\n")].join("\n"))}return(0,s.createElement)(a,Object.assign({},SS(c,["ref"]),a!==s.Fragment&&u,a!==s.Fragment&&d),h)}function bS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((e=>null==e))?void 0:e=>{for(let n of t)null!=n&&("function"==typeof n?n(e):n.current=e)}}function yS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return{};if(1===t.length)return t[0];let r={},i={};for(let s of t)for(let e in s)e.startsWith("on")&&"function"==typeof s[e]?(null!=i[e]||(i[e]=[]),i[e].push(s[e])):r[e]=s[e];if(r.disabled||r["aria-disabled"])for(let s in i)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(s)&&(i[s]=[e=>{var t;return null==(t=null==e?void 0:e.preventDefault)?void 0:t.call(e)}]);for(let s in i)Object.assign(r,{[s](e){let t=i[s];for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];for(let i of t){if((e instanceof Event||(null==e?void 0:e.nativeEvent)instanceof Event)&&e.defaultPrevented)return;i(e,...r)}}});return r}function wS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return{};if(1===t.length)return t[0];let r={},i={};for(let s of t)for(let e in s)e.startsWith("on")&&"function"==typeof s[e]?(null!=i[e]||(i[e]=[]),i[e].push(s[e])):r[e]=s[e];for(let s in i)Object.assign(r,{[s](){let e=i[s];for(let t of e)null==t||t(...arguments)}});return r}function _S(e){var t;return Object.assign((0,s.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function AS(e){let t=Object.assign({},e);for(let n in t)void 0===t[n]&&delete t[n];return t}function SS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function ES(e){return s.version.split(".")[0]>="19"?e.props.ref:e.ref}let TS=(0,s.createContext)(void 0);function MS(){return(0,s.useContext)(TS)}let CS=(0,s.createContext)(null);function RS(){let e=(0,s.useContext)(CS);if(null===e){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,RS),e}return e}CS.displayName="DescriptionContext";let kS=_S((function(e,t){let n=(0,s.useId)(),r=MS(),{id:i=`headlessui-description-${n}`,...a}=e,o=RS(),l=r_(t);vw((()=>o.register(i)),[i,o.register]);let c=r||!1,u=(0,s.useMemo)((()=>({...o.slot,disabled:c})),[o.slot,c]),h={ref:l,...o.props,id:i};return vS()({ourProps:h,theirProps:a,slot:u,defaultTag:"p",name:o.name||"Description"})}));Object.assign(kS,{});var NS=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(NS||{});let PS=(0,s.createContext)(void 0);let IS=(0,s.createContext)(null);function LS(){let e=(0,s.useContext)(IS);if(null===e){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,LS),e}return e}function DS(){let{inherit:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e){var t,n,r;let i=null!=(n=null==(t=(0,s.useContext)(IS))?void 0:t.value)?n:void 0;return(null!=(r=null==e?void 0:e.length)?r:0)>0?[i,...e].filter(Boolean).join(" "):i}(),[n,r]=(0,s.useState)([]),i=e?[t,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,(0,s.useMemo)((()=>function(e){let t=bw((e=>(r((t=>[...t,e])),()=>r((t=>{let n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}))))),n=(0,s.useMemo)((()=>({register:t,slot:e.slot,name:e.name,props:e.props,value:e.value})),[t,e.slot,e.name,e.props,e.value]);return s.createElement(IS.Provider,{value:n},e.children)}),[r])]}IS.displayName="LabelContext";let BS=_S((function(e,t){var n;let r=(0,s.useId)(),i=LS(),a=(0,s.useContext)(PS),o=MS(),{id:l=`headlessui-label-${r}`,htmlFor:c=(null!=a?a:null==(n=i.props)?void 0:n.htmlFor),passive:u=!1,...h}=e,d=r_(t);vw((()=>i.register(l)),[l,i.register]);let f=bw((e=>{let t=e.currentTarget;if(t instanceof HTMLLabelElement&&e.preventDefault(),i.props&&"onClick"in i.props&&"function"==typeof i.props.onClick&&i.props.onClick(e),t instanceof HTMLLabelElement){let e=document.getElementById(t.htmlFor);if(e){let t=e.getAttribute("disabled");if("true"===t||""===t)return;let n=e.getAttribute("aria-disabled");if("true"===n||""===n)return;(e instanceof HTMLInputElement&&("radio"===e.type||"checkbox"===e.type)||"radio"===e.role||"checkbox"===e.role||"switch"===e.role)&&e.click(),e.focus({preventScroll:!0})}}})),p=o||!1,m=(0,s.useMemo)((()=>({...i.slot,disabled:p})),[i.slot,p]),g={ref:d,...i.props,id:l,htmlFor:c,onClick:f};return u&&("onClick"in g&&(delete g.htmlFor,delete g.onClick),"onClick"in h&&delete h.onClick),vS()({ourProps:g,theirProps:h,slot:m,defaultTag:c?"label":"div",name:i.name||"Label"})}));Object.assign(BS,{});function OS(){let e=function(){let e="undefined"==typeof document;return(e=>e.useSyncExternalStore)(a)((()=>()=>{}),(()=>!1),(()=>!e))}(),[t,n]=s.useState(dw.isHandoffComplete);return t&&!1===dw.isHandoffComplete&&n(!1),s.useEffect((()=>{!0!==t&&n(!0)}),[t]),s.useEffect((()=>dw.handoff()),[]),!e&&t}let FS=(0,s.createContext)(!1);function US(e){let t=(0,s.useContext)(FS),n=(0,s.useContext)(GS),r=qw(e),[i,a]=(0,s.useState)((()=>{var e;if(!t&&null!==n)return null!=(e=n.current)?e:null;if(dw.isServer)return null;let i=null==r?void 0:r.getElementById("headlessui-portal-root");if(i)return i;if(null===r)return null;let s=r.createElement("div");return s.setAttribute("id","headlessui-portal-root"),r.body.appendChild(s)}));return(0,s.useEffect)((()=>{null!==i&&(null!=r&&r.body.contains(i)||null==r||r.body.appendChild(i))}),[i,r]),(0,s.useEffect)((()=>{t||null!==n&&a(n.current)}),[n,a,t]),i}let jS=s.Fragment,zS=_S((function(e,t){let n=e,r=(0,s.useRef)(null),i=r_(function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object.assign(e,{[n_]:t})}((e=>{r.current=e})),t),a=qw(r),o=US(r),[c]=(0,s.useState)((()=>{var e;return dw.isServer?null:null!=(e=null==a?void 0:a.createElement("div"))?e:null})),u=(0,s.useContext)(VS),h=OS();vw((()=>{!o||!c||o.contains(c)||(c.setAttribute("data-headlessui-portal",""),o.appendChild(c))}),[o,c]),vw((()=>{if(c&&u)return u.register(c)}),[u,c]),function(e){let t=bw(e),n=(0,s.useRef)(!1);(0,s.useEffect)((()=>(n.current=!1,()=>{n.current=!0,pw((()=>{n.current&&t()}))})),[t])}((()=>{var e;!o||!c||(c instanceof Node&&o.contains(c)&&o.removeChild(c),o.childNodes.length<=0&&(null==(e=o.parentElement)||e.removeChild(o)))}));let d=vS();return h&&o&&c?(0,l.createPortal)(d({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:jS,name:"Portal"}),c):null}));let HS=s.Fragment,GS=(0,s.createContext)(null);let VS=(0,s.createContext)(null);let WS=_S((function(e,t){let n=r_(t),{enabled:r=!0,...i}=e,a=vS();return r?s.createElement(zS,{...i,ref:n}):a({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:jS,name:"Portal"})})),XS=_S((function(e,t){let{target:n,...r}=e,i={ref:r_(t)},a=vS();return s.createElement(GS.Provider,{value:n},a({ourProps:i,theirProps:r,defaultTag:HS,name:"Popover.Group"}))})),YS=Object.assign(WS,{Group:XS});var JS=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(JS||{}),KS=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(KS||{}),qS=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e))(qS||{});function QS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e,n=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,r=Vw(t(e.items.slice()),(e=>e.dataRef.current.domRef.current)),i=n?r.indexOf(n):null;return-1===i&&(i=null),{items:r,activeItemIndex:i}}let ZS={1:e=>1===e.menuState?e:{...e,activeItemIndex:null,menuState:1},0:e=>0===e.menuState?e:{...e,__demoMode:!1,menuState:0},2:(e,t)=>{var n,r,i,s,a;if(1===e.menuState)return e;let o={...e,searchQuery:"",activationTrigger:null!=(n=t.trigger)?n:1,__demoMode:!1};if(t.focus===dS.Nothing)return{...o,activeItemIndex:null};if(t.focus===dS.Specific)return{...o,activeItemIndex:e.items.findIndex((e=>e.id===t.id))};if(t.focus===dS.Previous){let n=e.activeItemIndex;if(null!==n){let s=e.items[n].dataRef.current.domRef,a=fS(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});if(null!==a){let t=e.items[a].dataRef.current.domRef;if((null==(r=s.current)?void 0:r.previousElementSibling)===t.current||null===(null==(i=t.current)?void 0:i.previousElementSibling))return{...o,activeItemIndex:a}}}}else if(t.focus===dS.Next){let n=e.activeItemIndex;if(null!==n){let r=e.items[n].dataRef.current.domRef,i=fS(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});if(null!==i){let t=e.items[i].dataRef.current.domRef;if((null==(s=r.current)?void 0:s.nextElementSibling)===t.current||null===(null==(a=t.current)?void 0:a.nextElementSibling))return{...o,activeItemIndex:i}}}}let l=QS(e),c=fS(t,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...o,...l,activeItemIndex:c}},3:(e,t)=>{let n=""!==e.searchQuery?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find((e=>{var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(r))&&!e.dataRef.current.disabled})),s=i?e.items.indexOf(i):-1;return-1===s||s===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:s,activationTrigger:1}},4:e=>""===e.searchQuery?e:{...e,searchQuery:"",searchActiveItemIndex:null},5:(e,t)=>{let n=QS(e,(e=>[...e,{id:t.id,dataRef:t.dataRef}]));return{...e,...n}},6:(e,t)=>{let n=QS(e,(e=>{let n=e.findIndex((e=>e.id===t.id));return-1!==n&&e.splice(n,1),e}));return{...e,...n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.itemsElement===t.element?e:{...e,itemsElement:t.element}},$S=(0,s.createContext)(null);function eE(e){let t=(0,s.useContext)($S);if(null===t){let t=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,eE),t}return t}function tE(e,t){return Pw(t.type,ZS,e,t)}$S.displayName="MenuContext";let nE=s.Fragment;let rE=mS.RenderStrategy|mS.Static;let iE=s.Fragment;let sE=_S((function(e,t){let{__demoMode:n=!1,...r}=e,i=(0,s.useReducer)(tE,{__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:a,itemsElement:o,buttonElement:l},c]=i,u=r_(t);Kw(0===a,[l,o],((e,t)=>{c({type:1}),jw(t,Uw.Loose)||(e.preventDefault(),null==l||l.focus())}));let h=bw((()=>{c({type:1})})),d=(0,s.useMemo)((()=>({open:0===a,close:h})),[a,h]),f={ref:u},p=vS();return s.createElement(iS,null,s.createElement($S.Provider,{value:i},s.createElement(uS,{value:Pw(a,{0:cS.Open,1:cS.Closed})},p({ourProps:f,theirProps:r,slot:d,defaultTag:nE,name:"Menu"}))))})),aE=_S((function(e,t){var n;let r=(0,s.useId)(),{id:i=`headlessui-menu-button-${r}`,disabled:a=!1,autoFocus:o=!1,...c}=e,[u,h]=eE("Menu.Button"),d=(0,s.useContext)(nS).getReferenceProps,f=r_(t,(0,s.useContext)(nS).setReference,bw((e=>h({type:7,element:e})))),p=bw((e=>{switch(e.key){case NS.Space:case NS.Enter:case NS.ArrowDown:e.preventDefault(),e.stopPropagation(),(0,l.flushSync)((()=>h({type:0}))),h({type:2,focus:dS.First});break;case NS.ArrowUp:e.preventDefault(),e.stopPropagation(),(0,l.flushSync)((()=>h({type:0}))),h({type:2,focus:dS.Last})}})),m=bw((e=>{if(e.key===NS.Space)e.preventDefault()})),g=bw((e=>{var t;if(hS(e.currentTarget))return e.preventDefault();a||(0===u.menuState?((0,l.flushSync)((()=>h({type:1}))),null==(t=u.buttonElement)||t.focus({preventScroll:!0})):(e.preventDefault(),h({type:0})))})),{isFocusVisible:v,focusProps:x}=iw({autoFocus:o}),{isHovered:b,hoverProps:y}=function(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:i}=e,[a,o]=(0,s.useState)(!1),l=(0,s.useRef)({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;(0,s.useEffect)(cw,[]);let{hoverProps:c,triggerHoverEnd:u}=(0,s.useMemo)((()=>{let e=(e,r)=>{if(l.pointerType=r,i||"touch"===r||l.isHovered||!e.currentTarget.contains(e.target))return;l.isHovered=!0;let s=e.currentTarget;l.target=s,t&&t({type:"hoverstart",target:s,pointerType:r}),n&&n(!0),o(!0)},s=(e,t)=>{if(l.pointerType="",l.target=null,"touch"===t||!l.isHovered)return;l.isHovered=!1;let i=e.currentTarget;r&&r({type:"hoverend",target:i,pointerType:t}),n&&n(!1),o(!1)},a={};return"undefined"!==typeof PointerEvent?(a.onPointerEnter=t=>{sw&&"mouse"===t.pointerType||e(t,t.pointerType)},a.onPointerLeave=e=>{!i&&e.currentTarget.contains(e.target)&&s(e,e.pointerType)}):(a.onTouchStart=()=>{l.ignoreEmulatedMouseEvents=!0},a.onMouseEnter=t=>{l.ignoreEmulatedMouseEvents||sw||e(t,"mouse"),l.ignoreEmulatedMouseEvents=!1},a.onMouseLeave=e=>{!i&&e.currentTarget.contains(e.target)&&s(e,"mouse")}),{hoverProps:a,triggerHoverEnd:s}}),[t,n,r,i,l]);return(0,s.useEffect)((()=>{i&&u({currentTarget:l.target},l.pointerType)}),[i]),{hoverProps:c,isHovered:a}}({isDisabled:a}),{pressed:w,pressProps:_}=yw({disabled:a}),A=(0,s.useMemo)((()=>({open:0===u.menuState,active:w||0===u.menuState,disabled:a,hover:b,focus:v,autofocus:o})),[u,b,v,w,a,o]),S=wS(d(),{ref:f,id:i,type:Qw(e,u.buttonElement),"aria-haspopup":"menu","aria-controls":null==(n=u.itemsElement)?void 0:n.id,"aria-expanded":0===u.menuState,disabled:a||void 0,autoFocus:o,onKeyDown:p,onKeyUp:m,onClick:g},x,y,_);return vS()({ourProps:S,theirProps:c,slot:A,defaultTag:"button",name:"Menu.Button"})})),oE=_S((function(e,t){var n,r;let i=(0,s.useId)(),{id:a=`headlessui-menu-items-${i}`,anchor:o,portal:c=!1,modal:u=!0,transition:h=!1,...d}=e,f=function(e){return(0,s.useMemo)((()=>e?"string"==typeof e?{to:e}:e:null),[e])}(o),[p,m]=eE("Menu.Items"),[g,v]=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!1===e&&(e=null),"string"==typeof e&&(e={to:e});let t=(0,s.useContext)(rS),n=(0,s.useMemo)((()=>e),[JSON.stringify(e,((e,t)=>{var n;return null!=(n=null==t?void 0:t.outerHTML)?n:t}))]);vw((()=>{null==t||t(null!=n?n:null)}),[t,n]);let r=(0,s.useContext)(nS);return(0,s.useMemo)((()=>[r.setFloating,e?r.styles:{}]),[r.setFloating,e,r.styles])}(f),x=function(){let{getFloatingProps:e,slot:t}=(0,s.useContext)(nS);return(0,s.useCallback)((function(){return Object.assign({},e(...arguments),{"data-anchor":t.anchor})}),[e,t])}(),[b,y]=(0,s.useState)(null),w=r_(t,f?g:null,bw((e=>m({type:8,element:e}))),y),_=qw(p.itemsElement);f&&(c=!0);let A=(0,s.useContext)(lS),[S,E]=d_(h,b,null!==A?(A&cS.Open)===cS.Open:0===p.menuState);!function(e,t,n){let r=xw((e=>{let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&n()}));(0,s.useEffect)((()=>{if(!e)return;let n=null===t?null:t instanceof HTMLElement?t:t.current;if(!n)return;let i=mw();if("undefined"!=typeof ResizeObserver){let e=new ResizeObserver((()=>r.current(n)));e.observe(n),i.add((()=>e.disconnect()))}if("undefined"!=typeof IntersectionObserver){let e=new IntersectionObserver((()=>r.current(n)));e.observe(n),i.add((()=>e.disconnect()))}return()=>i.dispose()}),[t,r,e])}(S,p.buttonElement,(()=>{m({type:1})})),t_(!p.__demoMode&&(u&&0===p.menuState),_),Nw(!p.__demoMode&&(u&&0===p.menuState),{allowed:(0,s.useCallback)((()=>[p.buttonElement,p.itemsElement]),[p.buttonElement,p.itemsElement])});let T=!function(e,t){let n=(0,s.useRef)({left:0,top:0});if(vw((()=>{if(!t)return;let e=t.getBoundingClientRect();e&&(n.current=e)}),[e,t]),null==t||!e||t===document.activeElement)return!1;let r=t.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}(0!==p.menuState,p.buttonElement)&&S;(0,s.useEffect)((()=>{let e=p.itemsElement;e&&0===p.menuState&&e!==(null==_?void 0:_.activeElement)&&e.focus({preventScroll:!0})}),[p.menuState,p.itemsElement,_]),function(e,t){let{container:n,accept:r,walk:i}=t,a=(0,s.useRef)(r),o=(0,s.useRef)(i);(0,s.useEffect)((()=>{a.current=r,o.current=i}),[r,i]),vw((()=>{if(!n||!e)return;let t=fw(n);if(!t)return;let r=a.current,i=o.current,s=Object.assign((e=>r(e)),{acceptNode:r}),l=t.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,s,!1);for(;l.nextNode();)i(l.currentNode)}),[n,e,a,o])}(0===p.menuState,{container:p.itemsElement,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let M=gw(),C=bw((e=>{var t,n,r;switch(M.dispose(),e.key){case NS.Space:if(""!==p.searchQuery)return e.preventDefault(),e.stopPropagation(),m({type:3,value:e.key});case NS.Enter:if(e.preventDefault(),e.stopPropagation(),m({type:1}),null!==p.activeItemIndex){let{dataRef:e}=p.items[p.activeItemIndex];null==(n=null==(t=e.current)?void 0:t.domRef.current)||n.click()}zw(p.buttonElement);break;case NS.ArrowDown:return e.preventDefault(),e.stopPropagation(),m({type:2,focus:dS.Next});case NS.ArrowUp:return e.preventDefault(),e.stopPropagation(),m({type:2,focus:dS.Previous});case NS.Home:case NS.PageUp:return e.preventDefault(),e.stopPropagation(),m({type:2,focus:dS.First});case NS.End:case NS.PageDown:return e.preventDefault(),e.stopPropagation(),m({type:2,focus:dS.Last});case NS.Escape:e.preventDefault(),e.stopPropagation(),(0,l.flushSync)((()=>m({type:1}))),null==(r=p.buttonElement)||r.focus({preventScroll:!0});break;case NS.Tab:e.preventDefault(),e.stopPropagation(),(0,l.flushSync)((()=>m({type:1}))),Ww(p.buttonElement,e.shiftKey?Dw.Previous:Dw.Next);break;default:1===e.key.length&&(m({type:3,value:e.key}),M.setTimeout((()=>m({type:4})),350))}})),R=bw((e=>{if(e.key===NS.Space)e.preventDefault()})),k=(0,s.useMemo)((()=>({open:0===p.menuState})),[p.menuState]),N=wS(f?x():{},{"aria-activedescendant":null===p.activeItemIndex||null==(n=p.items[p.activeItemIndex])?void 0:n.id,"aria-labelledby":null==(r=p.buttonElement)?void 0:r.id,id:a,onKeyDown:C,onKeyUp:R,role:"menu",tabIndex:0===p.menuState?0:void 0,ref:w,style:{...d.style,...v,"--button-width":ww(p.buttonElement,!0).width},...h_(E)}),P=vS();return s.createElement(YS,{enabled:!!c&&(e.static||S)},P({ourProps:N,theirProps:d,slot:k,defaultTag:"div",features:rE,visible:T,name:"Menu.Items"}))})),lE=_S((function(e,t){let n=(0,s.useId)(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...a}=e,[o,l]=eE("Menu.Item"),c=null!==o.activeItemIndex&&o.items[o.activeItemIndex].id===r,u=(0,s.useRef)(null),h=r_(t,u);vw((()=>{if(!o.__demoMode&&0===o.menuState&&c&&0!==o.activationTrigger)return mw().requestAnimationFrame((()=>{var e,t;null==(t=null==(e=u.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})}))}),[o.__demoMode,u,c,o.menuState,o.activationTrigger,o.activeItemIndex]);let d=a_(u),f=(0,s.useRef)({disabled:i,domRef:u,get textValue(){return d()}});vw((()=>{f.current.disabled=i}),[f,i]),vw((()=>(l({type:5,id:r,dataRef:f}),()=>l({type:6,id:r}))),[f,r]);let p=bw((()=>{l({type:1})})),m=bw((e=>{if(i)return e.preventDefault();l({type:1}),zw(o.buttonElement)})),g=bw((()=>{if(i)return l({type:2,focus:dS.Nothing});l({type:2,focus:dS.Specific,id:r})})),v=function(){let e=(0,s.useRef)([-1,-1]);return{wasMoved(t){let n=o_(t);return(e.current[0]!==n[0]||e.current[1]!==n[1])&&(e.current=n,!0)},update(t){e.current=o_(t)}}}(),x=bw((e=>{v.update(e),!i&&(c||l({type:2,focus:dS.Specific,id:r,trigger:0}))})),b=bw((e=>{v.wasMoved(e)&&(i||c||l({type:2,focus:dS.Specific,id:r,trigger:0}))})),y=bw((e=>{v.wasMoved(e)&&(i||c&&l({type:2,focus:dS.Nothing}))})),[w,_]=DS(),[A,S]=function(){let[e,t]=(0,s.useState)([]);return[e.length>0?e.join(" "):void 0,(0,s.useMemo)((()=>function(e){let n=bw((e=>(t((t=>[...t,e])),()=>t((t=>{let n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}))))),r=(0,s.useMemo)((()=>({register:n,slot:e.slot,name:e.name,props:e.props,value:e.value})),[n,e.slot,e.name,e.props,e.value]);return s.createElement(CS.Provider,{value:r},e.children)}),[t])]}(),E=(0,s.useMemo)((()=>({active:c,focus:c,disabled:i,close:p})),[c,i,p]),T={id:r,ref:h,role:"menuitem",tabIndex:!0===i?void 0:-1,"aria-disabled":!0===i||void 0,"aria-labelledby":w,"aria-describedby":A,disabled:void 0,onClick:m,onFocus:g,onPointerEnter:x,onMouseEnter:x,onPointerMove:b,onMouseMove:b,onPointerLeave:y,onMouseLeave:y},M=vS();return s.createElement(_,null,s.createElement(S,null,M({ourProps:T,theirProps:a,slot:E,defaultTag:iE,name:"Menu.Item"})))})),cE=_S((function(e,t){let[n,r]=DS(),i=e,a={ref:t,"aria-labelledby":n,role:"group"},o=vS();return s.createElement(r,null,o({ourProps:a,theirProps:i,slot:{},defaultTag:"div",name:"Menu.Section"}))})),uE=_S((function(e,t){let n=(0,s.useId)(),{id:r=`headlessui-menu-heading-${n}`,...i}=e,a=LS();vw((()=>a.register(r)),[r,a.register]);let o={id:r,ref:t,role:"presentation",...a.props};return vS()({ourProps:o,theirProps:i,slot:{},defaultTag:"header",name:"Menu.Heading"})})),hE=_S((function(e,t){let n=e,r={ref:t,role:"separator"};return vS()({ourProps:r,theirProps:n,slot:{},defaultTag:"div",name:"Menu.Separator"})})),dE=Object.assign(sE,{Button:aE,Items:oE,Item:lE,Section:cE,Heading:uE,Separator:hE});function fE(e,t){return function(){return e.apply(t,arguments)}}const{toString:pE}=Object.prototype,{getPrototypeOf:mE}=Object,gE=(e=>t=>{const n=pE.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),vE=e=>(e=e.toLowerCase(),t=>gE(t)===e),xE=e=>t=>typeof t===e,{isArray:bE}=Array,yE=xE("undefined");const wE=vE("ArrayBuffer");const _E=xE("string"),AE=xE("function"),SE=xE("number"),EE=e=>null!==e&&"object"===typeof e,TE=e=>{if("object"!==gE(e))return!1;const t=mE(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ME=vE("Date"),CE=vE("File"),RE=vE("Blob"),kE=vE("FileList"),NE=vE("URLSearchParams"),[PE,IE,LE,DE]=["ReadableStream","Request","Response","Headers"].map(vE);function BE(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),bE(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let a;for(n=0;n<s;n++)a=r[n],t.call(null,e[a],a,e)}}function OE(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const FE="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,UE=e=>!yE(e)&&e!==FE;const jE=(zE="undefined"!==typeof Uint8Array&&mE(Uint8Array),e=>zE&&e instanceof zE);var zE;const HE=vE("HTMLFormElement"),GE=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),VE=vE("RegExp"),WE=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};BE(n,((n,i)=>{let s;!1!==(s=t(n,i,e))&&(r[i]=s||n)})),Object.defineProperties(e,r)},XE="abcdefghijklmnopqrstuvwxyz",YE="0123456789",JE={DIGIT:YE,ALPHA:XE,ALPHA_DIGIT:XE+XE.toUpperCase()+YE};const KE=vE("AsyncFunction"),qE=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],FE.addEventListener("message",(e=>{let{source:t,data:i}=e;t===FE&&i===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),FE.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,AE(FE.postMessage)),QE="undefined"!==typeof queueMicrotask?queueMicrotask.bind(FE):"undefined"!==typeof process&&process.nextTick||qE,ZE={isArray:bE,isArrayBuffer:wE,isBuffer:function(e){return null!==e&&!yE(e)&&null!==e.constructor&&!yE(e.constructor)&&AE(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||AE(e.append)&&("formdata"===(t=gE(e))||"object"===t&&AE(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&wE(e.buffer),t},isString:_E,isNumber:SE,isBoolean:e=>!0===e||!1===e,isObject:EE,isPlainObject:TE,isReadableStream:PE,isRequest:IE,isResponse:LE,isHeaders:DE,isUndefined:yE,isDate:ME,isFile:CE,isBlob:RE,isRegExp:VE,isFunction:AE,isStream:e=>EE(e)&&AE(e.pipe),isURLSearchParams:NE,isTypedArray:jE,isFileList:kE,forEach:BE,merge:function e(){const{caseless:t}=UE(this)&&this||{},n={},r=(r,i)=>{const s=t&&OE(n,i)||i;TE(n[s])&&TE(r)?n[s]=e(n[s],r):TE(r)?n[s]=e({},r):bE(r)?n[s]=r.slice():n[s]=r};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&BE(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return BE(t,((t,r)=>{n&&AE(t)?e[r]=fE(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,s,a;const o={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)a=i[s],r&&!r(a,e,t)||o[a]||(t[a]=e[a],o[a]=!0);e=!1!==n&&mE(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:gE,kindOfTest:vE,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(bE(e))return e;let t=e.length;if(!SE(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:HE,hasOwnProperty:GE,hasOwnProp:GE,reduceDescriptors:WE,freezeMethods:e=>{WE(e,((t,n)=>{if(AE(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];AE(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return bE(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:OE,global:FE,isContextDefined:UE,ALPHABET:JE,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JE.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&AE(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(EE(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=bE(e)?[]:{};return BE(e,((e,t)=>{const s=n(e,r+1);!yE(s)&&(i[t]=s)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:KE,isThenable:e=>e&&(EE(e)||AE(e))&&AE(e.then)&&AE(e.catch),setImmediate:qE,asap:QE};function $E(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ZE.inherits($E,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ZE.toJSONObject(this.config),code:this.code,status:this.status}}});const eT=$E.prototype,tT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{tT[e]={value:e}})),Object.defineProperties($E,tT),Object.defineProperty(eT,"isAxiosError",{value:!0}),$E.from=(e,t,n,r,i,s)=>{const a=Object.create(eT);return ZE.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),$E.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,s&&Object.assign(a,s),a};const nT=$E;function rT(e){return ZE.isPlainObject(e)||ZE.isArray(e)}function iT(e){return ZE.endsWith(e,"[]")?e.slice(0,-2):e}function sT(e,t,n){return e?e.concat(t).map((function(e,t){return e=iT(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const aT=ZE.toFlatObject(ZE,{},null,(function(e){return/^is[A-Z]/.test(e)}));const oT=function(e,t,n){if(!ZE.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=ZE.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!ZE.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,s=n.dots,a=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&ZE.isSpecCompliantForm(t);if(!ZE.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(ZE.isDate(e))return e.toISOString();if(!o&&ZE.isBlob(e))throw new nT("Blob is not supported. Use a Buffer instead.");return ZE.isArrayBuffer(e)||ZE.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let o=e;if(e&&!i&&"object"===typeof e)if(ZE.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(ZE.isArray(e)&&function(e){return ZE.isArray(e)&&!e.some(rT)}(e)||(ZE.isFileList(e)||ZE.endsWith(n,"[]"))&&(o=ZE.toArray(e)))return n=iT(n),o.forEach((function(e,r){!ZE.isUndefined(e)&&null!==e&&t.append(!0===a?sT([n],r,s):null===a?n:n+"[]",l(e))})),!1;return!!rT(e)||(t.append(sT(i,n,s),l(e)),!1)}const u=[],h=Object.assign(aT,{defaultVisitor:c,convertValue:l,isVisitable:rT});if(!ZE.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!ZE.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),ZE.forEach(n,(function(n,s){!0===(!(ZE.isUndefined(n)||null===n)&&i.call(t,n,ZE.isString(s)?s.trim():s,r,h))&&e(n,r?r.concat(s):[s])})),u.pop()}}(e),t};function lT(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function cT(e,t){this._pairs=[],e&&oT(e,this,t)}const uT=cT.prototype;uT.append=function(e,t){this._pairs.push([e,t])},uT.toString=function(e){const t=e?function(t){return e.call(this,t,lT)}:lT;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const hT=cT;function dT(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fT(e,t,n){if(!t)return e;const r=n&&n.encode||dT;ZE.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(s=i?i(t,n):ZE.isURLSearchParams(t)?t.toString():new hT(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const pT=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ZE.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},mT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gT={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:hT,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},vT="undefined"!==typeof window&&"undefined"!==typeof document,xT="object"===typeof navigator&&navigator||void 0,bT=vT&&(!xT||["ReactNative","NativeScript","NS"].indexOf(xT.product)<0),yT="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,wT=vT&&window.location.href||"http://localhost",_T={...t,...gT};const AT=function(e){function t(e,n,r,i){let s=e[i++];if("__proto__"===s)return!0;const a=Number.isFinite(+s),o=i>=e.length;if(s=!s&&ZE.isArray(r)?r.length:s,o)return ZE.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!a;r[s]&&ZE.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],i)&&ZE.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}(r[s])),!a}if(ZE.isFormData(e)&&ZE.isFunction(e.entries)){const n={};return ZE.forEachEntry(e,((e,r)=>{t(function(e){return ZE.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const ST={transitional:mT,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=ZE.isObject(e);i&&ZE.isHTMLForm(e)&&(e=new FormData(e));if(ZE.isFormData(e))return r?JSON.stringify(AT(e)):e;if(ZE.isArrayBuffer(e)||ZE.isBuffer(e)||ZE.isStream(e)||ZE.isFile(e)||ZE.isBlob(e)||ZE.isReadableStream(e))return e;if(ZE.isArrayBufferView(e))return e.buffer;if(ZE.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return oT(e,new _T.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return _T.isNode&&ZE.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=ZE.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return oT(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(ZE.isString(e))try{return(t||JSON.parse)(e),ZE.trim(e)}catch(TS){if("SyntaxError"!==TS.name)throw TS}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ST.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(ZE.isResponse(e)||ZE.isReadableStream(e))return e;if(e&&ZE.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(TS){if(n){if("SyntaxError"===TS.name)throw nT.from(TS,nT.ERR_BAD_RESPONSE,this,null,this.response);throw TS}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_T.classes.FormData,Blob:_T.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ZE.forEach(["delete","get","head","post","put","patch"],(e=>{ST.headers[e]={}}));const ET=ST,TT=ZE.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),MT=Symbol("internals");function CT(e){return e&&String(e).trim().toLowerCase()}function RT(e){return!1===e||null==e?e:ZE.isArray(e)?e.map(RT):String(e)}function kT(e,t,n,r,i){return ZE.isFunction(r)?r.call(this,t,n):(i&&(t=n),ZE.isString(t)?ZE.isString(r)?-1!==t.indexOf(r):ZE.isRegExp(r)?r.test(t):void 0:void 0)}class NT{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=CT(t);if(!i)throw new Error("header name must be a non-empty string");const s=ZE.findKey(r,i);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=RT(e))}const s=(e,t)=>ZE.forEach(e,((e,n)=>i(e,n,t)));if(ZE.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(ZE.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&TT[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(ZE.isHeaders(e))for(const[a,o]of e.entries())i(o,a,n);else null!=e&&i(t,e,n);return this}get(e,t){if(e=CT(e)){const n=ZE.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(ZE.isFunction(t))return t.call(this,e,n);if(ZE.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=CT(e)){const n=ZE.findKey(this,e);return!(!n||void 0===this[n]||t&&!kT(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=CT(e)){const i=ZE.findKey(n,e);!i||t&&!kT(0,n[i],i,t)||(delete n[i],r=!0)}}return ZE.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!kT(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return ZE.forEach(this,((r,i)=>{const s=ZE.findKey(n,i);if(s)return t[s]=RT(r),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();a!==i&&delete t[i],t[a]=RT(r),n[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return ZE.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&ZE.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[MT]=this[MT]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=CT(e);t[r]||(!function(e,t){const n=ZE.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return ZE.isArray(e)?e.forEach(r):r(e),this}}NT.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ZE.reduceDescriptors(NT.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),ZE.freezeMethods(NT);const PT=NT;function IT(e,t){const n=this||ET,r=t||n,i=PT.from(r.headers);let s=r.data;return ZE.forEach(e,(function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)})),i.normalize(),s}function LT(e){return!(!e||!e.__CANCEL__)}function DT(e,t,n){nT.call(this,null==e?"canceled":e,nT.ERR_CANCELED,t,n),this.name="CanceledError"}ZE.inherits(DT,nT,{__CANCEL__:!0});const BT=DT;function OT(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new nT("Request failed with status code "+n.status,[nT.ERR_BAD_REQUEST,nT.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const FT=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,s=0,a=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[a];i||(i=l),n[s]=o,r[s]=l;let u=a,h=0;for(;u!==s;)h+=n[u++],u%=e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),l-i<t)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}};const UT=function(e,t){let n,r,i=0,s=1e3/t;const a=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=s,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-i;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=s?a(l,e):(n=l,r||(r=setTimeout((()=>{r=null,a(n)}),s-t)))},()=>n&&a(n)]},jT=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=FT(50,250);return UT((n=>{const s=n.loaded,a=n.lengthComputable?n.total:void 0,o=s-r,l=i(o);r=s;e({loaded:s,total:a,progress:a?s/a:void 0,bytes:o,rate:l||void 0,estimated:l&&a&&s<=a?(a-s)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},zT=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},HT=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ZE.asap((()=>e(...n)))},GT=_T.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,_T.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(_T.origin),_T.navigator&&/(msie|trident)/i.test(_T.navigator.userAgent)):()=>!0,VT=_T.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const a=[e+"="+encodeURIComponent(t)];ZE.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),ZE.isString(r)&&a.push("path="+r),ZE.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function WT(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const XT=e=>e instanceof PT?{...e}:e;function YT(e,t){t=t||{};const n={};function r(e,t,n,r){return ZE.isPlainObject(e)&&ZE.isPlainObject(t)?ZE.merge.call({caseless:r},e,t):ZE.isPlainObject(t)?ZE.merge({},t):ZE.isArray(t)?t.slice():t}function i(e,t,n,i){return ZE.isUndefined(t)?ZE.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function s(e,t){if(!ZE.isUndefined(t))return r(void 0,t)}function a(e,t){return ZE.isUndefined(t)?ZE.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,i,s){return s in t?r(n,i):s in e?r(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(e,t,n)=>i(XT(e),XT(t),0,!0)};return ZE.forEach(Object.keys(Object.assign({},e,t)),(function(r){const s=l[r]||i,a=s(e[r],t[r],r);ZE.isUndefined(a)&&s!==o||(n[r]=a)})),n}const JT=e=>{const t=YT({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:l}=t;if(t.headers=o=PT.from(o),t.url=fT(WT(t.baseURL,t.url),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ZE.isFormData(r))if(_T.hasStandardBrowserEnv||_T.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(n=o.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(_T.hasStandardBrowserEnv&&(i&&ZE.isFunction(i)&&(i=i(t)),i||!1!==i&&GT(t.url))){const e=s&&a&&VT.read(a);e&&o.set(s,e)}return t},KT="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=JT(e);let i=r.data;const s=PT.from(r.headers).normalize();let a,o,l,c,u,{responseType:h,onUploadProgress:d,onDownloadProgress:f}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=PT.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());OT((function(e){t(e),p()}),(function(e){n(e),p()}),{data:h&&"text"!==h&&"json"!==h?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new nT("Request aborted",nT.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new nT("Network Error",nT.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||mT;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new nT(t,i.clarifyTimeoutError?nT.ETIMEDOUT:nT.ECONNABORTED,e,m)),m=null},void 0===i&&s.setContentType(null),"setRequestHeader"in m&&ZE.forEach(s.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),ZE.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),h&&"json"!==h&&(m.responseType=r.responseType),f&&([l,u]=jT(f,!0),m.addEventListener("progress",l)),d&&m.upload&&([o,c]=jT(d),m.upload.addEventListener("progress",o),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new BT(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===_T.protocols.indexOf(v)?n(new nT("Unsupported protocol "+v+":",nT.ERR_BAD_REQUEST,e)):m.send(i||null)}))},qT=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof nT?t:new BT(t instanceof Error?t.message:t))}};let s=t&&setTimeout((()=>{s=null,i(new nT(`timeout ${t} of ms exceeded`,nT.ETIMEDOUT))}),t);const a=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:o}=r;return o.unsubscribe=()=>ZE.asap(a),o}},QT=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},ZT=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},$T=(e,t,n,r)=>{const i=async function*(e,t){for await(const n of ZT(e))yield*QT(n,t)}(e,t);let s,a=0,o=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return o(),void e.close();let s=r.byteLength;if(n){let e=a+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),i.return())},{highWaterMark:2})},eM="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,tM=eM&&"function"===typeof ReadableStream,nM=eM&&("function"===typeof TextEncoder?(rM=new TextEncoder,e=>rM.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var rM;const iM=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(TS){return!1}},sM=tM&&iM((()=>{let e=!1;const t=new Request(_T.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),aM=tM&&iM((()=>ZE.isReadableStream(new Response("").body))),oM={stream:aM&&(e=>e.body)};var lM;eM&&(lM=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!oM[e]&&(oM[e]=ZE.isFunction(lM[e])?t=>t[e]():(t,n)=>{throw new nT(`Response type '${e}' is not supported`,nT.ERR_NOT_SUPPORT,n)})})));const cM=async(e,t)=>{const n=ZE.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(ZE.isBlob(e))return e.size;if(ZE.isSpecCompliantForm(e)){const t=new Request(_T.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return ZE.isArrayBufferView(e)||ZE.isArrayBuffer(e)?e.byteLength:(ZE.isURLSearchParams(e)&&(e+=""),ZE.isString(e)?(await nM(e)).byteLength:void 0)})(t):n},uM=eM&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:d}=JT(e);c=c?(c+"").toLowerCase():"text";let f,p=qT([i,s&&s.toAbortSignal()],a);const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(l&&sM&&"get"!==n&&"head"!==n&&0!==(g=await cM(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(ZE.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=zT(g,jT(HT(l)));r=$T(n.body,65536,e,t)}}ZE.isString(h)||(h=h?"include":"omit");const i="credentials"in Request.prototype;f=new Request(t,{...d,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:i?h:void 0});let s=await fetch(f);const a=aM&&("stream"===c||"response"===c);if(aM&&(o||a&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=s[t]}));const t=ZE.toFiniteNumber(s.headers.get("content-length")),[n,r]=o&&zT(t,jT(HT(o),!0))||[];s=new Response($T(s.body,65536,n,(()=>{r&&r(),m&&m()})),e)}c=c||"text";let v=await oM[ZE.findKey(oM,c)||"text"](s,e);return!a&&m&&m(),await new Promise(((t,n)=>{OT(t,n,{data:v,headers:PT.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:f})}))}catch(v){if(m&&m(),v&&"TypeError"===v.name&&/fetch/i.test(v.message))throw Object.assign(new nT("Network Error",nT.ERR_NETWORK,e,f),{cause:v.cause||v});throw nT.from(v,v&&v.code,e,f)}}),hM={http:null,xhr:KT,fetch:uM};ZE.forEach(hM,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(TS){}Object.defineProperty(e,"adapterName",{value:t})}}));const dM=e=>`- ${e}`,fM=e=>ZE.isFunction(e)||null===e||!1===e,pM=e=>{e=ZE.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!fM(n)&&(r=hM[(t=String(n)).toLowerCase()],void 0===r))throw new nT(`Unknown adapter '${t}'`);if(r)break;i[t||"#"+s]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(dM).join("\n"):" "+dM(e[0]):"as no adapter specified";throw new nT("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function mM(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new BT(null,e)}function gM(e){mM(e),e.headers=PT.from(e.headers),e.data=IT.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return pM(e.adapter||ET.adapter)(e).then((function(t){return mM(e),t.data=IT.call(e,e.transformResponse,t),t.headers=PT.from(t.headers),t}),(function(t){return LT(t)||(mM(e),t&&t.response&&(t.response.data=IT.call(e,e.transformResponse,t.response),t.response.headers=PT.from(t.response.headers))),Promise.reject(t)}))}const vM="1.7.9",xM={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{xM[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const bM={};xM.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.9] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,s)=>{if(!1===e)throw new nT(r(i," has been removed"+(t?" in "+t:"")),nT.ERR_DEPRECATED);return t&&!bM[i]&&(bM[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}},xM.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const yM={assertOptions:function(e,t,n){if("object"!==typeof e)throw new nT("options must be an object",nT.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],a=t[s];if(a){const t=e[s],n=void 0===t||a(t,s,e);if(!0!==n)throw new nT("option "+s+" must be "+n,nT.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new nT("Unknown option "+s,nT.ERR_BAD_OPTION)}},validators:xM},wM=yM.validators;class _M{constructor(e){this.defaults=e,this.interceptors={request:new pT,response:new pT}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(TS){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=YT(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&yM.assertOptions(n,{silentJSONParsing:wM.transitional(wM.boolean),forcedJSONParsing:wM.transitional(wM.boolean),clarifyTimeoutError:wM.transitional(wM.boolean)},!1),null!=r&&(ZE.isFunction(r)?t.paramsSerializer={serialize:r}:yM.assertOptions(r,{encode:wM.function,serialize:wM.function},!0)),yM.assertOptions(t,{baseUrl:wM.spelling("baseURL"),withXsrfToken:wM.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&ZE.merge(i.common,i[t.method]);i&&ZE.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=PT.concat(s,i);const a=[];let o=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,h=0;if(!o){const e=[gM.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);h<u;)c=c.then(e[h++],e[h++]);return c}u=a.length;let d=t;for(h=0;h<u;){const e=a[h++],t=a[h++];try{d=e(d)}catch(Cx){t.call(this,Cx);break}}try{c=gM.call(this,d)}catch(Cx){return Promise.reject(Cx)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(e){return fT(WT((e=YT(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}ZE.forEach(["delete","get","head","options"],(function(e){_M.prototype[e]=function(t,n){return this.request(YT(n||{},{method:e,url:t,data:(n||{}).data}))}})),ZE.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(YT(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}_M.prototype[e]=t(),_M.prototype[e+"Form"]=t(!0)}));const AM=_M;class SM{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new BT(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new SM((function(t){e=t})),cancel:e}}}const EM=SM;const TM={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(TM).forEach((e=>{let[t,n]=e;TM[n]=t}));const MM=TM;const CM=function e(t){const n=new AM(t),r=fE(AM.prototype.request,n);return ZE.extend(r,AM.prototype,n,{allOwnKeys:!0}),ZE.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(YT(t,n))},r}(ET);CM.Axios=AM,CM.CanceledError=BT,CM.CancelToken=EM,CM.isCancel=LT,CM.VERSION=vM,CM.toFormData=oT,CM.AxiosError=nT,CM.Cancel=CM.CanceledError,CM.all=function(e){return Promise.all(e)},CM.spread=function(e){return function(t){return e.apply(null,t)}},CM.isAxiosError=function(e){return ZE.isObject(e)&&!0===e.isAxiosError},CM.mergeConfig=YT,CM.AxiosHeaders=PT,CM.formToJSON=e=>AT(ZE.isHTMLForm(e)?new FormData(e):e),CM.getAdapter=pM,CM.HttpStatusCode=MM,CM.default=CM;const RM=CM;function kM(){return(0,$g.jsx)("div",{className:"relative",children:(0,$g.jsx)(dE,{children:e=>{let{open:t}=e;return(0,$g.jsxs)($g.Fragment,{children:[(0,$g.jsx)(aE,{children:(0,$g.jsx)("div",{children:(0,$g.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAB2AAAAdgB+lymcgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACgSURBVHic7ddBCsIwFATQwY09vNpbeLTqJUQXdSVCQgy0te/B7ErI/20XkwAAAABfDEnGJLckz41kSnJ53/1n4woGas25xwK29OY/cy8Nd2hayXY8Sg/ULODa4SJL6XL3IfO/NGX5T7o2U5JTkmOPBQAA+6UNrmCg1miDpeG0wYpDtMFogwDATmmDKxioNdpgaThtsOIQbTDaIAAAAPyTF8qvL4F9h8cXAAAAAElFTkSuQmCC",alt:"menu Logo",className:"w-12 h-7 filter invert"})})}),t&&(0,$g.jsx)("div",{className:"absolute right-0 z-50 w-48 mt-2 bg-white shadow-lg",children:(0,$g.jsxs)(oE,{children:[(0,$g.jsx)(lE,{children:e=>{let{isActive:t}=e;return(0,$g.jsx)("a",{className:(t?"bg-gray-100 text-gray-900":"text-gray-700")+" block px-4 py-2 text-sm",href:"/Dashboard",children:"Home"})}}),(0,$g.jsx)(lE,{children:e=>{let{isActive:t}=e;return(0,$g.jsx)("a",{className:(t?"bg-gray-100 text-gray-900":"text-gray-700")+" block px-4 py-2 text-sm",href:"/Report",children:"Report"})}}),(0,$g.jsx)(lE,{children:e=>{let{isActive:t}=e;return(0,$g.jsx)("a",{className:(t?"bg-gray-100 text-gray-900":"text-gray-700")+" block px-4 py-2 text-sm",href:"/Analytics",children:"Analytics"})}}),(0,$g.jsx)(lE,{children:e=>{let{isActive:t}=e;return(0,$g.jsx)("a",{className:(t?"bg-gray-100 text-gray-900":"text-gray-700")+" block px-4 py-2 text-sm",href:"/Heatmap",children:"Heatmap"})}}),(0,$g.jsx)(lE,{children:e=>{let{isActive:t}=e;return(0,$g.jsx)("a",{className:(t?"bg-gray-100 text-gray-900":"text-gray-700")+" block px-4 py-2 text-sm",href:"/Settings",children:"Settings"})}}),(0,$g.jsx)(lE,{children:e=>{let{isActive:t}=e;return(0,$g.jsx)("a",{className:(t?"bg-gray-100 text-gray-900":"text-gray-700")+" block px-4 py-2 text-sm",onClick:()=>(async()=>{try{const e=localStorage.getItem("refreshToken");200===(await RM.delete("http://34.100.168.176:4000/auth/logout",{data:{refreshToken:e},headers:{"Content-Type":"application/json"}})).status&&(localStorage.clear(),sessionStorage.clear(),window.location.replace("/"))}catch(Cx){console.error("Logout error:",Cx),localStorage.clear(),sessionStorage.clear(),document.cookie="refreshToken=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",window.location.replace("/")}})(),children:"Logout"})}})]})})]})}})})}var NM={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},PM=s.createContext&&s.createContext(NM),IM=["attr","size","title"];function LM(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function DM(){return DM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DM.apply(this,arguments)}function BM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BM(Object(n),!0).forEach((function(t){FM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function FM(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UM(e){return e&&e.map(((e,t)=>s.createElement(e.tag,OM({key:t},e.attr),UM(e.child))))}function jM(e){return t=>s.createElement(zM,DM({attr:OM({},e.attr)},t),UM(e.child))}function zM(e){var t=t=>{var n,{attr:r,size:i,title:a}=e,o=LM(e,IM),l=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),s.createElement("svg",DM({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:n,style:OM(OM({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&s.createElement("title",null,a),e.children)};return void 0!==PM?s.createElement(PM.Consumer,null,(e=>t(e))):t(NM)}function HM(e){return jM({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 277.4h189.7l-43.6 44.7L368 352l96-96-96-96-31 29.9 44.7 44.7H192v42.8z"},child:[]},{tag:"path",attr:{d:"M255.7 421.3c-44.1 0-85.5-17.2-116.7-48.4-31.2-31.2-48.3-72.7-48.3-116.9 0-44.1 17.2-85.7 48.3-116.9 31.2-31.2 72.6-48.4 116.7-48.4 44 0 85.3 17.1 116.5 48.2l30.3-30.3c-8.5-8.4-17.8-16.2-27.7-23.2C339.7 61 298.6 48 255.7 48 141.2 48 48 141.3 48 256s93.2 208 207.7 208c42.9 0 84-13 119-37.5 10-7 19.2-14.7 27.7-23.2l-30.2-30.2c-31.1 31.1-72.5 48.2-116.5 48.2zM448.004 256.847l-.849-.848.849-.849.848.849z"},child:[]}]})(e)}function GM(e){return jM({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M413.967 276.8c1.06-6.235 1.06-13.518 1.06-20.8s-1.06-13.518-1.06-20.8l44.667-34.318c4.26-3.118 5.319-8.317 2.13-13.518L418.215 115.6c-2.129-4.164-8.507-6.235-12.767-4.164l-53.186 20.801c-10.638-8.318-23.394-15.601-36.16-20.801l-7.448-55.117c-1.06-4.154-5.319-8.318-10.638-8.318h-85.098c-5.318 0-9.577 4.164-10.637 8.318l-8.508 55.117c-12.767 5.2-24.464 12.482-36.171 20.801l-53.186-20.801c-5.319-2.071-10.638 0-12.767 4.164L49.1 187.365c-2.119 4.153-1.061 10.399 2.129 13.518L96.97 235.2c0 7.282-1.06 13.518-1.06 20.8s1.06 13.518 1.06 20.8l-44.668 34.318c-4.26 3.118-5.318 8.317-2.13 13.518L92.721 396.4c2.13 4.164 8.508 6.235 12.767 4.164l53.187-20.801c10.637 8.318 23.394 15.601 36.16 20.801l8.508 55.117c1.069 5.2 5.318 8.318 10.637 8.318h85.098c5.319 0 9.578-4.164 10.638-8.318l8.518-55.117c12.757-5.2 24.464-12.482 36.16-20.801l53.187 20.801c5.318 2.071 10.637 0 12.767-4.164l42.549-71.765c2.129-4.153 1.06-10.399-2.13-13.518l-46.8-34.317zm-158.499 52c-41.489 0-74.46-32.235-74.46-72.8s32.971-72.8 74.46-72.8 74.461 32.235 74.461 72.8-32.972 72.8-74.461 72.8z"},child:[]}]})(e)}function VM(e){return jM({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.08 341.31c-1.66-2-3.29-4-4.89-5.93-22-26.61-35.31-42.67-35.31-118 0-39-9.33-71-27.72-95-13.56-17.73-31.89-31.18-56.05-41.12a3 3 0 0 1-.82-.67C306.6 51.49 282.82 32 256 32s-50.59 19.49-59.28 48.56a3.13 3.13 0 0 1-.81.65c-56.38 23.21-83.78 67.74-83.78 136.14 0 75.36-13.29 91.42-35.31 118-1.6 1.93-3.23 3.89-4.89 5.93a35.16 35.16 0 0 0-4.65 37.62c6.17 13 19.32 21.07 34.33 21.07H410.5c14.94 0 28-8.06 34.19-21a35.17 35.17 0 0 0-4.61-37.66zM256 480a80.06 80.06 0 0 0 70.44-42.13 4 4 0 0 0-3.54-5.87H189.12a4 4 0 0 0-3.55 5.87A80.06 80.06 0 0 0 256 480z"},child:[]}]})(e)}const WM=Object.create(null);WM.open="0",WM.close="1",WM.ping="2",WM.pong="3",WM.message="4",WM.upgrade="5",WM.noop="6";const XM=Object.create(null);Object.keys(WM).forEach((e=>{XM[WM[e]]=e}));const YM={type:"error",data:"parser error"},JM="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),KM="function"===typeof ArrayBuffer,qM=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,QM=(e,t,n)=>{let{type:r,data:i}=e;return JM&&i instanceof Blob?t?n(i):ZM(i,n):KM&&(i instanceof ArrayBuffer||qM(i))?t?n(i):ZM(new Blob([i]),n):n(WM[r]+(i||""))},ZM=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function $M(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let eC;const tC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nC="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<64;n++)nC[tC.charCodeAt(n)]=n;const rC="function"===typeof ArrayBuffer,iC=(e,t)=>{if("string"!==typeof e)return{type:"message",data:aC(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:sC(e.substring(1),t)};return XM[n]?e.length>1?{type:XM[n],data:e.substring(1)}:{type:XM[n]}:YM},sC=(e,t)=>{if(rC){const n=(e=>{let t,n,r,i,s,a=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);const c=new ArrayBuffer(a),u=new Uint8Array(c);for(t=0;t<o;t+=4)n=nC[e.charCodeAt(t)],r=nC[e.charCodeAt(t+1)],i=nC[e.charCodeAt(t+2)],s=nC[e.charCodeAt(t+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&s;return c})(e);return aC(n,t)}return{base64:!0,data:e}},aC=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,oC=String.fromCharCode(30);function lC(){return new TransformStream({transform(e,t){!function(e,t){JM&&e.data instanceof Blob?e.data.arrayBuffer().then($M).then(t):KM&&(e.data instanceof ArrayBuffer||qM(e.data))?t($M(e.data)):QM(e,!1,(e=>{eC||(eC=new TextEncoder),t(eC.encode(e))}))}(e,(n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const e=new DataView(i.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{i=new Uint8Array(9);const e=new DataView(i.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(i[0]|=128),t.enqueue(i),t.enqueue(n)}))}})}let cC;function uC(e){return e.reduce(((e,t)=>e+t.length),0)}function hC(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function dC(e){if(e)return function(e){for(var t in dC.prototype)e[t]=dC.prototype[t];return e}(e)}dC.prototype.on=dC.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},dC.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},dC.prototype.off=dC.prototype.removeListener=dC.prototype.removeAllListeners=dC.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},dC.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},dC.prototype.emitReserved=dC.prototype.emit,dC.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},dC.prototype.hasListeners=function(e){return!!this.listeners(e).length};const fC="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),pC="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function mC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const gC=pC.setTimeout,vC=pC.clearTimeout;function xC(e,t){t.useNativeTimers?(e.setTimeoutFn=gC.bind(pC),e.clearTimeoutFn=vC.bind(pC)):(e.setTimeoutFn=pC.setTimeout.bind(pC),e.clearTimeoutFn=pC.clearTimeout.bind(pC))}function bC(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class yC extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class wC extends dC{constructor(e){super(),this.writable=!1,xC(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new yC(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=iC(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class _C extends wC{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(oC),r=[];for(let i=0;i<n.length;i++){const e=iC(n[i],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach(((e,s)=>{QM(e,!1,(e=>{r[s]=e,++i===n&&t(r.join(oC))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=bC()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let AC=!1;try{AC="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(AK){}const SC=AC;function EC(){}class TC extends _C{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}class MC extends dC{constructor(e,t,n){super(),this.createRequest=e,xC(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=mC(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(TS){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(TS){}try{n.setRequestHeader("Accept","*/*")}catch(TS){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"===typeof n.status?n.status:0)}),0))},n.send(this._data)}catch(TS){return void this.setTimeoutFn((()=>{this._onError(TS)}),0)}"undefined"!==typeof document&&(this._index=MC.requestsCount++,MC.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=EC,e)try{this._xhr.abort()}catch(TS){}"undefined"!==typeof document&&delete MC.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(MC.requestsCount=0,MC.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",CC);else if("function"===typeof addEventListener){addEventListener("onpagehide"in pC?"pagehide":"unload",CC,!1)}function CC(){for(let e in MC.requests)MC.requests.hasOwnProperty(e)&&MC.requests[e].abort()}const RC=function(){const e=kC({xdomain:!1});return e&&null!==e.responseType}();function kC(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||SC))return new XMLHttpRequest}catch(TS){}if(!t)try{return new(pC[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(TS){}}const NC="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class PC extends wC{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=NC?{}:mC(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(AK){return this.emitReserved("error",AK)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;QM(n,this.supportsBinary,(e=>{try{this.doWrite(n,e)}catch(TS){}r&&fC((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=bC()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const IC=pC.WebSocket||pC.MozWebSocket;const LC={websocket:class extends PC{createSocket(e,t,n){return NC?new IC(e,t,n):t?new IC(e,t):new IC(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends wC{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(AK){return this.emitReserved("error",AK)}this._transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((e=>{const t=function(e,t){cC||(cC=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(a,o){for(n.push(a);;){if(0===r){if(uC(n)<1)break;const e=hC(n,1);s=128===(128&e[0]),i=127&e[0],r=i<126?3:126===i?1:2}else if(1===r){if(uC(n)<2)break;const e=hC(n,2);i=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(uC(n)<8)break;const e=hC(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),s=t.getUint32(0);if(s>Math.pow(2,21)-1){o.enqueue(YM);break}i=s*Math.pow(2,32)+t.getUint32(4),r=3}else{if(uC(n)<i)break;const e=hC(n,i);o.enqueue(iC(s?e:cC.decode(e),t)),r=0}if(0===i||i>e){o.enqueue(YM);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=lC();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const i=()=>{n.read().then((e=>{let{done:t,value:n}=e;t||(this.onPacket(n),i())})).catch((e=>{}))};i();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then((()=>this.onOpen()))}))}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then((()=>{r&&fC((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends TC{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=RC&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new MC(kC,this.uri(),e)}}},DC=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,BC=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function OC(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=DC.exec(e||""),s={},a=14;for(;a--;)s[BC[a]]=i[a]||"";return-1!=n&&-1!=r&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,s.path),s.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,s.query),s}const FC="function"===typeof addEventListener&&"function"===typeof removeEventListener,UC=[];FC&&addEventListener("offline",(()=>{UC.forEach((e=>e()))}),!1);class jC extends dC{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=OC(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=OC(t.host).host);xC(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach((e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),FC&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},UC.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const e=this.opts.rememberUpgrade&&jC.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(e=>this._onClose("transport close",e)))}onOpen(){this.readyState="open",jC.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(e+="string"===typeof(t=r)?function(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this._maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,fC((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}_onError(e){if(jC.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),FC&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=UC.indexOf(this._offlineEventListener);-1!==e&&UC.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}jC.protocol=4;class zC extends jC{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;jC.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;jC.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function i(){n||(n=!0,c(),t.close(),t=null)}const s=e=>{const n=new Error("probe error: "+e);n.transport=t.name,i(),this.emitReserved("upgradeError",n)};function a(){s("transport closed")}function o(){s("socket closed")}function l(e){t&&e.name!==t.name&&i()}const c=()=>{t.removeListener("open",r),t.removeListener("error",s),t.removeListener("close",a),this.off("close",o),this.off("upgrading",l)};t.once("open",r),t.once("error",s),t.once("close",a),this.once("close",o),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{n||t.open()}),200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class HC extends zC{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map((e=>LC[e])).filter((e=>!!e))),super(e,t)}}const GC="function"===typeof ArrayBuffer,VC=Object.prototype.toString,WC="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===VC.call(Blob),XC="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===VC.call(File);function YC(e){return GC&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||WC&&e instanceof Blob||XC&&e instanceof File}function JC(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(JC(e[t]))return!0;return!1}if(YC(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return JC(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&JC(e[n]))return!0;return!1}function KC(e){const t=[],n=e.data,r=e;return r.data=qC(n,t),r.attachments=t.length,{packet:r,buffers:t}}function qC(e,t){if(!e)return e;if(YC(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=qC(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=qC(e[r],t));return n}return e}function QC(e,t){return e.data=ZC(e.data,t),delete e.attachments,e}function ZC(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=ZC(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=ZC(e[n],t));return e}const $C=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],eR=5;var tR;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(tR||(tR={}));class nR{constructor(e){this.replacer=e}encode(e){return e.type!==tR.EVENT&&e.type!==tR.ACK||!JC(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===tR.EVENT?tR.BINARY_EVENT:tR.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==tR.BINARY_EVENT&&e.type!==tR.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=KC(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function rR(e){return"[object Object]"===Object.prototype.toString.call(e)}class iR extends dC{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===tR.BINARY_EVENT;n||t.type===tR.BINARY_ACK?(t.type=n?tR.EVENT:tR.ACK,this.reconstructor=new sR(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!YC(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===tR[n.type])throw new Error("unknown packet type "+n.type);if(n.type===tR.BINARY_EVENT||n.type===tR.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(r,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!iR.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(TS){return!1}}static isPayloadValid(e,t){switch(e){case tR.CONNECT:return rR(t);case tR.DISCONNECT:return void 0===t;case tR.CONNECT_ERROR:return"string"===typeof t||rR(t);case tR.EVENT:case tR.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===$C.indexOf(t[0]));case tR.ACK:case tR.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class sR{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=QC(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function aR(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const oR=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class lR extends dC{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[aR(e,"open",this.onopen.bind(this)),aR(e,"packet",this.onpacket.bind(this)),aR(e,"error",this.onerror.bind(this)),aR(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,r;if(oR.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];if(s.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const o={type:tR.EVENT,data:s,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"===typeof s[s.length-1]){const e=this.ids++,t=s.pop();this._registerAckCallback(e,t),o.id=e}const l=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,c=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const i=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===i)return void(this.acks[e]=t);const s=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),i),a=function(){r.io.clearTimeoutFn(s);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.apply(r,n)};a.withError=!0,this.acks[e]=a}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise(((t,r)=>{const i=(e,n)=>e?r(e):t(n);i.withError=!0,n.push(i),this.emit(e,...n)}))}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];n(null,...s)}return r.pending=!1,t._drainQueue()})),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:tR.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((e=>{if(!this.sendBuffer.some((t=>String(t.id)===e))){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}}))}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case tR.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case tR.EVENT:case tR.BINARY_EVENT:this.onevent(e);break;case tR.ACK:case tR.BINARY_ACK:this.onack(e);break;case tR.DISCONNECT:this.ondisconnect();break;case tR.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];t.packet({type:tR.ACK,id:e,data:i})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:tR.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function cR(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}cR.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},cR.prototype.reset=function(){this.attempts=0},cR.prototype.setMin=function(e){this.ms=e},cR.prototype.setMax=function(e){this.max=e},cR.prototype.setJitter=function(e){this.jitter=e};class uR extends dC{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,xC(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new cR({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||r;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new HC(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=aR(t,"open",(function(){n.onopen(),e&&e()})),i=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},s=aR(t,"error",i);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn((()=>{r(),i(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(r),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(aR(e,"ping",this.onping.bind(this)),aR(e,"data",this.ondata.bind(this)),aR(e,"error",this.onerror.bind(this)),aR(e,"close",this.onclose.bind(this)),aR(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(TS){this.onclose("parse error",TS)}}ondecoded(e){fC((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new lR(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const hR={};function dR(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=OC(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,i=n.id,s=n.path,a=hR[i]&&s in hR[i].nsps;let o;return t.forceNew||t["force new connection"]||!1===t.multiplex||a?o=new uR(r,t):(hR[i]||(hR[i]=new uR(r,t)),o=hR[i]),n.query&&!t.query&&(t.query=n.queryKey),o.socket(n.path,t)}Object.assign(dR,{Manager:uR,Socket:lR,io:dR,connect:dR});const fR=RM.create({baseURL:"http://34.100.168.176:4000/",withCredentials:!0});fR.interceptors.request.use((e=>{const t=localStorage.getItem("accessToken"),n=localStorage.getItem("id");return t&&(e.headers.Authorization=`Bearer ${t}`),n&&(e.headers["X-User-ID"]=n),e}),(e=>Promise.reject(e)));let pR=0;fR.interceptors.response.use((e=>e),(async e=>{var t;const n=e.config;if(401===(null===(t=e.response)||void 0===t?void 0:t.status)&&!n._retry&&pR<3){n._retry=!0,pR++;try{const t=localStorage.getItem("refreshToken");if(!t)return console.error("Refresh token is missing."),localStorage.clear(),window.location.href={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER_URL:"http://34.100.168.176:4000/",REACT_APP_SIGNUP_SECRET_KEY:"c3Jpbml2YXNhbi1kYXJrbmVidWxhLS0wMDAw",REACT_APP_URL:"http://localhost:3000",REACT_APP_WEBSOCKET_URL:"http://34.100.168.176:5001"}.REACT_APP_LOGIN_URL||"/",Promise.reject(e);const{data:r}=await RM.post("http://34.100.168.176:4000//auth/refresh-token",{refreshToken:t},{timeout:5e3});return localStorage.setItem("accessToken",r.newAccessToken),localStorage.setItem("refreshToken",r.newRefreshToken),n.headers.Authorization=`Bearer ${r.newAccessToken}`,pR=0,fR(n)}catch(r){return console.error("Refresh token failed:",r),localStorage.clear(),window.location.href={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER_URL:"http://34.100.168.176:4000/",REACT_APP_SIGNUP_SECRET_KEY:"c3Jpbml2YXNhbi1kYXJrbmVidWxhLS0wMDAw",REACT_APP_URL:"http://localhost:3000",REACT_APP_WEBSOCKET_URL:"http://34.100.168.176:5001"}.REACT_APP_LOGIN_URL||"/",Promise.reject(r)}}return Promise.reject(e)}));const mR=fR,gR=e=>{let{iddropdown:t,searchText:n,handleSearchChange:r,filteredData:i,handleSuggestionClick:a,showSuggestions:o,setShowSuggestions:l,refreshUniqueIds:c,className:u}=e;const h=(0,s.useRef)(null);return(0,s.useEffect)((()=>{const e=e=>{h.current&&!h.current.contains(e.target)&&l(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]),(0,$g.jsx)("div",{className:`font-poppins z-30 flex items-center justify-center rounded-xl border border-white font-medium text-white backdrop-blur-sm md:w-[30%] md:text-[14px] lg:w-[25%] lg:text-[16px] xl:w-[22%] xl:text-[18px] 2xl:w-[20%] 2xl:text-[22px] ${u}`,ref:h,children:(0,$g.jsxs)("div",{className:"relative flex items-center w-full",children:[(0,$g.jsx)("input",{id:"search",name:"search",type:"number",value:n,onChange:r,placeholder:"Search",className:"h-full w-full rounded-xl bg-transparent py-1.5 pl-5 pr-16 text-white placeholder:text-white/70 focus:outline-none md:pl-4 md:pr-12 placeholder:md:text-[10px] lg:pl-5 lg:pr-14 lg:placeholder:text-[12px] xl:pl-6 xl:pr-16 xl:placeholder:text-[14px]",onFocus:()=>{c(),l(!0)}}),o&&n&&(0,$g.jsx)("ul",{className:"absolute left-0 right-0 top-full max-h-[30vh] overflow-y-auto rounded-xl border border-gray-300 bg-white text-[14px] text-black shadow-lg lg:text-[16px] xl:text-[18px]",children:i.length>0?i.map(((e,t)=>(0,$g.jsx)("li",{className:"p-2 cursor-pointer hover:bg-gray-200",onClick:()=>{a(e),l(!1)},children:e},t))):(0,$g.jsx)("li",{className:"p-2 text-gray-500",children:"No results found"})})]})})},vR=e=>{const[t,n]=(0,s.useState)(null),r=ie(),i=ne(),[a,o]=(0,s.useState)([]),[l,c]=(0,s.useState)(!1),[u,h]=(0,s.useState)(!1),[d,f]=(0,s.useState)([]),[p,m]=(0,s.useState)(localStorage.getItem("id")||""),[g,v]=(0,s.useState)([]),[x,b]=(0,s.useState)(!1),y=(0,s.useRef)(null),w=(0,s.useRef)(null),_=e=>{r(e)},A=async()=>{try{const e=(await mR.get("http://34.100.168.176:4000/api/v2/getuniqueids")).data.ids;o(e),v(e),localStorage.setItem("cachedIds",JSON.stringify(e)),e.length>0&&!localStorage.getItem("id")&&(localStorage.setItem("id",e[0]),m(e[0]))}catch(t){console.error("Error fetching unique IDs:",t);const n=JSON.parse(localStorage.getItem("cachedIds")||"[]");o(n),v(n)}};(0,s.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("cachedIds")||"[]");e.length>0&&(o(e),v(e)),A()}),[]);const S=e=>{const t=e.target.value;if(m(t),localStorage.setItem("id",t),/^\d*$/.test(t)){const e=a.filter((e=>e.toString().includes(t)));v(e)}else v([])},E=e=>{m(e),localStorage.setItem("id",e),b(!1)},T=e=>{y.current&&!y.current.contains(e.target)&&w.current&&!w.current.contains(e.target)&&(c(!1),h(!1))};return(0,s.useEffect)((()=>(document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)})),[]),(0,s.useEffect)((()=>{const e=async()=>{try{const e=await mR.get("http://34.100.168.176:4000/api/v2/getNotifications");if("success"===e.data.status){const t=new Set(JSON.parse(localStorage.getItem("seenAlerts")||"[]"));let n=[];["critical","warnings","warning","info"].forEach((r=>{if(e.data.data.alerts[r]){console.log(`Processing ${r} alerts:`,e.data.data.alerts[r]);const i=e.data.data.alerts[r].map((e=>({id:`${e.id}-${new Date(e.timestamp).getTime()}`,model:e.model,sensor:e.sensor,value:e.value,severity:e.severity,message:`${e.sensor}: ${e.message} (${e.value})`,timestamp:e.timestamp,seen:t.has(`${e.id}-${new Date(e.timestamp).getTime()}`)})));console.log(`Processed ${r} alerts:`,i),n=[...n,...i]}}));const r=[...n,...d.filter((e=>!n.some((t=>t.id===e.id))))];console.log("Updated alerts:",r),f(r),localStorage.setItem("alerts",JSON.stringify(r))}}catch(t){console.error("Error fetching alerts:",t)}};e();const n=setInterval(e,3e3);return()=>clearInterval(n)}),[d]),(0,$g.jsxs)($g.Fragment,{children:[(0,$g.jsxs)("div",{className:"mx-2 mb-2 h-[70px] w-auto gap-3 pt-2 md:mb-2 md:flex md:h-[75px] md:w-[97%] md:justify-between md:pt-4 lg:h-[7.2%] xl:h-[9%] xl:w-[97.5%] custom-1.5xl:w-[97.5%] 2xl:h-[7.5%] 2xl:w-auto",children:[(0,$g.jsxs)("div",{className:"flex items-center w-full h-full text-lg font-semibold text-white bg-black bg-opacity-75 border border-white font-popins rounded-xl md:hidden",children:[(0,$g.jsx)("div",{className:"flex items-start w-3/4 p-4",children:(0,$g.jsx)("img",{src:Ay,alt:"Xyma Logo",className:"w-32 h-auto xl:w-26"})}),(0,$g.jsx)("div",{className:"flex-1 mx-2",children:(0,$g.jsx)(gR,{iddropdown:a,searchText:p,handleSearchChange:S,filteredData:g,handleSuggestionClick:E,showSuggestions:x,setShowSuggestions:b,refreshUniqueIds:A})}),(0,$g.jsx)("div",{className:"flex w-[16%] items-end p-4",children:(0,$g.jsx)(kM,{})})]}),(0,$g.jsx)("div",{className:"font-poppins hidden items-center justify-center rounded-xl border border-white bg-[rgba(14,14,14,0.75)] font-semibold leading-[33px] text-white backdrop-blur-sm md:flex md:w-[16%] md:text-[12px] xl:text-[16px] xl:font-medium 2xl:text-[22px]",children:(0,$g.jsx)("img",{src:_y,alt:"Vedanta Logo",className:"md:w-[120px] lg:w-[140px] 2xl:w-[180px]"})}),(0,$g.jsx)("button",{className:"font-poppins hidden items-center justify-center rounded-xl bg-[rgba(14,14,14,0.75)] font-semibold leading-[33px] text-white backdrop-blur-sm md:flex md:w-[14%] md:text-[12px] xl:text-[16px] xl:font-medium 2xl:text-[22px] "+("/Dashboard"===i.pathname?"border-4 border-white":"border border-white"),onClick:()=>_("/Dashboard"),children:"Home"}),(0,$g.jsx)("button",{className:"font-poppins hidden items-center justify-center rounded-xl bg-[rgba(14,14,14,0.75)] font-semibold leading-[33px] text-white backdrop-blur-sm md:flex md:w-[14%] md:text-[12px] xl:text-[16px] xl:font-medium 2xl:text-[22px] "+("/Report"===i.pathname?"border-4 border-white":"border border-white"),onClick:()=>_("/Report"),children:"Report"}),(0,$g.jsx)("button",{className:"font-poppins hidden items-center justify-center rounded-xl bg-[rgba(14,14,14,0.75)] font-semibold leading-[33px] text-white backdrop-blur-sm md:flex md:w-[14%] md:text-[12px] xl:text-[16px] xl:font-medium 2xl:text-[22px] "+("/Analytics"===i.pathname?"border-4 border-white":"border border-white"),onClick:()=>_("/Analytics"),children:"Analytics"}),(0,$g.jsx)("button",{className:"font-poppins hidden items-center justify-center rounded-xl bg-[rgba(14,14,14,0.75)] font-semibold leading-[33px] text-white backdrop-blur-sm md:flex md:w-[14%] md:text-[12px] xl:text-[16px] xl:font-medium 2xl:text-[22px] "+("/Heatmap"===i.pathname?"border-4 border-white":"border border-white"),onClick:()=>_("/Heatmap"),children:"Heatmap"}),(0,$g.jsx)(gR,{iddropdown:a,searchText:p,handleSearchChange:S,filteredData:g,handleSuggestionClick:E,showSuggestions:x,setShowSuggestions:b,refreshUniqueIds:A,className:"hidden md:block"}),(0,$g.jsx)("button",{className:"font-poppins hidden items-center justify-center rounded-xl bg-[rgba(14,14,14,0.75)] text-[22px] font-semibold leading-[33px] text-white backdrop-blur-sm md:flex md:w-[4%] "+("/Settings"===i.pathname?"border-4 border-white":"border border-white"),onClick:()=>_("/Settings"),children:(0,$g.jsx)(GM,{})}),(0,$g.jsxs)("button",{ref:y,className:"font-poppins relative hidden items-center justify-center rounded-xl border border-white bg-[rgba(14,14,14,0.75)] text-[22px] font-semibold leading-[33px] text-white backdrop-blur-sm md:flex md:w-[4%]",onClick:()=>c(!l),onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:[(0,$g.jsx)(VM,{}),(0,$g.jsx)("div",{class:"absolute -end-2 -top-2 inline-flex h-6 w-6 items-center justify-center rounded-full border-2 border-white bg-red-500 text-xs font-bold text-white dark:border-gray-900",children:d.length})]}),(0,$g.jsx)("button",{className:"font-poppins hidden items-center justify-center rounded-xl border border-white bg-[rgba(14,14,14,0.75)] text-[22px] font-semibold leading-[33px] text-white backdrop-blur-sm md:flex md:w-[4%]",onClick:()=>(async()=>{try{e.onLogout&&e.onLogout();const t=localStorage.getItem("refreshToken");200===(await RM.delete("http://34.100.168.176:4000/auth/logout",{data:{refreshToken:t},headers:{"Content-Type":"application/json"}})).status&&(localStorage.clear(),sessionStorage.clear(),window.location.replace("/"))}catch(t){console.error("Logout error:",t),localStorage.clear(),sessionStorage.clear(),document.cookie="refreshToken=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",window.location.replace("/")}})(),children:(0,$g.jsx)(HM,{})}),(0,$g.jsx)("div",{className:"font-poppins hidden items-center justify-center rounded-xl border border-white bg-[rgba(14,14,14,0.75)] text-[22px] font-semibold leading-[33px] text-white backdrop-blur-sm md:flex md:w-[10%] xl:w-[8%]",children:(0,$g.jsx)("img",{src:Ay,alt:"xyma logo",className:"xl-fit h-auto max-h-[30px] w-16 xl:max-w-[60px] 2xl:max-w-[70px]"})})]}),(l||u)&&(0,$g.jsxs)("div",{ref:w,className:"fixed right-2.5 top-20 z-10 flex h-5/6 w-1/4 flex-col rounded-2xl border-2 border-white bg-[rgba(16,16,16,1)] text-white shadow-lg duration-1000",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:[(0,$g.jsx)("div",{className:"relative flex items-center justify-center p-4 border-2 border-white rounded-tl-xl rounded-tr-xl",children:(0,$g.jsxs)("p",{className:"flex-1 text-2xl font-semibold text-center",children:[" ","Alerts"," "]})}),(0,$g.jsx)("div",{className:"overflow-x-auto scrollbar-custom",children:d.length>0?d.map((e=>(0,$g.jsxs)("div",{className:"relative w-full h-32 border",children:[(0,$g.jsxs)("div",{className:"absolute left-[36px] top-[30px] inline-flex h-10 w-96 items-start justify-start gap-6",children:[(0,$g.jsx)("div",{"data-svg-wrapper":!0,className:"relative",children:(0,$g.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,$g.jsx)("path",{d:"M16 22C19.3137 22 22 19.3137 22 16C22 12.6863 19.3137 10 16 10C12.6863 10 10 12.6863 10 16C10 19.3137 12.6863 22 16 22Z",fill:"#0077E4",stroke:"#0077E4",strokeWidth:"2"})})}),(0,$g.jsxs)("div",{className:"w-full font-['Poppins'] text-sm font-normal leading-loose text-white",children:[new Date(e.timestamp).toLocaleString()," reported a error: ",e.message," (ID: ",e.id.split("-")[0],")"]})]}),(0,$g.jsx)("div",{className:"absolute left-0 top-0 h-full w-full bg-[#b6b6b6]/20"})]},e.id))):(0,$g.jsx)("div",{className:"p-4 text-center text-gray-400",children:"No alerts to display"})})]})]})},xR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAUCAYAAADskT9PAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACcSURBVHgB7ZZdDYAwDISvKAAHSMIBOMAKEnAAEpCABByAg3EQHheWwtge2JfsJ+mWNrm2qYAYYxoeJcLTC51XvAyIw5IhMnJsMSVA4vfInZHJ2fIo8J5eRBbNh7MyjD9Wrtzm564P5AiAS4IGfvrDSAlmJBIWRPkeVznVsPeHick24UsYQOeoeVX5PpkHNoddFcBTCY4pqrSY1RLsX1SWwOgNkUcAAAAASUVORK5CYII=",bR=e=>{let{socketData:t}=e;const[n,r]=(0,s.useState)([]),i=(0,s.useRef)({}),[a,o]=(0,s.useState)("default");return(0,s.useEffect)((()=>{if(t){const e=e=>{const t=e.match(/CBT(\d+)(A\d)/i);return t?{main:parseInt(t[1]),sub:parseInt(t[2].replace("A",""))}:{main:0,sub:0}},n=Object.entries(t).sort(((t,n)=>{const r=e(t[0]),i=e(n[0]);return r.main-i.main||r.sub-i.sub})),s=n.map((e=>{let[t,n]=e;const r=i.current[t],s=void 0!==r?parseFloat(n)>parseFloat(r)?"up":"down":"up";return{key:t,value:`${n} \xb0C`,arrow:"up"===s?by:xy,trend:s}}));i.current=t;const o=s.sort(((t,n)=>{if("default"===a){const r=e(t.key),i=e(n.key);return r.main-i.main||r.sub-i.sub}if("max"===a||"min"===a){const e=parseFloat(t.value.replace(" \xb0C","")),r=parseFloat(n.value.replace(" \xb0C",""));return"max"===a?r-e:e-r}return"trend-up"===a?n.trend.localeCompare(t.trend):"trend-down"===a?t.trend.localeCompare(n.trend):0})),l=[];for(let t=0;t<o.length;t+=2)l.push({id:t/2,items:o.slice(t,t+2)});r(l)}}),[t,a]),(0,$g.jsxs)("div",{className:"h-[400px] xl:h-[300px] 2xl:h-[93.9%] md:w-[98%] xl:w-[28%] 2xl:w-[25%] rounded-2xl border-[1.5px] border-white bg-[rgba(16,16,16,0.9)] xl:m-2 2xl:m-3 text-white font-poppins",children:[(0,$g.jsxs)("div",{className:"flex justify-between",children:[(0,$g.jsx)("p",{className:"mt-6 ml-8 font-semibold xl:mt-3 xl:ml-4 xl:text-lg 2xl:mt-4 2xl:ml-6 2xl:text-xl",children:"A Side"}),(0,$g.jsxs)("div",{className:"relative flex items-center",children:[(0,$g.jsx)("label",{htmlFor:"currency",className:"sr-only",children:"Options"}),(0,$g.jsxs)("select",{id:"currency",name:"currency",value:a,onChange:e=>o(e.target.value),className:"h-full py-0 pl-2 mr-8 text-gray-500 bg-transparent border-0 rounded-md appearance-none pr-7 mt-7 xl:mr-6 xl:mt-5 focus:outline-none sm:text-sm",style:{width:"12px",height:"19px",backgroundImage:`url(${xR})`,backgroundRepeat:"no-repeat",backgroundSize:"25px",appearance:"none"},children:[(0,$g.jsx)("option",{value:"default",children:"Default"}),(0,$g.jsx)("option",{value:"max",children:"Max"}),(0,$g.jsx)("option",{value:"min",children:"Min"}),(0,$g.jsx)("option",{value:"trend-up",children:"Trend \u25b2"}),(0,$g.jsx)("option",{value:"trend-down",children:"Trend \u25bc"})]})]})]}),(0,$g.jsxs)("div",{className:"flex mt-5 text-lg font-normal justify-evenly xl:mt-3 2xl:mt-5 xl:text-sm 2xl:text-base font-poppins",children:[(0,$g.jsx)("p",{className:"pl-6 xl:pl-3 2xl:pl-4",children:"CBT Name"}),(0,$g.jsx)("p",{className:"mr-6 xl:mr-3 2xl:mr-4",children:"Value"}),(0,$g.jsx)("p",{})]}),(0,$g.jsx)("div",{className:"h-[1px] mx-8 xl:mx-4 2xl:mx-6 mt-3 bg-white"}),(0,$g.jsx)("div",{className:"max-h-[70%] xl:max-h-[65%] 2xl:max-h-[72%] overflow-y-auto scrollbar-custom",children:n.map((e=>(0,$g.jsx)(s.Fragment,{children:e.items.map((e=>{let{key:t,value:n,arrow:r}=e;return(0,$g.jsxs)(s.Fragment,{children:[(0,$g.jsxs)("div",{className:"flex mt-5 ml-10 text-base font-light justify-evenly xl:mt-3 2xl:mt-5 xl:ml-6 2xl:ml-10 xl:text-xs 2xl:text-base font-poppins",children:[(0,$g.jsx)("p",{children:t}),(0,$g.jsx)("p",{className:"ml-6 xl:ml-3 2xl:ml-6",children:n}),(0,$g.jsx)("p",{children:(0,$g.jsx)("img",{src:r,alt:"arrow",className:"xl:w-2 xl:h-2 2xl:w-4 2xl:h-4"})})]}),(0,$g.jsx)("div",{className:"h-[1px] mx-8 xl:mx-4 2xl:mx-8 mt-3 bg-white"})]},t)}))},e.id)))})]})},yR=e=>{let{socketData:t}=e;const[n,r]=(0,s.useState)([]),i=(0,s.useRef)({}),[a,o]=(0,s.useState)("default");return(0,s.useEffect)((()=>{if(t){const e=e=>{const t=e.match(/CBT(\d+)(B\d)/i);return t?{main:parseInt(t[1]),sub:parseInt(t[2].replace("B",""))}:{main:0,sub:0}},n=Object.entries(t).sort(((t,n)=>{const r=e(t[0]),i=e(n[0]);return r.main-i.main||r.sub-i.sub})),s=n.map((e=>{let[t,n]=e;const r=i.current[t],s=void 0!==r?parseFloat(n)>parseFloat(r)?"up":"down":"up";return{key:t,value:`${n} \xb0C`,arrow:"up"===s?by:xy,trend:s}}));i.current=t;const o=s.sort(((t,n)=>{if("default"===a){const r=e(t.key),i=e(n.key);return r.main-i.main||r.sub-i.sub}if("max"===a||"min"===a){const e=parseFloat(t.value.replace(" \xb0C","")),r=parseFloat(n.value.replace(" \xb0C",""));return"max"===a?r-e:e-r}return"trend-up"===a?n.trend.localeCompare(t.trend):"trend-down"===a?t.trend.localeCompare(n.trend):0})),l=[];for(let t=0;t<o.length;t+=2)l.push({id:t/2,items:o.slice(t,t+2)});r(l)}}),[t,a]),(0,$g.jsxs)("div",{className:"h-[400px] xl:h-[300px] 2xl:h-[93.9%] md:w-[98%] xl:w-[28%] 2xl:w-[25%] rounded-2xl border-[1.5px] border-white bg-[rgba(16,16,16,0.9)] xl:m-2 2xl:m-3 text-white font-poppins",children:[(0,$g.jsxs)("div",{className:"flex justify-between",children:[(0,$g.jsx)("p",{className:"mt-6 ml-8 font-semibold xl:mt-3 xl:ml-4 xl:text-lg 2xl:mt-4 2xl:ml-6 2xl:text-xl",children:"B Side"}),(0,$g.jsxs)("div",{className:"relative flex items-center",children:[(0,$g.jsx)("label",{htmlFor:"currency",className:"sr-only",children:"Options"}),(0,$g.jsxs)("select",{id:"currency",name:"currency",value:a,onChange:e=>o(e.target.value),className:"h-full py-0 pl-2 mr-8 text-gray-500 bg-transparent border-0 rounded-md appearance-none pr-7 mt-7 xl:mr-6 xl:mt-5 focus:outline-none sm:text-sm",style:{width:"12px",height:"19px",backgroundImage:`url(${xR})`,backgroundRepeat:"no-repeat",backgroundSize:"25px",appearance:"none"},children:[(0,$g.jsx)("option",{value:"default",children:"Default"}),(0,$g.jsx)("option",{value:"max",children:"Max"}),(0,$g.jsx)("option",{value:"min",children:"Min"}),(0,$g.jsx)("option",{value:"trend-up",children:"Trend \u25b2"}),(0,$g.jsx)("option",{value:"trend-down",children:"Trend \u25bc"})]})]})]}),(0,$g.jsxs)("div",{className:"flex mt-5 text-lg font-normal justify-evenly xl:mt-3 2xl:mt-5 xl:text-sm 2xl:text-base font-poppins",children:[(0,$g.jsx)("p",{className:"pl-6 xl:pl-3 2xl:pl-4",children:"CBT Name"}),(0,$g.jsx)("p",{className:"mr-6 xl:mr-3 2xl:mr-4",children:"Value"}),(0,$g.jsx)("p",{})]}),(0,$g.jsx)("div",{className:"h-[1px] mx-8 xl:mx-4 2xl:mx-6 mt-3 bg-white"}),(0,$g.jsx)("div",{className:"max-h-[70%] xl:max-h-[65%] 2xl:max-h-[72%] overflow-y-auto scrollbar-custom",children:n.map((e=>(0,$g.jsx)(s.Fragment,{children:e.items.map((e=>{let{key:t,value:n,arrow:r}=e;return(0,$g.jsxs)(s.Fragment,{children:[(0,$g.jsxs)("div",{className:"flex mt-5 ml-10 text-base font-light justify-evenly xl:mt-3 2xl:mt-5 xl:ml-6 2xl:ml-10 xl:text-xs 2xl:text-base font-poppins",children:[(0,$g.jsx)("p",{children:t}),(0,$g.jsx)("p",{className:"ml-6 xl:ml-3 2xl:ml-6",children:n}),(0,$g.jsx)("p",{children:(0,$g.jsx)("img",{src:r,alt:"arrow",className:"xl:w-2 xl:h-2 2xl:w-4 2xl:h-4"})})]}),(0,$g.jsx)("div",{className:"h-[1px] mx-8 xl:mx-4 2xl:mx-8 mt-3 bg-white"})]},t)}))},e.id)))})]})},wR=e=>{let{toggleChartType:t}=e;const[n,r]=(0,s.useState)(!1);return(0,$g.jsx)($g.Fragment,{children:(0,$g.jsxs)("label",{className:"relative inline-flex items-center justify-center p-1 bg-transparent border rounded-md cursor-pointer select-none themeSwitcherTwo shadow-card w-[96px] h-[35.91px]",children:[(0,$g.jsx)("input",{type:"checkbox",className:"sr-only",checked:n,onChange:()=>{r(!n),t()}}),(0,$g.jsx)("span",{className:"flex items-center space-x-[6px] rounded py-2 px-[13px] text-sm font-medium"+(n?"text-body-color":"text-primary bg-[rgba(0,119,228)]"),children:(0,$g.jsxs)("svg",{width:"16.551758",height:"17.051758",viewBox:"0 0 16.5518 17.0518",fill:"none",children:[(0,$g.jsx)("defs",{children:(0,$g.jsx)("clipPath",{id:"clip169_286",children:(0,$g.jsx)("rect",{id:"ooui:chart",rx:"3.500000",width:"15.551723",height:"16.051685",transform:"translate(0.500000 0.500000)",fill:"white","fill-opacity":"0"})})}),(0,$g.jsx)("rect",{id:"ooui:chart",rx:"3.500000",width:"15.551723",height:"16.051685",transform:"translate(0.500000 0.500000)",fill:"#FFFFFF","fill-opacity":"0"}),(0,$g.jsxs)("g",{"clip-path":"url(#clip169_286)",children:[(0,$g.jsx)("path",{id:"Vector",d:"M2.48 2.55L0.82 2.55L0.82 16.19L15.72 16.19L15.72 14.49L2.48 14.49L2.48 2.55Z",fill:"#FFFFFF","fill-opacity":"1.000000","fill-rule":"nonzero"}),(0,$g.jsx)("path",{id:"Vector",d:"M9.1 9.37L6.62 7.67L3.31 11.08L3.31 13.64L14.89 13.64L14.89 4.26L9.1 9.37Z",fill:"#FFFFFF","fill-opacity":"1.000000","fill-rule":"nonzero"})]})]})}),(0,$g.jsx)("span",{className:"flex items-center space-x-[6px] rounded py-2 px-[13px] text-sm font-medium "+(n?"text-primary bg-[rgba(0,119,228)]":"text-body-color"),children:(0,$g.jsxs)("svg",{width:"22.588135",height:"14.859863",viewBox:"0 0 22.5881 14.8599",fill:"none",children:[(0,$g.jsx)("defs",{children:(0,$g.jsx)("clipPath",{id:"clip169_277",children:(0,$g.jsx)("rect",{id:"icon-park-outline:chart-stock",rx:"3.500000",width:"21.588234",height:"13.859664",transform:"translate(0.500000 0.500000)",fill:"white","fill-opacity":"0"})})}),(0,$g.jsx)("rect",{id:"icon-park-outline:chart-stock",rx:"3.500000",width:"21.588234",height:"13.859664",transform:"translate(0.500000 0.500000)",fill:"#FFFFFF","fill-opacity":"0"}),(0,$g.jsxs)("g",{"clip-path":"url(#clip169_277)",children:[(0,$g.jsx)("path",{id:"Vector",d:"M6.58 4.95L6.58 9.9L2.82 9.9L2.82 4.95L6.58 4.95Z",stroke:"#FFFFFF","stroke-opacity":"1.000000","stroke-width":"2.000000","stroke-linejoin":"round"}),(0,$g.jsx)("path",{id:"Vector",d:"M4.7 1.85L4.7 4.95M4.7 9.9L4.7 13",stroke:"#FFFFFF","stroke-opacity":"1.000000","stroke-width":"2.000000","stroke-linejoin":"round","stroke-linecap":"round"}),(0,$g.jsx)("path",{id:"Vector",d:"M19.76 4.95L19.76 9.9L16 9.9L16 4.95L19.76 4.95Z",stroke:"#FFFFFF","stroke-opacity":"1.000000","stroke-width":"2.000000","stroke-linejoin":"round"}),(0,$g.jsx)("path",{id:"Vector",d:"M17.88 1.85L17.88 4.95M17.88 9.9L17.88 13",stroke:"#FFFFFF","stroke-opacity":"1.000000","stroke-width":"2.000000","stroke-linejoin":"round","stroke-linecap":"round"}),(0,$g.jsx)("path",{id:"Vector",d:"M13.17 4.33L13.17 9.28L9.41 9.28L9.41 4.33L13.17 4.33Z",stroke:"#FFFFFF","stroke-opacity":"1.000000","stroke-width":"2.000000","stroke-linejoin":"round"}),(0,$g.jsx)("path",{id:"Vector",d:"M11.29 1.23L11.29 4.33M11.29 9.28L11.29 12.38",stroke:"#FFFFFF","stroke-opacity":"1.000000","stroke-width":"2.000000","stroke-linejoin":"round","stroke-linecap":"round"})]})]})})]})})};function _R(e){return e+.5|0}const AR=(e,t,n)=>Math.max(Math.min(e,n),t);function SR(e){return AR(_R(2.55*e),0,255)}function ER(e){return AR(_R(255*e),0,255)}function TR(e){return AR(_R(e/2.55)/100,0,1)}function MR(e){return AR(_R(100*e),0,100)}const CR={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},RR=[..."0123456789ABCDEF"],kR=e=>RR[15&e],NR=e=>RR[(240&e)>>4]+RR[15&e],PR=e=>(240&e)>>4===(15&e);function IR(e){var t=(e=>PR(e.r)&&PR(e.g)&&PR(e.b)&&PR(e.a))(e)?kR:NR;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const LR=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function DR(e,t,n){const r=t*Math.min(n,1-n),i=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function BR(e,t,n){const r=function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function OR(e,t,n){const r=DR(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function FR(e){const t=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(t,n,r),s=Math.min(t,n,r),a=(i+s)/2;let o,l,c;return i!==s&&(c=i-s,l=a>.5?c/(2-i-s):c/(i+s),o=function(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}(t,n,r,c,i),o=60*o+.5),[0|o,l||0,a]}function UR(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(ER)}function jR(e,t,n){return UR(DR,e,t,n)}function zR(e){return(e%360+360)%360}function HR(e){const t=LR.exec(e);let n,r=255;if(!t)return;t[5]!==n&&(r=t[6]?SR(+t[5]):ER(+t[5]));const i=zR(+t[2]),s=+t[3]/100,a=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return UR(OR,e,t,n)}(i,s,a):"hsv"===t[1]?function(e,t,n){return UR(BR,e,t,n)}(i,s,a):jR(i,s,a),{r:n[0],g:n[1],b:n[2],a:r}}const GR={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},VR={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let WR;function XR(e){WR||(WR=function(){const e={},t=Object.keys(VR),n=Object.keys(GR);let r,i,s,a,o;for(r=0;r<t.length;r++){for(a=o=t[r],i=0;i<n.length;i++)s=n[i],o=o.replace(s,GR[s]);s=parseInt(VR[a],16),e[o]=[s>>16&255,s>>8&255,255&s]}return e}(),WR.transparent=[0,0,0,0]);const t=WR[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const YR=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const JR=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,KR=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function qR(e,t,n){if(e){let r=FR(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=jR(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function QR(e,t){return e?Object.assign(t||{},e):e}function ZR(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ER(e[3]))):(t=QR(e,{r:0,g:0,b:0,a:1})).a=ER(t.a),t}function $R(e){return"r"===e.charAt(0)?function(e){const t=YR.exec(e);let n,r,i,s=255;if(t){if(t[7]!==n){const e=+t[7];s=t[8]?SR(e):AR(255*e,0,255)}return n=+t[1],r=+t[3],i=+t[5],n=255&(t[2]?SR(n):AR(n,0,255)),r=255&(t[4]?SR(r):AR(r,0,255)),i=255&(t[6]?SR(i):AR(i,0,255)),{r:n,g:r,b:i,a:s}}}(e):HR(e)}class ek{constructor(e){if(e instanceof ek)return e;const t=typeof e;let n;"object"===t?n=ZR(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*CR[e[1]],g:255&17*CR[e[2]],b:255&17*CR[e[3]],a:5===n?17*CR[e[4]]:255}:7!==n&&9!==n||(t={r:CR[e[1]]<<4|CR[e[2]],g:CR[e[3]]<<4|CR[e[4]],b:CR[e[5]]<<4|CR[e[6]],a:9===n?CR[e[7]]<<4|CR[e[8]]:255})),t}(e)||XR(e)||$R(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=QR(this._rgb);return e&&(e.a=TR(e.a)),e}set rgb(e){this._rgb=ZR(e)}rgbString(){return this._valid?function(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${TR(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}(this._rgb):void 0}hexString(){return this._valid?IR(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=FR(e),n=t[0],r=MR(t[1]),i=MR(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${TR(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let i;const s=t===i?.5:t,a=2*s-1,o=n.a-r.a,l=((a*o===-1?a:(a+o)/(1+a*o))+1)/2;i=1-l,n.r=255&l*n.r+i*r.r+.5,n.g=255&l*n.g+i*r.g+.5,n.b=255&l*n.b+i*r.b+.5,n.a=s*n.a+(1-s)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const r=KR(TR(e.r)),i=KR(TR(e.g)),s=KR(TR(e.b));return{r:ER(JR(r+n*(KR(TR(t.r))-r))),g:ER(JR(i+n*(KR(TR(t.g))-i))),b:ER(JR(s+n*(KR(TR(t.b))-s))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new ek(this.rgb)}alpha(e){return this._rgb.a=ER(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=_R(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return qR(this._rgb,2,e),this}darken(e){return qR(this._rgb,2,-e),this}saturate(e){return qR(this._rgb,1,e),this}desaturate(e){return qR(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=FR(e);n[0]=zR(n[0]+t),n=jR(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function tk(){}const nk=(()=>{let e=0;return()=>e++})();function rk(e){return null===e||void 0===e}function ik(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function sk(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function ak(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function ok(e,t){return ak(e)?e:t}function lk(e,t){return"undefined"===typeof e?t:e}const ck=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function uk(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function hk(e,t,n,r){let i,s,a;if(ik(e))if(s=e.length,r)for(i=s-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<s;i++)t.call(n,e[i],i);else if(sk(e))for(a=Object.keys(e),s=a.length,i=0;i<s;i++)t.call(n,e[a[i]],a[i])}function dk(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function fk(e){if(ik(e))return e.map(fk);if(sk(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=fk(e[n[i]]);return t}return e}function pk(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function mk(e,t,n,r){if(!pk(e))return;const i=t[e],s=n[e];sk(i)&&sk(s)?gk(i,s,r):t[e]=fk(s)}function gk(e,t,n){const r=ik(t)?t:[t],i=r.length;if(!sk(e))return e;const s=(n=n||{}).merger||mk;let a;for(let o=0;o<i;++o){if(a=r[o],!sk(a))continue;const t=Object.keys(a);for(let r=0,i=t.length;r<i;++r)s(t[r],e,a,n)}return e}function vk(e,t){return gk(e,t,{merger:xk})}function xk(e,t,n){if(!pk(e))return;const r=t[e],i=n[e];sk(r)&&sk(i)?vk(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=fk(i))}const bk={"":e=>e,x:e=>e.x,y:e=>e.y};function yk(e,t){const n=bk[t]||(bk[t]=function(e){const t=function(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function wk(e){return e.charAt(0).toUpperCase()+e.slice(1)}const _k=e=>"undefined"!==typeof e,Ak=e=>"function"===typeof e,Sk=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const Ek=Math.PI,Tk=2*Ek,Mk=Tk+Ek,Ck=Number.POSITIVE_INFINITY,Rk=Ek/180,kk=Ek/2,Nk=Ek/4,Pk=2*Ek/3,Ik=Math.log10,Lk=Math.sign;function Dk(e,t,n){return Math.abs(e-t)<n}function Bk(e){const t=Math.round(e);e=Dk(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Ik(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Ok(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Fk(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Uk(e){return e*(Ek/180)}function jk(e){return e*(180/Ek)}function zk(e){if(!ak(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Hk(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Ek&&(s+=Tk),{angle:s,distance:i}}function Gk(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Vk(e,t){return(e-t+Mk)%Tk-Ek}function Wk(e){return(e%Tk+Tk)%Tk}function Xk(e,t,n,r){const i=Wk(e),s=Wk(t),a=Wk(n),o=Wk(s-i),l=Wk(a-i),c=Wk(i-s),u=Wk(i-a);return i===s||i===a||r&&s===a||o>l&&c<u}function Yk(e,t,n){return Math.max(t,Math.min(n,e))}function Jk(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Kk(e,t,n){n=n||(n=>e[n]<t);let r,i=e.length-1,s=0;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const qk=(e,t,n,r)=>Kk(e,n,r?r=>{const i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:r=>e[r][t]<n),Qk=(e,t,n)=>Kk(e,n,(r=>e[r][t]>=n));const Zk=["push","pop","shift","splice","unshift"];function $k(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),r.length>0||(Zk.forEach((t=>{delete e[t]})),delete e._chartjs)}function eN(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const tN="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function nN(e,t){let n=[],r=!1;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];n=s,r||(r=!0,tN.call(window,(()=>{r=!1,e.apply(t,n)})))}}const rN=e=>"start"===e?"left":"end"===e?"right":"center",iN=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function sN(e,t,n){const r=t.length;let i=0,s=r;if(e._sorted){const{iScale:a,_parsed:o}=e,l=a.axis,{min:c,max:u,minDefined:h,maxDefined:d}=a.getUserBounds();h&&(i=Yk(Math.min(qk(o,l,c).lo,n?r:qk(t,l,a.getPixelForValue(c)).lo),0,r-1)),s=d?Yk(Math.max(qk(o,a.axis,u,!0).hi+1,n?0:qk(t,l,a.getPixelForValue(u),!0).hi+1),i,r)-i:r-i}return{start:i,count:s}}function aN(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const oN=e=>0===e||1===e,lN=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*Tk/n),cN=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Tk/n)+1,uN={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*kk),easeOutSine:e=>Math.sin(e*kk),easeInOutSine:e=>-.5*(Math.cos(Ek*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>oN(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>oN(e)?e:lN(e,.075,.3),easeOutElastic:e=>oN(e)?e:cN(e,.075,.3),easeInOutElastic(e){const t=.1125;return oN(e)?e:e<.5?.5*lN(2*e,t,.45):.5+.5*cN(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-uN.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*uN.easeInBounce(2*e):.5*uN.easeOutBounce(2*e-1)+.5};function hN(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function dN(e){return hN(e)?e:new ek(e)}function fN(e){return hN(e)?e:new ek(e).saturate(.5).darken(.1).hexString()}const pN=["x","y","borderWidth","radius","tension"],mN=["color","borderColor","backgroundColor"];const gN=new Map;function vN(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let r=gN.get(n);return r||(r=new Intl.NumberFormat(e,t),gN.set(n,r)),r}(t,n).format(e)}const xN={values:e=>ik(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(i="scientific"),s=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const a=Ik(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),vN(e,r,l)},logarithmic(e,t,n){if(0===e)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(Ik(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?xN.numeric.call(this,e,t,n):""}};var bN={formatters:xN};const yN=Object.create(null),wN=Object.create(null);function _N(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const t=n[r];e=e[t]||(e[t]=Object.create(null))}return e}function AN(e,t,n){return"string"===typeof t?gk(_N(e,t),n):gk(_N(e,""),t)}class SN{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>fN(t.backgroundColor),this.hoverBorderColor=(e,t)=>fN(t.borderColor),this.hoverColor=(e,t)=>fN(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return AN(this,e,t)}get(e){return _N(this,e)}describe(e,t){return AN(wN,e,t)}override(e,t){return AN(yN,e,t)}route(e,t,n,r){const i=_N(this,e),s=_N(this,n),a="_"+t;Object.defineProperties(i,{[a]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[a],t=s[r];return sk(e)?Object.assign({},t,e):lk(e,t)},set(e){this[a]=e}}})}apply(e){e.forEach((e=>e(this)))}}var EN=new SN({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:mN},numbers:{type:"number",properties:pN}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:bN.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function TN(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function MN(e,t,n,r){let i=(r=r||{}).data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},s=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let a=0;const o=n.length;let l,c,u,h,d;for(l=0;l<o;l++)if(h=n[l],void 0===h||null===h||ik(h)){if(ik(h))for(c=0,u=h.length;c<u;c++)d=h[c],void 0===d||null===d||ik(d)||(a=TN(e,i,s,a,d))}else a=TN(e,i,s,a,h);e.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete i[s[l]];s.splice(0,f)}return a}function CN(e,t,n){const r=e.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function RN(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function kN(e,t,n,r){NN(e,t,n,r,null)}function NN(e,t,n,r,i){let s,a,o,l,c,u,h,d;const f=t.pointStyle,p=t.rotation,m=t.radius;let g=(p||0)*Rk;if(f&&"object"===typeof f&&(s=f.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return e.save(),e.translate(n,r),e.rotate(g),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(m)||m<=0)){switch(e.beginPath(),f){default:i?e.ellipse(n,r,i/2,m,0,0,Tk):e.arc(n,r,m,0,Tk),e.closePath();break;case"triangle":u=i?i/2:m,e.moveTo(n+Math.sin(g)*u,r-Math.cos(g)*m),g+=Pk,e.lineTo(n+Math.sin(g)*u,r-Math.cos(g)*m),g+=Pk,e.lineTo(n+Math.sin(g)*u,r-Math.cos(g)*m),e.closePath();break;case"rectRounded":c=.516*m,l=m-c,a=Math.cos(g+Nk)*l,h=Math.cos(g+Nk)*(i?i/2-c:l),o=Math.sin(g+Nk)*l,d=Math.sin(g+Nk)*(i?i/2-c:l),e.arc(n-h,r-o,c,g-Ek,g-kk),e.arc(n+d,r-a,c,g-kk,g),e.arc(n+h,r+o,c,g,g+kk),e.arc(n-d,r+a,c,g+kk,g+Ek),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*m,u=i?i/2:l,e.rect(n-u,r-l,2*u,2*l);break}g+=Nk;case"rectRot":h=Math.cos(g)*(i?i/2:m),a=Math.cos(g)*m,o=Math.sin(g)*m,d=Math.sin(g)*(i?i/2:m),e.moveTo(n-h,r-o),e.lineTo(n+d,r-a),e.lineTo(n+h,r+o),e.lineTo(n-d,r+a),e.closePath();break;case"crossRot":g+=Nk;case"cross":h=Math.cos(g)*(i?i/2:m),a=Math.cos(g)*m,o=Math.sin(g)*m,d=Math.sin(g)*(i?i/2:m),e.moveTo(n-h,r-o),e.lineTo(n+h,r+o),e.moveTo(n+d,r-a),e.lineTo(n-d,r+a);break;case"star":h=Math.cos(g)*(i?i/2:m),a=Math.cos(g)*m,o=Math.sin(g)*m,d=Math.sin(g)*(i?i/2:m),e.moveTo(n-h,r-o),e.lineTo(n+h,r+o),e.moveTo(n+d,r-a),e.lineTo(n-d,r+a),g+=Nk,h=Math.cos(g)*(i?i/2:m),a=Math.cos(g)*m,o=Math.sin(g)*m,d=Math.sin(g)*(i?i/2:m),e.moveTo(n-h,r-o),e.lineTo(n+h,r+o),e.moveTo(n+d,r-a),e.lineTo(n-d,r+a);break;case"line":a=i?i/2:Math.cos(g)*m,o=Math.sin(g)*m,e.moveTo(n-a,r-o),e.lineTo(n+a,r+o);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(g)*(i?i/2:m),r+Math.sin(g)*m);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function PN(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function IN(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function LN(e){e.restore()}function DN(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if("middle"===i){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else"after"===i!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function BN(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function ON(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),a=t-s.actualBoundingBoxLeft,o=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(a,u),e.lineTo(o,u),e.stroke()}}function FN(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function UN(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=ik(t)?t:[t],o=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(e.save(),e.font=i.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),rk(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,s),l=0;l<a.length;++l)c=a[l],s.backdrop&&FN(e,s.backdrop),o&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),rk(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,r,s.maxWidth)),e.fillText(c,n,r,s.maxWidth),ON(e,n,r,c,s),r+=Number(i.lineHeight);e.restore()}function jN(e,t){const{x:n,y:r,w:i,h:s,radius:a}=t;e.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*Ek,Ek,!0),e.lineTo(n,r+s-a.bottomLeft),e.arc(n+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,Ek,kk,!0),e.lineTo(n+i-a.bottomRight,r+s),e.arc(n+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,kk,0,!0),e.lineTo(n+i,r+a.topRight),e.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-kk,!0),e.lineTo(n+a.topLeft,r)}const zN=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,HN=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function GN(e,t){const n=(""+e).match(zN);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const VN=e=>+e||0;function WN(e,t){const n={},r=sk(t),i=r?Object.keys(t):t,s=sk(e)?r?n=>lk(e[n],e[t[n]]):t=>e[t]:()=>e;for(const a of i)n[a]=VN(s(a));return n}function XN(e){return WN(e,{top:"y",right:"x",bottom:"y",left:"x"})}function YN(e){return WN(e,["topLeft","topRight","bottomLeft","bottomRight"])}function JN(e){const t=XN(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function KN(e,t){e=e||{},t=t||EN.font;let n=lk(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let r=lk(e.style,t.style);r&&!(""+r).match(HN)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:lk(e.family,t.family),lineHeight:GN(lk(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:lk(e.weight,t.weight),string:""};return i.string=function(e){return!e||rk(e.size)||rk(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i}function qN(e,t,n,r){let i,s,a,o=!0;for(i=0,s=e.length;i<s;++i)if(a=e[i],void 0!==a&&(void 0!==t&&"function"===typeof a&&(a=a(t),o=!1),void 0!==n&&ik(a)&&(a=a[n%a.length],o=!1),void 0!==a))return r&&!o&&(r.cacheable=!1),a}function QN(e,t){return Object.assign(Object.create(e),t)}function ZN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const i=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=cP("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:n,_getTarget:r,override:r=>ZN([r,...e],t,i,n)};return new Proxy(s,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,r)=>rP(n,r,(()=>function(e,t,n,r){let i;for(const s of t)if(i=cP(tP(s,e),n),"undefined"!==typeof i)return nP(e,i)?oP(n,r,e,i):i}(r,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>uP(e).includes(t),ownKeys:e=>uP(e),set(e,t,n){const i=e._storage||(e._storage=r());return e[t]=i[t]=n,delete e._keys,!0}})}function $N(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:eP(e,r),setContext:t=>$N(e,t,n,r),override:i=>$N(e.override(i),t,n,r)};return new Proxy(i,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>rP(e,t,(()=>function(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=e;let o=r[t];Ak(o)&&a.isScriptable(t)&&(o=function(e,t,n,r){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(s,a||r);o.delete(e),nP(e,l)&&(l=oP(i._scopes,i,e,l));return l}(t,o,e,n));ik(o)&&o.length&&(o=function(e,t,n,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=n;if("undefined"!==typeof s.index&&r(e))return t[s.index%t.length];if(sk(t[0])){const n=t,r=i._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=oP(r,i,e,l);t.push($N(n,s,a&&a[e],o))}}return t}(t,o,e,a.isIndexable));nP(t,o)&&(o=$N(o,i,s&&s[t],a));return o}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,r)=>(e[n]=r,delete t[n],!0)})}function eP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Ak(n)?n:()=>n,isIndexable:Ak(r)?r:()=>r}}const tP=(e,t)=>e?e+wk(t):t,nP=(e,t)=>sk(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function rP(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const r=n();return e[t]=r,r}function iP(e,t,n){return Ak(e)?e(t,n):e}const sP=(e,t)=>!0===e?t:"string"===typeof e?yk(t,e):void 0;function aP(e,t,n,r,i){for(const s of t){const t=sP(n,s);if(t){e.add(t);const s=iP(t._fallback,n,i);if("undefined"!==typeof s&&s!==n&&s!==r)return s}else if(!1===t&&"undefined"!==typeof r&&n!==r)return null}return!1}function oP(e,t,n,r){const i=t._rootScopes,s=iP(t._fallback,n,r),a=[...e,...i],o=new Set;o.add(r);let l=lP(o,a,n,s||n,r);return null!==l&&(("undefined"===typeof s||s===n||(l=lP(o,a,s,l,r),null!==l))&&ZN(Array.from(o),[""],i,s,(()=>function(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];if(ik(i)&&sk(n))return n;return i||{}}(t,n,r))))}function lP(e,t,n,r,i){for(;n;)n=aP(e,t,n,r,i);return n}function cP(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function uP(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function hP(e,t,n,r){const{iScale:i}=e,{key:s="r"}=this._parsing,a=new Array(r);let o,l,c,u;for(o=0,l=r;o<l;++o)c=o+n,u=t[c],a[o]={r:i.parse(yk(u,s),c)};return a}const dP=Number.EPSILON||1e-14,fP=(e,t)=>t<e.length&&!e[t].skip&&e[t],pP=e=>"x"===e?"y":"x";function mP(e,t,n,r){const i=e.skip?t:e,s=t,a=n.skip?t:n,o=Gk(s,i),l=Gk(a,s);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=r*c,d=r*u;return{previous:{x:s.x-h*(a.x-i.x),y:s.y-h*(a.y-i.y)},next:{x:s.x+d*(a.x-i.x),y:s.y+d*(a.y-i.y)}}}function gP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=pP(t),r=e.length,i=Array(r).fill(0),s=Array(r);let a,o,l,c=fP(e,0);for(a=0;a<r;++a)if(o=l,l=c,c=fP(e,a+1),l){if(c){const e=c[t]-l[t];i[a]=0!==e?(c[n]-l[n])/e:0}s[a]=o?c?Lk(i[a-1])!==Lk(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}!function(e,t,n){const r=e.length;let i,s,a,o,l,c=fP(e,0);for(let u=0;u<r-1;++u)l=c,c=fP(e,u+1),l&&c&&(Dk(t[u],0,dP)?n[u]=n[u+1]=0:(i=n[u]/t[u],s=n[u+1]/t[u],o=Math.pow(i,2)+Math.pow(s,2),o<=9||(a=3/Math.sqrt(o),n[u]=i*a*t[u],n[u+1]=s*a*t[u])))}(e,i,s),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=pP(n),i=e.length;let s,a,o,l=fP(e,0);for(let c=0;c<i;++c){if(a=o,o=l,l=fP(e,c+1),!o)continue;const i=o[n],u=o[r];a&&(s=(i-a[n])/3,o[`cp1${n}`]=i-s,o[`cp1${r}`]=u-s*t[c]),l&&(s=(l[n]-i)/3,o[`cp2${n}`]=i+s,o[`cp2${r}`]=u+s*t[c])}}(e,s,t)}function vP(e,t,n){return Math.max(Math.min(e,n),t)}function xP(e,t,n,r,i){let s,a,o,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)gP(e,i);else{let n=r?e[e.length-1]:e[0];for(s=0,a=e.length;s<a;++s)o=e[s],l=mP(n,o,e[Math.min(s+1,a-(r?0:1))%a],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,n=o}t.capBezierPoints&&function(e,t){let n,r,i,s,a,o=PN(e[0],t);for(n=0,r=e.length;n<r;++n)a=s,s=o,o=n<r-1&&PN(e[n+1],t),s&&(i=e[n],a&&(i.cp1x=vP(i.cp1x,t.left,t.right),i.cp1y=vP(i.cp1y,t.top,t.bottom)),o&&(i.cp2x=vP(i.cp2x,t.left,t.right),i.cp2y=vP(i.cp2y,t.top,t.bottom)))}(e,n)}function bP(){return"undefined"!==typeof window&&"undefined"!==typeof document}function yP(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function wP(e,t,n){let r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const _P=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const AP=["top","right","bottom","left"];function SP(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=AP[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function EP(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=_P(n),s="border-box"===i.boxSizing,a=SP(i,"padding"),o=SP(i,"border","width"),{x:l,y:c,box:u}=function(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let a,o,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(i,s,e.target))a=i,o=s;else{const e=t.getBoundingClientRect();a=r.clientX-e.left,o=r.clientY-e.top,l=!0}return{x:a,y:o,box:l}}(e,n),h=a.left+(u&&o.left),d=a.top+(u&&o.top);let{width:f,height:p}=t;return s&&(f-=a.width+o.width,p-=a.height+o.height),{x:Math.round((l-h)/f*n.width/r),y:Math.round((c-d)/p*n.height/r)}}const TP=e=>Math.round(10*e)/10;function MP(e,t,n,r){const i=_P(e),s=SP(i,"margin"),a=wP(i.maxWidth,e,"clientWidth")||Ck,o=wP(i.maxHeight,e,"clientHeight")||Ck,l=function(e,t,n){let r,i;if(void 0===t||void 0===n){const s=e&&yP(e);if(s){const e=s.getBoundingClientRect(),a=_P(s),o=SP(a,"border","width"),l=SP(a,"padding");t=e.width-l.width-o.width,n=e.height-l.height-o.height,r=wP(a.maxWidth,s,"clientWidth"),i=wP(a.maxHeight,s,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||Ck,maxHeight:i||Ck}}(e,t,n);let{width:c,height:u}=l;if("content-box"===i.boxSizing){const e=SP(i,"border","width"),t=SP(i,"padding");c-=t.width+e.width,u-=t.height+e.height}c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=TP(Math.min(c,a,l.maxWidth)),u=TP(Math.min(u,o,l.maxHeight)),c&&!u&&(u=TP(c/2));return(void 0!==t||void 0!==n)&&r&&l.height&&u>l.height&&(u=l.height,c=TP(Math.floor(u*r))),{width:c,height:u}}function CP(e,t,n){const r=t||1,i=Math.floor(e.height*r),s=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==r||a.height!==i||a.width!==s)&&(e.currentDevicePixelRatio=r,a.height=i,a.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0)}const RP=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};bP()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(TS){}return e}();function kP(e,t){const n=function(e,t){return _P(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function NP(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function PP(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function IP(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},a=NP(e,i,n),o=NP(i,s,n),l=NP(s,t,n),c=NP(a,o,n),u=NP(o,l,n);return NP(c,u,n)}function LP(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function DP(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function BP(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function OP(e){return"angle"===e?{between:Xk,compare:Vk,normalize:Wk}:{between:Jk,compare:(e,t)=>e-t,normalize:e=>e}}function FP(e){let{start:t,end:n,count:r,loop:i,style:s}=e;return{start:t%r,end:n%r,loop:i&&(n-t+1)%r===0,style:s}}function UP(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,a=t.length,{compare:o,between:l,normalize:c}=OP(r),{start:u,end:h,loop:d,style:f}=function(e,t,n){const{property:r,start:i,end:s}=n,{between:a,normalize:o}=OP(r),l=t.length;let c,u,{start:h,end:d,loop:f}=e;if(f){for(h+=l,d+=l,c=0,u=l;c<u&&a(o(t[h%l][r]),i,s);++c)h--,d--;h%=l,d%=l}return d<h&&(d+=l),{start:h,end:d,loop:f,style:e.style}}(e,t,n),p=[];let m,g,v,x=!1,b=null;const y=()=>x||l(i,v,m)&&0!==o(i,v),w=()=>!x||0===o(s,m)||l(s,v,m);for(let _=u,A=u;_<=h;++_)g=t[_%a],g.skip||(m=c(g[r]),m!==v&&(x=l(m,i,s),null===b&&y()&&(b=0===o(m,i)?_:A),null!==b&&w()&&(p.push(FP({start:b,end:_,loop:d,count:a,style:f})),b=null),A=_,v=m));return null!==b&&p.push(FP({start:b,end:h,loop:d,count:a,style:f})),p}function jP(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=UP(r[i],e.points,t);s.length&&n.push(...s)}return n}function zP(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){const i=e._chart.getContext(),s=HP(e.options),{_datasetIndex:a,options:{spanGaps:o}}=e,l=n.length,c=[];let u=s,h=t[0].start,d=h;function f(e,t,r,i){const s=o?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=s;for(;n[t%l].skip;)t+=s;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:r,style:i}),u=i,h=t%l)}}for(const p of t){h=o?h:p.start;let e,t=n[h%l];for(d=h+1;d<=p.end;d++){const s=n[d%l];e=HP(r.setContext(QN(i,{type:"segment",p0:t,p1:s,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:a}))),GP(e,u)&&f(h,d-1,p.loop,u),t=s,u=e}h<d-1&&f(h,d-1,p.loop,u)}return c}(e,t,n,r):t}function HP(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function GP(e,t){if(!t)return!1;const n=[],r=function(e,t){return hN(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}class VP{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const i=t.listeners[r],s=t.duration;i.forEach((r=>r({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(n-t.start,s)})))}_refresh(){this._request||(this._running=!0,this._request=tN.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let s,a=i.length-1,o=!1;for(;a>=0;--a)s=i[a],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(e),o=!0):(i[a]=i[i.length-1],i.pop());o&&(r.draw(),this._notify(r,n,e,"progress")),i.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=i.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var WP=new VP;const XP="transparent",YP={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const r=dN(e||XP),i=r.valid&&dN(t||XP);return i&&i.valid?i.mix(r,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class JP{constructor(e,t,n,r){const i=t[n];r=qN([e.to,r,i,e.from]);const s=qN([e.from,i,r]);this._active=!0,this._fn=e.fn||YP[e.type||typeof s],this._easing=uN[e.easing]||uN.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,s=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=qN([e.to,t,r,e.from]),this._from=qN([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,i=this._from,s=this._loop,a=this._to;let o;if(this._active=i!==a&&(s||t<n),!this._active)return this._target[r]=a,void this._notify(!0);t<0?this._target[r]=i:(o=t/n%2,o=s&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[r]=this._fn(i,a,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class KP{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!sk(e))return;const t=Object.keys(EN.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((r=>{const i=e[r];if(!sk(i))return;const s={};for(const e of t)s[e]=i[e];(ik(i.properties)&&i.properties||[r]).forEach((e=>{e!==r&&n.has(e)||n.set(e,s)}))}))}_animateOptions(e,t){const n=t.options,r=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const t=e[r[i]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),i}_createAnimations(e,t){const n=this._properties,r=[],i=e.$animations||(e.$animations={}),s=Object.keys(t),a=Date.now();let o;for(o=s.length-1;o>=0;--o){const l=s[o];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(e,t));continue}const c=t[l];let u=i[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,a);continue}u.cancel()}h&&h.duration?(i[l]=u=new JP(h,e,l,c),r.push(u)):e[l]=c}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(WP.add(this._chart,n),!0):void 0}}function qP(e,t){const n=e&&e.options||{},r=n.reverse,i=void 0===n.min?t:0,s=void 0===n.max?t:0;return{start:r?s:i,end:r?i:s}}function QP(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function ZP(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=e.keys,s="single"===r.mode;let a,o,l,c;if(null===t)return;let u=!1;for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===n){if(u=!0,r.all)continue;break}c=e.values[l],ak(c)&&(s||0===t||Lk(t)===Lk(c))&&(t+=c)}return u||r.all?t:0}function $P(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function eI(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function tI(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const t=e[i.index];if(n&&t>0||!n&&t<0)return i.index}return null}function nI(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:o}=r,l=s.axis,c=a.axis,u=function(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}(s,a,r),h=t.length;let d;for(let f=0;f<h;++f){const e=t[f],{[l]:n,[c]:s}=e;d=(e._stacks||(e._stacks={}))[c]=eI(i,u,n),d[o]=s,d._top=tI(d,a,!0,r.type),d._bottom=tI(d,a,!1,r.type);(d._visualValues||(d._visualValues={}))[o]=s}}function rI(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function iI(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}const sI=e=>"reset"===e||"none"===e,aI=(e,t)=>t?e:Object.assign({},e);class oI{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=$P(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&iI(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,i=t.xAxisID=lk(n.xAxisID,rI(e,"x")),s=t.yAxisID=lk(n.yAxisID,rI(e,"y")),a=t.rAxisID=lk(n.rAxisID,rI(e,"r")),o=t.indexAxis,l=t.iAxisID=r(o,i,s,a),c=t.vAxisID=r(o,s,i,a);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&$k(this._data,this),e._stacked&&iI(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(sk(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:r}=t,i="x"===n.axis?"x":"y",s="x"===r.axis?"x":"y",a=Object.keys(e),o=new Array(a.length);let l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],o[l]={[i]:u,[s]:e[u]};return o}(t,e)}else if(n!==t){if(n){$k(n,this);const e=this._cachedMeta;iI(e),e._parsed=[]}t&&Object.isExtensible(t)&&(i=this,(r=t)._chartjs?r._chartjs.listeners.push(i):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),Zk.forEach((e=>{const t="_onData"+wk(e),n=r[e];Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];const a=n.apply(this,i);return r._chartjs.listeners.forEach((e=>{"function"===typeof e[t]&&e[t](...i)})),a}})})))),this._syncList=[],this._data=t}var r,i}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=t._stacked;t._stacked=$P(t.vScale,t),t.stack!==n.stack&&(r=!0,iI(t),t.stack=n.stack),this._resyncElements(e),(r||i!==t._stacked)&&(nI(this,t._parsed),t._stacked=$P(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:s}=n,a=i.axis;let o,l,c,u=0===e&&t===r.length||n._sorted,h=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=ik(r[e])?this.parseArrayData(n,r,e,t):sk(r[e])?this.parseObjectData(n,r,e,t):this.parsePrimitiveData(n,r,e,t);const i=()=>null===l[a]||h&&l[a]<h[a];for(o=0;o<t;++o)n._parsed[o+e]=l=c[o],u&&(i()&&(u=!1),h=l);n._sorted=u}s&&nI(this,c)}parsePrimitiveData(e,t,n,r){const{iScale:i,vScale:s}=e,a=i.axis,o=s.axis,l=i.getLabels(),c=i===s,u=new Array(r);let h,d,f;for(h=0,d=r;h<d;++h)f=h+n,u[h]={[a]:c||i.parse(l[f],f),[o]:s.parse(t[f],f)};return u}parseArrayData(e,t,n,r){const{xScale:i,yScale:s}=e,a=new Array(r);let o,l,c,u;for(o=0,l=r;o<l;++o)c=o+n,u=t[c],a[o]={x:i.parse(u[0],c),y:s.parse(u[1],c)};return a}parseObjectData(e,t,n,r){const{xScale:i,yScale:s}=e,{xAxisKey:a="x",yAxisKey:o="y"}=this._parsing,l=new Array(r);let c,u,h,d;for(c=0,u=r;c<u;++c)h=c+n,d=t[h],l[c]={x:i.parse(yk(d,a),h),y:s.parse(yk(d,o),h)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,i=this._cachedMeta,s=t[e.axis];return ZP({keys:QP(r,!0),values:t._stacks[e.axis]._visualValues},s,i.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const i=n[t.axis];let s=null===i?NaN:i;const a=r&&n._stacks[t.axis];r&&a&&(r.values=a,s=ZP(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&e===n.iScale,s=r.length,a=this._getOtherScale(e),o=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:QP(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(a);let h,d;function f(){d=r[h];const t=d[a.axis];return!ak(d[e.axis])||c>t||u<t}for(h=0;h<s&&(f()||(this.updateRangeFromParsed(l,e,d,o),!i));++h);if(i)for(h=s-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(l,e,d,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,i,s;for(r=0,i=t.length;r<i;++r)s=t[r][e.axis],ak(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,r,i;return sk(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:!1===e}}(lk(this.options.clip,function(e,t,n){if(!1===n)return!1;const r=qP(e,n),i=qP(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],i=t.chartArea,s=[],a=this._drawStart||0,o=this._drawCount||r.length-a,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,i,a,o),c=a;c<a+o;++c){const t=r[c];t.hidden||(t.active&&l?s.push(t):t.draw(e,i))}for(c=0;c<s.length;++c)s[c].draw(e,i)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];i=t.$context||(t.$context=function(e,t,n){return QN(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=function(e,t){return QN(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===t,i=this._cachedDataOpts,s=e+"-"+t,a=i[s],o=this.enableOptionSharing&&_k(n);if(a)return aI(a,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=r?[`${e}Hover`,"hover",e,""]:[e,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(EN.elements[e]),f=l.resolveNamedOptions(h,d,(()=>this.getContext(n,r,t)),u);return f.$shared&&(f.$shared=o,i[s]=Object.freeze(aI(f,o))),f}_resolveAnimations(e,t,n){const r=this.chart,i=this._cachedDataOpts,s=`animation-${t}`,a=i[s];if(a)return a;let o;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,t),s=r.getOptionScopes(this.getDataset(),i);o=r.createResolver(s,this.getContext(e,n,t))}const l=new KP(r,o&&o.animations);return o&&o._cacheable&&(i[s]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||sI(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,i=this.getSharedOptions(n),s=this.includeOptions(t,i)||i!==r;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:s}}updateElement(e,t,n,r){sI(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!sI(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const i=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[a,o,l]of this._syncList)this[a](o,l);this._syncList=[];const r=n.length,i=t.length,s=Math.min(i,r);s&&this.parse(0,s),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,i=r.data,s=e+t;let a;const o=e=>{for(e.length+=t,a=e.length-1;a>=s;a--)e[a]=e[a-t]};for(o(i),a=e;a<s;++a)i[a]=new this.dataElementType;this._parsing&&o(r._parsed),this.parse(e,t),n&&this.updateElements(i,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&iI(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function lI(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let t=0,i=n.length;t<i;t++)r=r.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=eN(r.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let r,i,s,a,o=t._length;const l=()=>{32767!==s&&-32768!==s&&(_k(a)&&(o=Math.min(o,Math.abs(s-a)||o)),a=s)};for(r=0,i=n.length;r<i;++r)s=t.getPixelForValue(n[r]),l();for(a=void 0,r=0,i=t.ticks.length;r<i;++r)s=t.getPixelForTick(r),l();return o}function cI(e,t,n,r){return ik(e)?function(e,t,n,r){const i=n.parse(e[0],r),s=n.parse(e[1],r),a=Math.min(i,s),o=Math.max(i,s);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:s,min:a,max:o}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function uI(e,t,n,r){const i=e.iScale,s=e.vScale,a=i.getLabels(),o=i===s,l=[];let c,u,h,d;for(c=n,u=n+r;c<u;++c)d=t[c],h={},h[i.axis]=o||i.parse(a[c],c),l.push(cI(d,h,s,c));return l}function hI(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function dI(e,t,n,r){let i=t.borderSkipped;const s={};if(!i)return void(e.borderSkipped=s);if(!0===i)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:o,reverse:l,top:c,bottom:u}=function(e){let t,n,r,i,s;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:t,top:i,bottom:s}}(e);"middle"===i&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(s[fI(u,a,o,l)]=!0,i=c)),s[fI(i,a,o,l)]=!0,e.borderSkipped=s}function fI(e,t,n,r){return r?(e=function(e,t,n){return e===t?n:e===n?t:e}(e,t,n),e=pI(e,n,t)):e=pI(e,t,n),e}function pI(e,t,n){return"start"===e?t:"end"===e?n:e}function mI(e,t,n){let{inflateAmount:r}=t;e.inflateAmount="auto"===r?1===n?.33:0:r}class gI extends oI{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,n,r){return uI(e,t,n,r)}parseArrayData(e,t,n,r){return uI(e,t,n,r)}parseObjectData(e,t,n,r){const{iScale:i,vScale:s}=e,{xAxisKey:a="x",yAxisKey:o="y"}=this._parsing,l="x"===i.axis?a:o,c="x"===s.axis?a:o,u=[];let h,d,f,p;for(h=n,d=n+r;h<d;++h)p=t[h],f={},f[i.axis]=i.parse(yk(p,l),h),u.push(cI(yk(p,c),f,s,h));return u}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const i=n._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,i=this.getParsed(e),s=i._custom,a=hI(s)?"["+s.start+", "+s.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,r){const i="reset"===r,{index:s,_cachedMeta:{vScale:a}}=this,o=a.getBasePixel(),l=a.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,r);for(let d=t;d<t+n;d++){const t=this.getParsed(d),n=i||rk(t[a.axis])?{base:o,head:o}:this._calculateBarValuePixels(d),f=this._calculateBarIndexPixels(d,c),p=(t._stacks||{})[a.axis],m={horizontal:l,base:n.base,enableBorderRadius:!p||hI(t._custom)||s===p._top||s===p._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};h&&(m.options=u||this.resolveDataElementOptions(d,e[d].active?"active":r));const g=m.options||e[d].options;dI(m,g,p,s),mI(m,g,c.ratio),this.updateElement(e[d],d,m,r)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),i=n.options.stacked,s=[],a=this._cachedMeta.controller.getParsed(t),o=a&&a[n.axis],l=e=>{const t=e._parsed.find((e=>e[n.axis]===o)),r=t&&t[e.vScale.axis];if(rk(r)||isNaN(r))return!0};for(const c of r)if((void 0===t||!l(c))&&((!1===i||-1===s.indexOf(c.stack)||void 0===i&&void 0===c.stack)&&s.push(c.stack),c.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const r=this._getStacks(e,n),i=void 0!==t?r.indexOf(t):-1;return-1===i?r.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let i,s;for(i=0,s=t.data.length;i<s;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const a=e.barThickness;return{min:a||lI(t),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:r},options:{base:i,minBarLength:s}}=this,a=i||0,o=this.getParsed(e),l=o._custom,c=hI(l);let u,h,d=o[t.axis],f=0,p=n?this.applyStack(t,o,n):d;p!==d&&(f=p-d,p=d),c&&(d=l.barStart,p=l.barEnd-l.barStart,0!==d&&Lk(d)!==Lk(l.barEnd)&&(f=0),f+=d);const m=rk(i)||c?f:i;let g=t.getPixelForValue(m);if(u=this.chart.getDataVisibility(e)?t.getPixelForValue(f+p):g,h=u-g,Math.abs(h)<s){h=function(e,t,n){return 0!==e?Lk(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(h,t,a)*s,d===a&&(g-=h/2);const e=t.getPixelForDecimal(0),i=t.getPixelForDecimal(1),l=Math.min(e,i),f=Math.max(e,i);g=Math.max(Math.min(g,f),l),u=g+h,n&&!c&&(o._stacks[t.axis]._visualValues[r]=t.getValueForPixel(u)-t.getValueForPixel(g))}if(g===t.getPixelForValue(a)){const e=Lk(h)*t.getLineWidthForValue(a)/2;g+=e,h-=e}return{size:h,base:g,head:u,center:u+h/2}}_calculateBarIndexPixels(e,t){const n=t.scale,r=this.options,i=r.skipNull,s=lk(r.maxBarThickness,1/0);let a,o;if(t.grouped){const n=i?this._getStackCount(e):t.stackCount,l="flex"===r.barThickness?function(e,t,n,r){const i=t.pixels,s=i[e];let a=e>0?i[e-1]:null,o=e<i.length-1?i[e+1]:null;const l=n.categoryPercentage;null===a&&(a=s-(null===o?t.end-t.start:o-s)),null===o&&(o=s+s-a);const c=s-(s-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/r,ratio:n.barPercentage,start:c}}(e,t,r,n):function(e,t,n,r){const i=n.barThickness;let s,a;return rk(i)?(s=t.min*n.categoryPercentage,a=n.barPercentage):(s=i*r,a=1),{chunk:s/r,ratio:a,start:t.pixels[e]-s/2}}(e,t,r,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0);a=l.start+l.chunk*c+l.chunk/2,o=Math.min(s,l.chunk*l.ratio)}else a=n.getPixelForValue(this.getParsed(e)[n.axis],e),o=Math.min(s,t.min*t.ratio);return{base:a-o/2,head:a+o/2,center:a,size:o}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let i=0;for(;i<r;++i)null===this.getParsed(i)[t.axis]||n[i].hidden||n[i].draw(this._ctx)}}class vI extends oI{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,i)=>{const s=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:r,lineWidth:s.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let i,s,a=e=>+n[e];if(sk(n[e])){const{key:e="value"}=this._parsing;a=t=>+yk(n[t],e)}for(i=e,s=e+t;i<s;++i)r._parsed[i]=a(i)}}_getRotation(){return Uk(this.options.rotation-90)}_getCircumference(){return Uk(this.options.circumference)}_getRotationExtents(){let e=Tk,t=-Tk;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),s=r._getCircumference();e=Math.min(e,i),t=Math.max(t,i+s)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,i=r.data,s=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-s)/2,0),o=Math.min(((e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/t)(this.options.cutout,a),1),l=this._getRingWeight(this.index),{circumference:c,rotation:u}=this._getRotationExtents(),{ratioX:h,ratioY:d,offsetX:f,offsetY:p}=function(e,t,n){let r=1,i=1,s=0,a=0;if(t<Tk){const o=e,l=o+t,c=Math.cos(o),u=Math.sin(o),h=Math.cos(l),d=Math.sin(l),f=(e,t,r)=>Xk(e,o,l,!0)?1:Math.max(t,t*n,r,r*n),p=(e,t,r)=>Xk(e,o,l,!0)?-1:Math.min(t,t*n,r,r*n),m=f(0,c,h),g=f(kk,u,d),v=p(Ek,c,h),x=p(Ek+kk,u,d);r=(m-v)/2,i=(g-x)/2,s=-(m+v)/2,a=-(g+x)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:a}}(u,c,o),m=(n.width-s)/h,g=(n.height-s)/d,v=Math.max(Math.min(m,g)/2,0),x=ck(this.options.radius,v),b=(x-Math.max(x*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=f*x,this.offsetY=p*x,r.total=this.calculateTotal(),this.outerRadius=x-b*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-b*l,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/Tk)}updateElements(e,t,n,r){const i="reset"===r,s=this.chart,a=s.chartArea,o=s.options.animation,l=(a.left+a.right)/2,c=(a.top+a.bottom)/2,u=i&&o.animateScale,h=u?0:this.innerRadius,d=u?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(t,r);let m,g=this._getRotation();for(m=0;m<t;++m)g+=this._circumference(m,i);for(m=t;m<t+n;++m){const t=this._circumference(m,i),n=e[m],s={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:d,innerRadius:h};p&&(s.options=f||this.resolveDataElementOptions(m,n.active?"active":r)),g+=t,this.updateElement(n,m,s,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,r=0;for(n=0;n<t.length;n++){const i=e._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||t[n].hidden||(r+=Math.abs(i))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Tk*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=vN(t._parsed[e],n.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,i,s,a,o;if(!e)for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){s=n.getDatasetMeta(r),e=s.data,a=s.controller;break}if(!e)return 0;for(r=0,i=e.length;r<i;++r)o=a.resolveDataElementOptions(r),"inner"!==o.borderAlign&&(t=Math.max(t,o.borderWidth||0,o.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(lk(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class xI extends oI{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=t,s=this.chart._animationsDisabled;let{start:a,count:o}=sN(t,r,s);this._drawStart=a,this._drawCount=o,aN(t)&&(a=0,o=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},e),this.updateElements(r,a,o,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:s,vScale:a,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,r),h=s.axis,d=a.axis,{spanGaps:f,segment:p}=this.options,m=Ok(f)?f:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||i||"none"===r,v=t+n,x=e.length;let b=t>0&&this.getParsed(t-1);for(let y=0;y<x;++y){const n=e[y],f=g?n:{};if(y<t||y>=v){f.skip=!0;continue}const x=this.getParsed(y),w=rk(x[d]),_=f[h]=s.getPixelForValue(x[h],y),A=f[d]=i||w?a.getBasePixel():a.getPixelForValue(o?this.applyStack(a,x,o):x[d],y);f.skip=isNaN(_)||isNaN(A)||w,f.stop=y>0&&Math.abs(x[h]-b[h])>m,p&&(f.parsed=x,f.raw=l.data[y]),u&&(f.options=c||this.resolveDataElementOptions(y,n.active?"active":r)),g||this.updateElement(n,y,f,r),b=x}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class bI extends oI{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,i)=>{const s=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:r,lineWidth:s.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=vN(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:i}}parseObjectData(e,t,n,r){return hP.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),i=Math.max(r/2,0),s=(i-Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=i-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(e,t,n,r){const i="reset"===r,s=this.chart,a=s.options.animation,o=this._cachedMeta.rScale,l=o.xCenter,c=o.yCenter,u=o.getIndexAngle(0)-.5*Ek;let h,d=u;const f=360/this.countVisibleElements();for(h=0;h<t;++h)d+=this._computeAngle(h,r,f);for(h=t;h<t+n;h++){const t=e[h];let n=d,p=d+this._computeAngle(h,r,f),m=s.getDataVisibility(h)?o.getDistanceFromCenterForValue(this.getParsed(h).r):0;d=p,i&&(a.animateScale&&(m=0),a.animateRotate&&(n=p=u));const g={x:l,y:c,innerRadius:0,outerRadius:m,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(h,t.active?"active":r)};this.updateElement(t,h,g,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++})),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?Uk(this.resolveDataElementOptions(e,t).angle||n):0}}var yI=Object.freeze({__proto__:null,BarController:gI,BubbleController:class extends oI{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,r){const i=super.parsePrimitiveData(e,t,n,r);for(let s=0;s<i.length;s++)i[s]._custom=this.resolveDataElementOptions(s+n).radius;return i}parseArrayData(e,t,n,r){const i=super.parseArrayData(e,t,n,r);for(let s=0;s<i.length;s++){const e=t[n+s];i[s]._custom=lk(e[2],this.resolveDataElementOptions(s+n).radius)}return i}parseObjectData(e,t,n,r){const i=super.parseObjectData(e,t,n,r);for(let s=0;s<i.length;s++){const e=t[n+s];i[s]._custom=lk(e&&e.r&&+e.r,this.resolveDataElementOptions(s+n).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=t,s=this.getParsed(e),a=r.getLabelForValue(s.x),o=i.getLabelForValue(s.y),l=s._custom;return{label:n[e]||"",value:"("+a+", "+o+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:s,vScale:a}=this._cachedMeta,{sharedOptions:o,includeOptions:l}=this._getSharedOptions(t,r),c=s.axis,u=a.axis;for(let h=t;h<t+n;h++){const t=e[h],n=!i&&this.getParsed(h),d={},f=d[c]=i?s.getPixelForDecimal(.5):s.getPixelForValue(n[c]),p=d[u]=i?a.getBasePixel():a.getPixelForValue(n[u]);d.skip=isNaN(f)||isNaN(p),l&&(d.options=o||this.resolveDataElementOptions(h,t.active?"active":r),i&&(d.options.radius=0)),this.updateElement(t,h,d,r)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return"active"!==t&&(r.radius=0),r.radius+=lk(n&&n._custom,i),r}},DoughnutController:vI,LineController:xI,PieController:class extends vI{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}},PolarAreaController:bI,RadarController:class extends oI{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,r){return hP.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta,n=t.dataset,r=t.data||[],i=t.iScale.getLabels();if(n.points=r,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const s={_loop:!0,_fullLoop:i.length===r.length,options:t};this.updateElement(n,void 0,s,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,n,r){const i=this._cachedMeta.rScale,s="reset"===r;for(let a=t;a<t+n;a++){const t=e[a],n=this.resolveDataElementOptions(a,t.active?"active":r),o=i.getPointPositionForValue(a,this.getParsed(a).r),l=s?i.xCenter:o.x,c=s?i.yCenter:o.y,u={x:l,y:c,angle:o.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,a,u,r)}}},ScatterController:class extends oI{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=t,s=this.getParsed(e),a=r.getLabelForValue(s.x),o=i.getLabelForValue(s.y);return{label:n[e]||"",value:"("+a+", "+o+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,r=this.chart._animationsDisabled;let{start:i,count:s}=sN(t,n,r);if(this._drawStart=i,this._drawCount=s,aN(t)&&(i=0,s=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:i,_dataset:s}=t;i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=n;const a=this.resolveDatasetElementOptions(e);a.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:a},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,i,s,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,r){const i="reset"===r,{iScale:s,vScale:a,_stacked:o,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,r),u=this.getSharedOptions(c),h=this.includeOptions(r,u),d=s.axis,f=a.axis,{spanGaps:p,segment:m}=this.options,g=Ok(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||i||"none"===r;let x=t>0&&this.getParsed(t-1);for(let b=t;b<t+n;++b){const t=e[b],n=this.getParsed(b),c=v?t:{},p=rk(n[f]),y=c[d]=s.getPixelForValue(n[d],b),w=c[f]=i||p?a.getBasePixel():a.getPixelForValue(o?this.applyStack(a,n,o):n[f],b);c.skip=isNaN(y)||isNaN(w)||p,c.stop=b>0&&Math.abs(n[d]-x[d])>g,m&&(c.parsed=n,c.raw=l.data[b]),h&&(c.options=u||this.resolveDataElementOptions(b,t.active?"active":r)),v||this.updateElement(t,b,c,r),x=n}this.updateSharedOptions(u,r,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,r=n.options&&n.options.borderWidth||0;if(!t.length)return r;const i=t[0].size(this.resolveDataElementOptions(0)),s=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,i,s)/2}}});function wI(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class _I{static override(e){Object.assign(_I.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return wI()}parse(){return wI()}format(){return wI()}add(){return wI()}diff(){return wI()}startOf(){return wI()}endOf(){return wI()}}var AI=_I;function SI(e,t,n,r){const{controller:i,data:s,_sorted:a}=e,o=i._cachedMeta.iScale;if(o&&t===o.axis&&"r"!==t&&a&&s.length){const e=o._reversePixels?Qk:qk;if(!r)return e(s,t,n);if(i._sharedOptions){const r=s[0],i="function"===typeof r.getRange&&r.getRange(t);if(i){const r=e(s,t,n-i),a=e(s,t,n+i);return{lo:r.lo,hi:a.hi}}}}return{lo:0,hi:s.length-1}}function EI(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),a=n[t];for(let o=0,l=s.length;o<l;++o){const{index:e,data:n}=s[o],{lo:l,hi:c}=SI(s[o],t,a,i);for(let t=l;t<=c;++t){const i=n[t];i.skip||r(i,e,t)}}}function TI(e,t,n,r,i){const s=[];if(!i&&!e.isPointInArea(t))return s;return EI(e,n,t,(function(n,a,o){(i||PN(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&s.push({element:n,datasetIndex:a,index:o})}),!0),s}function MI(e,t,n,r,i,s){let a=[];const o=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const i=t?Math.abs(e.x-r.x):0,s=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return EI(e,n,t,(function(n,c,u){const h=n.inRange(t.x,t.y,i);if(r&&!h)return;const d=n.getCenterPoint(i);if(!(!!s||e.isPointInArea(d))&&!h)return;const f=o(t,d);f<l?(a=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&a.push({element:n,datasetIndex:c,index:u})})),a}function CI(e,t,n,r,i,s){return s||e.isPointInArea(t)?"r"!==n||r?MI(e,t,n,r,i,s):function(e,t,n,r){let i=[];return EI(e,n,t,(function(e,n,s){const{startAngle:a,endAngle:o}=e.getProps(["startAngle","endAngle"],r),{angle:l}=Hk(e,{x:t.x,y:t.y});Xk(l,a,o)&&i.push({element:e,datasetIndex:n,index:s})})),i}(e,t,n,i):[]}function RI(e,t,n,r,i){const s=[],a="x"===n?"inXRange":"inYRange";let o=!1;return EI(e,n,t,((e,r,l)=>{e[a]&&e[a](t[n],i)&&(s.push({element:e,datasetIndex:r,index:l}),o=o||e.inRange(t.x,t.y,i))})),r&&!o?[]:s}var kI={evaluateInteractionItems:EI,modes:{index(e,t,n,r){const i=EP(t,e),s=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?TI(e,i,s,r,a):CI(e,i,s,!1,r,a),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=o[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,n,r){const i=EP(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?TI(e,i,s,r,a):CI(e,i,s,!1,r,a);if(o.length>0){const t=o[0].datasetIndex,n=e.getDatasetMeta(t).data;o=[];for(let e=0;e<n.length;++e)o.push({element:n[e],datasetIndex:t,index:e})}return o},point:(e,t,n,r)=>TI(e,EP(t,e),n.axis||"xy",r,n.includeInvisible||!1),nearest(e,t,n,r){const i=EP(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;return CI(e,i,s,n.intersect,r,a)},x:(e,t,n,r)=>RI(e,EP(t,e),"x",n.intersect,r),y:(e,t,n,r)=>RI(e,EP(t,e),"y",n.intersect,r)}};const NI=["left","top","right","bottom"];function PI(e,t){return e.filter((e=>e.pos===t))}function II(e,t){return e.filter((e=>-1===NI.indexOf(e.pos)&&e.box.axis===t))}function LI(e,t){return e.sort(((e,n)=>{const r=t?n:e,i=t?e:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function DI(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:i}=n;if(!e||!NI.includes(r))continue;const s=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=i}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,a,o;for(s=0,a=e.length;s<a;++s){o=e[s];const{fullSize:a}=o.box,l=n[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*r:a&&t.availableWidth,o.height=i):(o.width=r,o.height=c?c*i:a&&t.availableHeight)}return n}function BI(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function OI(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function FI(e,t,n,r){const{pos:i,box:s}=n,a=e.maxPadding;if(!sk(i)){n.size&&(e[i]-=n.size);const t=r[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?s.height:s.width),n.size=t.size/t.count,e[i]+=n.size}s.getPadding&&OI(a,s.getPadding());const o=Math.max(0,t.outerWidth-BI(a,e,"left","right")),l=Math.max(0,t.outerHeight-BI(a,e,"top","bottom")),c=o!==e.w,u=l!==e.h;return e.w=o,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function UI(e,t){const n=t.maxPadding;function r(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{r[e]=Math.max(t[e],n[e])})),r}return r(e?["left","right"]:["top","bottom"])}function jI(e,t,n,r){const i=[];let s,a,o,l,c,u;for(s=0,a=e.length,c=0;s<a;++s){o=e[s],l=o.box,l.update(o.width||t.w,o.height||t.h,UI(o.horizontal,t));const{same:a,other:h}=FI(t,n,o,r);c|=a&&i.length,u=u||h,l.fullSize||i.push(o)}return c&&jI(i,t,n,r)||u}function zI(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function HI(e,t,n,r){const i=n.padding;let{x:s,y:a}=t;for(const o of e){const e=o.box,l=r[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const r=t.w*c,s=l.size||e.height;_k(l.start)&&(a=l.start),e.fullSize?zI(e,i.left,a,n.outerWidth-i.right-i.left,s):zI(e,t.left+l.placed,a,r,s),l.start=a,l.placed+=r,a=e.bottom}else{const r=t.h*c,a=l.size||e.width;_k(l.start)&&(s=l.start),e.fullSize?zI(e,s,i.top,a,n.outerHeight-i.bottom-i.top):zI(e,s,t.top+l.placed,a,r),l.start=s,l.placed+=r,s=e.right}}t.x=s,t.y=a}var GI={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=JN(e.options.layout.padding),s=Math.max(t-i.width,0),a=Math.max(n-i.height,0),o=function(e){const t=function(e){const t=[];let n,r,i,s,a,o;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],({position:s,options:{stack:a,stackWeight:o=1}}=i),t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return t}(e),n=LI(t.filter((e=>e.box.fullSize)),!0),r=LI(PI(t,"left"),!0),i=LI(PI(t,"right")),s=LI(PI(t,"top"),!0),a=LI(PI(t,"bottom")),o=II(t,"x"),l=II(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:PI(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(a).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;hk(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const u=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/u,hBoxMaxHeight:a/2}),d=Object.assign({},i);OI(d,JN(r));const f=Object.assign({maxPadding:d,w:s,h:a,x:i.left,y:i.top},i),p=DI(l.concat(c),h);jI(o.fullSize,f,h,p),jI(l,f,h,p),jI(c,f,h,p)&&jI(l,f,h,p),function(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(f),HI(o.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,HI(o.rightAndBottom,f,h,p),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},hk(o.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class VI{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class WI extends VI{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const XI="$chartjs",YI={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},JI=e=>null===e||""===e;const KI=!!RP&&{passive:!0};function qI(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,KI)}function QI(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function ZI(e,t,n){const r=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||QI(n.addedNodes,r),t=t&&!QI(n.removedNodes,r);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function $I(e,t,n){const r=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||QI(n.removedNodes,r),t=t&&!QI(n.addedNodes,r);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}const eL=new Map;let tL=0;function nL(){const e=window.devicePixelRatio;e!==tL&&(tL=e,eL.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function rL(e,t,n){const r=e.canvas,i=r&&yP(r);if(!i)return;const s=nN(((e,t)=>{const r=i.clientWidth;n(e,t),r<i.clientWidth&&n()}),window),a=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||s(n,r)}));return a.observe(i),function(e,t){eL.size||window.addEventListener("resize",nL),eL.set(e,t)}(e,s),a}function iL(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){eL.delete(e),eL.size||window.removeEventListener("resize",nL)}(e)}function sL(e,t,n){const r=e.canvas,i=nN((t=>{null!==e.ctx&&n(function(e,t){const n=YI[e.type]||e.type,{x:r,y:i}=EP(e,t);return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==i?i:null}}(t,e))}),e);return function(e,t,n){e&&e.addEventListener(t,n,KI)}(r,t,i),i}class aL extends VI{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[XI]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",JI(i)){const t=kP(e,"width");void 0!==t&&(e.width=t)}if(JI(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=kP(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[XI])return!1;const n=t[XI].initial;["height","width"].forEach((e=>{const r=n[e];rk(r)?t.removeAttribute(e):t.setAttribute(e,r)}));const r=n.style||{};return Object.keys(r).forEach((e=>{t.style[e]=r[e]})),t.width=t.width,delete t[XI],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),i={attach:ZI,detach:$I,resize:rL}[t]||sL;r[t]=i(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:iL,detach:iL,resize:iL}[t]||qI)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return MP(e,t,n,r)}isAttached(e){const t=e&&yP(e);return!(!t||!t.isConnected)}}class oL{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Ok(this.x)&&Ok(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach((e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),r}}function lL(e,t){const n=e.options.ticks,r=function(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(t):[],a=s.length,o=s[0],l=s[a-1],c=[];if(a>i)return function(e,t,n,r){let i,s=0,a=n[0];for(r=Math.ceil(r),i=0;i<e.length;i++)i===a&&(t.push(e[i]),s++,a=n[s*r])}(t,c,s,a/i),c;const u=function(e,t,n){const r=function(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),i=t.length/n;if(!r)return Math.max(i,1);const s=function(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(r);for(let a=0,o=s.length-1;a<o;a++){const e=s[a];if(e>i)return e}return Math.max(i,1)}(s,t,i);if(a>0){let e,n;const r=a>1?Math.round((l-o)/(a-1)):null;for(cL(t,c,u,rk(r)?0:o-r,o),e=0,n=a-1;e<n;e++)cL(t,c,u,s[e],s[e+1]);return cL(t,c,u,l,rk(r)?t.length:l+r),c}return cL(t,c,u),c}function cL(e,t,n,r,i){const s=lk(r,0),a=Math.min(lk(i,e.length),e.length);let o,l,c,u=0;for(n=Math.ceil(n),i&&(o=i-r,n=o/Math.floor(o/n)),c=s;c<0;)u++,c=Math.round(s+u*n);for(l=Math.max(s,0);l<a;l++)l===c&&(t.push(e[l]),u++,c=Math.round(s+u*n))}const uL=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,hL=(e,t)=>Math.min(t||e,e);function dL(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function fL(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,a=e._endPixel,o=1e-6;let l,c=e.getPixelForTick(i);if(!(n&&(l=1===r?Math.max(c-s,a-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(i-1))/2,c+=i<t?l:-l,c<s-o||c>a+o)))return c}function pL(e){return e.drawTicks?e.tickLength:0}function mL(e,t){if(!e.display)return 0;const n=KN(e.font,t),r=JN(e.padding);return(ik(e.text)?e.text.length:1)*n.lineHeight+r.height}function gL(e,t,n){let r=rN(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class vL extends oL{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=ok(e,Number.POSITIVE_INFINITY),t=ok(t,Number.NEGATIVE_INFINITY),n=ok(n,Number.POSITIVE_INFINITY),r=ok(r,Number.NEGATIVE_INFINITY),{min:ok(e,n),max:ok(t,r),minDefined:ak(e),maxDefined:ak(t)}}getMinMax(e){let t,{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds();if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let o=0,l=a.length;o<l;++o)t=a[o].controller.getMinMax(this,e),i||(n=Math.min(n,t.min)),s||(r=Math.max(r,t.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:ok(n,ok(r,n)),max:ok(r,ok(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){uk(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:i,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:r,max:i}=e,s=ck(t,(i-r)/2),a=(e,t)=>n&&0===e?0:e+t;return{min:a(r,-Math.abs(s)),max:a(i,s)}}(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=a<this.ticks.length;this._convertTicksToLabels(o?dL(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=lL(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){uk(this.options.afterUpdate,[this])}beforeSetDimensions(){uk(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){uk(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),uk(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){uk(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,i;for(n=0,r=e.length;n<r;n++)i=e[n],i.label=uk(t.callback,[i.value,n,e],this)}afterTickToLabelConversion(){uk(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){uk(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=hL(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,i=t.maxRotation;let s,a,o,l=r;if(!this._isVisible()||!t.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=Yk(this.chart.width-u,0,this.maxWidth);s=e.offset?this.maxWidth/n:d/(n-1),u+6>s&&(s=d/(n-(e.offset?.5:1)),a=this.maxHeight-pL(e.grid)-t.padding-mL(e.title,this.chart.options.font),o=Math.sqrt(u*u+h*h),l=jk(Math.min(Math.asin(Yk((c.highest.height+6)/s,-1,1)),Math.asin(Yk(a/o,-1,1))-Math.asin(Yk(h/o,-1,1)))),l=Math.max(r,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){uk(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){uk(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:i}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){const s=mL(r,t.options.font);if(a?(e.width=this.maxWidth,e.height=pL(i)+s):(e.height=this.maxHeight,e.width=pL(i)+s),n.display&&this.ticks.length){const{first:t,last:r,widest:i,highest:s}=this._getLabelSizes(),o=2*n.padding,l=Uk(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(a){const t=n.mirror?0:u*i.width+c*s.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=n.mirror?0:c*i.width+u*s.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,r,u,c)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:i,padding:s},position:a}=this.options,o=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;o?l?(u=r*e.width,h=n*t.height):(u=n*e.height,h=r*t.width):"start"===i?h=t.width:"end"===i?u=e.width:"inner"!==i&&(u=e.width/2,h=t.width/2),this.paddingLeft=Math.max((u-a+s)*this.width/(this.width-a),0),this.paddingRight=Math.max((h-c+s)*this.width/(this.width-c),0)}else{let n=t.height/2,r=e.height/2;"start"===i?(n=0,r=e.height):"end"===i&&(n=t.height,r=0),this.paddingTop=n+s,this.paddingBottom=r+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){uk(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)rk(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=dL(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:i}=this,s=[],a=[],o=Math.floor(t/hL(t,n));let l,c,u,h,d,f,p,m,g,v,x,b=0,y=0;for(l=0;l<t;l+=o){if(h=e[l].label,d=this._resolveTickFontOptions(l),r.font=f=d.string,p=i[f]=i[f]||{data:{},gc:[]},m=d.lineHeight,g=v=0,rk(h)||ik(h)){if(ik(h))for(c=0,u=h.length;c<u;++c)x=h[c],rk(x)||ik(x)||(g=TN(r,p.data,p.gc,g,x),v+=m)}else g=TN(r,p.data,p.gc,g,h),v=m;s.push(g),a.push(v),b=Math.max(g,b),y=Math.max(v,y)}!function(e,t){hk(e,(e=>{const n=e.gc,r=n.length/2;let i;if(r>t){for(i=0;i<r;++i)delete e.data[n[i]];n.splice(0,r)}}))}(i,t);const w=s.indexOf(b),_=a.indexOf(y),A=e=>({width:s[e]||0,height:a[e]||0});return{first:A(0),last:A(t-1),widest:A(w),highest:A(_),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function(e){return Yk(e,-32768,32767)}(this._alignToPixels?CN(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return QN(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=QN(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=Uk(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),i=this._getLabelSizes(),s=e.autoSkipPadding||0,a=i?i.widest.width+s:0,o=i?i.highest.height+s:0;return this.isHorizontal()?o*n>a*r?a/n:o/r:o*r<a*n?o/n:a/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:i,position:s,border:a}=r,o=i.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),u=pL(i),h=[],d=a.setContext(this.getContext()),f=d.display?d.width:0,p=f/2,m=function(e){return CN(n,e,f)};let g,v,x,b,y,w,_,A,S,E,T,M;if("top"===s)g=m(this.bottom),w=this.bottom-u,A=g-p,E=m(e.top)+p,M=e.bottom;else if("bottom"===s)g=m(this.top),E=e.top,M=m(e.bottom)-p,w=g+p,A=this.top+u;else if("left"===s)g=m(this.right),y=this.right-u,_=g-p,S=m(e.left)+p,T=e.right;else if("right"===s)g=m(this.left),S=e.left,T=m(e.right)-p,y=g+p,_=this.left+u;else if("x"===t){if("center"===s)g=m((e.top+e.bottom)/2+.5);else if(sk(s)){const e=Object.keys(s)[0],t=s[e];g=m(this.chart.scales[e].getPixelForValue(t))}E=e.top,M=e.bottom,w=g+p,A=w+u}else if("y"===t){if("center"===s)g=m((e.left+e.right)/2);else if(sk(s)){const e=Object.keys(s)[0],t=s[e];g=m(this.chart.scales[e].getPixelForValue(t))}y=g-p,_=y-u,S=e.left,T=e.right}const C=lk(r.ticks.maxTicksLimit,c),R=Math.max(1,Math.ceil(c/C));for(v=0;v<c;v+=R){const e=this.getContext(v),t=i.setContext(e),r=a.setContext(e),s=t.lineWidth,c=t.color,u=r.dash||[],d=r.dashOffset,f=t.tickWidth,p=t.tickColor,m=t.tickBorderDash||[],g=t.tickBorderDashOffset;x=fL(this,v,o),void 0!==x&&(b=CN(n,x,s),l?y=_=S=T=b:w=A=E=M=b,h.push({tx1:y,ty1:w,tx2:_,ty2:A,x1:S,y1:E,x2:T,y2:M,width:s,color:c,borderDash:u,borderDashOffset:d,tickWidth:f,tickColor:p,tickBorderDash:m,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,h}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:i}=n,s=this.isHorizontal(),a=this.ticks,{align:o,crossAlign:l,padding:c,mirror:u}=i,h=pL(n.grid),d=h+c,f=u?-c:d,p=-Uk(this.labelRotation),m=[];let g,v,x,b,y,w,_,A,S,E,T,M,C="middle";if("top"===r)w=this.bottom-f,_=this._getXAxisLabelAlignment();else if("bottom"===r)w=this.top+f,_=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(h);_=e.textAlign,y=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(h);_=e.textAlign,y=e.x}else if("x"===t){if("center"===r)w=(e.top+e.bottom)/2+d;else if(sk(r)){const e=Object.keys(r)[0],t=r[e];w=this.chart.scales[e].getPixelForValue(t)+d}_=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)y=(e.left+e.right)/2-d;else if(sk(r)){const e=Object.keys(r)[0],t=r[e];y=this.chart.scales[e].getPixelForValue(t)}_=this._getYAxisLabelAlignment(h).textAlign}"y"===t&&("start"===o?C="top":"end"===o&&(C="bottom"));const R=this._getLabelSizes();for(g=0,v=a.length;g<v;++g){x=a[g],b=x.label;const e=i.setContext(this.getContext(g));A=this.getPixelForTick(g)+i.labelOffset,S=this._resolveTickFontOptions(g),E=S.lineHeight,T=ik(b)?b.length:1;const t=T/2,n=e.color,o=e.textStrokeColor,c=e.textStrokeWidth;let h,d=_;if(s?(y=A,"inner"===_&&(d=g===v-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),M="top"===r?"near"===l||0!==p?-T*E+E/2:"center"===l?-R.highest.height/2-t*E+E:-R.highest.height+E/2:"near"===l||0!==p?E/2:"center"===l?R.highest.height/2-t*E:R.highest.height-T*E,u&&(M*=-1),0===p||e.showLabelBackdrop||(y+=E/2*Math.sin(p))):(w=A,M=(1-T)*E/2),e.showLabelBackdrop){const t=JN(e.backdropPadding),n=R.heights[g],r=R.widths[g];let i=M-t.top,s=0-t.left;switch(C){case"middle":i-=n/2;break;case"bottom":i-=n}switch(_){case"center":s-=r/2;break;case"right":s-=r;break;case"inner":g===v-1?s-=r:g>0&&(s-=r/2)}h={left:s,top:i,width:r+t.width,height:n+t.height,color:e.backdropColor}}m.push({label:b,font:S,textOffset:M,options:{rotation:p,color:n,strokeColor:o,strokeWidth:c,textAlign:d,textBaseline:C,translation:[y,w],backdrop:h}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Uk(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,s=e+i,a=this._getLabelSizes().widest.width;let o,l;return"left"===t?r?(l=this.right+i,"near"===n?o="left":"center"===n?(o="center",l+=a/2):(o="right",l+=a)):(l=this.right-s,"near"===n?o="right":"center"===n?(o="center",l-=a/2):(o="left",l=this.left)):"right"===t?r?(l=this.left+i,"near"===n?o="right":"center"===n?(o="center",l-=a/2):(o="left",l-=a)):(l=this.left+s,"near"===n?o="left":"center"===n?(o="center",l+=a/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:i,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,i,s),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,s;const a=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(i=0,s=r.length;i<s;++i){const e=r[i];t.drawOnChartArea&&a({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&a({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),s=n.display?i.width:0;if(!s)return;const a=r.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=CN(e,this.left,s)-s/2,c=CN(e,this.right,a)+a/2,u=h=o):(u=CN(e,this.top,s)-s/2,h=CN(e,this.bottom,a)+a/2,l=c=o),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(l,u),t.lineTo(c,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&IN(t,n);const r=this.getLabelItems(e);for(const i of r){const e=i.options,n=i.font;UN(t,i.label,0,i.textOffset,n,e)}n&&LN(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const i=KN(n.font),s=JN(n.padding),a=n.align;let o=i.lineHeight/2;"bottom"===t||"center"===t||sk(t)?(o+=s.bottom,ik(n.text)&&(o+=i.lineHeight*(n.text.length-1))):o+=s.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=function(e,t,n,r){const{top:i,left:s,bottom:a,right:o,chart:l}=e,{chartArea:c,scales:u}=l;let h,d,f,p=0;const m=a-i,g=o-s;if(e.isHorizontal()){if(d=iN(r,s,o),sk(n)){const e=Object.keys(n)[0],r=n[e];f=u[e].getPixelForValue(r)+m-t}else f="center"===n?(c.bottom+c.top)/2+m-t:uL(e,n,t);h=o-s}else{if(sk(n)){const e=Object.keys(n)[0],r=n[e];d=u[e].getPixelForValue(r)-g+t}else d="center"===n?(c.left+c.right)/2-g+t:uL(e,n,t);f=iN(r,a,i),p="left"===n?-kk:kk}return{titleX:d,titleY:f,maxWidth:h,rotation:p}}(this,o,t,a);UN(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:h,textAlign:gL(a,t,r),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=lk(e.grid&&e.grid.z,-1),r=lk(e.border&&e.border.z,0);return this._isVisible()&&this.draw===vL.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,s;for(i=0,s=t.length;i<s;++i){const s=t[i];s[n]!==this.id||e&&s.type!==e||r.push(s)}return r}_resolveTickFontOptions(e){return KN(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class xL{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,i=e.id,s=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,function(e,t,n){const r=gk(Object.create(null),[n?EN.get(n):{},EN.get(t),e.defaults]);EN.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),a=t[n].split("."),o=a.pop(),l=a.join(".");EN.route(s,i,l,o)}))}(t,e.defaultRoutes);e.descriptors&&EN.describe(t,e.descriptors)}(e,s,n),this.override&&EN.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in EN[r]&&(delete EN[r][n],this.override&&delete yN[n])}}class bL{constructor(){this.controllers=new xL(oI,"datasets",!0),this.elements=new xL(oL,"elements"),this.plugins=new xL(Object,"plugins"),this.scales=new xL(vL,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach((t=>{const r=n||this._getRegistryForType(t);n||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):hk(t,(t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)}))}))}_exec(e,t,n){const r=wk(e);uk(n["before"+r],[],n),t[e](n),uk(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var yL=new bL;class wL{constructor(){this._init=[]}notify(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),s=this._notify(i,e,t,n);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,t,n,r){r=r||{};for(const i of e){const e=i.plugin;if(!1===uk(e[n],[t,r,i.options],e)&&r.cancelable)return!1}return!0}invalidate(){rk(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=lk(n.options&&n.options.plugins,{}),i=function(e){const t={},n=[],r=Object.keys(yL.plugins.items);for(let s=0;s<r.length;s++)n.push(yL.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const e=i[s];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){let{plugins:i,localIds:s}=t;const a=[],o=e.getContext();for(const l of i){const t=l.id,i=_L(n[t],r);null!==i&&a.push({plugin:l,options:AL(e.config,{plugin:l,local:s[t]},i,o)})}return a}(e,i,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function _L(e,t){return t||!1!==e?!0===e?{}:e:null}function AL(e,t,n,r){let{plugin:i,local:s}=t;const a=e.pluginScopeKeys(i),o=e.getOptionScopes(n,a);return s&&i.defaults&&o.push(i.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function SL(e,t){const n=EN.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function EL(e){if("x"===e||"y"===e||"r"===e)return e}function TL(e){if(EL(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const s of n){const t=s.axis||("top"===(i=s.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||e.length>1&&EL(e[0].toLowerCase());if(t)return t}var i;throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function ML(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function CL(e,t){const n=yN[e.type]||{scales:{}},r=t.scales||{},i=SL(e.type,t),s=Object.create(null);return Object.keys(r).forEach((t=>{const a=r[t];if(!sk(a))return console.error(`Invalid scale configuration for scale: ${t}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const o=TL(t,a,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return ML(e,"x",n[0])||ML(e,"y",n[0])}return{}}(t,e),EN.scales[a.type]),l=function(e,t){return e===t?"_index_":"_value_"}(o,i),c=n.scales||{};s[t]=vk(Object.create(null),[{axis:o},a,c[o],c[l]])})),e.data.datasets.forEach((n=>{const i=n.type||e.type,a=n.indexAxis||SL(i,t),o=(yN[i]||{}).scales||{};Object.keys(o).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,a),i=n[t+"AxisID"]||t;s[i]=s[i]||Object.create(null),vk(s[i],[{axis:t},r[i],o[e]])}))})),Object.keys(s).forEach((e=>{const t=s[e];vk(t,[EN.scales[t.type],EN.scale])})),s}function RL(e){const t=e.options||(e.options={});t.plugins=lk(t.plugins,{}),t.scales=CL(e,t)}function kL(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const NL=new Map,PL=new Set;function IL(e,t){let n=NL.get(e);return n||(n=t(),NL.set(e,n),PL.add(n)),n}const LL=(e,t,n)=>{const r=yk(t,n);void 0!==r&&e.add(r)};class DL{constructor(e){this._config=function(e){return(e=e||{}).data=kL(e.data),RL(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=kL(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),RL(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return IL(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return IL(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return IL(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id;return IL(`${this.type}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:i}=this,s=this._cachedScopes(e,n),a=s.get(t);if(a)return a;const o=new Set;t.forEach((t=>{e&&(o.add(e),t.forEach((t=>LL(o,e,t)))),t.forEach((e=>LL(o,r,e))),t.forEach((e=>LL(o,yN[i]||{},e))),t.forEach((e=>LL(o,EN,e))),t.forEach((e=>LL(o,wN,e)))}));const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),PL.has(t)&&s.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,yN[t]||{},EN.datasets[t]||{},{type:t},EN,wN]}resolveNamedOptions(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const i={$shared:!0},{resolver:s,subPrefixes:a}=BL(this._resolverCache,e,r);let o=s;if(function(e,t){const{isScriptable:n,isIndexable:r}=eP(e);for(const i of t){const t=n(i),s=r(i),a=(s||t)&&e[i];if(t&&(Ak(a)||OL(a))||s&&ik(a))return!0}return!1}(s,t)){i.$shared=!1;o=$N(s,n=Ak(n)?n():n,this.createResolver(e,n,a))}for(const l of t)i[l]=o[l];return i}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:i}=BL(this._resolverCache,e,n);return sk(t)?$N(i,t,void 0,r):i}}function BL(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);if(!s){s={resolver:ZN(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},r.set(i,s)}return s}const OL=e=>sk(e)&&Object.getOwnPropertyNames(e).some((t=>Ak(e[t])));const FL=["top","bottom","left","right","chartArea"];function UL(e,t){return"top"===e||"bottom"===e||-1===FL.indexOf(e)&&"x"===t}function jL(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function zL(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),uk(n&&n.onComplete,[e],t)}function HL(e){const t=e.chart,n=t.options.animation;uk(n&&n.onProgress,[e],t)}function GL(e){return bP()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const VL={},WL=e=>{const t=GL(e);return Object.values(VL).filter((e=>e.canvas===t)).pop()};function XL(e,t,n){const r=Object.keys(e);for(const i of r){const r=+i;if(r>=t){const s=e[i];delete e[i],(n>0||r>t)&&(e[r+n]=s)}}}function YL(e,t,n){return e.options.clip?e[n]:t[n]}class JL{static defaults=(()=>EN)();static instances=(()=>VL)();static overrides=(()=>yN)();static registry=(()=>yL)();static version="4.4.7";static getChart=(()=>WL)();static register(){yL.add(...arguments),KL()}static unregister(){yL.remove(...arguments),KL()}constructor(e,t){const n=this.config=new DL(t),r=GL(e),i=WL(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!bP()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?WI:aL}(r)),this.platform.updateConfig(n);const a=this.platform.acquireContext(r,s.aspectRatio),o=a&&a.canvas,l=o&&o.height,c=o&&o.width;this.id=nk(),this.ctx=a,this.canvas=o,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new wL,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}((e=>this.update(e)),s.resizeDelay||0),this._dataChanges=[],VL[this.id]=this,a&&o?(WP.listen(this,"complete",zL),WP.listen(this,"progress",HL),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:i}=this;return rk(e)?t&&i?i:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return yL}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():CP(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return RN(this.canvas,this.ctx),this}stop(){return WP.stop(this),this}resize(e,t){WP.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,e,t,i),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,CP(this,a,!0)&&(this.notifyPlugins("resize",{size:s}),uk(n.onResize,[this,s],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){hk(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let i=[];t&&(i=i.concat(Object.keys(t).map((e=>{const n=t[e],r=TL(e,n),i="r"===r,s="x"===r;return{options:n,dposition:i?"chartArea":s?"bottom":"left",dtype:i?"radialLinear":s?"category":"linear"}})))),hk(i,(t=>{const i=t.options,s=i.id,a=TL(s,i),o=lk(i.type,t.dtype);void 0!==i.position&&UL(i.position,a)===UL(t.dposition)||(i.position=t.dposition),r[s]=!0;let l=null;if(s in n&&n[s].type===o)l=n[s];else{l=new(yL.getScale(o))({id:s,type:o,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(i,e)})),hk(r,((e,t)=>{e||delete n[t]})),hk(n,(e=>{GI.configure(this,e,e.options),GI.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(jL("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const r=t[n];let i=this.getDatasetMeta(n);const s=r.type||this.config.type;if(i.type&&i.type!==s&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=s,i.indexAxis=r.indexAxis||SL(s,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const t=yL.getController(s),{datasetElementType:r,dataElementType:a}=EN.datasets[s];Object.assign(t,{dataElementType:yL.getElement(a),datasetElementType:r&&yL.getElement(r)}),i.controller=new t(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){hk(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!r&&-1===i.indexOf(e);e.buildOrUpdateElements(t),s=Math.max(+e.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),r||hk(i,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(jL("z","_idx"));const{_active:a,_lastEvent:o}=this;o?this._eventHandler(o,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){hk(this.scales,(e=>{GI.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);Sk(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of t){XL(e,r,"_removeElements"===n?-i:i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),r=n(0);for(let i=1;i<t;i++)if(!Sk(r,n(i)))return;return Array.from(r).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;GI.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],hk(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,Ak(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(WP.has(this)?this.attached&&!WP.running(this)&&WP.start(this):(this.draw(),zL({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,i;for(r=0,i=t.length;r<i;++r){const i=t[r];e&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,r=!n.disabled,i=function(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:YL(n,t,"left"),right:YL(n,t,"right"),top:YL(r,t,"top"),bottom:YL(r,t,"bottom")}:t}(e,this.chartArea),s={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(r&&IN(t,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),e.controller.draw(),r&&LN(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return PN(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const i=kI.modes[t];return"function"===typeof i?i(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter((e=>e&&e._dataset===t)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=QN(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",i=this.getDatasetMeta(e),s=i.controller._resolveAnimations(void 0,r);_k(t)?(i.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),s.update(i,{visible:n}),this.update((t=>t.datasetIndex===e?r:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),WP.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),RN(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete VL[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};hk(this.options.events,(e=>n(e,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},i=(e,t)=>{this.canvas&&this.resize(e,t)};let s;const a=()=>{r("attach",a),this.attached=!0,this.resize(),n("resize",i),n("detach",s)};s=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",a)},t.isAttached(this.canvas)?a():s()}unbindEvents(){hk(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},hk(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let i,s,a,o;for("dataset"===t&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),a=0,o=e.length;a<o;++a){s=e[a];const t=s&&this.getDatasetMeta(s.datasetIndex).controller;t&&t[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.getDatasetMeta(t);if(!r)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:r.data[n],index:n}}));!dk(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const r=this.options.hover,i=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),s=i(t,e),a=n?e:i(e,t);s.length&&this.updateHoverStyle(s,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:i}=this,s=t,a=this._getActiveElements(e,r,n,s),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,o);n&&(this._lastEvent=null,uk(i.onHover,[e,a,this],this),o&&uk(i.onClick,[e,a,this],this));const c=!dk(a,r);return(c||t)&&(this._active=a,this._updateHoverStyles(a,r,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}}function KL(){return hk(JL.instances,(e=>e._plugins.invalidate()))}function qL(e,t,n,r){const i=function(e){return WN(e,["outerStart","outerEnd","innerStart","innerEnd"])}(e.options.borderRadius),s=(n-t)/2,a=Math.min(s,r*t/2),o=e=>{const t=(n-Math.min(s,e))*r/2;return Yk(e,0,Math.min(s,t))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:Yk(i.innerStart,0,a),innerEnd:Yk(i.innerEnd,0,a)}}function QL(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function ZL(e,t,n,r,i,s){const{x:a,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+r+n-c,0),d=u>0?u+r+n+c:0;let f=0;const p=i-l;if(r){const e=((u>0?u-r:0)+(h>0?h-r:0))/2;f=(p-(0!==e?p*e/(e+r):p))/2}const m=(p-Math.max(.001,p*h-n/Ek)/h)/2,g=l+m+f,v=i-m-f,{outerStart:x,outerEnd:b,innerStart:y,innerEnd:w}=qL(t,d,h,v-g),_=h-x,A=h-b,S=g+x/_,E=v-b/A,T=d+y,M=d+w,C=g+y/T,R=v-w/M;if(e.beginPath(),s){const t=(S+E)/2;if(e.arc(a,o,h,S,t),e.arc(a,o,h,t,E),b>0){const t=QL(A,E,a,o);e.arc(t.x,t.y,b,E,v+kk)}const n=QL(M,v,a,o);if(e.lineTo(n.x,n.y),w>0){const t=QL(M,R,a,o);e.arc(t.x,t.y,w,v+kk,R+Math.PI)}const r=(v-w/d+(g+y/d))/2;if(e.arc(a,o,d,v-w/d,r,!0),e.arc(a,o,d,r,g+y/d,!0),y>0){const t=QL(T,C,a,o);e.arc(t.x,t.y,y,C+Math.PI,g-kk)}const i=QL(_,g,a,o);if(e.lineTo(i.x,i.y),x>0){const t=QL(_,S,a,o);e.arc(t.x,t.y,x,g-kk,S)}}else{e.moveTo(a,o);const t=Math.cos(S)*h+a,n=Math.sin(S)*h+o;e.lineTo(t,n);const r=Math.cos(E)*h+a,i=Math.sin(E)*h+o;e.lineTo(r,i)}e.closePath()}function $L(e,t,n,r,i){const{fullCircles:s,startAngle:a,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d}=l,f="inner"===l.borderAlign;if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=d,f?(e.lineWidth=2*c,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let p=t.endAngle;if(s){ZL(e,t,n,r,p,i);for(let t=0;t<s;++t)e.stroke();isNaN(o)||(p=a+(o%Tk||Tk))}f&&function(e,t,n){const{startAngle:r,pixelMargin:i,x:s,y:a,outerRadius:o,innerRadius:l}=t;let c=i/o;e.beginPath(),e.arc(s,a,o,r-c,n+c),l>i?(c=i/l,e.arc(s,a,l,n+c,r-c,!0)):e.arc(s,a,i,n+kk,r-kk),e.closePath(),e.clip()}(e,t,p),s||(ZL(e,t,n,r,p,i),e.stroke())}function eD(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=lk(n.borderCapStyle,t.borderCapStyle),e.setLineDash(lk(n.borderDash,t.borderDash)),e.lineDashOffset=lk(n.borderDashOffset,t.borderDashOffset),e.lineJoin=lk(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=lk(n.borderWidth,t.borderWidth),e.strokeStyle=lk(n.borderColor,t.borderColor)}function tD(e,t,n){e.lineTo(n.x,n.y)}function nD(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.length,{start:i=0,end:s=r-1}=n,{start:a,end:o}=t,l=Math.max(i,a),c=Math.min(s,o),u=i<a&&s<a||i>o&&s>o;return{count:r,start:l,loop:t.loop,ilen:c<l&&!u?r+c-l:c-l}}function rD(e,t,n,r){const{points:i,options:s}=t,{count:a,start:o,loop:l,ilen:c}=nD(i,n,r),u=function(e){return e.stepped?DN:e.tension||"monotone"===e.cubicInterpolationMode?BN:tD}(s);let h,d,f,{move:p=!0,reverse:m}=r||{};for(h=0;h<=c;++h)d=i[(o+(m?c-h:h))%a],d.skip||(p?(e.moveTo(d.x,d.y),p=!1):u(e,f,d,m,s.stepped),f=d);return l&&(d=i[(o+(m?c:0))%a],u(e,f,d,m,s.stepped)),!!l}function iD(e,t,n,r){const i=t.points,{count:s,start:a,ilen:o}=nD(i,n,r),{move:l=!0,reverse:c}=r||{};let u,h,d,f,p,m,g=0,v=0;const x=e=>(a+(c?o-e:e))%s,b=()=>{f!==p&&(e.lineTo(g,p),e.lineTo(g,f),e.lineTo(g,m))};for(l&&(h=i[x(0)],e.moveTo(h.x,h.y)),u=0;u<=o;++u){if(h=i[x(u)],h.skip)continue;const t=h.x,n=h.y,r=0|t;r===d?(n<f?f=n:n>p&&(p=n),g=(v*g+t)/++v):(b(),e.lineTo(t,n),d=r,v=0,f=p=n),m=n}b()}function sD(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?iD:rD}const aD="function"===typeof Path2D;function oD(e,t,n,r){aD&&!t.options.segment?function(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),eD(e,t.options),e.stroke(i)}(e,t,n,r):function(e,t,n,r){const{segments:i,options:s}=t,a=sD(t);for(const o of i)eD(e,s,o.style),e.beginPath(),a(e,t,o,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}(e,t,n,r)}class lD extends oL{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;xP(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:a,end:o}=function(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}(n,i,s,r);return zP(e,!0===r?[{start:a,end:o,loop:s}]:function(e,t,n,r){const i=e.length,s=[];let a,o=t,l=e[t];for(a=t+1;a<=n;++a){const n=e[a%i];n.skip||n.stop?l.skip||(r=!1,s.push({start:t%i,end:(a-1)%i,loop:r}),t=o=n.stop?a:null):(o=a,l.skip&&(t=a)),l=n}return null!==o&&s.push({start:t%i,end:o%i,loop:r}),s}(n,a,o<a?o+i:o,!!e._fullLoop&&0===a&&o===i-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],i=this.points,s=jP(this,{property:t,start:r,end:r});if(!s.length)return;const a=[],o=function(e){return e.stepped?PP:e.tension||"monotone"===e.cubicInterpolationMode?IP:NP}(n);let l,c;for(l=0,c=s.length;l<c;++l){const{start:c,end:u}=s[l],h=i[c],d=i[u];if(h===d){a.push(h);continue}const f=o(h,d,Math.abs((r-h[t])/(d[t]-h[t])),n.stepped);f[t]=e[t],a.push(f)}return 1===a.length?a[0]:a}pathSegment(e,t,n){return sD(this)(e,this,t,n)}path(e,t,n){const r=this.segments,i=sD(this);let s=this._loop;t=t||0,n=n||this.points.length-t;for(const a of r)s&=i(e,this,a,{start:t,end:t+n-1});return!!s}draw(e,t,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),oD(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function cD(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}class uD extends oL{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:i,y:s}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(t-s,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return cD(this,e,"x",t)}inYRange(e,t){return cD(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!PN(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,kN(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function hD(e,t){const{x:n,y:r,base:i,width:s,height:a}=e.getProps(["x","y","base","width","height"],t);let o,l,c,u,h;return e.horizontal?(h=a/2,o=Math.min(n,i),l=Math.max(n,i),c=r-h,u=r+h):(h=s/2,o=n-h,l=n+h,c=Math.min(r,i),u=Math.max(r,i)),{left:o,top:c,right:l,bottom:u}}function dD(e,t,n,r){return e?0:Yk(t,n,r)}function fD(e){const t=hD(e),n=t.right-t.left,r=t.bottom-t.top,i=function(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,s=XN(r);return{t:dD(i.top,s.top,0,n),r:dD(i.right,s.right,0,t),b:dD(i.bottom,s.bottom,0,n),l:dD(i.left,s.left,0,t)}}(e,n/2,r/2),s=function(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,s=YN(i),a=Math.min(t,n),o=e.borderSkipped,l=r||sk(i);return{topLeft:dD(!l||o.top||o.left,s.topLeft,0,a),topRight:dD(!l||o.top||o.right,s.topRight,0,a),bottomLeft:dD(!l||o.bottom||o.left,s.bottomLeft,0,a),bottomRight:dD(!l||o.bottom||o.right,s.bottomRight,0,a)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function pD(e,t,n,r){const i=null===t,s=null===n,a=e&&!(i&&s)&&hD(e,r);return a&&(i||Jk(t,a.left,a.right))&&(s||Jk(n,a.top,a.bottom))}function mD(e,t){e.rect(t.x,t.y,t.w,t.h)}function gD(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-r,a=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+s,h:e.h+a,radius:e.radius}}var vD=Object.freeze({__proto__:null,ArcElement:class extends oL{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.getProps(["x","y"],n),{angle:i,distance:s}=Hk(r,{x:e,y:t}),{startAngle:a,endAngle:o,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,d=lk(u,o-a),f=Xk(i,a,o)&&a!==o,p=d>=Tk||f,m=Jk(s,l+h,c+h);return p&&m}getCenterPoint(e){const{x:t,y:n,startAngle:r,endAngle:i,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,c=(r+i)/2,u=(s+a+l+o)/2;return{x:t+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,r=(t.offset||0)/4,i=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>Tk?Math.floor(n/Tk):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);const o=r*(1-Math.sin(Math.min(Ek,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,r,i){const{fullCircles:s,startAngle:a,circumference:o}=t;let l=t.endAngle;if(s){ZL(e,t,n,r,l,i);for(let t=0;t<s;++t)e.fill();isNaN(o)||(l=a+(o%Tk||Tk))}ZL(e,t,n,r,l,i),e.fill()}(e,this,o,i,s),$L(e,this,o,i,s),e.restore()}},BarElement:class extends oL{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:s}=fD(this),a=(o=s.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?jN:mD;var o;e.save(),s.w===i.w&&s.h===i.h||(e.beginPath(),a(e,gD(s,t,i)),e.clip(),a(e,gD(i,-t,s)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),a(e,gD(i,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return pD(this,e,t,n)}inXRange(e,t){return pD(this,e,null,t)}inYRange(e,t){return pD(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+r)/2:t,y:i?n:(n+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}},LineElement:lD,PointElement:uD});const xD=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],bD=xD.map((e=>e.replace("rgb(","rgba(").replace(")",", 0.5)")));function yD(e){return xD[e%xD.length]}function wD(e){return bD[e%bD.length]}function _D(e){let t=0;return(n,r)=>{const i=e.getDatasetMeta(r).controller;i instanceof vI?t=function(e,t){return e.backgroundColor=e.data.map((()=>yD(t++))),t}(n,t):i instanceof bI?t=function(e,t){return e.backgroundColor=e.data.map((()=>wD(t++))),t}(n,t):i&&(t=function(e,t){return e.borderColor=yD(t),e.backgroundColor=wD(t),++t}(n,t))}}function AD(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}var SD={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=e.config,{elements:s}=i,a=AD(r)||(o=i)&&(o.borderColor||o.backgroundColor)||s&&AD(s)||"rgba(0,0,0,0.1)"!==EN.borderColor||"rgba(0,0,0,0.1)"!==EN.backgroundColor;var o;if(!n.forceOverride&&a)return;const l=_D(e);r.forEach(l)}};function ED(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function TD(e){e.data.datasets.forEach((e=>{ED(e)}))}var MD={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled)return void TD(e);const r=e.width;e.data.datasets.forEach(((t,i)=>{const{_data:s,indexAxis:a}=t,o=e.getDatasetMeta(i),l=s||t.data;if("y"===qN([a,e.options.indexAxis]))return;if(!o.controller.supportsDecimation)return;const c=e.scales[o.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(e.options.parsing)return;let{start:u,count:h}=function(e,t){const n=t.length;let r,i=0;const{iScale:s}=e,{min:a,max:o,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(i=Yk(qk(t,s.axis,a).lo,0,n-1)),r=c?Yk(qk(t,s.axis,o).hi+1,i,n)-i:n-i,{start:i,count:r}}(o,l);if(h<=(n.threshold||4*r))return void ED(t);let d;switch(rk(s)&&(t._data=l,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),n.algorithm){case"lttb":d=function(e,t,n,r,i){const s=i.samples||r;if(s>=n)return e.slice(t,t+n);const a=[],o=(n-2)/(s-2);let l=0;const c=t+n-1;let u,h,d,f,p,m=t;for(a[l++]=e[m],u=0;u<s-2;u++){let r,i=0,s=0;const c=Math.floor((u+1)*o)+1+t,g=Math.min(Math.floor((u+2)*o)+1,n)+t,v=g-c;for(r=c;r<g;r++)i+=e[r].x,s+=e[r].y;i/=v,s/=v;const x=Math.floor(u*o)+1+t,b=Math.min(Math.floor((u+1)*o)+1,n)+t,{x:y,y:w}=e[m];for(d=f=-1,r=x;r<b;r++)f=.5*Math.abs((y-i)*(e[r].y-w)-(y-e[r].x)*(s-w)),f>d&&(d=f,h=e[r],p=r);a[l++]=h,m=p}return a[l++]=e[c],a}(l,u,h,r,n);break;case"min-max":d=function(e,t,n,r){let i,s,a,o,l,c,u,h,d,f,p=0,m=0;const g=[],v=t+n-1,x=e[t].x,b=e[v].x-x;for(i=t;i<t+n;++i){s=e[i],a=(s.x-x)/b*r,o=s.y;const t=0|a;if(t===l)o<d?(d=o,c=i):o>f&&(f=o,u=i),p=(m*p+s.x)/++m;else{const n=i-1;if(!rk(c)&&!rk(u)){const t=Math.min(c,u),r=Math.max(c,u);t!==h&&t!==n&&g.push({...e[t],x:p}),r!==h&&r!==n&&g.push({...e[r],x:p})}i>0&&n!==h&&g.push(e[n]),g.push(s),l=t,m=0,d=f=o,c=u=h=i}}return g}(l,u,h,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}t._decimated=d}))},destroy(e){TD(e)}};function CD(e,t,n,r){if(r)return;let i=t[e],s=n[e];return"angle"===e&&(i=Wk(i),s=Wk(s)),{property:e,start:i,end:s}}function RD(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function kD(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function ND(e,t){let n=[],r=!1;return ik(e)?(r=!0,n=e):n=function(e,t){const{x:n=null,y:r=null}=e||{},i=t.points,s=[];return t.segments.forEach((e=>{let{start:t,end:a}=e;a=RD(t,a,i);const o=i[t],l=i[a];null!==r?(s.push({x:o.x,y:r}),s.push({x:l.x,y:r})):null!==n&&(s.push({x:n,y:o.y}),s.push({x:n,y:l.y}))})),s}(e,t),n.length?new lD({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function PD(e){return e&&!1!==e.fill}function ID(e,t,n){let r=e[t].fill;const i=[t];let s;if(!n)return r;for(;!1!==r&&-1===i.indexOf(r);){if(!ak(r))return r;if(s=e[r],!s)return!1;if(s.visible)return r;i.push(r),r=s.fill}return!1}function LD(e,t,n){const r=function(e){const t=e.options,n=t.fill;let r=lk(n&&n.target,n);void 0===r&&(r=!!t.backgroundColor);if(!1===r||null===r)return!1;if(!0===r)return"origin";return r}(e);if(sk(r))return!isNaN(r.value)&&r;let i=parseFloat(r);return ak(i)&&Math.floor(i)===i?function(e,t,n,r){"-"!==e&&"+"!==e||(n=t+n);if(n===t||n<0||n>=r)return!1;return n}(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function DD(e,t,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:a,last:o,point:l}=BD(s,t,"x");if(!(!l||a&&o))if(a)r.unshift(l);else if(e.push(l),!o)break}e.push(...r)}function BD(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const i=r[n],s=e.segments,a=e.points;let o=!1,l=!1;for(let c=0;c<s.length;c++){const e=s[c],t=a[e.start][n],r=a[e.end][n];if(Jk(i,t,r)){o=i===t,l=i===r;break}}return{first:o,last:l,point:r}}class OD{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:r,y:i,radius:s}=this;return t=t||{start:0,end:Tk},e.arc(r,i,s,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:r}=this,i=e.angle;return{x:t+Math.cos(i)*r,y:n+Math.sin(i)*r,angle:i}}}function FD(e){const{chart:t,fill:n,line:r}=e;if(ak(n))return function(e,t){const n=e.getDatasetMeta(t),r=n&&e.isDatasetVisible(t);return r?n.dataset:null}(t,n);if("stack"===n)return function(e){const{scale:t,index:n,line:r}=e,i=[],s=r.segments,a=r.points,o=function(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const e=r[i];if(e.index===t)break;e.hidden||n.unshift(e.dataset)}return n}(t,n);o.push(ND({x:null,y:t.bottom},r));for(let l=0;l<s.length;l++){const e=s[l];for(let t=e.start;t<=e.end;t++)DD(i,a[t],o)}return new lD({points:i,options:{}})}(e);if("shape"===n)return!0;const i=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:n}=e,r=t.options,i=t.getLabels().length,s=r.reverse?t.max:t.min,a=function(e,t,n){let r;return r="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:sk(e)?e.value:t.getBaseValue(),r}(n,t,s),o=[];if(r.grid.circular){const e=t.getPointPositionForValue(0,s);return new OD({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(a)})}for(let l=0;l<i;++l)o.push(t.getPointPositionForValue(l,a));return o}(e);return function(e){const{scale:t={},fill:n}=e,r=function(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:sk(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(n,t);if(ak(r)){const e=t.isHorizontal();return{x:e?r:null,y:e?null:r}}return null}(e)}(e);return i instanceof OD?i:ND(i,r)}function UD(e,t,n){const r=FD(t),{line:i,scale:s,axis:a}=t,o=i.options,l=o.fill,c=o.backgroundColor,{above:u=c,below:h=c}=l||{};r&&i.points.length&&(IN(e,n),function(e,t){const{line:n,target:r,above:i,below:s,area:a,scale:o}=t,l=n._loop?"angle":t.axis;e.save(),"x"===l&&s!==i&&(jD(e,r,a.top),zD(e,{line:n,target:r,color:i,scale:o,property:l}),e.restore(),e.save(),jD(e,r,a.bottom));zD(e,{line:n,target:r,color:s,scale:o,property:l}),e.restore()}(e,{line:i,target:r,above:u,below:h,area:n,scale:s,axis:a}),LN(e))}function jD(e,t,n){const{segments:r,points:i}=t;let s=!0,a=!1;e.beginPath();for(const o of r){const{start:r,end:l}=o,c=i[r],u=i[RD(r,l,i)];s?(e.moveTo(c.x,c.y),s=!1):(e.lineTo(c.x,n),e.lineTo(c.x,c.y)),a=!!t.pathSegment(e,o,{move:a}),a?e.closePath():e.lineTo(u.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function zD(e,t){const{line:n,target:r,property:i,color:s,scale:a}=t,o=function(e,t,n){const r=e.segments,i=e.points,s=t.points,a=[];for(const o of r){let{start:e,end:r}=o;r=RD(e,r,i);const l=CD(n,i[e],i[r],o.loop);if(!t.segments){a.push({source:o,target:l,start:i[e],end:i[r]});continue}const c=jP(t,l);for(const t of c){const e=CD(n,s[t.start],s[t.end],t.loop),r=UP(o,i,e);for(const i of r)a.push({source:i,target:t,start:{[n]:kD(l,e,"start",Math.max)},end:{[n]:kD(l,e,"end",Math.min)}})}}return a}(n,r,i);for(const{source:l,target:c,start:u,end:h}of o){const{style:{backgroundColor:t=s}={}}=l,o=!0!==r;e.save(),e.fillStyle=t,HD(e,a,o&&CD(i,u,h)),e.beginPath();const d=!!n.pathSegment(e,l);let f;if(o){d?e.closePath():GD(e,r,h,i);const t=!!r.pathSegment(e,c,{move:d,reverse:!0});f=d&&t,f||GD(e,r,u,i)}e.closePath(),e.fill(f?"evenodd":"nonzero"),e.restore()}}function HD(e,t,n){const{top:r,bottom:i}=t.chart.chartArea,{property:s,start:a,end:o}=n||{};"x"===s&&(e.beginPath(),e.rect(a,r,o-a,i-r),e.clip())}function GD(e,t,n,r){const i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var VD={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,i=[];let s,a,o,l;for(a=0;a<r;++a)s=e.getDatasetMeta(a),o=s.dataset,l=null,o&&o.options&&o instanceof lD&&(l={visible:e.isDatasetVisible(a),index:a,fill:LD(o,a,r),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=l,i.push(l);for(a=0;a<r;++a)l=i[a],l&&!1!==l.fill&&(l.fill=ID(i,a,n.propagate))},beforeDraw(e,t,n){const r="beforeDraw"===n.drawTime,i=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let a=i.length-1;a>=0;--a){const t=i[a].$filler;t&&(t.line.updateControlPoints(s,t.axis),r&&t.fill&&UD(e.ctx,t,s))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const t=r[i].$filler;PD(t)&&UD(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;PD(r)&&"beforeDatasetDraw"===n.drawTime&&UD(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const WD=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}};class XD extends oL{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=uk(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,r=KN(n.font),i=r.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:o}=WD(n,i);let l,c;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,i,a,o)+10):(c=this.maxHeight,l=this._fitCols(s,r,a,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:i,maxWidth:s,options:{labels:{padding:a}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+a;let u=e;i.textAlign="left",i.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach(((e,f)=>{const p=n+t/2+i.measureText(e.text).width;(0===f||l[l.length-1]+p+2*a>s)&&(u+=c,l[l.length-(f>0?0:1)]=0,d+=c,h++),o[f]={left:0,top:d,row:h,width:p,height:r},l[l.length-1]+=p+a})),u}_fitCols(e,t,n,r){const{ctx:i,maxHeight:s,options:{labels:{padding:a}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-e;let u=a,h=0,d=0,f=0,p=0;return this.legendItems.forEach(((e,s)=>{const{itemWidth:m,itemHeight:g}=function(e,t,n,r,i){const s=function(e,t,n,r){let i=e.text;i&&"string"!==typeof i&&(i=i.reduce(((e,t)=>e.length>t.length?e:t)));return t+n.size/2+r.measureText(i).width}(r,e,t,n),a=function(e,t,n){let r=e;"string"!==typeof t.text&&(r=YD(t,n));return r}(i,r,t.lineHeight);return{itemWidth:s,itemHeight:a}}(n,t,i,e,r);s>0&&d+g+2*a>c&&(u+=h+a,l.push({width:h,height:d}),f+=h+a,p++,h=d=0),o[s]={left:f,top:d,col:p,width:m,height:g},h=Math.max(h,m),d+=g+a})),u+=h,l.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:i}}=this,s=LP(i,this.left,this.width);if(this.isHorizontal()){let i=0,a=iN(n,this.left+r,this.right-this.lineWidths[i]);for(const o of t)i!==o.row&&(i=o.row,a=iN(n,this.left+r,this.right-this.lineWidths[i])),o.top+=this.top+e+r,o.left=s.leftForLtr(s.x(a),o.width),a+=o.width+r}else{let i=0,a=iN(n,this.top+e+r,this.bottom-this.columnSizes[i].height);for(const o of t)o.col!==i&&(i=o.col,a=iN(n,this.top+e+r,this.bottom-this.columnSizes[i].height)),o.top=a,o.left+=this.left+r,o.left=s.leftForLtr(s.x(o.left),o.width),a+=o.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;IN(e,this),this._draw(),LN(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:i,labels:s}=e,a=EN.color,o=LP(e.rtl,this.left,this.width),l=KN(s.font),{padding:c}=s,u=l.size,h=u/2;let d;this.drawTitle(),r.textAlign=o.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:m}=WD(s,u),g=this.isHorizontal(),v=this._computeTitleHeight();d=g?{x:iN(i,this.left+c,this.right-n[0]),y:this.top+c+v,line:0}:{x:this.left+c,y:iN(i,this.top+v+c,this.bottom-t[0].height),line:0},DP(this.ctx,e.textDirection);const x=m+c;this.legendItems.forEach(((b,y)=>{r.strokeStyle=b.fontColor,r.fillStyle=b.fontColor;const w=r.measureText(b.text).width,_=o.textAlign(b.textAlign||(b.textAlign=s.textAlign)),A=f+h+w;let S=d.x,E=d.y;o.setWidth(this.width),g?y>0&&S+A+c>this.right&&(E=d.y+=x,d.line++,S=d.x=iN(i,this.left+c,this.right-n[d.line])):y>0&&E+x>this.bottom&&(S=d.x=S+t[d.line].width+c,d.line++,E=d.y=iN(i,this.top+v+c,this.bottom-t[d.line].height));if(function(e,t,n){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;r.save();const i=lk(n.lineWidth,1);if(r.fillStyle=lk(n.fillStyle,a),r.lineCap=lk(n.lineCap,"butt"),r.lineDashOffset=lk(n.lineDashOffset,0),r.lineJoin=lk(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=lk(n.strokeStyle,a),r.setLineDash(lk(n.lineDash,[])),s.usePointStyle){const a={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},l=o.xPlus(e,f/2);NN(r,a,l,t+h,s.pointStyleWidth&&f)}else{const s=t+Math.max((u-p)/2,0),a=o.leftForLtr(e,f),l=YN(n.borderRadius);r.beginPath(),Object.values(l).some((e=>0!==e))?jN(r,{x:a,y:s,w:f,h:p,radius:l}):r.rect(a,s,f,p),r.fill(),0!==i&&r.stroke()}r.restore()}(o.x(S),E,b),S=((e,t,n,r)=>e===(r?"left":"right")?n:"center"===e?(t+n)/2:t)(_,S+f+h,g?S+A:this.right,e.rtl),function(e,t,n){UN(r,n.text,e,t+m/2,l,{strikethrough:n.hidden,textAlign:o.textAlign(n.textAlign)})}(o.x(S),E,b),g)d.x+=A+c;else if("string"!==typeof b.text){const e=l.lineHeight;d.y+=YD(b,e)+c}else d.y+=x})),BP(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=KN(t.font),r=JN(t.padding);if(!t.display)return;const i=LP(e.rtl,this.left,this.width),s=this.ctx,a=t.position,o=n.size/2,l=r.top+o;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=iN(e.align,u,this.right-h);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+iN(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const d=iN(a,u,u+h);s.textAlign=i.textAlign(rN(a)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=n.string,UN(s,t.text,d,c,n)}_computeTitleHeight(){const e=this.options.title,t=KN(e.font),n=JN(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,i;if(Jk(e,this.left,this.right)&&Jk(t,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],Jk(e,r.left,r.left+r.width)&&Jk(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,i=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(r,n);r&&!i&&uk(t.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!i&&uk(t.onHover,[e,n,this],this)}else n&&uk(t.onClick,[e,n,this],this)}}function YD(e,t){return t*(e.text?e.text.length:0)}var JD={id:"legend",_element:XD,start(e,t,n){const r=e.legend=new XD({ctx:e.ctx,options:n,chart:e});GI.configure(e,r,n),GI.addBox(e,r)},stop(e){GI.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;GI.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(n?0:void 0),c=JN(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:a&&(o||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class KD extends oL{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=ik(n.text)?n.text.length:1;this._padding=JN(n.padding);const i=r*KN(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:r,right:i,options:s}=this,a=s.align;let o,l,c,u=0;return this.isHorizontal()?(l=iN(a,n,i),c=t+e,o=i-n):("left"===s.position?(l=n+e,c=iN(a,r,t),u=-.5*Ek):(l=i-e,c=iN(a,t,r),u=.5*Ek),o=r-t),{titleX:l,titleY:c,maxWidth:o,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=KN(t.font),r=n.lineHeight/2+this._padding.top,{titleX:i,titleY:s,maxWidth:a,rotation:o}=this._drawArgs(r);UN(e,t.text,0,0,n,{color:t.color,maxWidth:a,rotation:o,textAlign:rN(t.align),textBaseline:"middle",translation:[i,s]})}}var qD={id:"title",_element:KD,start(e,t,n){!function(e,t){const n=new KD({ctx:e.ctx,options:t,chart:e});GI.configure(e,n,t),GI.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;GI.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;GI.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const QD=new WeakMap;var ZD={id:"subtitle",start(e,t,n){const r=new KD({ctx:e.ctx,options:n,chart:e});GI.configure(e,r,n),GI.addBox(e,r),QD.set(e,r)},stop(e){GI.removeBox(e,QD.get(e)),QD.delete(e)},beforeUpdate(e,t,n){const r=QD.get(e);GI.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const $D={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r.add(e.x),i+=e.y,++s}}if(0===s||0===r.size)return!1;const a=[...r].reduce(((e,t)=>e+t))/r.size;return{x:a,y:i/s}},nearest(e,t){if(!e.length)return!1;let n,r,i,s=t.x,a=t.y,o=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){const r=e[n].element;if(r&&r.hasValue()){const e=Gk(t,r.getCenterPoint());e<o&&(o=e,i=r)}}if(i){const e=i.tooltipPosition();s=e.x,a=e.y}return{x:s,y:a}}};function eB(e,t){return t&&(ik(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function tB(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function nB(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:e,label:a,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function rB(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:a,boxHeight:o}=t,l=KN(t.bodyFont),c=KN(t.titleFont),u=KN(t.footerFont),h=s.length,d=i.length,f=r.length,p=JN(t.padding);let m=p.height,g=0,v=r.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(v+=e.beforeBody.length+e.afterBody.length,h&&(m+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),v){m+=f*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(v-f)*l.lineHeight+(v-1)*t.bodySpacing}d&&(m+=t.footerMarginTop+d*u.lineHeight+(d-1)*t.footerSpacing);let x=0;const b=function(e){g=Math.max(g,n.measureText(e).width+x)};return n.save(),n.font=c.string,hk(e.title,b),n.font=l.string,hk(e.beforeBody.concat(e.afterBody),b),x=t.displayColors?a+2+t.boxPadding:0,hk(r,(e=>{hk(e.before,b),hk(e.lines,b),hk(e.after,b)})),x=0,n.font=u.string,hk(e.footer,b),n.restore(),g+=p.width,{width:g,height:m}}function iB(e,t,n,r){const{x:i,width:s}=n,{width:a,chartArea:{left:o,right:l}}=e;let c="center";return"center"===r?c=i<=(o+l)/2?"left":"right":i<=s/2?c="left":i>=a-s/2&&(c="right"),function(e,t,n,r){const{x:i,width:s}=r,a=n.caretSize+n.caretPadding;return"left"===e&&i+s+a>t.width||"right"===e&&i-s-a<0||void 0}(c,e,t,n)&&(c="center"),c}function sB(e,t,n){const r=n.yAlign||t.yAlign||function(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||iB(e,t,n,r),yAlign:r}}function aB(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=e,{xAlign:o,yAlign:l}=n,c=i+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=YN(a);let p=function(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,o);const m=function(e,t,n){let{y:r,height:i}=e;return"top"===t?r+=n:r-="bottom"===t?i+n:i/2,r}(t,l,c);return"center"===l?"left"===o?p+=c:"right"===o&&(p-=c):"left"===o?p-=Math.max(u,d)+i:"right"===o&&(p+=Math.max(h,f)+i),{x:Yk(p,0,r.width-t.width),y:Yk(m,0,r.height-t.height)}}function oB(e,t,n){const r=JN(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function lB(e){return eB([],tB(e))}function cB(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const uB={beforeTitle:tk,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:tk,beforeBody:tk,beforeLabel:tk,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return rk(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:tk,afterBody:tk,beforeFooter:tk,footer:tk,afterFooter:tk};function hB(e,t,n,r){const i=e[t].call(n,r);return"undefined"===typeof i?uB[t].call(n,r):i}class dB extends oL{static positioners=(()=>$D)();constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,i=new KP(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,QN(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,r=hB(n,"beforeTitle",this,e),i=hB(n,"title",this,e),s=hB(n,"afterTitle",this,e);let a=[];return a=eB(a,tB(r)),a=eB(a,tB(i)),a=eB(a,tB(s)),a}getBeforeBody(e,t){return lB(hB(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return hk(e,(e=>{const t={before:[],lines:[],after:[]},i=cB(n,e);eB(t.before,tB(hB(i,"beforeLabel",this,e))),eB(t.lines,hB(i,"label",this,e)),eB(t.after,tB(hB(i,"afterLabel",this,e))),r.push(t)})),r}getAfterBody(e,t){return lB(hB(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=hB(n,"beforeFooter",this,e),i=hB(n,"footer",this,e),s=hB(n,"afterFooter",this,e);let a=[];return a=eB(a,tB(r)),a=eB(a,tB(i)),a=eB(a,tB(s)),a}_createItems(e){const t=this._active,n=this.chart.data,r=[],i=[],s=[];let a,o,l=[];for(a=0,o=t.length;a<o;++a)l.push(nB(this.chart,t[a]));return e.filter&&(l=l.filter(((t,r,i)=>e.filter(t,r,i,n)))),e.itemSort&&(l=l.sort(((t,r)=>e.itemSort(t,r,n)))),hk(l,(t=>{const n=cB(e.callbacks,t);r.push(hB(n,"labelColor",this,t)),i.push(hB(n,"labelPointStyle",this,t)),s.push(hB(n,"labelTextColor",this,t))})),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=s,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let i,s=[];if(r.length){const e=$D[n.position].call(this,r,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const t=this._size=rB(this,n),a=Object.assign({},e,t),o=sB(this.chart,n,a),l=aB(n,a,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,i={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=s,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const i=this.getCaretPosition(e,n,r);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:i}=this,{caretSize:s,cornerRadius:a}=n,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:u}=YN(a),{x:h,y:d}=e,{width:f,height:p}=t;let m,g,v,x,b,y;return"center"===i?(b=d+p/2,"left"===r?(m=h,g=m-s,x=b+s,y=b-s):(m=h+f,g=m+s,x=b-s,y=b+s),v=m):(g="left"===r?h+Math.max(o,c)+s:"right"===r?h+f-Math.max(l,u)-s:this.caretX,"top"===i?(x=d,b=x-s,m=g-s,v=g+s):(x=d+p,b=x+s,m=g+s,v=g-s),y=x),{x1:m,x2:g,x3:v,y1:x,y2:b,y3:y}}drawTitle(e,t,n){const r=this.title,i=r.length;let s,a,o;if(i){const l=LP(n.rtl,this.x,this.width);for(e.x=oB(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",s=KN(n.titleFont),a=n.titleSpacing,t.fillStyle=n.titleColor,t.font=s.string,o=0;o<i;++o)t.fillText(r[o],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+a,o+1===i&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,t,n,r,i){const s=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:o,boxWidth:l}=i,c=KN(i.bodyFont),u=oB(this,"left",i),h=r.x(u),d=o<c.lineHeight?(c.lineHeight-o)/2:0,f=t.y+d;if(i.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},n=r.leftForLtr(h,l)+l/2,c=f+o/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,kN(e,t,n,c),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,kN(e,t,n,c)}else{e.lineWidth=sk(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const t=r.leftForLtr(h,l),n=r.leftForLtr(r.xPlus(h,1),l-2),a=YN(s.borderRadius);Object.values(a).some((e=>0!==e))?(e.beginPath(),e.fillStyle=i.multiKeyBackground,jN(e,{x:t,y:f,w:l,h:o,radius:a}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),jN(e,{x:n,y:f+1,w:l-2,h:o-2,radius:a}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(t,f,l,o),e.strokeRect(t,f,l,o),e.fillStyle=s.backgroundColor,e.fillRect(n,f+1,l-2,o-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:i,bodyAlign:s,displayColors:a,boxHeight:o,boxWidth:l,boxPadding:c}=n,u=KN(n.bodyFont);let h=u.lineHeight,d=0;const f=LP(n.rtl,this.x,this.width),p=function(n){t.fillText(n,f.x(e.x+d),e.y+h/2),e.y+=h+i},m=f.textAlign(s);let g,v,x,b,y,w,_;for(t.textAlign=s,t.textBaseline="middle",t.font=u.string,e.x=oB(this,m,n),t.fillStyle=n.bodyColor,hk(this.beforeBody,p),d=a&&"right"!==m?"center"===s?l/2+c:l+2+c:0,b=0,w=r.length;b<w;++b){for(g=r[b],v=this.labelTextColors[b],t.fillStyle=v,hk(g.before,p),x=g.lines,a&&x.length&&(this._drawColorBox(t,e,b,f,n),h=Math.max(u.lineHeight,o)),y=0,_=x.length;y<_;++y)p(x[y]),h=u.lineHeight;hk(g.after,p)}d=0,h=u.lineHeight,hk(this.afterBody,p),e.y-=i}drawFooter(e,t,n){const r=this.footer,i=r.length;let s,a;if(i){const o=LP(n.rtl,this.x,this.width);for(e.x=oB(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=o.textAlign(n.footerAlign),t.textBaseline="middle",s=KN(n.footerFont),t.fillStyle=n.footerColor,t.font=s.string,a=0;a<i;++a)t.fillText(r[a],o.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:i,yAlign:s}=this,{x:a,y:o}=e,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=YN(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(a+u,o),"top"===s&&this.drawCaret(e,t,n,r),t.lineTo(a+l-h,o),t.quadraticCurveTo(a+l,o,a+l,o+h),"center"===s&&"right"===i&&this.drawCaret(e,t,n,r),t.lineTo(a+l,o+c-f),t.quadraticCurveTo(a+l,o+c,a+l-f,o+c),"bottom"===s&&this.drawCaret(e,t,n,r),t.lineTo(a+d,o+c),t.quadraticCurveTo(a,o+c,a,o+c-d),"center"===s&&"left"===i&&this.drawCaret(e,t,n,r),t.lineTo(a,o+u),t.quadraticCurveTo(a,o,a+u,o),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=$D[e.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=rB(this,e),a=Object.assign({},n,this._size),o=sB(t,e,a),l=aB(e,a,o,t);r._to===l.x&&i._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=JN(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,r,t),DP(e,t.textDirection),i.y+=s.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),BP(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.chart.getDatasetMeta(t);if(!r)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:r.data[n],index:n}})),i=!dk(n,r),s=this._positionChanged(r,t);(i||s)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],s=this._getActiveElements(e,i,t,n),a=this._positionChanged(s,e),o=t||!dk(s,i)||a;return o&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,n,r){const i=this.options;if("mouseout"===e.type)return[];if(!r)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const s=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&s.reverse(),s}_positionChanged(e,t){const{caretX:n,caretY:r,options:i}=this,s=$D[i.position].call(this,e,t);return!1!==s&&(n!==s.x||r!==s.y)}}var fB={id:"tooltip",_element:dB,positioners:$D,afterInit(e,t,n){n&&(e.tooltip=new dB({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:uB},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},pB=Object.freeze({__proto__:null,Colors:SD,Decimation:MD,Filler:VD,Legend:JD,SubTitle:ZD,Title:qD,Tooltip:fB});function mB(e,t,n,r){const i=e.indexOf(t);if(-1===i)return((e,t,n,r)=>("string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,r);return i!==e.lastIndexOf(t)?n:i}function gB(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class vB extends vL{static id="category";static defaults=(()=>({ticks:{callback:gB}}))();constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(rk(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:Yk(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:mB(n,e,lk(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=e;s<=t;s++)r.push({value:s});return r}getLabelForValue(e){return gB.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function xB(e,t){const n=[],{bounds:r,step:i,min:s,max:a,precision:o,count:l,maxTicks:c,maxDigits:u,includeBounds:h}=e,d=i||1,f=c-1,{min:p,max:m}=t,g=!rk(s),v=!rk(a),x=!rk(l),b=(m-p)/(u+1);let y,w,_,A,S=Bk((m-p)/f/d)*d;if(S<1e-14&&!g&&!v)return[{value:p},{value:m}];A=Math.ceil(m/S)-Math.floor(p/S),A>f&&(S=Bk(A*S/f/d)*d),rk(o)||(y=Math.pow(10,o),S=Math.ceil(S*y)/y),"ticks"===r?(w=Math.floor(p/S)*S,_=Math.ceil(m/S)*S):(w=p,_=m),g&&v&&i&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((a-s)/i,S/1e3)?(A=Math.round(Math.min((a-s)/S,c)),S=(a-s)/A,w=s,_=a):x?(w=g?s:w,_=v?a:_,A=l-1,S=(_-w)/A):(A=(_-w)/S,A=Dk(A,Math.round(A),S/1e3)?Math.round(A):Math.ceil(A));const E=Math.max(zk(S),zk(w));y=Math.pow(10,rk(o)?E:o),w=Math.round(w*y)/y,_=Math.round(_*y)/y;let T=0;for(g&&(h&&w!==s?(n.push({value:s}),w<s&&T++,Dk(Math.round((w+T*S)*y)/y,s,bB(s,b,e))&&T++):w<s&&T++);T<A;++T){const e=Math.round((w+T*S)*y)/y;if(v&&e>a)break;n.push({value:e})}return v&&h&&_!==a?n.length&&Dk(n[n.length-1].value,a,bB(a,b,e))?n[n.length-1].value=a:n.push({value:a}):v&&_!==a||n.push({value:_}),n}function bB(e,t,n){let{horizontal:r,minRotation:i}=n;const s=Uk(i),a=(r?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/a,o)}class yB extends vL{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return rk(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const s=e=>r=t?r:e,a=e=>i=n?i:e;if(e){const e=Lk(r),t=Lk(i);e<0&&t<0?a(0):e>0&&t>0&&s(0)}if(r===i){let t=0===i?1:Math.abs(.05*i);a(i+t),e||s(r-t)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=xB({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&Fk(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return vN(e,this.chart.options.locale,this.options.ticks.format)}}class wB extends yB{static id="linear";static defaults=(()=>({ticks:{callback:bN.formatters.numeric}}))();determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ak(e)?e:0,this.max=ak(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Uk(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const _B=e=>Math.floor(Ik(e)),AB=(e,t)=>Math.pow(10,_B(e)+t);function SB(e){return 1===e/Math.pow(10,_B(e))}function EB(e,t,n){const r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}function TB(e,t){let{min:n,max:r}=t;n=ok(e.min,n);const i=[],s=_B(n);let a=function(e,t){let n=_B(t-e);for(;EB(e,t,n)>10;)n++;for(;EB(e,t,n)<10;)n--;return Math.min(n,_B(e))}(n,r),o=a<0?Math.pow(10,Math.abs(a)):1;const l=Math.pow(10,a),c=s>a?Math.pow(10,s):0,u=Math.round((n-c)*o)/o,h=Math.floor((n-c)/l/10)*l*10;let d=Math.floor((u-h)/Math.pow(10,a)),f=ok(e.min,Math.round((c+h+d*Math.pow(10,a))*o)/o);for(;f<r;)i.push({value:f,major:SB(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(a++,d=2,o=a>=0?1:o),f=Math.round((c+h+d*Math.pow(10,a))*o)/o;const p=ok(e.max,f);return i.push({value:p,major:SB(p),significand:d}),i}class MB extends vL{static id="logarithmic";static defaults=(()=>({ticks:{callback:bN.formatters.logarithmic,major:{enabled:!0}}}))();constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=yB.prototype.parse.apply(this,[e,t]);if(0!==n)return ak(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ak(e)?Math.max(0,e):null,this.max=ak(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ak(this._userMin)&&(this.min=e===AB(this.min,0)?AB(this.min,-1):AB(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,r=this.max;const i=t=>n=e?n:t,s=e=>r=t?r:e;n===r&&(n<=0?(i(1),s(10)):(i(AB(n,-1)),s(AB(r,1)))),n<=0&&i(AB(r,-1)),r<=0&&s(AB(n,1)),this.min=n,this.max=r}buildTicks(){const e=this.options,t=TB({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&Fk(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":vN(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Ik(e),this._valueRange=Ik(this.max)-Ik(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ik(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function CB(e){const t=e.ticks;if(t.display&&e.display){const e=JN(t.backdropPadding);return lk(t.font&&t.font.size,EN.font.size)+e.height}return 0}function RB(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function kB(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],s=e._pointLabels.length,a=e.options.pointLabels,o=a.centerPointLabels?Ek/s:0;for(let h=0;h<s;h++){const s=a.setContext(e.getPointLabelContext(h));i[h]=s.padding;const d=e.getPointPosition(h,e.drawingArea+i[h],o),f=KN(s.font),p=(l=e.ctx,c=f,u=ik(u=e._pointLabels[h])?u:[u],{w:MN(l,c.string,u),h:u.length*c.lineHeight});r[h]=p;const m=Wk(e.getIndexAngle(h)+o),g=Math.round(jk(m));NB(n,t,m,RB(g,d.x,p.w,0,180),RB(g,d.y,p.h,90,270))}var l,c,u;e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const r=[],i=e._pointLabels.length,s=e.options,{centerPointLabels:a,display:o}=s.pointLabels,l={extra:CB(s)/2,additionalAngle:a?Ek/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=t[u];const i=PB(e,u,l);r.push(i),"auto"===o&&(i.visible=IB(i,c),i.visible&&(c=i))}return r}(e,r,i)}function NB(e,t,n,r,i){const s=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let o=0,l=0;r.start<t.l?(o=(t.l-r.start)/s,e.l=Math.min(e.l,t.l-o)):r.end>t.r&&(o=(r.end-t.r)/s,e.r=Math.max(e.r,t.r+o)),i.start<t.t?(l=(t.t-i.start)/a,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/a,e.b=Math.max(e.b,t.b+l))}function PB(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:s,padding:a,size:o}=n,l=e.getPointPosition(t,r+i+a,s),c=Math.round(jk(Wk(l.angle+kk))),u=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(l.y,o.h,c),h=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),d=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(l.x,o.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+o.w,bottom:u+o.h}}function IB(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:s}=e;return!(PN({x:n,y:r},t)||PN({x:n,y:s},t)||PN({x:i,y:r},t)||PN({x:i,y:s},t))}function LB(e,t,n){const{left:r,top:i,right:s,bottom:a}=n,{backdropColor:o}=t;if(!rk(o)){const n=YN(t.borderRadius),l=JN(t.backdropPadding);e.fillStyle=o;const c=r-l.left,u=i-l.top,h=s-r+l.width,d=a-i+l.height;Object.values(n).some((e=>0!==e))?(e.beginPath(),jN(e,{x:c,y:u,w:h,h:d,radius:n}),e.fill()):e.fillRect(c,u,h,d)}}function DB(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,Tk);else{let n=e.getPointPosition(0,t);i.moveTo(n.x,n.y);for(let s=1;s<r;s++)n=e.getPointPosition(s,t),i.lineTo(n.x,n.y)}}class BB extends yB{static id="radialLinear";static defaults=(()=>({display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:bN.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}))();static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=JN(CB(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=ak(e)&&!isNaN(e)?e:0,this.max=ak(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/CB(this.options))}generateTickLabels(e){yB.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const n=uk(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?kB(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}getIndexAngle(e){return Wk(e*(Tk/(this._pointLabels.length||1))+Uk(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(rk(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(rk(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return QN(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.getIndexAngle(e)-kk+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:r,bottom:i}=this._pointLabelItems[e];return{left:t,top:n,right:r,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),DB(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:r,border:i}=t,s=this._pointLabels.length;let a,o,l;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const t=e._pointLabelItems[i];if(!t.visible)continue;const s=r.setContext(e.getPointLabelContext(i));LB(n,s,t);const a=KN(s.font),{x:o,y:l,textAlign:c}=t;UN(n,e._pointLabels[i],o,l+a.lineHeight/2,a,{color:s.color,textAlign:c,textBaseline:"middle"})}}(this,s),r.display&&this.ticks.forEach(((e,t)=>{if(0!==t||0===t&&this.min<0){o=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),a=r.setContext(n),l=i.setContext(n);!function(e,t,n,r,i){const s=e.ctx,a=t.circular,{color:o,lineWidth:l}=t;!a&&!r||!o||!l||n<0||(s.save(),s.strokeStyle=o,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),DB(e,n,a,r),s.closePath(),s.stroke(),s.restore())}(this,a,o,s,l)}})),n.display){for(e.save(),a=s-1;a>=0;a--){const r=n.setContext(this.getPointLabelContext(a)),{color:i,lineWidth:s}=r;s&&i&&(e.lineWidth=s,e.strokeStyle=i,e.setLineDash(r.borderDash),e.lineDashOffset=r.borderDashOffset,o=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(a,o),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let i,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((r,a)=>{if(0===a&&this.min>=0&&!t.reverse)return;const o=n.setContext(this.getContext(a)),l=KN(o.font);if(i=this.getDistanceFromCenterForValue(this.ticks[a].value),o.showLabelBackdrop){e.font=l.string,s=e.measureText(r.label).width,e.fillStyle=o.backdropColor;const t=JN(o.backdropPadding);e.fillRect(-s/2-t.left,-i-l.size/2-t.top,s+t.width,l.size+t.height)}UN(e,r.label,0,-i,l,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})})),e.restore()}drawTitle(){}}const OB={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},FB=Object.keys(OB);function UB(e,t){return e-t}function jB(e,t){if(rk(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let a=t;return"function"===typeof r&&(a=r(a)),ak(a)||(a="string"===typeof r?n.parse(a,r):n.parse(a)),null===a?null:(i&&(a="week"!==i||!Ok(s)&&!0!==s?n.startOf(a,i):n.startOf(a,"isoWeek",s)),+a)}function zB(e,t,n,r){const i=FB.length;for(let s=FB.indexOf(e);s<i-1;++s){const e=OB[FB[s]],i=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(i*e.size))<=r)return FB[s]}return FB[i-1]}function HB(e,t,n){if(n){if(n.length){const{lo:r,hi:i}=Kk(n,t);e[n[r]>=t?n[r]:n[i]]=!0}}else e[t]=!0}function GB(e,t,n){const r=[],i={},s=t.length;let a,o;for(a=0;a<s;++a)o=t[a],i[o]=a,r.push({value:o,major:!1});return 0!==s&&n?function(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),a=t[t.length-1].value;let o,l;for(o=s;o<=a;o=+i.add(o,1,r))l=n[o],l>=0&&(t[l].major=!0);return t}(e,r,i,n):r}class VB extends vL{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),r=this._adapter=new AI(e.adapters.date);r.init(t),vk(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:jB(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:i,minDefined:s,maxDefined:a}=this.getUserBounds();function o(e){s||isNaN(e.min)||(r=Math.min(r,e.min)),a||isNaN(e.max)||(i=Math.max(i,e.max))}s&&a||(o(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||o(this.getMinMax(!1))),r=ak(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),i=ak(i)&&!isNaN(i)?i:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,s=function(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}(r,i,this.max);return this._unit=t.unit||(n.autoSkip?zB(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(e,t,n,r,i){for(let s=FB.length-1;s>=FB.indexOf(n);s--){const n=FB[s];if(OB[n].common&&e._adapter.diff(i,r,n)>=t-1)return n}return FB[n?FB.indexOf(n):0]}(this,s.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=FB.indexOf(e)+1,n=FB.length;t<n;++t)if(OB[FB[t]].common)return FB[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&s.reverse(),GB(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,i=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),r=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),i=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const s=n.length<3?.5:.25;r=Yk(r,0,s),i=Yk(i,0,s),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,i=r.time,s=i.unit||zB(i.minUnit,t,n,this._getLabelCapacity(t)),a=lk(r.ticks.stepSize,1),o="week"===s&&i.isoWeekday,l=Ok(o)||!0===o,c={};let u,h,d=t;if(l&&(d=+e.startOf(d,"isoWeek",o)),d=+e.startOf(d,l?"day":s),e.diff(n,t,s)>1e5*a)throw new Error(t+" and "+n+" are too far apart with stepSize of "+a+" "+s);const f="data"===r.ticks.source&&this.getDataTimestamps();for(u=d,h=0;u<n;u=+e.add(u,a,s),h++)HB(c,u,f);return u!==n&&"ticks"!==r.bounds&&1!==h||HB(c,u,f),Object.keys(c).sort(UB).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,r=this._unit,i=t||n[r];return this._adapter.format(e,i)}_tickFormatFunction(e,t,n,r){const i=this.options,s=i.ticks.callback;if(s)return uk(s,[e,t,n],this);const a=i.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&a[o],u=l&&a[l],h=n[t],d=l&&u&&h&&h.major;return this._adapter.format(e,r||(d?u:c))}generateTickLabels(e){let t,n,r;for(t=0,n=e.length;t<n;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=Uk(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(r),s=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:n*i+a*s,h:n*s+a*i}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,i=this._tickFormatFunction(e,0,GB(this,[e],this._majorUnit),r),s=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return a>0?a:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,t=r.length;e<t;++e)n=n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(t=0,n=r.length;t<n;++t)e.push(jB(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return eN(e.sort(UB))}}function WB(e,t,n){let r,i,s,a,o=0,l=e.length-1;n?(t>=e[o].pos&&t<=e[l].pos&&({lo:o,hi:l}=qk(e,"pos",t)),({pos:r,time:s}=e[o]),({pos:i,time:a}=e[l])):(t>=e[o].time&&t<=e[l].time&&({lo:o,hi:l}=qk(e,"time",t)),({time:r,pos:s}=e[o]),({time:i,pos:a}=e[l]));const c=i-r;return c?s+(a-s)*(t-r)/c:s}class XB extends VB{static id="timeseries";static defaults=(()=>VB.defaults)();constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=WB(t,this.min),this._tableRange=WB(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,r=[],i=[];let s,a,o,l,c;for(s=0,a=e.length;s<a;++s)l=e[s],l>=t&&l<=n&&r.push(l);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(s=0,a=r.length;s<a;++s)c=r[s+1],o=r[s-1],l=r[s],Math.round((c+o)/2)!==l&&i.push({time:l,pos:s/(a-1)});return i}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(WB(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return WB(this._table,n*this._tableRange+this._minPos,!0)}}const YB=[yI,vD,pB,Object.freeze({__proto__:null,CategoryScale:vB,LinearScale:wB,LogarithmicScale:MB,RadialLinearScale:BB,TimeScale:VB,TimeSeriesScale:XB})],JB="label";function KB(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function qB(e,t){e.labels=t}function QB(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:JB;const r=[];e.datasets=t.map((t=>{const i=e.datasets.find((e=>e[n]===t[n]));return i&&t.data&&!r.includes(i)?(r.push(i),Object.assign(i,t),i):{...t}}))}function ZB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JB;const n={labels:[],datasets:[]};return qB(n,e.labels),QB(n,e.datasets,t),n}function $B(e,t){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:a,type:o,data:l,options:c,plugins:u=[],fallbackContent:h,updateMode:d,...f}=e,p=(0,s.useRef)(null),m=(0,s.useRef)(null),g=()=>{p.current&&(m.current=new JL(p.current,{type:o,data:ZB(l,a),options:c&&{...c},plugins:u}),KB(t,m.current))},v=()=>{KB(t,null),m.current&&(m.current.destroy(),m.current=null)};return(0,s.useEffect)((()=>{!i&&m.current&&c&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(m.current,c)}),[i,c]),(0,s.useEffect)((()=>{!i&&m.current&&qB(m.current.config.data,l.labels)}),[i,l.labels]),(0,s.useEffect)((()=>{!i&&m.current&&l.datasets&&QB(m.current.config.data,l.datasets,a)}),[i,l.datasets]),(0,s.useEffect)((()=>{m.current&&(i?(v(),setTimeout(g)):m.current.update(d))}),[i,c,l.labels,l.datasets,d]),(0,s.useEffect)((()=>{m.current&&(v(),setTimeout(g))}),[o]),(0,s.useEffect)((()=>(g(),()=>v())),[]),s.createElement("canvas",{ref:p,role:"img",height:n,width:r,...f},h)}const eO=(0,s.forwardRef)($B);function tO(e,t){return JL.register(t),(0,s.forwardRef)(((t,n)=>s.createElement(eO,{...t,ref:n,type:e})))}const nO=tO("line",xI),rO=tO("bar",gI);JL.register(...YB);const iO=e=>{let{chartData:t,options:n}=e;return(0,$g.jsx)(nO,{data:t,options:n})},sO=e=>{let{chartData:t,options:n}=e;return(0,$g.jsx)(rO,{data:t,options:n})},aO={modes:{point:(e,t)=>lO(e,t,{intersect:!0}),nearest:(e,t,n)=>function(e,t,n){let r=Number.POSITIVE_INFINITY;return lO(e,t,n).reduce(((e,i)=>{const s=i.getCenterPoint(),a=function(e,t,n){if("x"===n)return{x:e.x,y:t.y};if("y"===n)return{x:t.x,y:e.y};return t}(t,s,n.axis),o=Gk(t,a);return o<r?(e=[i],r=o):o===r&&e.push(i),e}),[]).sort(((e,t)=>e._index-t._index)).slice(0,1)}(e,t,n),x:(e,t,n)=>lO(e,t,{intersect:n.intersect,axis:"x"}),y:(e,t,n)=>lO(e,t,{intersect:n.intersect,axis:"y"})}};function oO(e,t,n){return(aO.modes[n.mode]||aO.modes.nearest)(e,t,n)}function lO(e,t,n){return e.filter((e=>n.intersect?e.inRange(t.x,t.y):function(e,t,n){return"x"!==n&&"y"!==n?e.inRange(t.x,t.y,"x",!0)||e.inRange(t.x,t.y,"y",!0):e.inRange(t.x,t.y,n,!0)}(e,t,n.axis)))}function cO(e,t,n){const r=Math.cos(n),i=Math.sin(n),s=t.x,a=t.y;return{x:s+r*(e.x-s)-i*(e.y-a),y:a+i*(e.x-s)+r*(e.y-a)}}const uO=(e,t)=>t>e||e.length>t.length&&e.slice(0,t.length)===t,hO=.001,dO=(e,t,n)=>Math.min(n,Math.max(t,e)),fO=(e,t)=>e.value>=e.start-t&&e.value<=e.end+t;function pO(e,t,n){for(const r of Object.keys(e))e[r]=dO(e[r],t,n);return e}function mO(e,t,n,r){let{x:i,y:s,x2:a,y2:o}=t,{borderWidth:l,hitTolerance:c}=r;const u=(l+c)/2,h=e.x>=i-u-hO&&e.x<=a+u+hO,d=e.y>=s-u-hO&&e.y<=o+u+hO;return"x"===n?h:("y"===n||h)&&d}function gO(e,t,n,r){let{rect:i,center:s}=t,{rotation:a,borderWidth:o,hitTolerance:l}=r;return mO(cO(e,s,Uk(-a)),i,n,{borderWidth:o,hitTolerance:l})}function vO(e,t){const{centerX:n,centerY:r}=e.getProps(["centerX","centerY"],t);return{x:n,y:r}}const xO=e=>"string"===typeof e&&e.endsWith("%"),bO=e=>parseFloat(e)/100,yO=e=>dO(bO(e),0,1),wO=(e,t)=>({x:e,y:t,x2:e,y2:t,width:0,height:0}),_O={box:e=>wO(e.centerX,e.centerY),doughnutLabel:e=>wO(e.centerX,e.centerY),ellipse:e=>({centerX:e.centerX,centerY:e.centerX,radius:0,width:0,height:0}),label:e=>wO(e.centerX,e.centerY),line:e=>wO(e.x,e.y),point:e=>({centerX:e.centerX,centerY:e.centerY,radius:0,width:0,height:0}),polygon:e=>wO(e.centerX,e.centerY)};function AO(e,t){return"start"===t?0:"end"===t?e:xO(t)?yO(t)*e:e/2}function SO(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return"number"===typeof t?t:xO(t)?(n?yO(t):bO(t))*e:e}function EO(e,t,n,r){let{borderWidth:i,position:s,xAdjust:a,yAdjust:o}=n;const l=sk(r),c=t.width+(l?r.width:0)+i,u=t.height+(l?r.height:0)+i,h=TO(s),d=kO(e.x,c,a,h.x),f=kO(e.y,u,o,h.y);return{x:d,y:f,x2:d+c,y2:f+u,width:c,height:u,centerX:d+c/2,centerY:f+u/2}}function TO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center";return sk(e)?{x:lk(e.x,t),y:lk(e.y,t)}:{x:e=lk(e,t),y:e}}const MO=(e,t)=>e&&e.autoFit&&t<1;function CO(e,t){const n=e.font,r=ik(n)?n:[n];return MO(e,t)?r.map((function(e){const n=KN(e);return n.size=Math.floor(e.size*t),n.lineHeight=e.lineHeight,KN(n)})):r.map((e=>KN(e)))}function RO(e){return e&&(_k(e.xValue)||_k(e.yValue))}function kO(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e-AO(t,arguments.length>3?arguments[3]:void 0)+n}function NO(e,t,n){const r=n.init;if(r)return!0===r?IO(t,n):function(e,t,n){const r=uk(n.init,[{chart:e,properties:t,options:n}]);if(!0===r)return IO(t,n);if(sk(r))return r}(e,t,n)}function PO(e,t,n){let r=!1;return t.forEach((t=>{Ak(e[t])?(r=!0,n[t]=e[t]):_k(n[t])&&delete n[t]})),r}function IO(e,t){const n=t.type||"line";return _O[n](e)}const LO=new Map;function DO(e){if(e&&"object"===typeof e){const t=e.toString();return"[object HTMLImageElement]"===t||"[object HTMLCanvasElement]"===t}}function BO(e,t,n){let{x:r,y:i}=t;n&&(e.translate(r,i),e.rotate(Uk(n)),e.translate(-r,-i))}function OO(e,t){if(t&&t.borderWidth)return e.lineCap=t.borderCapStyle||"butt",e.setLineDash(t.borderDash),e.lineDashOffset=t.borderDashOffset,e.lineJoin=t.borderJoinStyle||"miter",e.lineWidth=t.borderWidth,e.strokeStyle=t.borderColor,!0}function FO(e,t){e.shadowColor=t.backgroundShadowColor,e.shadowBlur=t.shadowBlur,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY}function UO(e,t){const n=t.content;if(DO(n)){return{width:SO(n.width,t.width),height:SO(n.height,t.height)}}const r=CO(t),i=t.textStrokeWidth,s=ik(n)?n:[n],a=s.join()+(e=>e.reduce((function(e,t){return e+t.string}),""))(r)+i+(e._measureText?"-spriting":"");return LO.has(a)||LO.set(a,function(e,t,n,r){e.save();const i=t.length;let s=0,a=r;for(let o=0;o<i;o++){const i=n[Math.min(o,n.length-1)];e.font=i.string;const l=t[o];s=Math.max(s,e.measureText(l).width+r),a+=i.lineHeight}return e.restore(),{width:s,height:a}}(e,s,r,i)),LO.get(a)}function jO(e,t,n){const{x:r,y:i,width:s,height:a}=t;e.save(),FO(e,n);const o=OO(e,n);e.fillStyle=n.backgroundColor,e.beginPath(),jN(e,{x:r,y:i,w:s,h:a,radius:pO(YN(n.borderRadius),0,Math.min(s,a)/2)}),e.closePath(),e.fill(),o&&(e.shadowColor=n.borderShadowColor,e.stroke()),e.restore()}function zO(e,t,n,r){const i=n.content;if(DO(i))return e.save(),e.globalAlpha=function(e,t){const n=Ok(e)?e:t;return Ok(n)?dO(n,0,1):1}(n.opacity,i.style.opacity),e.drawImage(i,t.x,t.y,t.width,t.height),void e.restore();const s=ik(i)?i:[i],a=CO(n,r),o=n.color,l=ik(o)?o:[o],c=function(e,t){const{x:n,width:r}=e,i=t.textAlign;return"center"===i?n+r/2:"end"===i||"right"===i?n+r:n}(t,n),u=t.y+n.textStrokeWidth/2;e.save(),e.textBaseline="middle",e.textAlign=n.textAlign,function(e,t){if(t.textStrokeWidth>0)return e.lineJoin="round",e.miterLimit=2,e.lineWidth=t.textStrokeWidth,e.strokeStyle=t.textStrokeColor,!0}(e,n)&&function(e,t,n,r){let{x:i,y:s}=t;e.beginPath();let a=0;n.forEach((function(t,n){const o=r[Math.min(n,r.length-1)],l=o.lineHeight;e.font=o.string,e.strokeText(t,i,s+l/2+a),a+=l})),e.stroke()}(e,{x:c,y:u},s,a),function(e,t,n,r){let{x:i,y:s}=t,{fonts:a,colors:o}=r,l=0;n.forEach((function(t,n){const r=o[Math.min(n,o.length-1)],c=a[Math.min(n,a.length-1)],u=c.lineHeight;e.beginPath(),e.font=c.string,e.fillStyle=r,e.fillText(t,i,s+u/2+l),l+=u,e.fill()}))}(e,{x:c,y:u},s,{fonts:a,colors:l}),e.restore()}function HO(e,t,n,r){const{radius:i,options:s}=t,a=s.pointStyle,o=s.rotation;let l=(o||0)*Rk;if(DO(a))return e.save(),e.translate(n,r),e.rotate(l),e.drawImage(a,-a.width/2,-a.height/2,a.width,a.height),void e.restore();(e=>isNaN(e)||e<=0)(i)||function(e,t){let n,r,i,s,{x:a,y:o,radius:l,rotation:c,style:u,rad:h}=t;switch(e.beginPath(),u){default:e.arc(a,o,l,0,Tk),e.closePath();break;case"triangle":e.moveTo(a+Math.sin(h)*l,o-Math.cos(h)*l),h+=Pk,e.lineTo(a+Math.sin(h)*l,o-Math.cos(h)*l),h+=Pk,e.lineTo(a+Math.sin(h)*l,o-Math.cos(h)*l),e.closePath();break;case"rectRounded":s=.516*l,i=l-s,n=Math.cos(h+Nk)*i,r=Math.sin(h+Nk)*i,e.arc(a-n,o-r,s,h-Ek,h-kk),e.arc(a+r,o-n,s,h-kk,h),e.arc(a+n,o+r,s,h,h+kk),e.arc(a-r,o+n,s,h+kk,h+Ek),e.closePath();break;case"rect":if(!c){i=Math.SQRT1_2*l,e.rect(a-i,o-i,2*i,2*i);break}h+=Nk;case"rectRot":n=Math.cos(h)*l,r=Math.sin(h)*l,e.moveTo(a-n,o-r),e.lineTo(a+r,o-n),e.lineTo(a+n,o+r),e.lineTo(a-r,o+n),e.closePath();break;case"crossRot":h+=Nk;case"cross":n=Math.cos(h)*l,r=Math.sin(h)*l,e.moveTo(a-n,o-r),e.lineTo(a+n,o+r),e.moveTo(a+r,o-n),e.lineTo(a-r,o+n);break;case"star":n=Math.cos(h)*l,r=Math.sin(h)*l,e.moveTo(a-n,o-r),e.lineTo(a+n,o+r),e.moveTo(a+r,o-n),e.lineTo(a-r,o+n),h+=Nk,n=Math.cos(h)*l,r=Math.sin(h)*l,e.moveTo(a-n,o-r),e.lineTo(a+n,o+r),e.moveTo(a+r,o-n),e.lineTo(a-r,o+n);break;case"line":n=Math.cos(h)*l,r=Math.sin(h)*l,e.moveTo(a-n,o-r),e.lineTo(a+n,o+r);break;case"dash":e.moveTo(a,o),e.lineTo(a+Math.cos(h)*l,o+Math.sin(h)*l)}e.fill()}(e,{x:n,y:r,radius:i,rotation:o,style:a,rad:l})}const GO=["left","bottom","top","right"];function VO(e,t){const{pointX:n,pointY:r,options:i}=t,s=i.callout,a=s&&s.display&&function(e,t){const n=t.position;if(GO.includes(n))return n;return function(e,t){const{x:n,y:r,x2:i,y2:s,width:a,height:o,pointX:l,pointY:c,centerX:u,centerY:h,rotation:d}=e,f={x:u,y:h},p=t.start,m=SO(a,p),g=SO(o,p),v=[n,n+m,n+m,i],x=[r+g,s,r,s],b=[];for(let y=0;y<4;y++){const e=cO({x:v[y],y:x[y]},f,Uk(d));b.push({position:GO[y],distance:Gk(e,{x:l,y:c})})}return b.sort(((e,t)=>e.distance-t.distance))[0].position}(e,t)}(t,s);if(!a||function(e,t,n){const{pointX:r,pointY:i}=e,s=t.margin;let a=r,o=i;"left"===n?a+=s:"right"===n?a-=s:"top"===n?o+=s:"bottom"===n&&(o-=s);return e.inRange(a,o)}(t,s,a))return;e.save(),e.beginPath();if(!OO(e,s))return e.restore();const{separatorStart:o,separatorEnd:l}=function(e,t){const{x:n,y:r,x2:i,y2:s}=e,a=function(e,t){const{width:n,height:r,options:i}=e,s=i.callout.margin+i.borderWidth/2;if("right"===t)return n+s;if("bottom"===t)return r+s;return-s}(e,t);let o,l;"left"===t||"right"===t?(o={x:n+a,y:r},l={x:o.x,y:s}):(o={x:n,y:r+a},l={x:i,y:o.y});return{separatorStart:o,separatorEnd:l}}(t,a),{sideStart:c,sideEnd:u}=function(e,t,n){const{y:r,width:i,height:s,options:a}=e,o=a.callout.start,l=function(e,t){const n=t.side;if("left"===e||"top"===e)return-n;return n}(t,a.callout);let c,u;"left"===t||"right"===t?(c={x:n.x,y:r+SO(s,o)},u={x:c.x+l,y:c.y}):(c={x:n.x+SO(i,o),y:n.y},u={x:c.x,y:c.y+l});return{sideStart:c,sideEnd:u}}(t,a,o);(s.margin>0||0===i.borderWidth)&&(e.moveTo(o.x,o.y),e.lineTo(l.x,l.y)),e.moveTo(c.x,c.y),e.lineTo(u.x,u.y);const h=cO({x:n,y:r},t.getCenterPoint(),Uk(-t.rotation));e.lineTo(h.x,h.y),e.stroke(),e.restore()}const WO={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function XO(e,t,n){return ak(t="number"===typeof t?t:e.parse(t))?e.getPixelForValue(t):n}function YO(e,t,n){const r=t[n];if(r||"scaleID"===n)return r;const i=n.charAt(0),s=Object.values(e).filter((e=>e.axis&&e.axis===i));return s.length?s[0].id:i}function JO(e,t){if(e){const n=e.options.reverse;return{start:XO(e,t.min,n?t.end:t.start),end:XO(e,t.max,n?t.start:t.end)}}}function KO(e,t){const{chartArea:n,scales:r}=e,i=r[YO(r,t,"xScaleID")],s=r[YO(r,t,"yScaleID")];let a=n.width/2,o=n.height/2;return i&&(a=XO(i,t.xValue,i.left+i.width/2)),s&&(o=XO(s,t.yValue,s.top+s.height/2)),{x:a,y:o}}function qO(e,t){const n=e.scales,r=n[YO(n,t,"xScaleID")],i=n[YO(n,t,"yScaleID")];if(!r&&!i)return{};let{left:s,right:a}=r||e.chartArea,{top:o,bottom:l}=i||e.chartArea;const c=eF(r,{min:t.xMin,max:t.xMax,start:s,end:a});s=c.start,a=c.end;const u=eF(i,{min:t.yMin,max:t.yMax,start:l,end:o});return o=u.start,l=u.end,{x:s,y:o,x2:a,y2:l,width:a-s,height:l-o,centerX:s+(a-s)/2,centerY:o+(l-o)/2}}function QO(e,t){if(!RO(t)){const n=qO(e,t);let r=t.radius;r&&!isNaN(r)||(r=Math.min(n.width,n.height)/2,t.radius=r);const i=2*r,s=n.centerX+t.xAdjust,a=n.centerY+t.yAdjust;return{x:s-r,y:a-r,x2:s+r,y2:a+r,centerX:s,centerY:a,width:i,height:i,radius:r}}return function(e,t){const n=KO(e,t),r=2*t.radius;return{x:n.x-t.radius+t.xAdjust,y:n.y-t.radius+t.yAdjust,x2:n.x+t.radius+t.xAdjust,y2:n.y+t.radius+t.yAdjust,centerX:n.x+t.xAdjust,centerY:n.y+t.yAdjust,radius:t.radius,width:r,height:r}}(e,t)}function ZO(e,t){const{scales:n,chartArea:r}=e,i=n[t.scaleID],s={x:r.left,y:r.top,x2:r.right,y2:r.bottom};return i?function(e,t,n){const r=XO(e,n.value,NaN),i=XO(e,n.endValue,r);e.isHorizontal()?(t.x=r,t.x2=i):(t.y=r,t.y2=i)}(i,s,t):function(e,t,n){for(const r of Object.keys(WO)){const i=e[YO(e,n,r)];if(i){const{min:e,max:s,start:a,end:o,startProp:l,endProp:c}=WO[r],u=JO(i,{min:n[e],max:n[s],start:i[a],end:i[o]});t[l]=u.start,t[c]=u.end}}}(n,s,t),s}function $O(e,t){const n=qO(e,t);return n.initProperties=NO(e,n,t),n.elements=[{type:"label",optionScope:"label",properties:nF(e,n,t),initProperties:n.initProperties}],n}function eF(e,t){const n=JO(e,t)||t;return{start:Math.min(n.start,n.end),end:Math.max(n.start,n.end)}}function tF(e,t){const{start:n,end:r,borderWidth:i}=e,{position:s,padding:{start:a,end:o},adjust:l}=t;return n+i/2+l+AO(r-i-n-a-o-t.size,s)}function nF(e,t,n){const r=n.label;r.backgroundColor="transparent",r.callout.display=!1;const i=TO(r.position),s=JN(r.padding),a=UO(e.ctx,r),o=function(e,t,n,r){let{properties:i,options:s}=e;const{x:a,x2:o,width:l}=i;return tF({start:a,end:o,size:l,borderWidth:s.borderWidth},{position:n.x,padding:{start:r.left,end:r.right},adjust:s.label.xAdjust,size:t.width})}({properties:t,options:n},a,i,s),l=function(e,t,n,r){let{properties:i,options:s}=e;const{y:a,y2:o,height:l}=i;return tF({start:a,end:o,size:l,borderWidth:s.borderWidth},{position:n.y,padding:{start:r.top,end:r.bottom},adjust:s.label.yAdjust,size:t.height})}({properties:t,options:n},a,i,s),c=a.width+s.width,u=a.height+s.height;return{x:o,y:l,x2:o+c,y2:l+u,width:c,height:u,centerX:o+c/2,centerY:l+u/2,rotation:r.rotation}}const rF=["enter","leave"],iF=rF.concat("click");function sF(e,t,n){if(e.listened)switch(t.type){case"mousemove":case"mouseout":return function(e,t,n){if(!e.moveListened)return;let r;r="mousemove"===t.type?oO(e.visibleElements,t,n.interaction):[];const i=e.hovered;e.hovered=r;const s={state:e,event:t};let a=aF(s,"leave",i,r);return aF(s,"enter",r,i)||a}(e,t,n);case"click":return function(e,t,n){const r=e.listeners,i=oO(e.visibleElements,t,n.interaction);let s;for(const a of i)s=oF(a.options.click||r.click,a,t)||s;return s}(e,t,n)}}function aF(e,t,n,r){let i,{state:s,event:a}=e;for(const o of n)r.indexOf(o)<0&&(i=oF(o.options[t]||s.listeners[t],o,a)||i);return i}function oF(e,t,n){return!0===uk(e,[t.$context,n])}const lF=["afterDraw","beforeDraw"];function cF(e,t,n){if(e.hooked){return uk(t.options[n]||e.hooks[n],[t.$context])}}function uF(e,t,n){const r=function(e,t,n){const r=t.axis,i=t.id,s=r+"ScaleID",a={min:lk(t.min,Number.NEGATIVE_INFINITY),max:lk(t.max,Number.POSITIVE_INFINITY)};for(const o of n)o.scaleID===i?pF(o,t,["value","endValue"],a):YO(e,o,s)===i&&pF(o,t,[r+"Min",r+"Max",r+"Value"],a);return a}(e.scales,t,n);let i=hF(t,r,"min","suggestedMin");i=hF(t,r,"max","suggestedMax")||i,i&&Ak(t.handleTickRangeOptions)&&t.handleTickRangeOptions()}function hF(e,t,n,r){if(ak(t[n])&&!function(e,t,n){return _k(e[t])||_k(e[n])}(e.options,n,r)){const r=e[n]!==t[n];return e[n]=t[n],r}}function dF(e,t){for(const n of["scaleID","xScaleID","yScaleID"]){const r=YO(t,e,n);r&&!t[r]&&fF(e,n)&&console.warn(`No scale found with id '${r}' for annotation '${e.id}'`)}}function fF(e,t){if("scaleID"===t)return!0;const n=t.charAt(0);for(const r of["Min","Max","Value"])if(_k(e[n+r]))return!0;return!1}function pF(e,t,n,r){for(const i of n){const n=e[i];if(_k(n)){const e=t.parse(n);r.min=Math.min(r.min,e),r.max=Math.max(r.max,e)}}}class mF extends oL{inRange(e,t,n,r){const{x:i,y:s}=cO({x:e,y:t},this.getCenterPoint(r),Uk(-this.options.rotation));return mO({x:i,y:s},this.getProps(["x","y","x2","y2"],r),n,this.options)}getCenterPoint(e){return vO(this,e)}draw(e){e.save(),BO(e,this.getCenterPoint(),this.options.rotation),jO(e,this,this.options),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,t){return $O(e,t)}}mF.id="boxAnnotation",mF.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,hitTolerance:0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},mF.defaultRoutes={borderColor:"color",backgroundColor:"color"},mF.descriptors={label:{_fallback:!0}};class gF extends oL{inRange(e,t,n,r){return gO({x:e,y:t},{rect:this.getProps(["x","y","x2","y2"],r),center:this.getCenterPoint(r)},n,{rotation:this.rotation,borderWidth:0,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return vO(this,e)}draw(e){const t=this.options;t.display&&t.content&&(!function(e,t){const{_centerX:n,_centerY:r,_radius:i,_startAngle:s,_endAngle:a,_counterclockwise:o,options:l}=t;e.save();const c=OO(e,l);e.fillStyle=l.backgroundColor,e.beginPath(),e.arc(n,r,i,s,a,o),e.closePath(),e.fill(),c&&e.stroke();e.restore()}(e,this),e.save(),BO(e,this.getCenterPoint(),this.rotation),zO(e,this,t,this._fitRatio),e.restore())}resolveElementProperties(e,t){const n=function(e,t){return e.getSortedVisibleDatasetMetas().reduce((function(n,r){const i=r.controller;return i instanceof vI&&function(e,t,n){if(!t.autoHide)return!0;for(let r=0;r<n.length;r++)if(!n[r].hidden&&e.getDataVisibility(r))return!0}(e,t,r.data)&&(!n||i.innerRadius<n.controller.innerRadius)&&i.options.circumference>=90?r:n}),void 0)}(e,t);if(!n)return{};const{controllerMeta:r,point:i,radius:s}=function(e,t,n){let{chartArea:r}=e;const{left:i,top:s,right:a,bottom:o}=r,{innerRadius:l,offsetX:c,offsetY:u}=n.controller,h=(i+a)/2+c,d=(s+o)/2+u,f={left:Math.max(h-l,i),right:Math.min(h+l,a),top:Math.max(d-l,s),bottom:Math.min(d+l,o)},p={x:(f.left+f.right)/2,y:(f.top+f.bottom)/2},m=t.spacing+t.borderWidth/2,g=l-m,v=p.y>d,x=function(e,t,n,r){const i=Math.pow(n-e,2),s=Math.pow(r,2),a=-2*t,o=Math.pow(t,2)+i-s,l=Math.pow(a,2)-4*o;if(l<=0)return{_startAngle:0,_endAngle:Tk};const c=(-a-Math.sqrt(l))/2,u=(-a+Math.sqrt(l))/2;return{_startAngle:Hk({x:t,y:n},{x:c,y:e}).angle,_endAngle:Hk({x:t,y:n},{x:u,y:e}).angle}}(v?s+m:o-m,h,d,g),b={_centerX:h,_centerY:d,_radius:g,_counterclockwise:v,...x};return{controllerMeta:b,point:p,radius:Math.min(l,Math.min(f.right-f.left,f.bottom-f.top)/2)}}(e,t,n);let a=UO(e.ctx,t);const o=function(e,t){let{width:n,height:r}=e;const i=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));return 2*t/i}(a,s);MO(t,o)&&(a={width:a.width*o,height:a.height*o});const{position:l,xAdjust:c,yAdjust:u}=t,h=EO(i,a,{borderWidth:0,position:l,xAdjust:c,yAdjust:u});return{initProperties:NO(e,h,t),...h,...r,rotation:t.rotation,_fitRatio:o}}}gF.id="doughnutLabelAnnotation",gF.defaults={autoFit:!0,autoHide:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderColor:"transparent",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:0,color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,spacing:1,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0},gF.defaultRoutes={};class vF extends oL{inRange(e,t,n,r){return gO({x:e,y:t},{rect:this.getProps(["x","y","x2","y2"],r),center:this.getCenterPoint(r)},n,{rotation:this.rotation,borderWidth:this.options.borderWidth,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return vO(this,e)}draw(e){const t=this.options,n=!_k(this._visible)||this._visible;t.display&&t.content&&n&&(e.save(),BO(e,this.getCenterPoint(),this.rotation),VO(e,this),jO(e,this,t),zO(e,function(e){let{x:t,y:n,width:r,height:i,options:s}=e;const a=s.borderWidth/2,o=JN(s.padding);return{x:t+o.left+a,y:n+o.top+a,width:r-o.left-o.right-s.borderWidth,height:i-o.top-o.bottom-s.borderWidth}}(this),t),e.restore())}resolveElementProperties(e,t){let n;if(RO(t))n=KO(e,t);else{const{centerX:r,centerY:i}=qO(e,t);n={x:r,y:i}}const r=JN(t.padding),i=EO(n,UO(e.ctx,t),t,r);return{initProperties:NO(e,i,t),pointX:n.x,pointY:n.y,...i,rotation:t.rotation}}}vF.id="labelAnnotation",vF.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},vF.defaultRoutes={borderColor:"color"};const xF=(e,t,n)=>({x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}),bF=(e,t,n)=>xF(t,n,Math.abs((e-t.y)/(n.y-t.y))).x,yF=(e,t,n)=>xF(t,n,Math.abs((e-t.x)/(n.x-t.x))).y,wF=e=>e*e,_F=(e,t,n,r)=>(1-r)*(1-r)*e+2*(1-r)*r*t+r*r*n,AF=(e,t,n,r)=>({x:_F(e.x,t.x,n.x,r),y:_F(e.y,t.y,n.y,r)}),SF=(e,t,n,r)=>2*(1-r)*(t-e)+2*r*(n-t),EF=(e,t,n,r)=>-Math.atan2(SF(e.x,t.x,n.x,r),SF(e.y,t.y,n.y,r))+.5*Ek;class TF extends oL{inRange(e,t,n,r){const i=(this.options.borderWidth+this.options.hitTolerance)/2;if("x"!==n&&"y"!==n){const n={mouseX:e,mouseY:t},{path:s,ctx:a}=this;if(s){OO(a,this.options),a.lineWidth+=this.options.hitTolerance;const{chart:i}=this.$context,o=e*i.currentDevicePixelRatio,l=t*i.currentDevicePixelRatio,c=a.isPointInStroke(s,o,l)||RF(this,n,r);return a.restore(),c}return function(e,t){let{mouseX:n,mouseY:r}=t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hO,s=arguments.length>3?arguments[3]:void 0;const{x:a,y:o,x2:l,y2:c}=e.getProps(["x","y","x2","y2"],s),u=l-a,h=c-o,d=wF(u)+wF(h),f=0===d?-1:((n-a)*u+(r-o)*h)/d;let p,m;f<0?(p=a,m=o):f>1?(p=l,m=c):(p=a+f*u,m=o+f*h);return wF(n-p)+wF(r-m)<=i}(this,n,wF(i),r)||RF(this,n,r)}return function(e,t,n,r){let{mouseX:i,mouseY:s}=t,{hitSize:a,useFinalPosition:o}=r;const l=((e,t,n,r)=>{let{x:i,y:s,x2:a,y2:o}=n;return"y"===r?{start:Math.min(s,o),end:Math.max(s,o),value:t}:{start:Math.min(i,a),end:Math.max(i,a),value:e}})(i,s,e.getProps(["x","y","x2","y2"],o),n);return fO(l,a)||RF(e,{mouseX:i,mouseY:s},o,n)}(this,{mouseX:e,mouseY:t},n,{hitSize:i,useFinalPosition:r})}getCenterPoint(e){return vO(this,e)}draw(e){const{x:t,y:n,x2:r,y2:i,cp:s,options:a}=this;if(e.save(),!OO(e,a))return e.restore();FO(e,a);const o=Math.sqrt(Math.pow(r-t,2)+Math.pow(i-n,2));if(a.curve&&s)return function(e,t,n,r){const{x:i,y:s,x2:a,y2:o,options:l}=t,{startOpts:c,endOpts:u,startAdjust:h,endAdjust:d}=PF(t),f={x:i,y:s},p={x:a,y:o},m=EF(f,n,p,0),g=EF(f,n,p,1)-Ek,v=AF(f,n,p,h/r),x=AF(f,n,p,1-d/r),b=new Path2D;e.beginPath(),b.moveTo(v.x,v.y),b.quadraticCurveTo(n.x,n.y,x.x,x.y),e.shadowColor=l.borderShadowColor,e.stroke(b),t.path=b,t.ctx=e,DF(e,v,{angle:m,adjust:h},c),DF(e,x,{angle:g,adjust:d},u)}(e,this,s,o),e.restore();const{startOpts:l,endOpts:c,startAdjust:u,endAdjust:h}=PF(this),d=Math.atan2(i-n,r-t);e.translate(t,n),e.rotate(d),e.beginPath(),e.moveTo(0+u,0),e.lineTo(o-h,0),e.shadowColor=a.borderShadowColor,e.stroke(),LF(e,0,u,l),LF(e,o,-h,c),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,t){const n=ZO(e,t),{x:r,y:i,x2:s,y2:a}=n,o=function(e,t){let{x:n,y:r,x2:i,y2:s}=e,{top:a,right:o,bottom:l,left:c}=t;return!(n<c&&i<c||n>o&&i>o||r<a&&s<a||r>l&&s>l)}(n,e.chartArea),l=o?function(e,t,n){const{x:r,y:i}=CF(e,t,n),{x:s,y:a}=CF(t,e,n);return{x:r,y:i,x2:s,y2:a,width:Math.abs(s-r),height:Math.abs(a-i)}}({x:r,y:i},{x:s,y:a},e.chartArea):{x:r,y:i,x2:s,y2:a,width:Math.abs(s-r),height:Math.abs(a-i)};if(l.centerX=(s+r)/2,l.centerY=(a+i)/2,l.initProperties=NO(e,l,t),t.curve){const e={x:l.x,y:l.y},n={x:l.x2,y:l.y2};l.cp=function(e,t,n){const{x:r,y:i,x2:s,y2:a,centerX:o,centerY:l}=e,c=Math.atan2(a-i,s-r),u=TO(t.controlPoint,0);return cO({x:o+SO(n,u.x,!1),y:l+SO(n,u.y,!1)},{x:o,y:l},c)}(l,t,Gk(e,n))}const c=function(e,t,n){const r=n.borderWidth,i=JN(n.padding),s=UO(e.ctx,n),a=s.width+i.width+r,o=s.height+i.height+r;return function(e,t,n,r){const{width:i,height:s,padding:a}=n,{xAdjust:o,yAdjust:l}=t,c={x:e.x,y:e.y},u={x:e.x2,y:e.y2},h="auto"===t.rotation?function(e){const{x:t,y:n,x2:r,y2:i}=e,s=Math.atan2(i-n,r-t);return s>Ek/2?s-Ek:s<Ek/-2?s+Ek:s}(e):Uk(t.rotation),d=function(e,t,n){const r=Math.cos(n),i=Math.sin(n);return{w:Math.abs(e*r)+Math.abs(t*i),h:Math.abs(e*i)+Math.abs(t*r)}}(i,s,h),f=function(e,t,n,r){let i;const s=function(e,t){const{x:n,x2:r,y:i,y2:s}=e,a=Math.min(i,s)-t.top,o=Math.min(n,r)-t.left,l=t.bottom-Math.max(i,s),c=t.right-Math.max(n,r);return{x:Math.min(o,c),y:Math.min(a,l),dx:o<=c?1:-1,dy:a<=l?1:-1}}(e,r);i="start"===t.position?kF({w:e.x2-e.x,h:e.y2-e.y},n,t,s):"end"===t.position?1-kF({w:e.x-e.x2,h:e.y-e.y2},n,t,s):AO(1,t.position);return i}(e,t,{labelSize:d,padding:a},r),p=e.cp?AF(c,e.cp,u,f):xF(c,u,f),m={size:d.w,min:r.left,max:r.right,padding:a.left},g={size:d.h,min:r.top,max:r.bottom,padding:a.top},v=NF(p.x,m)+o,x=NF(p.y,g)+l;return{x:v-i/2,y:x-s/2,x2:v+i/2,y2:x+s/2,centerX:v,centerY:x,pointX:p.x,pointY:p.y,width:i,height:s,rotation:jk(h)}}(t,n,{width:a,height:o,padding:i},e.chartArea)}(e,l,t.label);return c._visible=o,l.elements=[{type:"label",optionScope:"label",properties:c,initProperties:l.initProperties}],l}}TF.id="lineAnnotation";const MF={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};function CF(e,t,n){let{x:r,y:i}=e,{top:s,right:a,bottom:o,left:l}=n;return r<l&&(i=yF(l,{x:r,y:i},t),r=l),r>a&&(i=yF(a,{x:r,y:i},t),r=a),i<s&&(r=bF(s,{x:r,y:i},t),i=s),i>o&&(r=bF(o,{x:r,y:i},t),i=o),{x:r,y:i}}function RF(e,t,n,r){let{mouseX:i,mouseY:s}=t;const a=e.label;return a.options.display&&a.inRange(i,s,r,n)}function kF(e,t,n,r){const{labelSize:i,padding:s}=t,a=e.w*r.dx,o=e.h*r.dy,l=a>0&&(i.w/2+s.left-r.x)/a,c=o>0&&(i.h/2+s.top-r.y)/o;return dO(Math.max(l,c),0,.25)}function NF(e,t){const{size:n,min:r,max:i,padding:s}=t,a=n/2;return n>i-r?(i+r)/2:(r>=e-s-a&&(e=r+s+a),i<=e+s+a&&(e=i-s-a),e)}function PF(e){const t=e.options,n=t.arrowHeads&&t.arrowHeads.start,r=t.arrowHeads&&t.arrowHeads.end;return{startOpts:n,endOpts:r,startAdjust:IF(e,n),endAdjust:IF(e,r)}}function IF(e,t){if(!t||!t.display)return 0;const{length:n,width:r}=t,i=e.options.borderWidth/2,s={x:n,y:r+i},a={x:0,y:i};return Math.abs(bF(0,s,a))}function LF(e,t,n,r){if(!r||!r.display)return;const{length:i,width:s,fill:a,backgroundColor:o,borderColor:l}=r,c=Math.abs(t-i)+n;e.beginPath(),FO(e,r),OO(e,r),e.moveTo(c,-s),e.lineTo(t+n,0),e.lineTo(c,s),!0===a?(e.fillStyle=o||l,e.closePath(),e.fill(),e.shadowColor="transparent"):e.shadowColor=r.borderShadowColor,e.stroke()}function DF(e,t,n,r){let{x:i,y:s}=t,{angle:a,adjust:o}=n;r&&r.display&&(e.save(),e.translate(i,s),e.rotate(a),LF(e,0,-o,r),e.restore())}TF.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},MF),fill:!1,length:12,start:Object.assign({},MF),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,hitTolerance:0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},vF.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},TF.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}},TF.defaultRoutes={borderColor:"color"};class BF extends oL{inRange(e,t,n,r){const i=this.options.rotation,s=(this.options.borderWidth+this.options.hitTolerance)/2;if("x"!==n&&"y"!==n)return function(e,t,n,r){const{width:i,height:s,centerX:a,centerY:o}=t,l=i/2,c=s/2;if(l<=0||c<=0)return!1;const u=Uk(n||0),h=Math.cos(u),d=Math.sin(u),f=Math.pow(h*(e.x-a)+d*(e.y-o),2),p=Math.pow(d*(e.x-a)-h*(e.y-o),2);return f/Math.pow(l+r,2)+p/Math.pow(c+r,2)<=1.0001}({x:e,y:t},this.getProps(["width","height","centerX","centerY"],r),i,s);const{x:a,y:o,x2:l,y2:c}=this.getProps(["x","y","x2","y2"],r),u="y"===n?{start:o,end:c}:{start:a,end:l},h=cO({x:e,y:t},this.getCenterPoint(r),Uk(-i));return h[n]>=u.start-s-hO&&h[n]<=u.end+s+hO}getCenterPoint(e){return vO(this,e)}draw(e){const{width:t,height:n,centerX:r,centerY:i,options:s}=this;e.save(),BO(e,this.getCenterPoint(),s.rotation),FO(e,this.options),e.beginPath(),e.fillStyle=s.backgroundColor;const a=OO(e,s);e.ellipse(r,i,n/2,t/2,Ek/2,0,2*Ek),e.fill(),a&&(e.shadowColor=s.borderShadowColor,e.stroke()),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,t){return $O(e,t)}}BF.id="ellipseAnnotation",BF.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,label:Object.assign({},mF.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},BF.defaultRoutes={borderColor:"color",backgroundColor:"color"},BF.descriptors={label:{_fallback:!0}};class OF extends oL{inRange(e,t,n,r){const{x:i,y:s,x2:a,y2:o,width:l}=this.getProps(["x","y","x2","y2","width"],r),c=(this.options.borderWidth+this.options.hitTolerance)/2;if("x"!==n&&"y"!==n)return function(e,t,n,r){return!(!e||!t||n<=0)&&Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<=Math.pow(n+r,2)}({x:e,y:t},this.getCenterPoint(r),l/2,c);return fO("y"===n?{start:s,end:o,value:t}:{start:i,end:a,value:e},c)}getCenterPoint(e){return vO(this,e)}draw(e){const t=this.options,n=t.borderWidth;if(t.radius<.1)return;e.save(),e.fillStyle=t.backgroundColor,FO(e,t);const r=OO(e,t);HO(e,this,this.centerX,this.centerY),r&&!DO(t.pointStyle)&&(e.shadowColor=t.borderShadowColor,e.stroke()),e.restore(),t.borderWidth=n}resolveElementProperties(e,t){const n=QO(e,t);return n.initProperties=NO(e,n,t),n}}OF.id="pointAnnotation",OF.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},OF.defaultRoutes={borderColor:"color",backgroundColor:"color"};class FF extends oL{inRange(e,t,n,r){if("x"!==n&&"y"!==n)return this.options.radius>=.1&&this.elements.length>1&&function(e,t,n,r){let i=!1,s=e[e.length-1].getProps(["bX","bY"],r);for(const a of e){const e=a.getProps(["bX","bY"],r);e.bY>n!==s.bY>n&&t<(s.bX-e.bX)*(n-e.bY)/(s.bY-e.bY)+e.bX&&(i=!i),s=e}return i}(this.elements,e,t,r);const i=cO({x:e,y:t},this.getCenterPoint(r),Uk(-this.options.rotation)),s=this.elements.map((e=>"y"===n?e.bY:e.bX)),a=Math.min(...s),o=Math.max(...s);return i[n]>=a&&i[n]<=o}getCenterPoint(e){return vO(this,e)}draw(e){const{elements:t,options:n}=this;e.save(),e.beginPath(),e.fillStyle=n.backgroundColor,FO(e,n);const r=OO(e,n);let i=!0;for(const s of t)i?(e.moveTo(s.x,s.y),i=!1):e.lineTo(s.x,s.y);e.closePath(),e.fill(),r&&(e.shadowColor=n.borderShadowColor,e.stroke()),e.restore()}resolveElementProperties(e,t){const n=QO(e,t),{sides:r,rotation:i}=t,s=[],a=2*Ek/r;let o=i*Rk;for(let l=0;l<r;l++,o+=a){const r=UF(n,t,o);r.initProperties=NO(e,n,t),s.push(r)}return n.elements=s,n}}function UF(e,t,n){let{centerX:r,centerY:i}=e,{radius:s,borderWidth:a,hitTolerance:o}=t;const l=(a+o)/2,c=Math.sin(n),u=Math.cos(n),h={x:r+c*s,y:i-u*s};return{type:"point",optionScope:"point",properties:{x:h.x,y:h.y,centerX:h.x,centerY:h.y,bX:r+c*(s+l),bY:i-u*(s+l)}}}FF.id="polygonAnnotation",FF.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},FF.defaultRoutes={borderColor:"color",backgroundColor:"color"};const jF={box:mF,doughnutLabel:gF,ellipse:BF,label:vF,line:TF,point:OF,polygon:FF};Object.keys(jF).forEach((e=>{EN.describe(`elements.${jF[e].id}`,{_fallback:"plugins.annotation.common"})}));const zF={update:Object.assign},HF=iF.concat(lF),GF=(e,t)=>sk(t)?QF(e,t):e,VF=e=>"color"===e||"font"===e;function WF(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"line";return jF[e]?e:(console.warn(`Unknown annotation type: '${e}', defaulting to 'line'`),"line")}function XF(e,t,n,r){const i=function(e,t,n){if("reset"===n||"none"===n||"resize"===n)return zF;return new KP(e,t)}(e,n.animations,r),s=t.annotations,a=function(e,t){const n=t.length,r=e.length;if(r<n){const t=n-r;e.splice(r,0,...new Array(t))}else r>n&&e.splice(n,r-n);return e}(t.elements,s);for(let o=0;o<s.length;o++){const t=s[o],n=KF(a,o,t.type),r=t.setContext(ZF(e,n,a,t)),l=n.resolveElementProperties(e,r);l.skip=YF(l),"elements"in l&&(JF(n,l.elements,r,i),delete l.elements),_k(n.x)||Object.assign(n,l),Object.assign(n,l.initProperties),l.options=qF(r),i.update(n,l)}}function YF(e){return isNaN(e.x)||isNaN(e.y)}function JF(e,t,n,r){const i=e.elements||(e.elements=[]);i.length=t.length;for(let s=0;s<t.length;s++){const e=t[s],a=e.properties,o=KF(i,s,e.type,e.initProperties),l=n[e.optionScope].override(e);a.options=qF(l),r.update(o,a)}}function KF(e,t,n,r){const i=jF[WF(n)];let s=e[t];return s&&s instanceof i||(s=e[t]=new i,Object.assign(s,r)),s}function qF(e){const t=jF[WF(e.type)],n={};n.id=e.id,n.type=e.type,n.drawTime=e.drawTime,Object.assign(n,QF(e,t.defaults),QF(e,t.defaultRoutes));for(const r of HF)n[r]=e[r];return n}function QF(e,t){const n={};for(const r of Object.keys(t)){const i=t[r],s=e[r];VF(r)&&ik(s)?n[r]=s.map((e=>GF(e,i))):n[r]=GF(s,i)}return n}function ZF(e,t,n,r){return t.$context||(t.$context=Object.assign(Object.create(e.getContext()),{element:t,get elements(){return n.filter((e=>e&&e.options))},id:r.id,type:"annotation"}))}const $F=new Map,eU=e=>"doughnutLabel"!==e.type,tU=iF.concat(lF);var nU={id:"annotation",version:"3.1.0",beforeRegister(){!function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=n.split(".");let s=0;for(const a of t.split(".")){const o=i[s++];if(parseInt(a,10)<parseInt(o,10))break;if(uO(o,a)){if(r)throw new Error(`${e} v${n} is not supported. v${t} or newer is required.`);return!1}}}("chart.js","4.0",JL.version)},afterRegister(){JL.register(jF)},afterUnregister(){JL.unregister(jF)},beforeInit(e){$F.set(e,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(e,t,n){const r=$F.get(e).annotations=[];let i=n.annotations;sk(i)?Object.keys(i).forEach((e=>{const t=i[e];sk(t)&&(t.id=e,r.push(t))})):ik(i)&&r.push(...i),function(e,t){for(const n of e)dF(n,t)}(r.filter(eU),e.scales)},afterDataLimits(e,t){const n=$F.get(e);uF(e,t.scale,n.annotations.filter(eU).filter((e=>e.display&&e.adjustScaleRange)))},afterUpdate(e,t,n){const r=$F.get(e);!function(e,t,n){t.listened=PO(n,iF,t.listeners),t.moveListened=!1,rF.forEach((e=>{Ak(n[e])&&(t.moveListened=!0)})),t.listened&&t.moveListened||t.annotations.forEach((e=>{!t.listened&&Ak(e.click)&&(t.listened=!0),t.moveListened||rF.forEach((n=>{Ak(e[n])&&(t.listened=!0,t.moveListened=!0)}))}))}(0,r,n),XF(e,r,n,t.mode),r.visibleElements=r.elements.filter((e=>!e.skip&&e.options.display)),function(e,t,n){const r=t.visibleElements;t.hooked=PO(n,lF,t.hooks),t.hooked||r.forEach((e=>{t.hooked||lF.forEach((n=>{Ak(e.options[n])&&(t.hooked=!0)}))}))}(0,r,n)},beforeDatasetsDraw(e,t,n){rU(e,"beforeDatasetsDraw",n.clip)},afterDatasetsDraw(e,t,n){rU(e,"afterDatasetsDraw",n.clip)},beforeDatasetDraw(e,t,n){rU(e,t.index,n.clip)},beforeDraw(e,t,n){rU(e,"beforeDraw",n.clip)},afterDraw(e,t,n){rU(e,"afterDraw",n.clip)},beforeEvent(e,t,n){sF($F.get(e),t.event,n)&&(t.changed=!0)},afterDestroy(e){$F.delete(e)},getAnnotations(e){const t=$F.get(e);return t?t.elements:[]},_getAnnotationElementsAtEventForMode:(e,t,n)=>oO(e,t,n),defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"},colors:{properties:["backgroundColor","borderColor"],type:"color"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:e=>!tU.includes(e)&&"init"!==e,annotations:{_allKeys:!1,_fallback:(e,t)=>`elements.${jF[WF(t.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:VF,_fallback:!0},_indexable:VF}},additionalOptionScopes:[""]};function rU(e,t,n){const{ctx:r,chartArea:i}=e,s=$F.get(e);n&&IN(r,i);const a=function(e,t){const n=[];for(const r of e)if(r.options.drawTime===t&&n.push({element:r,main:!0}),r.elements&&r.elements.length)for(const e of r.elements)e.options.display&&e.options.drawTime===t&&n.push({element:e});return n}(s.visibleElements,t).sort(((e,t)=>e.element.options.z-t.element.options.z));for(const o of a)iU(r,i,s,o);n&&LN(r)}function iU(e,t,n,r){const i=r.element;r.main?(cF(n,i,"beforeDraw"),i.draw(e,t),cF(n,i,"afterDraw")):i.draw(e,t)}JL.register(...YB,nU);const sU=e=>{let{socketData:t=[],onChartClick:n}=e;const[r,i]=(0,s.useState)(""),[a,o]=(0,s.useState)(!1),[l,c]=(0,s.useState)({labels:[],datasets:[{data:[],borderColor:"rgb(0, 119, 228)",backgroundColor:"rgba(0, 119, 228, 0.1)",tension:0,fill:!0,borderWidth:4}]}),[u,h]=(0,s.useState)(t),[d,f]=(0,s.useState)(localStorage.getItem("selectedButton")||"1M");(0,s.useEffect)((()=>{h(null),t&&h(t)}),[t]),(0,s.useEffect)((()=>{try{if(null===t||void 0===t||!t.averages||null===t||void 0===t||!t.timestamps)return void c({labels:[],datasets:[{data:[],borderColor:"rgb(0, 119, 228)",backgroundColor:"rgba(0, 119, 228, 0.1)",tension:0,fill:!0,borderWidth:4}]});const e={labels:t.timestamps.map((e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"}))),datasets:[{data:t.averages.map((e=>parseFloat(e).toFixed(2))),borderColor:"rgb(0, 119, 228)",backgroundColor:e=>{const t=e.chart,{ctx:n,chartArea:r}=t;if(!r)return null;const i=n.createLinearGradient(0,r.bottom,0,r.top);return i.addColorStop(0,"rgba(0, 119, 228, 0.1)"),i.addColorStop(.5,"rgba(0, 119, 228, 0.3)"),i.addColorStop(1,"rgba(0, 119, 228, 0.8)"),i},tension:.4,fill:!0,borderWidth:4}]};c(e)}catch(Cx){console.error("Error processing data:",Cx),c({labels:[],datasets:[{data:[],borderColor:"rgb(0, 119, 228)",backgroundColor:"rgba(0, 119, 228, 0.1)",tension:0,fill:!0,borderWidth:4}]})}}),[t]);const p=e=>{const t=e.target.id;f(t),localStorage.setItem("selectedButton",t),n(t)},m=(0,s.useMemo)((()=>({maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1,external:function(e){let t=document.getElementById("chartjs-tooltip");t||(t=document.createElement("div"),t.id="chartjs-tooltip",t.style.position="absolute",t.style.pointerEvents="none",t.style.backgroundColor="rgba(0, 119, 228, 0.9)",t.style.color="#fff",t.style.borderRadius="8px",t.style.width="130px",t.style.height="65px",t.style.padding="10px",t.style.fontSize="14px",t.style.textAlign="center",t.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.1)",document.body.appendChild(t));const n=e.tooltip;if(console.log(n),0===n.opacity)return void(t.style.opacity=0);if(n.body){const e=n.dataPoints[0].raw,r=n.title||[];let i=`<div style="font-size: 18px; font-weight: bold;">${e} \xb0C</div>`;r.forEach((e=>{i+=`<div style="font-size: 12px; margin-top: 5px;">${e}</div>`})),t.innerHTML=i}const{offsetLeft:r,offsetTop:i}=e.chart.canvas;t.style.left=r+n.caretX+"px",t.style.top=i+n.caretY+"px",t.style.opacity=1}},annotation:{annotations:{line1:{type:"line",yMin:240,yMax:240,borderColor:"red",borderWidth:2,borderDash:[5,5],label:{content:"Threshold",enabled:!0,position:"end",color:"red"}}}}},scales:{y:{position:"right",title:{display:!0,text:"Temperature (\xb0C)",color:"white",pointStyle:!1},ticks:{padding:20,color:"white",callback:function(e){return e.toFixed(2)+" \xb0C"}}},x:{title:{display:!0,text:"Timestamp",color:"white"},ticks:{color:"white"}}},elements:{point:{radius:1,hoverRadius:7,pointStyle:"circle",hoverPointStyle:"circle"}}})),[]);JL.register({id:"hoverline",beforeDraw:e=>{if(e.tooltip._active&&e.tooltip._active.length){const t=e.ctx,n=e.tooltip._active[0].element.x;t.save(),t.beginPath(),t.moveTo(n,e.scales.y.top),t.lineTo(n,e.scales.y.bottom),t.lineWidth=2,t.strokeStyle="rgba(255, 255, 255, 0.5)",t.stroke(),t.restore()}}});return JL.register({id:"dangerLine",afterDraw:e=>{const t=e.ctx,n=e.scales.y,r=e.scales.x,i=n.getPixelForValue(80);t.save(),t.strokeStyle="rgba(255, 0, 0, 0.6)",t.lineWidth=2,t.setLineDash([5,5]),t.beginPath(),t.moveTo(r.left,i),t.lineTo(r.right,i),t.stroke(),t.restore()}}),(0,s.useEffect)((()=>{setInterval((()=>{const e=()=>{const e=window.localStorage.getItem("id");i(e)};return e(),window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}}),[500])}),[]),(0,$g.jsx)("div",{className:"h-[490px] lg:w-[96.8%] pt-2 xl:pt-0 xl:h-[90%] 2xl:h-auto lg:mt-2 xl:w-[73%]  2xl:w-[73%] 2xl:pt-1 bg-[rgba(16,16,16,0.9)] m-4 rounded-xl text-white overflow-hidden",children:(0,$g.jsxs)("div",{className:"h-[180px] md:h-[75%] w-[100%]",children:[(0,$g.jsxs)("div",{className:"flex flex-col px-4 mt-4 xl:mt-0 md:flex-row md:justify-around",children:[(0,$g.jsx)("p",{className:"mt-2 mb-3 text-xl font-semibold text-center xl:text-base md:text-left md:mb-0 md:mt-0 ",children:r||"N/A"}),(0,$g.jsxs)("div",{className:"flex flex-row justify-center gap-4 mt-1 md:flex-row md:gap-5 md:mx-10 md:space-y-0 ",children:[(0,$g.jsxs)("p",{className:"text-sm md:text-base xl:text-base",children:["Max Value:"," ",(0,$g.jsx)("span",{className:"font-bold text-[rgba(0,119,228)] xl:text-base",children:null!==t&&void 0!==t&&t.maxAverage?`${t.maxAverage.toFixed(2)}\xb0C`:"NaN"})]}),(0,$g.jsxs)("p",{className:"text-sm md:text-base xl:text-base",children:["Min Value:"," ",(0,$g.jsx)("span",{className:"font-bold text-[rgba(0,119,228)] xl:text-base",children:null!==t&&void 0!==t&&t.minAverage?`${t.minAverage.toFixed(2)}\xb0C`:"NaN"})]}),(0,$g.jsxs)("p",{className:"text-sm md:text-base xl:text-base",children:["Avg Value:"," ",(0,$g.jsxs)("span",{className:"font-bold text-[rgba(0,119,228)] xl:text-base",children:[null!==t&&void 0!==t&&t.averages?(t.averages.reduce(((e,t)=>e+t),0)/t.averages.length).toFixed(2):"NaN","\xb0C"]})]})]}),(0,$g.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-3 md:justify-start md:mt-0",children:[(0,$g.jsx)(wR,{toggleChartType:()=>{o(!a)}}),(0,$g.jsx)("button",{type:"button",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-md text-xs md:text-sm xl:text-xs 2xl:text-sm px-3 md:px-4 xl:px-3 2xl:px-4 py-1.5 md:py-2 xl:py-1.5 2xl:py-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800",children:"Export"})]})]}),(0,$g.jsx)("div",{className:"w-full h-full",children:a?(0,$g.jsx)(sO,{chartData:l,options:m}):(0,$g.jsx)(iO,{chartData:l,width:"100%",options:m})}),(0,$g.jsx)("div",{className:"flex flex-wrap justify-center gap-2 pb-2 md:mt-1 md:justify-around",children:["1D","3D","1W","1M","6M"].map((e=>(0,$g.jsx)("button",{type:"button",id:e,onClick:p,className:`w-20 md:w-16 xl:h-8 xl:w-24 2xl:w-28 2xl:h-12 \n                  ${d===e?"text-white bg-blue-700 hover:bg-blue-800":"text-blue-700 hover:text-white border border-blue-700 hover:bg-blue-800"} \n                  focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-xs md:text-[10px] 2xl:text-sm \n                  px-2 md:px-1.5 2xl:px-4 py-1 md:py-1 2xl:py-2.5 text-center \n                  dark:border-blue-500 dark:text-blue-500 dark:hover:text-white dark:hover:bg-blue-500 dark:focus:ring-blue-800`,children:"1D"===e?"1 Day":"3D"===e?"3 Days":"1W"===e?"1 Week":"1M"===e?"1 Month":"6 Months"},e)))})]})})},aU=n.p+"static/media/warning.7464b6b177823627f9fc.png",oU=e=>{let{onClose:t,partNames:n}=e;const[r,i]=(0,s.useState)(!0);return r?(0,$g.jsxs)("div",{className:"h-[287px] w-[809px] rounded-2xl border-2 border-white animate-[blink_1s_ease-in-out_infinite]",children:[(0,$g.jsx)("style",{children:"\n        @keyframes blink {\n          0% { background-color: rgba(0, 0, 0, 0.8); }\n          50% { background-color: rgba(255, 0, 0, 0.8); }\n          100% { background-color: rgba(0, 0, 0, 0.8); }\n        }\n      "}),(0,$g.jsxs)("div",{className:"flex h-full rounded-2xl",children:[(0,$g.jsx)("div",{className:"h-full w-[95%] rounded-2xl",children:(0,$g.jsxs)("div",{className:"flex items-center justify-center h-full space-x-4",children:[(0,$g.jsx)("div",{className:"flex-shrink-0",children:(0,$g.jsx)("img",{src:aU,className:"w-16 h-16"})}),(0,$g.jsxs)("p",{className:"w-[505px] font-['Poppins'] text-base font-medium leading-loose text-white",children:["The Temperature of ",n.join(", ")," within the potline ",localStorage.getItem("id")," has reached or exceeded the specified limit. Immediate action is required to prevent potential damage or safety Hazards."]})]})}),(0,$g.jsx)("div",{className:"flex h-full w-[5%] justify-end items-start pr-4 pt-4 rounded-2xl ml-auto",children:(0,$g.jsx)("button",{onClick:()=>{i(!1),t&&t()},children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"white",className:"size-6",children:(0,$g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})})})]})]}):null};n(9853);const lU=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)([]),[i,a]=(0,s.useState)([]),[o,l]=(0,s.useState)([]),[c,u]=(0,s.useState)([]),[h,d]=(0,s.useState)([]),[f,p]=(0,s.useState)([]),[m,g]=(0,s.useState)(null),[v,x]=(0,s.useState)(null),[b,y]=(0,s.useState)(null),[w,_]=(0,s.useState)("1M"),[A,S]=(0,s.useState)(null),E=(0,s.useRef)(null),T=async()=>{try{const e=await mR.get(`http://34.100.168.176:4000/api/v2/getallsensor?time=${w}`);console.log("Fetched data:",e.data),S(e.data)}catch(v){console.error("Error fetching sensor data:",v)}};(0,s.useEffect)((()=>{T();const e=setInterval(T,3e3);return()=>clearInterval(e)}),[w]);return(0,$g.jsxs)("div",{className:"relative w-screen bg-fixed bg-center bg-cover md:bg-center xl:h-screen",style:{backgroundImage:`url(${Fe})`,overflow:"auto"},children:[(0,$g.jsx)(vR,{onLogout:()=>{E.current&&E.current.disconnect()}}),(0,$g.jsxs)($g.Fragment,{children:[(0,$g.jsxs)("div",{className:"w-full gap-5 lg:w-full xl:flex xl:h-[45%] xl:w-full 2xl:w-full",children:[(0,$g.jsx)(wy,{socketData:null===A||void 0===A?void 0:A.Model,lastButtonClicked:m,latesttimestamp:c}),(0,$g.jsx)(bR,{socketData:null===A||void 0===A?void 0:A.Aside})]}),(0,$g.jsxs)("div",{className:"w-full gap-5 lg:w-full xl:flex xl:h-[45%] xl:w-full 2xl:w-full",children:[(0,$g.jsx)(sU,{socketData:null===A||void 0===A?void 0:A.Average,onChartClick:e=>{console.log("Button clicked in DashboardChart:",e),g(e);const t=e||"1M";_(t),g(t)}}),(0,$g.jsx)(yR,{socketData:null===A||void 0===A?void 0:A.Bside})]})]}),b&&(0,$g.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80",children:(0,$g.jsx)(oU,{onClose:()=>y(null),partNames:b})})]})},cU=n.p+"static/media/loginbg.ac7db92a7c5cf7ecceaf.png";function uU(e){return jM({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function hU(e){return jM({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}const dU=()=>{const e=ie(),[t,n]=(0,s.useState)(""),[r,i]=(0,s.useState)(""),[a,o]=(0,s.useState)(""),[l,c]=(0,s.useState)(""),[u,h]=(0,s.useState)(""),[d,f]=(0,s.useState)(0),[p,m]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const t=localStorage.getItem("loginCooldown");if(t&&Date.now()<parseInt(t)){const e=Math.ceil((parseInt(t)-Date.now())/1e3);o(`Too many attempts. Try again in ${g(e)}`),f(parseInt(t))}const n=localStorage.getItem("accessToken"),r=localStorage.getItem("refreshToken");e(n&&r?"/Dashboard":"/")}),[e]),(0,s.useEffect)((()=>{if(!d)return;const e=setInterval((()=>{const t=Math.ceil((d-Date.now())/1e3);t<=0?(f(0),o(""),localStorage.removeItem("loginCooldown"),clearInterval(e)):(o(`Too many attempts. Try again in ${g(t)}`),localStorage.setItem("loginCooldown",d))}),1e3);return()=>clearInterval(e)}),[d]);const g=e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`;return(0,s.useEffect)((()=>{if(!d)return;const e=setInterval((()=>{const t=Math.ceil((d-Date.now())/1e3);t<=0?(f(0),o(""),localStorage.removeItem("loginCooldown"),clearInterval(e)):(o(`Too many attempts. Try again in ${g(t)}`),localStorage.setItem("loginCooldown",d))}),1e3);return()=>clearInterval(e)}),[d]),(0,$g.jsx)("div",{className:"h-screen",children:(0,$g.jsxs)("section",{className:"relative flex items-center justify-center w-full h-full bg-fixed bg-center bg-cover",style:{backgroundImage:`url(${cU})`},children:[(0,$g.jsx)("div",{className:"absolute inset-0 bg-black/10 backdrop-blur-sm"}),(0,$g.jsxs)("div",{className:"relative z-10 flex flex-col items-center justify-center w-full px-6",children:[(0,$g.jsx)("a",{href:"#",className:"flex items-center mb-6 text-2xl font-semibold text-gray-900 dark:text-white",children:(0,$g.jsx)("img",{className:"w-32 h-auto mr-2",src:Ay,alt:"logo"})}),(0,$g.jsx)("div",{className:"w-full bg-white rounded-lg shadow sm:max-w-md md:mt-0 xl:p-0 dark:border dark:border-gray-700 dark:bg-gray-800",children:(0,$g.jsxs)("div",{className:"p-6 space-y-4 sm:p-8 md:space-y-6",children:[(0,$g.jsx)("h1",{className:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white",children:"Sign in to your account"}),(0,$g.jsxs)("form",{className:"space-y-4 md:space-y-6",onSubmit:async n=>{if(n.preventDefault(),!(d>Date.now()))try{const n=await RM.post("http://34.100.168.176:4000/auth/login",{email:t,password:r},{headers:{"X-Client-IP":"","X-Client-ID":""}});localStorage.removeItem("failedAttempts"),c("Login Successful"),e("/Dashboard");const{accessToken:i,refreshToken:s}=n.data,a=JSON.parse(atob(i.split(".")[1])).role;localStorage.setItem("accessToken",i),localStorage.setItem("refreshToken",s),localStorage.setItem("role",a),localStorage.setItem("id","1604"),localStorage.setItem("email",t),document.cookie=`accessToken=${i}; path=/; secure`,document.cookie=`refreshToken=${s}; path=/; secure`,document.cookie=`role=${a}; path=/; secure`,document.cookie=`email=${t}; path=/; secure`}catch(Cx){var i;if(429===(null===(i=Cx.response)||void 0===i?void 0:i.status)){const t=Cx.response.headers["retry-after"]||900,n=Date.now()+1e3*t;o(`Too many attempts. Try again in ${g(t)}`),f(n)}else{var s,a;const t=(null===(s=Cx.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||"Check your email and password and try again.";o(t)}console.error("Error during login:",Cx)}},children:[(0,$g.jsxs)("div",{children:[(0,$g.jsx)("label",{for:"email",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your email"}),(0,$g.jsx)("input",{type:"email",name:"email",id:"email",onChange:e=>n(e.target.value),className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-gray-900 focus:border-primary-600 focus:ring-primary-600 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"name@company.com",required:""})]}),(0,$g.jsxs)("div",{className:"relative",children:[(0,$g.jsx)("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Password"}),(0,$g.jsxs)("div",{className:"relative",children:[(0,$g.jsx)("input",{type:p?"text":"password",name:"password",id:"password",onChange:e=>i(e.target.value),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 pr-10 text-gray-900 focus:border-primary-600 focus:ring-primary-600 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",required:!0}),(0,$g.jsx)("button",{type:"button",onClick:()=>m(!p),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-sm leading-5",children:p?(0,$g.jsx)(uU,{className:"w-5 h-5 text-gray-500"}):(0,$g.jsx)(hU,{className:"w-5 h-5 text-gray-500"})})]})]}),(0,$g.jsx)("div",{className:"flex items-center justify-between",children:(0,$g.jsx)("div",{className:"flex items-start",children:(0,$g.jsx)("div",{className:"text-red-700 error-message",children:a||l})})}),(0,$g.jsx)("button",{onClick:()=>o(""),type:"submit",className:"w-full rounded-lg bg-primary-600 px-5 py-2.5 text-center text-sm font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",disabled:d>Date.now(),children:d>Date.now()?"Please wait...":"Sign in"})]})]})})]})]})})},fU=()=>{const[e,t]=(0,s.useState)(""),[n,r]=(0,s.useState)(""),[i,a]=(0,s.useState)(""),[o,l]=(0,s.useState)("user"),[c,u]=(0,s.useState)(""),[h,d]=(0,s.useState)(""),f=ie();console.log("role",o),(0,s.useEffect)((()=>{const e=localStorage.getItem("accessToken"),t=localStorage.getItem("refreshToken");e&&t&&f("/Dashboard")}),[f]);return(0,$g.jsx)("div",{className:"h-screen",children:(0,$g.jsxs)("section",{className:"relative flex items-center justify-center w-full h-full bg-fixed bg-center bg-cover",style:{backgroundImage:`url(${cU})`},children:[(0,$g.jsx)("div",{className:"absolute inset-0 bg-black/10 backdrop-blur-sm"}),(0,$g.jsxs)("div",{className:"relative z-10 flex flex-col items-center justify-center w-full px-6",children:[(0,$g.jsx)("a",{className:"flex items-center mb-6 text-2xl font-semibold text-gray-900 dark:text-white",children:(0,$g.jsx)("img",{className:"w-32 h-auto mr-2",src:Ay,alt:"logo"})}),(0,$g.jsx)("div",{className:"w-full bg-white rounded-lg shadow sm:max-w-md xl:p-0 dark:border dark:border-gray-700 dark:bg-gray-800",children:(0,$g.jsxs)("div",{className:"p-6 space-y-4 sm:p-8 md:space-y-6",children:[(0,$g.jsx)("h1",{className:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white",children:"Create a new account"}),(0,$g.jsxs)("form",{className:"space-y-4 md:space-y-6",onSubmit:async t=>{if(t.preventDefault(),i===n){if("c3Jpbml2YXNhbi1kYXJrbmVidWxhLS0wMDAw"!==h)return void u("Invalid passkey");try{(await RM.post("http://34.100.168.176:4000/auth/register",{email:e,password:n,role:o})).data.email?(alert("user created successfully"),window.location.href="http://localhost:3000"):alert("Unknown error has occurred")}catch(Cx){var r,s,a;u(`Failed to register: ${(null===(r=Cx.response)||void 0===r||null===(s=r.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||Cx.message}`)}}else alert("Password is not matching")},children:[(0,$g.jsxs)("div",{children:[(0,$g.jsx)("label",{for:"email",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your email"}),(0,$g.jsx)("input",{type:"email",name:"email",onChange:e=>t(e.target.value),className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-gray-900 focus:border-primary-600 focus:ring-primary-600 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"name@company.com",required:"true"})]}),(0,$g.jsxs)("div",{children:[(0,$g.jsx)("label",{for:"password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Password"}),(0,$g.jsx)("input",{type:"password",name:"password",onChange:e=>r(e.target.value),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-gray-900 focus:border-primary-600 focus:ring-primary-600 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",required:"true"})]}),(0,$g.jsxs)("div",{children:[(0,$g.jsx)("label",{for:"confirm-password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Confirm Password"}),(0,$g.jsx)("input",{type:"password",name:"confirm-password",onChange:e=>a(e.target.value),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-gray-900 focus:border-primary-600 focus:ring-primary-600 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",required:""})]}),(0,$g.jsxs)("div",{children:[(0,$g.jsx)("label",{for:"confirm-password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"User Role"}),(0,$g.jsxs)("select",{required:!0,value:o,onChange:e=>{l(e.target.value)},className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-gray-900 focus:border-primary-600 focus:ring-primary-600 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",children:[(0,$g.jsx)("option",{value:"user",children:"User"}),(0,$g.jsx)("option",{value:"admin",children:"Admin"}),(0,$g.jsx)("option",{value:"superadmin",children:"Super-Admin"})]})]}),(0,$g.jsxs)("div",{children:[(0,$g.jsx)("label",{htmlFor:"passkey",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Enter Pass Key"}),(0,$g.jsx)("input",{type:"password",name:"passkey",onChange:e=>d(e.target.value),placeholder:"Enter secret passkey",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-gray-900 focus:border-primary-600 focus:ring-primary-600 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",required:!0})]}),(0,$g.jsx)("div",{className:"text-red-700 error-message",children:c}),(0,$g.jsx)("div",{}),(0,$g.jsx)("button",{onClick:()=>u(""),type:"submit",className:"w-full rounded-lg bg-primary-600 px-5 py-2.5 text-center text-sm font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",children:"Sign up"}),(0,$g.jsxs)("p",{className:"text-sm font-light text-gray-500 dark:text-gray-400",children:["Already have an account yet?"," ",(0,$g.jsx)("a",{href:"/",className:"font-medium text-primary-600 hover:underline dark:text-primary-500",children:"Sign in"})]})]})]})})]})]})})},pU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAABGCAYAAACHZ2ccAAAABHNCSVQICAgIfAhkiAAAAhFJREFUaIHtm12ugyAQhc+Y7uvSlRVXhl3Z3Ac1sZaf0VCHIX4vTVqx58gcCCqEHczsADgAf/vfGmQEACKakkcws2e7BJ47pCtTW/zqiXh2GiqXiCYjEfkBc5564gUAA2wMEodg5i57DMDcY6O2iB/wehw4eAQw/UjIGbIDHgEAM7PkTERENRTVoKR5WD5F5bidJ8zA8knaa2sF5h7LsT84CM05HTsfWrN8ZebLbQLtvJV0DpHv7rxpmisJyzUMQnPuOjsf+nKEWCkCAIjoKfwPrZVBLjLvbEtuvCQTVSW70AbMucVgOKwhcWViuJ+oP4F4LmK2Mb+tJAePCPf8ZtWcibydyoOFvB3J2JY7b1bNifKmrfMUPfeaqCS1dZ5CaM5r6zwFl/N26fLm7HAfI78GuvhWetUJtJSlKyfsmj3WFNWMcUNrsap0OXgsQ7mrca5m4PmegwSnrVXMAVO2Ht4LcmWyt/pbtnRZgl2aAu5ceW2tYroswS5NAXeuvKK+wKmXMRONmi7BRCXltRg1Va6eQsMt7jI3B/SlGjWdq0VjlliDpktwo1NuzIqpReshY0FozOnY+dAqM8YGcrVFZIwNleCK1JgpU0BZ84PleXkfOFYdWnrCaQupzNT1hoJJW8QPeA8oP9cyx7obqTeeADAQkUc/+1vGr22NbHvXX+DdVBR7795h2VzWOOvYMMU2n/4DQF7RDnB8W5cAAAAASUVORK5CYII=",mU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAABRCAYAAABBuPE1AAAABHNCSVQICAgIfAhkiAAAA0lJREFUeJztnWFy4yAMhR+ZvVe1J1v7ZKYn0/6o0zqpcQSWBDh8M53pD9JnHhLCQFugIsw8rV8Lf7EwMzlqb3UnD1111o6kmCrpLla6JrzoDDMz19LtJjKZmQSdMemQULdoEG/aDyvgn7Ddh6YoG8+9rkaunSFPzQ3SASyiRkRK+VT+eSRsF0t+uLeRlNE2aolapzXgb6R43gshRMPnOGIu+VCrERmVdU3nR8DRSI/00qA0E1otNkXpdQAJ28VSAU8jzdNrD69MaDIieys0gK+RJGwXlXVdMsHFyKsXGqDN1O6u0AB+Rl660AANRqRyoaGMtqcywctIEraLyrqqW3FHmBv5DoUGAP5IG252rE1HmXXPTchQ9xNAvA9AEAhMqFQsOmEOIUyHRg4TxczJOXKd24aJQpIRuc4Z5PcofbMbkZUPqbqkuQV5p8RhpA77xWZdG2lvHlyVOYRwGJHR60k6Zg4hTMCLBflmCUTmj9QXMwDcTTSFf+4eSiBFXeklLWbFi1pNFJuKW2eaujZkRIXq5c6cTNDUNYnIzFTt6rJUCqvUpoy2UUtUc67NxcrIy16WSlE7IqOybrXdKnUja6ZXDtqZUHv5c4lCA9gYSRlto5Zo7UywMPLtCg1QNyKjsm7VYxFVI2unlxSLTKhZbC5TaAB9I3PSK2qJtpAJ1SLySoUGOLiyUjjK0s9E5SjKyQTK2fiRDvjDDvm60fmBsSP+TMR6NpNq8G0kj+spEubU8cINGCZmkHzZCOtc1defIKjL370Uv2FEogo3jMKiQu1ttN6Iqcp9w7iakkPSqxGRcl6vI8fy5yXJ9eOd7YKc1m9pt2WanDehCN1dH+ngF+u63O8Bsu/aUCVd83WyxhzZw5Sgvff5C9diMy5LHVArvbjSZakUpyIyc8671NHCM2dTmzLaxpNa32gWLS3OGun2a7wnMC80gGOxGYXmgFFofiiOyFFoHjmT2pTRNp7QeaDFQgOcM/ItL0ul8IjIeEJjjyZfSYuMbDW9nvHMBI/lz+ULDVBuJGW0jYUav2g5E8wj8h0KDWBvpGpnMgYledrXHN5vMxtdyf9bIAttE150aDLWXi5h4h3+OjdZNh2brE3caG91Fy/dFP8BBTJPRDpQvLIAAAAASUVORK5CYII=",gU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEoAAABKCAYAAAAc0MJxAAAABHNCSVQICAgIfAhkiAAAAk5JREFUeJztnFGWgyAMRRPP7Ku4surKSleW+Rh0qlZ4VqiWvvuLEnoNIFoUyYyZdfbPzcxc7hhPYrqHuDcz60rH3EVo5ILCMd2zmKeVFWlw0UavXZyAyxWnyVWRiLhI2TVjnC24XBXlFHUU7h1BahD1FigK5Ac5KAyKLnHYJVFHB7UoLxcgrldVn6pI1wpCgKMG4SPwInJX1e5Z4UJUyJ6rvGmQPCFeRPp5lk1EfWEWxegfs2sUFTLpdkCDzswo61FU0aXGp6KqKhJuD8yMmbTCMGvqxi7nE+Vux7mvEouZips6d6BNLWbNwEclNn28sgBs0GYSbe+A853FF9ZmZl0j6VluMVXWhKp6VW1Tx6WWMNBdayX0kbJLI/F+es/UCJ+pnqNwNSyK/Ytlm8gmKtyY+ZXiWFrvZS3rsw4buTOql6WsopNBuEDzwbhHBugtQI9ZUIIQn7PODXHVzFypi1LDGDVSMnOrElUSigKhKBCKAqEokNTtwQVZgVdC9C2S8skmBrseCEWBUBQIRYFQFAhFoex9i1ELqbdIzCgQigKhKBCKAqEoEIoCoSgQigKhKBCKAqEoEIoCoSgQigKhKBCKAqEoEIoCoSgQigKhKBCKAqEoEIoCoSgQisLwjcT3qXzTjvXoXxOTGfUN/z8Iv9FFDrmje4q95Nu7dzaQXtOqCLfyJ/Cq2g5dr+R+uk+nFwljVNjzRllLxr2G82+z3OR7P14zZ7J7fTLrhQJmFrqDFPxoQq10z5ysfmhrECZ/XXG4GXNbLsuHMPSg6GbtX2KM1yeWMZwBAAAAAElFTkSuQmCC",vU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABWCAYAAABLn1FEAAAABHNCSVQICAgIfAhkiAAABCFJREFUeJztnVF24zAIRdGc2deoKwtZmd2VMR+Wk7SNBLKQwK7uT3paS+AXjAmSU4DJZDKZWBGsHfgOEcX04/76L3Po58vPawhh7eRSE+YCJ0EjbELGxulWSMKHELBxrvNCRJGIFuoPvlwR12egsN9ZiAitz78bKZK8gNZ6qEF2Ectx/tRBvqI2B1rrVA35jdoSsZceqmVacnRRmGqFZ527Zo6J6VWjvAMAuLsu7agtJSzUmBdpu3KQ2q4e1FNEkQZxlxZRC/7sYp9f5IMngtM/AQecX8ioPDrgK1r42eJwNHX4mM9o5WiscHLxIO4O1ZeR0cJJsbgKtt4JggrzSqNZo+zs4hgq2CpdKfFM5+LSIcaeSmSRPF1EDXucMxLULinOkKIdich9UwUJo1fZphtbCdS0ae7AYIFFlZGmzVfjkujFDnaHnizJUkWsmVPUTZOcTAhBfQGVs2thE7YV7A/pfH8EBlEwz11q8ARw5xJro7iIJD2oGftp26Vd0qwoBMZQzVil7Y52xwTVMEN5+1YCSyqKKJmLzcEMV8q9D9I2rJU57NZsSPAuYrORBvudbbNRLJmnKYJdLxIOQJImsgL3jk7vCNMES0sEXzL/VhK5A1pvcleHC6Lc3uUHJYG5wSs3+WRGcHeyzRKuDOnRaLmiD6eOYBq9IHmAUwsMW2fLtcjeBV4Fx7gX+S3Ed/fjAB+qNrgY2Gdtuo7g9GlK+oHGZSS7Fhjg0e8wEVnwcOMn8/cmgWPD2CosRYZeH6g08k8Hn2p2R0YlmzkdUDL+b4Pt2DD2ECEEpK3ub292y22uRPQBz8d9AQA+VVq1o6LkgF+SSDbxrQriSzWzuzYjMlr5VYUkUhz6565Uy0KKq6ud/UQ66+Ox5DhNXIKzRLFXtDb/VW2Is4Se37BS9TU0L0FUPVYyOZcmiJzfuTNXoii90fubKfZ27gdqBjtQcLsockbcLiIvAo1d3vAYkYgK9xDmvPXalcIcG1XfVR/Eg38DgPpumqSjdXMoMrt/wQ3CVEGeRBb4HAtji3C2j/SDpX1Zj5E8nGqBK5dxpshHobrmNxr7apYiejvuQmhLgVtWNCCE8FH5Lt72w3/L5u0mgQG2vVm0FdxROOQGAPDbhG7mQLr4kjpKl+kA37K2W1OEKqTzdYrqzXO6isDJIQ2R37Fkfo8Cn3Jjd2JhbBFN7cTQ+O+v5DpinC+xMLYIp0WXrVMhhL0BP+pBGd0HtBXpujctVQijhB62GaWG5jKNY3/ejIhW2Eo5l0L0YtjuypQ2MD3T0COi2Z2OFphsX/0mtIbYq9cPLN1TRIkXURDgy+O7e4M8MlOsoLUR7zfTWiFQvzU51wu9wyBmVZwZe/5NhiMoCIWCse+iWLSCbv6/jEZCP3P8XbpDJ42tHjeZTCYTO/4DGE5UOk4UcdgAAAAASUVORK5CYII=",xU=e=>{let{selectedButton:t,setSelectedButton:n}=e;return(0,$g.jsxs)("div",{className:"xl:w-[25%] xl:h-[100%] h-[270px] bg-[rgba(16,16,16,0.6)] mt-4 grid grid-cols-2 gap-4 rounded-xl p-4 border backdrop-blur-sm md:backdrop-blur border-white",children:[(0,$g.jsxs)("button",{className:"bg-[rgb(16,16,16)] rounded-xl border h-[100%] focus:ring-2 focus:ring-white flex flex-col justify-center items-center "+("Average"===t?"ring-2 ring-white focus:ring-white":"focus:ring-white"),onClick:()=>n("Average"),children:[(0,$g.jsx)("img",{src:pU,className:"w-6 h-6",alt:"Average"}),(0,$g.jsx)("div",{className:"mt-4 text-sm text-white md:text-lg md:font-medium",children:"Average Data"})]}),(0,$g.jsxs)("button",{className:"bg-[rgb(16,16,16)] rounded-xl border h-[100%] focus:ring-2 focus:ring-white flex flex-col justify-center items-center "+("Time"===t?"ring-2 ring-white focus:ring-white":"focus:ring-white"),onClick:()=>n("Time"),children:[(0,$g.jsx)("img",{src:vU,className:"w-6 h-auto",alt:"Interval"}),(0,$g.jsx)("div",{className:"mt-4 text-sm text-white md:text-lg md:font-medium",children:"Interval Data"})]}),(0,$g.jsxs)("button",{className:"bg-[rgb(16,16,16)] rounded-xl border h-[100%] focus:ring-2 focus:ring-white flex flex-col justify-center items-center "+("Range"===t?"ring-2 ring-white focus:ring-white":"focus:ring-white"),onClick:()=>n("Range"),children:[(0,$g.jsx)("img",{src:gU,className:"w-6 h-auto",alt:"Date"}),(0,$g.jsx)("div",{className:"mt-4 text-sm text-white md:text-lg md:font-medium",children:"Date Picker"})]}),(0,$g.jsxs)("button",{className:"bg-[rgb(16,16,16)] rounded-xl border h-[100%] focus:ring-2 focus:ring-white flex flex-col justify-center items-center "+("Count"===t?"ring-2 ring-white focus:ring-white":"focus:ring-white"),onClick:()=>n("Count"),children:[(0,$g.jsx)("img",{src:mU,className:"w-6 h-auto",alt:"Count"}),(0,$g.jsx)("div",{className:"mt-4 text-sm text-white md:text-lg md:font-medium",children:"Count-wise Data"})]})]})},bU=e=>{let{selectedBusBar:t,setFetchedData:n}=e;const[r,i]=(0,s.useState)(null),[a,o]=(0,s.useState)(null),[l,c]=(0,s.useState)(null),u=e=>{c(e.target.value),console.log("selected radio",e.target.value)},h=e=>{const{name:t,value:n}=e.target;"startdate"===t?i(n):"enddate"===t&&o(n)};return(0,$g.jsxs)("div",{className:"md:h-[100%] h-[380px]",children:[(0,$g.jsx)("div",{className:"md:h-[11%] flex justify-center text-xl font-semibold mt-2",children:"Select Date Range"}),(0,$g.jsxs)("div",{className:"flex md:flex-row flex-col gap-4 mt-2 md:mt-0 items-center justify-center w-full lg:gap-2 md:h-[25%] lg:space-x-10 ",children:[(0,$g.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$g.jsx)("label",{htmlFor:"startdate",className:"text-sm font-medium text-white whitespace-nowrap md:hidden lg:flex",children:"From"}),(0,$g.jsx)("input",{type:"date",id:"startdate",name:"startdate",value:r,onChange:h,className:"w-full text-sm text-white bg-[rgba(0,0,0,0.6)] border border-gray-200 rounded-md shadow-sm p-1 custom-datepicker"})]}),(0,$g.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$g.jsx)("label",{htmlFor:"enddate",className:"flex text-sm font-medium text-white whitespace-nowrap md:hidden lg:flex",children:"To"}),(0,$g.jsx)("input",{type:"date",id:"enddate",name:"enddate",value:a,onChange:h,className:"w-full text-sm text-white bg-[rgba(0,0,0,0.6)] border border-gray-200 rounded-md shadow-sm p-1 custom-datepicker"})]})]}),(0,$g.jsx)("div",{className:"flex-1 text-lg font-semibold md:h-[10%] mt-2",children:"Average By"}),(0,$g.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-center md:space-x-14 md:h[20%] mt-6",children:[(0,$g.jsxs)("div",{className:"flex items-center mb-4",children:[(0,$g.jsx)("input",{id:"radio-1",type:"radio",value:"Minute",name:"radio-group",checked:"Minute"===l,onChange:u,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,$g.jsx)("label",{htmlFor:"radio-1",className:"text-sm font-medium text-gray-900 ms-2 dark:text-gray-300",children:"Minute"})]}),(0,$g.jsxs)("div",{className:"flex items-center mb-4",children:[(0,$g.jsx)("input",{id:"radio-2",type:"radio",value:"Hour",name:"radio-group",checked:"Hour"===l,onChange:u,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,$g.jsx)("label",{htmlFor:"radio-2",className:"text-sm font-medium text-gray-900 ms-2 dark:text-gray-300",children:"hour"})]}),(0,$g.jsxs)("div",{className:"flex items-center mb-4",children:[(0,$g.jsx)("input",{id:"radio-3",type:"radio",value:"Day",name:"radio-group",checked:"Day"===l,onChange:u,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,$g.jsx)("label",{htmlFor:"radio-3",className:"text-sm font-medium text-gray-900 ms-2 dark:text-gray-300",children:"Day"})]})]}),(0,$g.jsx)("div",{className:"bg-[rgba(16,16,16,1)] border-2 border-white md:h-[20%] h-[15%] w-[60%] md:w-[30%] rounded-lg flex items-center justify-center md:mb-0 mx-auto",onClick:()=>{if(r&&a)if(l){const e=`sensormodel${t}`,i=async()=>{try{const t=(await mR.get(`http://34.100.168.176:4000/api/v2/getAverageChart?key=${e}&startDate=${r}&endDate=${a}&average=${l}`)).data;n(t)}catch(Cx){console.error("Error fetching data:",Cx)}};i()}else alert("Please select the average period!!!");else alert("Please select both start and end dates.")},children:(0,$g.jsx)("button",{className:"flex justify-center items-center",children:"Plot Graph"})})]})},yU=e=>{let{selectedBusBar:t,setFetchedData:n}=e;const[r,i]=(0,s.useState)(null),[a,o]=(0,s.useState)(null),[l,c]=(0,s.useState)(null),u=e=>{c(e.target.value)},h=e=>{const{name:t,value:n}=e.target;"startdate"===t?i(n):"enddate"===t&&o(n)};return(0,$g.jsxs)("div",{className:"md:h-[100%] h-[380px]",children:[(0,$g.jsx)("div",{className:"md:h-[11%] flex justify-center text-xl font-semibold mt-2",children:"Select Time Interval"}),(0,$g.jsxs)("div",{className:"flex md:flex-row flex-col gap-4 mt-2 md:mt-0 items-center justify-center w-full lg:gap-2 md:h-[25%] lg:space-x-10 ",children:[(0,$g.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$g.jsx)("label",{htmlFor:"startdate",className:"text-sm font-medium text-white whitespace-nowrap md:hidden lg:flex",children:"From"}),(0,$g.jsx)("input",{type:"date",id:"startdate",name:"startdate",value:r,onChange:h,className:"w-full text-sm text-white bg-[rgba(0,0,0,0.6)]  border border-gray-200 rounded-md shadow-sm p-1 custom-datepicker"})]}),(0,$g.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$g.jsx)("label",{htmlFor:"enddate",className:"text-sm font-medium text-white whitespace-nowrap md:hidden lg:flex",children:"To"}),(0,$g.jsx)("input",{type:"date",id:"enddate",name:"enddate",value:a,onChange:h,className:"w-full text-sm text-white bg-[rgba(0,0,0,0.6)]  border border-gray-200 rounded-md shadow-sm p-1 custom-datepicker"})]})]}),(0,$g.jsx)("div",{className:"flex-1 text-lg font-semibold md:h-[10%] mt-2",children:"Get one data for every"}),(0,$g.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-center md:space-x-14 md:h[20%] mt-6",children:[(0,$g.jsxs)("div",{className:"flex items-center mb-4",children:[(0,$g.jsx)("input",{id:"radio-1",type:"radio",value:"Minute",name:"radio-group",checked:"Minute"===l,onChange:u,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,$g.jsx)("label",{htmlFor:"radio-1",className:"text-sm font-medium text-gray-900 ms-2 dark:text-gray-300",children:"Minute"})]}),(0,$g.jsxs)("div",{className:"flex items-center mb-4",children:[(0,$g.jsx)("input",{id:"radio-2",type:"radio",value:"Hour",name:"radio-group",checked:"Hour"===l,onChange:u,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,$g.jsx)("label",{htmlFor:"radio-2",className:"text-sm font-medium text-gray-900 ms-2 dark:text-gray-300",children:"hour"})]}),(0,$g.jsxs)("div",{className:"flex items-center mb-4",children:[(0,$g.jsx)("input",{id:"radio-3",type:"radio",value:"Day",name:"radio-group",checked:"Day"===l,onChange:u,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,$g.jsx)("label",{htmlFor:"radio-3",className:"text-sm font-medium text-gray-900 ms-2 dark:text-gray-300",children:"Day"})]})]}),(0,$g.jsx)("div",{className:"bg-[rgba(16,16,16,1)] border-2 border-white md:h-[20%] h-[15%] w-[55.5%] md:w-[30%] rounded-lg flex items-center justify-center md:mb-0 mx-auto",onClick:()=>{if(r&&a)if(l){const e=`sensormodel${t}`,i=async()=>{try{const t=(await mR.get(`http://34.100.168.176:4000/api/v2/getAverageChart?key=${e}&startDate=${r}&endDate=${a}&average=${l}`)).data;n(t),console.log(t)}catch(Cx){console.error("Error fetching data:",Cx)}};i()}else alert("Please select the average period!!!");else alert("Please select both start and end dates.")},children:(0,$g.jsx)("button",{className:"flex justify-center items-center",children:"Plot Graph"})})]})},wU=e=>{let{selectedBusBar:t,setFetchedData:n}=e;const[r,i]=(0,s.useState)(null),[a,o]=(0,s.useState)(null),l=e=>{const{name:t,value:n}=e.target;"startdate"===t?i(n):"enddate"===t&&o(n)};return(0,$g.jsxs)("div",{className:"md:h-[100%] h-[280px]",children:[(0,$g.jsx)("div",{className:"md:h-[11%] flex justify-center text-xl font-semibold mt-2",children:"Select Date"}),(0,$g.jsxs)("div",{className:"flex flex-col gap-4 mt-10 md:mt-0 items-center justify-center w-full md:gap-4 md:h-[58.4%] space-y-2 ",children:[(0,$g.jsxs)("div",{className:"flex items-center space-x-2 ",children:[(0,$g.jsx)("label",{htmlFor:"startdate",className:"text-sm font-medium text-white whitespace-nowrap",children:"From"}),(0,$g.jsx)("input",{type:"date",id:"startdate",name:"startdate",value:r,onChange:l,className:"w-full text-sm h-11 text-white bg-[rgba(0,0,0,0.6)]  border border-gray-200 rounded-md shadow-sm p-1 custom-datepicker"})]}),(0,$g.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$g.jsx)("label",{htmlFor:"enddate",className:"text-sm font-medium text-white whitespace-nowrap",children:"To"}),(0,$g.jsx)("input",{type:"date",id:"enddate",name:"enddate",value:a,onChange:l,className:"w-full text-sm h-11 text-white bg-[rgba(0,0,0,0.6)]  border border-gray-200 rounded-md shadow-sm p-1 custom-datepicker"})]})]}),(0,$g.jsx)("div",{className:"bg-[rgba(16,16,16,1)] border-2 border-white h-[60px] w-[100px] md:w-[64.5%] md:h-[20%]  rounded-lg flex items-center justify-center mt-10 mb-2 md:mt-[0.5px] md:mb-0 mx-auto",onClick:()=>{if(console.log("Fetching data..."),r&&a){console.log("Start Date:",r,"End Date:",a);const e=`sensormodel${t}`,i=async()=>{try{const t=(await mR.get(`http://34.100.168.176:4000/api/v2/getDateChart?key=${e}&startDate=${r}&endDate=${a}`)).data;n(t),console.log(t)}catch(Cx){console.error("Error fetching data:",Cx)}};i()}else alert("Please select both start and end dates.")},children:(0,$g.jsx)("button",{className:"flex items-center justify-center",children:"Plot Graph"})})]})},_U=e=>{let{selectedBusBar:t,setFetchedData:n}=e;const[r,i]=(0,s.useState)(""),[a,o]=(0,s.useState)(!1),[l,c]=(0,s.useState)(""),u=e=>{const t=e.target.value;i(t),o("custom"===t),console.log("Selected value:",t)};return(0,$g.jsxs)("div",{className:"md:h-[100%] h-[280px]",children:[(0,$g.jsx)("div",{className:"md:h-[11%] flex justify-center text-xl font-semibold mt-2",children:"Select Count"}),(0,$g.jsxs)("div",{className:"flex flex-col gap-4 mt-10 md:mt-0 items-center justify-center w-full md:gap-4 md:h-[58.4%] mb-[1.6px]",children:[(0,$g.jsxs)("div",{className:"flex flex-row mt-4 space-x-2 md:flex-1 md:space-x-20",children:[(0,$g.jsxs)("div",{className:"flex items-center ",children:[(0,$g.jsx)("input",{id:"radio-100",type:"radio",value:"100",name:"radio-group",checked:"100"===r,onChange:u,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,$g.jsx)("label",{htmlFor:"radio-1",className:"text-sm font-medium text-gray-900 ms-2 dark:text-gray-300",children:"Last 100 Data"})]}),(0,$g.jsxs)("div",{className:"flex items-center ",children:[(0,$g.jsx)("input",{id:"radio-500",type:"radio",value:"500",name:"radio-group",checked:"500"===r,onChange:u,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,$g.jsx)("label",{htmlFor:"radio-2",className:"text-sm font-medium text-gray-900 ms-2 dark:text-gray-300",children:"Last 500 Data"})]})]}),(0,$g.jsxs)("div",{className:"flex flex-1 mb-4 space-x-2 md:space-x-20",children:[(0,$g.jsxs)("div",{className:"flex items-center",children:[(0,$g.jsx)("input",{id:"radio-1000",type:"radio",value:"1000",name:"radio-group",checked:"1000"===r,onChange:u,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,$g.jsx)("label",{htmlFor:"radio-3",className:"text-sm font-medium text-gray-900 ms-2 dark:text-gray-300",children:"Last 1000 Data"})]}),(0,$g.jsxs)("div",{className:"flex items-center ",children:[(0,$g.jsx)("input",{id:"radio-custom",type:"radio",value:"custom",name:"radio-group",checked:"custom"===r,onChange:u,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,$g.jsx)("label",{htmlFor:"radio-4",className:"text-sm font-medium text-gray-900 ms-2 dark:text-gray-300",children:"Custom Data"})]}),a&&(0,$g.jsx)("div",{className:"flex flex-row items-center justify-center",children:(0,$g.jsx)("input",{type:"number",placeholder:"Enter custom data",className:"p-2 text-black border rounded-md",onChange:e=>c(e.target.value)})})]})]}),(0,$g.jsx)("div",{className:"bg-[rgba(16,16,16,1)] border-2 border-white h-[60px] w-[100px] md:w-[37.5%] md:h-[21%] rounded-lg flex items-center justify-center mt-8 mb-1 md:mt-0 md:mb-0 mx-auto",onClick:()=>{if(r)try{let e="custom"===r?l:r;const i=`sensormodel${t}`,s=async()=>{try{const t=(await mR.get(`http://34.100.168.176:4000/api/v2/getLimitChart?key=${i}&limit=${e}`)).data;n(t)}catch(Cx){console.error("Error fetching data:",Cx)}};s()}catch(Cx){console.error("Error fetching data:",Cx),alert("An error occurred while fetching data. Please try again.")}else alert("Please select a limit.")},children:(0,$g.jsx)("button",{className:"flex items-center justify-center",children:"Plot Graph"})})]})};JL.register(vB,wB,uD,lD,qD,fB,JD);const AU=e=>{let{data:t}=e;if(!t||"object"!==typeof t||!Array.isArray(t.labels)||!Array.isArray(t.datasets))return console.error("Expected data to be an object with labels and datasets, but received:",t),(0,$g.jsx)("div",{className:"flex items-center justify-center h-full text-5xl text-center text-white text-semibold",children:"No data available to display."});const n=t.labels.length,r={labels:t.labels,datasets:t.datasets};return(0,$g.jsxs)("div",{className:"bg-[rgba(16,16,16,0.7)] rounded-xl relative h-full",children:[(0,$g.jsxs)("div",{className:"absolute top-0 left-0 px-2 py-1 text-sm text-white bg-black bg-opacity-50 rounded rounded-tl-xl",children:["Data Points: ",n]}),(0,$g.jsx)(nO,{data:r,options:{responsive:!0,maintainAspectRatio:!1,elements:{line:{tension:0,borderWidth:2}},plugins:{legend:{position:"top",labels:{color:"white"}},tooltip:{callbacks:{label:function(e){return`${e.raw.toFixed(2)}\xb0C`}}}},scales:{x:{ticks:{color:"white",autoSkip:!0,maxTicksLimit:10},grid:{display:!1}},y:{position:"right",ticks:{color:"white",callback:function(e){return`${e.toFixed(2)}\xb0C`}},grid:{color:"rgba(255, 255, 255, 0.5)",drawOnChartArea:!1}}}},style:{height:"100%"}})]})},SU=()=>{const[e,t]=(0,s.useState)("Average"),[n,r]=(0,s.useState)(1),[i,a]=(0,s.useState)(null),o=e=>{r(e),console.log(`BusBar${e} clicked`)};return(0,$g.jsxs)("div",{className:"relative w-screen bg-fixed bg-center bg-cover md:h-screen md:bg-center",style:{backgroundImage:`url(${Fe})`},children:[(0,$g.jsx)(vR,{}),(0,$g.jsxs)("div",{className:"m-4 rounded-lg border border-white bg-[rgba(16,16,16,0.5)] md:h-[90%]",children:[(0,$g.jsxs)("div",{className:"m-4 gap-3  xl:h-[35%] md:grid md:grid-cols-2 xl:flex xl:grid-cols-none",children:[(0,$g.jsx)(xU,{selectedButton:e,setSelectedButton:t}),(0,$g.jsxs)("div",{className:"mt-4 flex flex-col items-center justify-center rounded-xl border border-white bg-[rgba(16,16,16,0.7)] py-4 text-white backdrop-blur xl:h-[100%] xl:w-[35%]",children:["Average"===e&&(0,$g.jsx)(bU,{selectedBusBar:n,setFetchedData:a}),"Time"===e&&(0,$g.jsx)(yU,{selectedBusBar:n,setFetchedData:a}),"Range"===e&&(0,$g.jsx)(wU,{selectedBusBar:n,setFetchedData:a}),"Count"===e&&(0,$g.jsx)(_U,{selectedBusBar:n,setFetchedData:a})]}),(0,$g.jsxs)("div",{className:"scrollbar-custom mt-4 h-auto w-full overflow-x-auto overflow-y-auto rounded-xl border border-white p-2 text-white backdrop-blur md:flex md:h-[100%] lg:h-[300px] lg:w-full md:col-span-2 xl:h-[100%] md:flex-row md:p-4 xl:w-[40%]",children:[(0,$g.jsxs)("div",{className:"w-full rounded-xl bg-[rgba(16,16,16,0.7)] pb-4 md:h-[100%] md:w-[60%]",children:[(0,$g.jsx)("div",{className:"flex items-center justify-center py-2 font-['Poppins'] text-[18px] font-semibold text-white md:h-[20%] md:text-[22px]",children:"Side A"}),(0,$g.jsx)("div",{className:"flex justify-center",children:(0,$g.jsx)("div",{className:"grid grid-cols-2 gap-2 justify-center items-center px-1 md:grid-cols-3 md:gap-5 xl:mr-3",children:[1,2,3,4,5,6].map((e=>(0,$g.jsx)("button",{className:"flex h-16 w-20 items-center justify-center rounded-lg border bg-[rgba(16,16,16,0.9)] focus:outline-none focus:ring-2 focus:ring-white md:h-20 md:w-28 "+(n===e?"border-4 border-white":"border border-white"),onClick:()=>o(e),children:(0,$g.jsxs)("span",{className:"font-['Poppins'] text-sm font-medium text-white md:text-base",children:["BusBar ",e]})},e)))})})]}),(0,$g.jsxs)("div",{className:"mt-2 w-full rounded-xl bg-[rgba(16,16,16,0.7)] pb-4 md:ml-4 md:mt-0 md:h-[100%] md:w-[40%]",children:[(0,$g.jsx)("div",{className:"flex items-center justify-center py-2 font-['Poppins'] text-[18px] font-semibold text-white md:h-[20%] md:text-[22px]",children:"Side B"}),(0,$g.jsx)("div",{className:"flex justify-center",children:(0,$g.jsx)("div",{className:"grid grid-cols-2 gap-2 justify-around ml-1 xl:px-1 md:ml-3 md:grid-cols-2 md:gap-5 xl:ml-0 xl:mr-1",children:[7,8,9,10].map((e=>(0,$g.jsx)("button",{className:"flex h-16 w-20 items-center justify-center rounded-lg border bg-[rgba(16,16,16,0.9)] focus:outline-none focus:ring-2 focus:ring-white  md:h-20 md:w-28 "+(n===e?"border-4 border-white":"border border-white"),onClick:()=>o(e),children:(0,$g.jsxs)("span",{className:"font-['Poppins'] text-sm font-medium text-white md:text-base",children:["BusBar ",e]})},e)))})})]})]})]}),(0,$g.jsx)("div",{className:"md:flex md:h-[270px] lg:h-[43%] xl:h-[58%] custom-md-air:h-[400px]",children:(0,$g.jsx)("div",{className:"m-4 h-[700px] rounded-xl border border-white bg-[rgba(16,16,16,0.6)] backdrop-blur md:h-full md:w-full",children:(0,$g.jsx)(AU,{data:i})})})]})]})},EU=()=>{const e=ie(),t=!!localStorage.getItem("accessToken");return(0,$g.jsx)("div",{className:"grid h-screen px-8 mx-auto text-center place-items-center",children:(0,$g.jsxs)("div",{children:[(0,$g.jsx)("div",{className:"w-20 h-20 mx-auto",children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6",children:(0,$g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 3v1.5M3 21v-6m0 0 2.77-.693a9 9 0 0 1 6.208.682l.108.054a9 9 0 0 0 6.086.71l3.114-.732a48.524 48.524 0 0 1-.005-10.499l-3.11.732a9 9 0 0 1-6.085-.711l-.108-.054a9 9 0 0 0-6.208-.682L3 4.5M3 15V4.5"})})}),(0,$g.jsxs)("p",{variant:"h1",color:"blue-gray",className:"mt-10 !text-3xl !leading-snug md:!text-4xl",children:["Error 404 ",(0,$g.jsx)("br",{})," It looks like something went wrong."]}),(0,$g.jsx)("p",{className:"mt-8 mb-14 text-[18px] font-normal text-gray-500 mx-auto md:max-w-sm",children:"Don't worry, our team is already on it. Please try refreshing the page or come back later."}),(0,$g.jsx)("button",{onClick:()=>{e(t?"/Dashboard":"/")},className:"text-gray-900 hover:text-white border border-gray-800 hover:bg-gray-900 focus:ring-4 focus:outline-none focus:ring-gray-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2",children:t?"Go to Dashboard":"Back to Login"})]})})},TU=n.p+"static/media/reportimg.837c6a1acccac8545afd.png",MU=e=>{let{selectedButton:t,setSelectedButton:n}=e;return(0,$g.jsxs)("div",{className:"lg:grid-row m-4 mt-4 grid h-[270px] grid-cols-2 items-center justify-center gap-4 rounded-xl border border-white bg-[rgba(16,16,16,0.6)] p-4 backdrop-blur-sm md:m-8 md:h-[92%] xl:h-[90%] lg:h-[70%] xl:grid-cols-none md:p-0 xl:w-[20%] xl:gap-0",children:[" ",(0,$g.jsxs)("button",{className:"flex h-[100%] flex-col justify-center rounded-xl border bg-[rgb(16,16,16)] focus:ring-2 focus:ring-white xl:h-40 xl:w-60 items-center "+("Average"===t?"ring-2 ring-white focus:ring-white":"focus:ring-white"),onClick:()=>n("Average"),children:[(0,$g.jsx)("img",{src:pU,className:"w-6 h-6 md:mt-0 md:h-auto md:w-5"}),(0,$g.jsx)("div",{className:"mt-4 text-sm text-white font-regular md:text-lg md:font-medium",children:"Average Data"})]}),(0,$g.jsxs)("button",{className:"flex h-[100%] flex-col justify-center rounded-xl border bg-[rgb(16,16,16)] focus:ring-2 focus:ring-white xl:h-40 xl:w-60 items-center "+("Time"===t?"ring-2 ring-white focus:ring-white":"focus:ring-white"),onClick:()=>n("Time"),children:[(0,$g.jsx)("img",{src:vU,className:"w-6 h-6 md:mt-0 md:h-auto md:w-8"}),(0,$g.jsx)("div",{className:"mt-4 text-sm text-white font-regular md:text-lg md:font-medium",children:"Interval Data"})]}),(0,$g.jsxs)("button",{className:"flex h-[100%] flex-col items-center justify-center rounded-xl border bg-[rgb(16,16,16)] focus:ring-2 focus:ring-white xl:h-40 xl:w-60 "+("Range"===t?"ring-2 ring-white focus:ring-white":"focus:ring-white"),onClick:()=>n("Range"),children:[(0,$g.jsx)("img",{src:gU,className:"w-6 h-6 md:mt-0 md:h-auto"}),(0,$g.jsx)("div",{className:"mt-4 text-sm text-white font-regular md:text-lg md:font-medium",children:"Date Picker"})]}),(0,$g.jsxs)("button",{className:"flex h-[100%] flex-col items-center justify-center rounded-xl border bg-[rgb(16,16,16)] focus:ring-2 focus:ring-white xl:h-40 xl:w-60 "+("Count"===t?"ring-2 ring-white focus:ring-white":"focus:ring-white"),onClick:()=>n("Count"),children:[(0,$g.jsx)("img",{src:mU,className:"w-6 h-6 md:mt-0 md:h-auto"}),(0,$g.jsx)("div",{className:"mt-4 text-sm text-white font-regular md:text-lg md:font-medium",children:"Count-wise Data"})]})]})},CU=e=>{let{selected:t,setSelected:n}=e;const[r,i]=(0,s.useState)([]);(0,s.useEffect)((()=>{(async()=>{try{const e=await RM.get("http://34.100.168.176:4000/api/v2/getcbname");i(e.data)}catch(Cx){console.error("Error fetching data:",Cx)}})()}),[]);return(0,$g.jsx)("div",{className:"items-end justify-end mt-4 ml-2 md:mt-0",children:(0,$g.jsxs)(dE,{as:"div",className:"relative inline-block text-left",children:[(0,$g.jsx)("div",{children:(0,$g.jsxs)(aE,{className:"inline-flex w-64 justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 backdrop-blur-[8px] shadow-[inset_4px_4px_4px_0_rgba(0,0,0,0.25)]",children:[t||"Select Configuration",(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6",children:(0,$g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})]})}),(0,$g.jsxs)(oE,{transition:!0,className:"absolute right-0 z-10 mt-2 w-56 max-h-96 overflow-auto origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black/5 transition focus:outline-none data-[closed]:scale-95 data-[closed]:transform data-[closed]:opacity-0 data-[enter]:duration-100 data-[leave]:duration-75 data-[enter]:ease-out data-[leave]:ease-in",children:[(0,$g.jsx)(lE,{children:(0,$g.jsx)("button",{type:"button",onClick:()=>n("All-Data"),className:"block w-full px-4 py-2 text-left text-sm text-gray-700 data-[focus]:bg-gray-100 data-[focus]:text-gray-900 data-[focus]:outline-none",children:"All-Data"})}),(0,$g.jsxs)("div",{className:"py-1",children:[r.map(((e,t)=>(0,$g.jsx)(lE,{children:(0,$g.jsx)("button",{type:"button",onClick:()=>n(e),className:"block px-4 py-2 text-sm text-gray-700 data-[focus]:bg-gray-100 data-[focus]:text-gray-900 data-[focus]:outline-none",children:e})},t))),(0,$g.jsx)("form",{action:"#",method:"POST",children:"// ... existing code ..."})]})]})]})})};var RU={version:"0.18.5"},kU=1200,NU=1252,PU=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],IU={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},LU=function(e){-1!=PU.indexOf(e)&&(NU=IU[0]=e)};var DU=function(e){kU=e,LU(e)};function BU(){DU(1200),LU(1252)}function OU(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var FU,UU=function(e){return String.fromCharCode(e)},jU=function(e){return String.fromCharCode(e)};var zU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function HU(e){for(var t="",n=0,r=0,i=0,s=0,a=0,o=0,l=0,c=0;c<e.length;)s=(n=e.charCodeAt(c++))>>2,a=(3&n)<<4|(r=e.charCodeAt(c++))>>4,o=(15&r)<<2|(i=e.charCodeAt(c++))>>6,l=63&i,isNaN(r)?o=l=64:isNaN(i)&&(l=64),t+=zU.charAt(s)+zU.charAt(a)+zU.charAt(o)+zU.charAt(l);return t}function GU(e){var t="",n=0,r=0,i=0,s=0,a=0,o=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<e.length;)n=zU.indexOf(e.charAt(l++))<<2|(s=zU.indexOf(e.charAt(l++)))>>4,t+=String.fromCharCode(n),r=(15&s)<<4|(a=zU.indexOf(e.charAt(l++)))>>2,64!==a&&(t+=String.fromCharCode(r)),i=(3&a)<<6|(o=zU.indexOf(e.charAt(l++))),64!==o&&(t+=String.fromCharCode(i));return t}var VU=function(){return"undefined"!==typeof Buffer&&"undefined"!==typeof process&&"undefined"!==typeof process.versions&&!!process.versions.node}(),WU=function(){if("undefined"!==typeof Buffer){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch(TS){e=!0}return e?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function XU(e){return VU?Buffer.alloc?Buffer.alloc(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}function YU(e){return VU?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}var JU=function(e){return VU?WU(e,"binary"):e.split("").map((function(e){return 255&e.charCodeAt(0)}))};function KU(e){if("undefined"===typeof ArrayBuffer)return JU(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=255&e.charCodeAt(r);return t}function qU(e){if(Array.isArray(e))return e.map((function(e){return String.fromCharCode(e)})).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}var QU=VU?function(e){return Buffer.concat(e.map((function(e){return Buffer.isBuffer(e)?e:WU(e)})))}:function(e){if("undefined"!==typeof Uint8Array){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),i=0;for(t=0,n=0;t<e.length;n+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if("string"==typeof e[t])throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map((function(e){return Array.isArray(e)?e:[].slice.call(e)})))};var ZU=/\u0000/g,$U=/[\u0001-\u0006]/g;function ej(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function tj(e,t){var n=""+e;return n.length>=t?n:fz("0",t-n.length)+n}function nj(e,t){var n=""+e;return n.length>=t?n:fz(" ",t-n.length)+n}function rj(e,t){var n=""+e;return n.length>=t?n:n+fz(" ",t-n.length)}var ij=Math.pow(2,32);function sj(e,t){return e>ij||e<-ij?function(e,t){var n=""+Math.round(e);return n.length>=t?n:fz("0",t-n.length)+n}(e,t):function(e,t){var n=""+e;return n.length>=t?n:fz("0",t-n.length)+n}(Math.round(e),t)}function aj(e,t){return t=t||0,e.length>=7+t&&103===(32|e.charCodeAt(t))&&101===(32|e.charCodeAt(t+1))&&110===(32|e.charCodeAt(t+2))&&101===(32|e.charCodeAt(t+3))&&114===(32|e.charCodeAt(t+4))&&97===(32|e.charCodeAt(t+5))&&108===(32|e.charCodeAt(t+6))}var oj=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],lj=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];var cj={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},uj={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},hj={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function dj(e,t,n){for(var r=e<0?-1:1,i=e*r,s=0,a=1,o=0,l=1,c=0,u=0,h=Math.floor(i);c<t&&(o=(h=Math.floor(i))*a+s,u=h*c+l,!(i-h<5e-8));)i=1/(i-h),s=a,a=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=s):(u=c,o=a)),!n)return[0,r*o,u];var d=Math.floor(r*o/u);return[d,r*o-d*u,u]}function fj(e,t,n){if(e>2958465||e<0)return null;var r=0|e,i=Math.floor(86400*(e-r)),s=0,a=[],o={D:r,T:i,u:86400*(e-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(r+=1462),o.u>.9999&&(o.u=0,86400==++i&&(o.T=i=0,++r,++o.D)),60===r)a=n?[1317,10,29]:[1900,2,29],s=3;else if(0===r)a=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),r<60&&(s=(s+6)%7),n&&(s=function(e,t){t[0]-=581;var n=e.getDay();e<60&&(n=(n+6)%7);return n}(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var pj=new Date(1899,11,31,0,0,0),mj=pj.getTime(),gj=new Date(1900,2,1,0,0,0);function vj(e,t){var n=e.getTime();return t?n-=1262304e5:e>=gj&&(n+=864e5),(n-(mj+6e4*(e.getTimezoneOffset()-pj.getTimezoneOffset())))/864e5}function xj(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function bj(e){var t,n=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=n>=-4&&n<=-1?e.toPrecision(10+n):Math.abs(n)<=9?function(e){var t=e<0?12:11,n=xj(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10)).length<=t?n:e.toExponential(5)}(e):10===n?e.toFixed(10).substr(0,12):function(e){var t=xj(e.toFixed(11));return t.length>(e<0?12:11)||"0"===t||"-0"===t?e.toPrecision(6):t}(e),xj(function(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(t.toUpperCase()))}function yj(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):bj(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return zj(14,vj(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function wj(e,t,n,r){var i,s="",a=0,o=0,l=n.y,c=0;switch(e){case 98:l=n.y+543;case 121:switch(t.length){case 1:case 2:i=l%100,c=2;break;default:i=l%1e4,c=4}break;case 109:switch(t.length){case 1:case 2:i=n.m,c=t.length;break;case 3:return lj[n.m-1][1];case 5:return lj[n.m-1][0];default:return lj[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:i=n.d,c=t.length;break;case 3:return oj[n.q][0];default:return oj[n.q][1]}break;case 104:switch(t.length){case 1:case 2:i=1+(n.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:i=n.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:i=n.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==n.u||"s"!=t&&"ss"!=t?(o=r>=2?3===r?1e3:100:1===r?10:1,(a=Math.round(o*(n.S+n.u)))>=60*o&&(a=0),"s"===t?0===a?"0":""+a/o:(s=tj(a,2+r),"ss"===t?s.substr(0,2):"."+s.substr(2,t.length-1))):tj(n.S,t.length);case 90:switch(t){case"[h]":case"[hh]":i=24*n.D+n.H;break;case"[m]":case"[mm]":i=60*(24*n.D+n.H)+n.M;break;case"[s]":case"[ss]":i=60*(60*(24*n.D+n.H)+n.M)+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}c=3===t.length?1:2;break;case 101:i=l,c=1}return c>0?tj(i,c):""}function _j(e){if(e.length<=3)return e;for(var t=e.length%3,n=e.substr(0,t);t!=e.length;t+=3)n+=(n.length>0?",":"")+e.substr(t,3);return n}var Aj=/%/g;function Sj(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+Sj(e,-t);var i=e.indexOf(".");-1===i&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),-1===(n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i)).indexOf("e")){var a=Math.floor(Math.log(t)*Math.LOG10E);for(-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s);"0."===n.substr(0,2);)n=(n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,n,r){return t+n+r.substr(0,(i+s)%i)+"."+r.substr(s)+"E"}))}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var Ej=/# (\?+)( ?)\/( ?)(\d+)/;var Tj=/^#*0*\.([0#]+)/,Mj=/\).*[0#]/,Cj=/\(###\) ###\\?-####/;function Rj(e){for(var t,n="",r=0;r!=e.length;++r)switch(t=e.charCodeAt(r)){case 35:break;case 63:n+=" ";break;case 48:n+="0";break;default:n+=String.fromCharCode(t)}return n}function kj(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function Nj(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function Pj(e,t,n){if(40===e.charCodeAt(0)&&!t.match(Mj)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Pj("n",r,n):"("+Pj("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return Dj(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(e,t,n);if(-1!==t.indexOf("%"))return function(e,t,n){var r=t.replace(Aj,""),i=t.length-r.length;return Dj(e,r,n*Math.pow(10,2*i))+fz("%",i)}(e,t,n);if(-1!==t.indexOf("E"))return Sj(t,n);if(36===t.charCodeAt(0))return"$"+Pj(e,t.substr(" "==t.charAt(1)?2:1),n);var i,s,a,o,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+sj(l,t.length);if(t.match(/^[#?]+$/))return"0"===(i=sj(n,0))&&(i=""),i.length>t.length?i:Rj(t.substr(0,t.length-i.length))+i;if(s=t.match(Ej))return function(e,t,n){var r=parseInt(e[4],10),i=Math.round(t*r),s=Math.floor(i/r),a=i-s*r,o=r;return n+(0===s?"":""+s)+" "+(0===a?fz(" ",e[1].length+1+e[4].length):nj(a,e[1].length)+e[2]+"/"+e[3]+tj(o,e[4].length))}(s,l,c);if(t.match(/^#+0+$/))return c+sj(l,t.length-t.indexOf("0"));if(s=t.match(Tj))return i=kj(n,s[1].length).replace(/^([^\.]+)$/,"$1."+Rj(s[1])).replace(/\.$/,"."+Rj(s[1])).replace(/\.(\d*)$/,(function(e,t){return"."+t+fz("0",Rj(s[1]).length-t.length)})),-1!==t.indexOf("0.")?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+kj(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+_j(sj(l,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Pj(e,t,-n):_j(""+(Math.floor(n)+function(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}(n,s[1].length)))+"."+tj(Nj(n,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Pj(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=ej(Pj(e,t.replace(/[\\-]/g,""),n)),a=0,ej(ej(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return a<i.length?i.charAt(a++):"0"===e?"0":""})));if(t.match(Cj))return"("+(i=Pj(e,"##########",n)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=dj(l,Math.pow(10,a)-1,!1),i=""+c," "==(u=Dj("n",s[1],o[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],(u=rj(o[2],a)).length<s[4].length&&(u=Rj(s[4].substr(s[4].length-u.length))+u),i+=u;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),c+((o=dj(l,Math.pow(10,a)-1,!0))[0]||(o[1]?"":"0"))+" "+(o[1]?nj(o[1],a)+s[2]+"/"+s[3]+rj(o[2],a):fz(" ",2*a+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=sj(n,0),t.length<=i.length?i:Rj(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var h=t.indexOf(".")-a,d=t.length-i.length-h;return Rj(t.substr(0,h)+i+t.substr(t.length-d))}if(s=t.match(/^00,000\.([#0]*0)$/))return a=Nj(n,s[1].length),n<0?"-"+Pj(e,t,-n):_j(function(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?tj(0,3-e.length):"")+e}))+"."+tj(a,s[1].length);switch(t){case"###,##0.00":return Pj(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var f=_j(sj(l,0));return"0"!==f?c+f:"";case"###,###.00":return Pj(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Pj(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Ij(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+Ij(e,-t);var i=e.indexOf(".");-1===i&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),!(n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i)).match(/[Ee]/)){var a=Math.floor(Math.log(t)*Math.LOG10E);-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,n,r){return t+n+r.substr(0,(i+s)%i)+"."+r.substr(s)+"E"}))}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Lj(e,t,n){if(40===e.charCodeAt(0)&&!t.match(Mj)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Lj("n",r,n):"("+Lj("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return Dj(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(e,t,n);if(-1!==t.indexOf("%"))return function(e,t,n){var r=t.replace(Aj,""),i=t.length-r.length;return Dj(e,r,n*Math.pow(10,2*i))+fz("%",i)}(e,t,n);if(-1!==t.indexOf("E"))return Ij(t,n);if(36===t.charCodeAt(0))return"$"+Lj(e,t.substr(" "==t.charAt(1)?2:1),n);var i,s,a,o,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+tj(l,t.length);if(t.match(/^[#?]+$/))return i=""+n,0===n&&(i=""),i.length>t.length?i:Rj(t.substr(0,t.length-i.length))+i;if(s=t.match(Ej))return function(e,t,n){return n+(0===t?"":""+t)+fz(" ",e[1].length+2+e[4].length)}(s,l,c);if(t.match(/^#+0+$/))return c+tj(l,t.length-t.indexOf("0"));if(s=t.match(Tj))return i=(i=(""+n).replace(/^([^\.]+)$/,"$1."+Rj(s[1])).replace(/\.$/,"."+Rj(s[1]))).replace(/\.(\d*)$/,(function(e,t){return"."+t+fz("0",Rj(s[1]).length-t.length)})),-1!==t.indexOf("0.")?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+_j(""+l);if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Lj(e,t,-n):_j(""+n)+"."+fz("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Lj(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=ej(Lj(e,t.replace(/[\\-]/g,""),n)),a=0,ej(ej(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return a<i.length?i.charAt(a++):"0"===e?"0":""})));if(t.match(Cj))return"("+(i=Lj(e,"##########",n)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=dj(l,Math.pow(10,a)-1,!1),i=""+c," "==(u=Dj("n",s[1],o[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],(u=rj(o[2],a)).length<s[4].length&&(u=Rj(s[4].substr(s[4].length-u.length))+u),i+=u;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),c+((o=dj(l,Math.pow(10,a)-1,!0))[0]||(o[1]?"":"0"))+" "+(o[1]?nj(o[1],a)+s[2]+"/"+s[3]+rj(o[2],a):fz(" ",2*a+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=""+n,t.length<=i.length?i:Rj(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var h=t.indexOf(".")-a,d=t.length-i.length-h;return Rj(t.substr(0,h)+i+t.substr(t.length-d))}if(s=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Lj(e,t,-n):_j(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?tj(0,3-e.length):"")+e}))+"."+tj(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var f=_j(""+l);return"0"!==f?c+f:"";default:if(t.match(/\.[0#?]*$/))return Lj(e,t.slice(0,t.lastIndexOf(".")),n)+Rj(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Dj(e,t,n){return(0|n)===n?Lj(e,t,n):Pj(e,t,n)}var Bj=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Oj(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":aj(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;if("\u4e0a\u5348/\u4e0b\u5348"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(r=n;"]"!==e.charAt(t++)&&t<e.length;)r+=e.charAt(t);if(r.match(Bj))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||"\\"==n&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;default:++t}return!1}var Fj=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Uj(e,t){if(null==t)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0}return!1}function jj(e,t){var n=function(e){for(var t=[],n=!1,r=0,i=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(i,r-i),i=r+1}if(t[t.length]=e.substr(i),!0===n)throw new Error("Format |"+e+"| unterminated string ");return t}(e),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if("number"!==typeof t)return[4,4===n.length||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"]}var s=t>0?n[0]:t<0?n[1]:n[2];if(-1===n[0].indexOf("[")&&-1===n[1].indexOf("["))return[r,s];if(null!=n[0].match(/\[[=<>]/)||null!=n[1].match(/\[[=<>]/)){var a=n[0].match(Fj),o=n[1].match(Fj);return Uj(t,a)?[r,n[0]]:Uj(t,o)?[r,n[1]]:[r,n[null!=a&&null!=o?2:1]]}return[r,s]}function zj(e,t,n){null==n&&(n={});var r="";switch(typeof e){case"string":r="m/d/yy"==e&&n.dateNF?n.dateNF:e;break;case"number":null==(r=14==e&&n.dateNF?n.dateNF:(null!=n.table?n.table:cj)[e])&&(r=n.table&&n.table[uj[e]]||cj[uj[e]]),null==r&&(r=hj[e]||"General")}if(aj(r,0))return yj(t,n);t instanceof Date&&(t=vj(t,n.date1904));var i=jj(r,t);if(aj(i[1]))return yj(t,n);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function(e,t,n,r){for(var i,s,a,o=[],l="",c=0,u="",h="t",d="H";c<e.length;)switch(u=e.charAt(c)){case"G":if(!aj(e,c))throw new Error("unrecognized character "+u+" in "+e);o[o.length]={t:"G",v:"General"},c+=7;break;case'"':for(l="";34!==(a=e.charCodeAt(++c))&&c<e.length;)l+=String.fromCharCode(a);o[o.length]={t:"t",v:l},++c;break;case"\\":var f=e.charAt(++c),p="("===f||")"===f?f:"t";o[o.length]={t:p,v:f},++c;break;case"_":o[o.length]={t:"t",v:" "},c+=2;break;case"@":o[o.length]={t:"T",v:t},++c;break;case"B":case"b":if("1"===e.charAt(c+1)||"2"===e.charAt(c+1)){if(null==i&&null==(i=fj(t,n,"2"===e.charAt(c+1))))return"";o[o.length]={t:"X",v:e.substr(c,2)},h=u,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==i&&null==(i=fj(t,n)))return"";for(l=u;++c<e.length&&e.charAt(c).toLowerCase()===u;)l+=u;"m"===u&&"h"===h.toLowerCase()&&(u="M"),"h"===u&&(u=d),o[o.length]={t:u,v:l},h=u;break;case"A":case"a":case"\u4e0a":var m={t:u,v:u};if(null==i&&(i=fj(t,n)),"A/P"===e.substr(c,3).toUpperCase()?(null!=i&&(m.v=i.H>=12?"P":"A"),m.t="T",d="h",c+=3):"AM/PM"===e.substr(c,5).toUpperCase()?(null!=i&&(m.v=i.H>=12?"PM":"AM"),m.t="T",c+=5,d="h"):"\u4e0a\u5348/\u4e0b\u5348"===e.substr(c,5).toUpperCase()?(null!=i&&(m.v=i.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),m.t="T",c+=5,d="h"):(m.t="t",++c),null==i&&"T"===m.t)return"";o[o.length]=m,h=u;break;case"[":for(l=u;"]"!==e.charAt(c++)&&c<e.length;)l+=e.charAt(c);if("]"!==l.slice(-1))throw'unterminated "[" block: |'+l+"|";if(l.match(Bj)){if(null==i&&null==(i=fj(t,n)))return"";o[o.length]={t:"Z",v:l.toLowerCase()},h=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",Oj(e)||(o[o.length]={t:"t",v:l}));break;case".":if(null!=i){for(l=u;++c<e.length&&"0"===(u=e.charAt(c));)l+=u;o[o.length]={t:"s",v:l};break}case"0":case"#":for(l=u;++c<e.length&&"0#?.,E+-%".indexOf(u=e.charAt(c))>-1;)l+=u;o[o.length]={t:"n",v:l};break;case"?":for(l=u;e.charAt(++c)===u;)l+=u;o[o.length]={t:u,v:l},h=u;break;case"*":++c," "!=e.charAt(c)&&"*"!=e.charAt(c)||++c;break;case"(":case")":o[o.length]={t:1===r?"t":u,v:u},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=u;c<e.length&&"0123456789".indexOf(e.charAt(++c))>-1;)l+=e.charAt(c);o[o.length]={t:"D",v:l};break;case" ":o[o.length]={t:u,v:u},++c;break;case"$":o[o.length]={t:"t",v:"$"},++c;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(u))throw new Error("unrecognized character "+u+" in "+e);o[o.length]={t:"t",v:u},++c}var g,v=0,x=0;for(c=o.length-1,h="t";c>=0;--c)switch(o[c].t){case"h":case"H":o[c].t=d,h="h",v<1&&(v=1);break;case"s":(g=o[c].v.match(/\.0+$/))&&(x=Math.max(x,g[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":h=o[c].t;break;case"m":"s"===h&&(o[c].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&o[c].v.match(/[Hh]/)&&(v=1),v<2&&o[c].v.match(/[Mm]/)&&(v=2),v<3&&o[c].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M),i.M>=60&&(i.M=0,++i.H);break;case 2:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M)}var b,y="";for(c=0;c<o.length;++c)switch(o[c].t){case"t":case"T":case" ":case"D":break;case"X":o[c].v="",o[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":o[c].v=wj(o[c].t.charCodeAt(0),o[c].v,i,x),o[c].t="t";break;case"n":case"?":for(b=c+1;null!=o[b]&&("?"===(u=o[b].t)||"D"===u||(" "===u||"t"===u)&&null!=o[b+1]&&("?"===o[b+1].t||"t"===o[b+1].t&&"/"===o[b+1].v)||"("===o[c].t&&(" "===u||"n"===u||")"===u)||"t"===u&&("/"===o[b].v||" "===o[b].v&&null!=o[b+1]&&"?"==o[b+1].t));)o[c].v+=o[b].v,o[b]={v:"",t:";"},++b;y+=o[c].v,c=b-1;break;case"G":o[c].t="t",o[c].v=yj(t,n)}var w,_,A="";if(y.length>0){40==y.charCodeAt(0)?(w=t<0&&45===y.charCodeAt(0)?-t:t,_=Dj("n",y,w)):(_=Dj("n",y,w=t<0&&r>1?-t:t),w<0&&o[0]&&"t"==o[0].t&&(_=_.substr(1),o[0].v="-"+o[0].v)),b=_.length-1;var S=o.length;for(c=0;c<o.length;++c)if(null!=o[c]&&"t"!=o[c].t&&o[c].v.indexOf(".")>-1){S=c;break}var E=o.length;if(S===o.length&&-1===_.indexOf("E")){for(c=o.length-1;c>=0;--c)null!=o[c]&&-1!=="n?".indexOf(o[c].t)&&(b>=o[c].v.length-1?(b-=o[c].v.length,o[c].v=_.substr(b+1,o[c].v.length)):b<0?o[c].v="":(o[c].v=_.substr(0,b+1),b=-1),o[c].t="t",E=c);b>=0&&E<o.length&&(o[E].v=_.substr(0,b+1)+o[E].v)}else if(S!==o.length&&-1===_.indexOf("E")){for(b=_.indexOf(".")-1,c=S;c>=0;--c)if(null!=o[c]&&-1!=="n?".indexOf(o[c].t)){for(s=o[c].v.indexOf(".")>-1&&c===S?o[c].v.indexOf(".")-1:o[c].v.length-1,A=o[c].v.substr(s+1);s>=0;--s)b>=0&&("0"===o[c].v.charAt(s)||"#"===o[c].v.charAt(s))&&(A=_.charAt(b--)+A);o[c].v=A,o[c].t="t",E=c}for(b>=0&&E<o.length&&(o[E].v=_.substr(0,b+1)+o[E].v),b=_.indexOf(".")+1,c=S;c<o.length;++c)if(null!=o[c]&&(-1!=="n?(".indexOf(o[c].t)||c===S)){for(s=o[c].v.indexOf(".")>-1&&c===S?o[c].v.indexOf(".")+1:0,A=o[c].v.substr(0,s);s<o[c].v.length;++s)b<_.length&&(A+=_.charAt(b++));o[c].v=A,o[c].t="t",E=c}}}for(c=0;c<o.length;++c)null!=o[c]&&"n?".indexOf(o[c].t)>-1&&(w=r>1&&t<0&&c>0&&"-"===o[c-1].v?-t:t,o[c].v=Dj(o[c].t,o[c].v,w),o[c].t="t");var T="";for(c=0;c!==o.length;++c)null!=o[c]&&(T+=o[c].v);return T}(i[1],t,n,i[0])}function Hj(e,t){if("number"!=typeof t){t=+t||-1;for(var n=0;n<392;++n)if(void 0!=cj[n]){if(cj[n]==e){t=n;break}}else t<0&&(t=n);t<0&&(t=391)}return cj[t]=e,t}function Gj(e){for(var t=0;392!=t;++t)void 0!==e[t]&&Hj(e[t],t)}function Vj(){cj=function(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',e}()}var Wj=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;var Xj=function(){var e={};e.version="1.2.0";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!==typeof Int32Array?new Int32Array(t):t}();var n=function(e){var t=0,n=0,r=0,i="undefined"!==typeof Int32Array?new Int32Array(4096):new Array(4096);for(r=0;256!=r;++r)i[r]=e[r];for(r=0;256!=r;++r)for(n=e[r],t=256+r;t<4096;t+=256)n=i[t]=n>>>8^e[255&n];var s=[];for(r=1;16!=r;++r)s[r-1]="undefined"!==typeof Int32Array?i.subarray(256*r,256*r+256):i.slice(256*r,256*r+256);return s}(t),r=n[0],i=n[1],s=n[2],a=n[3],o=n[4],l=n[5],c=n[6],u=n[7],h=n[8],d=n[9],f=n[10],p=n[11],m=n[12],g=n[13],v=n[14];return e.table=t,e.bstr=function(e,n){for(var r=~n,i=0,s=e.length;i<s;)r=r>>>8^t[255&(r^e.charCodeAt(i++))];return~r},e.buf=function(e,n){for(var x=~n,b=e.length-15,y=0;y<b;)x=v[e[y++]^255&x]^g[e[y++]^x>>8&255]^m[e[y++]^x>>16&255]^p[e[y++]^x>>>24]^f[e[y++]]^d[e[y++]]^h[e[y++]]^u[e[y++]]^c[e[y++]]^l[e[y++]]^o[e[y++]]^a[e[y++]]^s[e[y++]]^i[e[y++]]^r[e[y++]]^t[e[y++]];for(b+=15;y<b;)x=x>>>8^t[255&(x^e[y++])];return~x},e.str=function(e,n){for(var r=~n,i=0,s=e.length,a=0,o=0;i<s;)(a=e.charCodeAt(i++))<128?r=r>>>8^t[255&(r^a)]:a<2048?r=(r=r>>>8^t[255&(r^(192|a>>6&31))])>>>8^t[255&(r^(128|63&a))]:a>=55296&&a<57344?(a=64+(1023&a),o=1023&e.charCodeAt(i++),r=(r=(r=(r=r>>>8^t[255&(r^(240|a>>8&7))])>>>8^t[255&(r^(128|a>>2&63))])>>>8^t[255&(r^(128|o>>6&15|(3&a)<<4))])>>>8^t[255&(r^(128|63&o))]):r=(r=(r=r>>>8^t[255&(r^(224|a>>12&15))])>>>8^t[255&(r^(128|a>>6&63))])>>>8^t[255&(r^(128|63&a))];return~r},e}(),Yj=function(){var e,t={};function n(e){if("/"==e.charAt(e.length-1))return-1===e.slice(0,-1).indexOf("/")?e:n(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(0,t+1)}function r(e){if("/"==e.charAt(e.length-1))return r(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function i(e,t){"string"===typeof t&&(t=new Date(t));var n=t.getHours();n=(n=n<<6|t.getMinutes())<<5|t.getSeconds()>>>1,e.write_shift(2,n);var r=t.getFullYear()-1980;r=(r=r<<4|t.getMonth()+1)<<5|t.getDate(),e.write_shift(2,r)}function s(e){HH(e,0);for(var t={},n=0;e.l<=e.length-4;){var r=e.read_shift(2),i=e.read_shift(2),s=e.l+i,a={};if(21589===r)1&(n=e.read_shift(1))&&(a.mtime=e.read_shift(4)),i>5&&(2&n&&(a.atime=e.read_shift(4)),4&n&&(a.ctime=e.read_shift(4))),a.mtime&&(a.mt=new Date(1e3*a.mtime));e.l=s,t[r]=a}return t}function a(){return e||(e={})}function o(e,t){if(80==e[0]&&75==e[1])return re(e,t);if(109==(32|e[0])&&105==(32|e[1]))return function(e,t){if("mime-version:"!=_(e.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var n=t&&t.root||"",r=(VU&&Buffer.isBuffer(e)?e.toString("binary"):_(e)).split("\r\n"),i=0,s="";for(i=0;i<r.length;++i)if(s=r[i],/^Content-Location:/i.test(s)&&(s=s.slice(s.indexOf("file")),n||(n=s.slice(0,s.lastIndexOf("/")+1)),s.slice(0,n.length)!=n))for(;n.length>0&&(n=(n=n.slice(0,n.length-1)).slice(0,n.lastIndexOf("/")+1),s.slice(0,n.length)!=n););var a=(r[1]||"").match(/boundary="(.*?)"/);if(!a)throw new Error("MAD cannot find boundary");var o="--"+(a[1]||""),l=[],c=[],u={FileIndex:l,FullPaths:c};d(u);var h,f=0;for(i=0;i<r.length;++i){var p=r[i];p!==o&&p!==o+"--"||(f++&&ce(u,r.slice(h,i),n),h=i)}return u}(e,t);if(e.length<512)throw new Error("CFB file size "+e.length+" < 512");var n,r,i,s,a,o,f=512,p=[],m=e.slice(0,512);HH(m,0);var g=function(e){if(80==e[e.l]&&75==e[e.l+1])return[0,0];e.chk(x,"Header Signature: "),e.l+=16;var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}(m);switch(n=g[0]){case 3:f=512;break;case 4:f=4096;break;case 0:if(0==g[1])return re(e,t);default:throw new Error("Major Version: Expected 3 or 4 saw "+n)}512!==f&&HH(m=e.slice(0,f),28);var b=e.slice(0,f);!function(e,t){var n=9;switch(e.l+=2,n=e.read_shift(2)){case 9:if(3!=t)throw new Error("Sector Shift: Expected 9 saw "+n);break;case 12:if(4!=t)throw new Error("Sector Shift: Expected 12 saw "+n);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+n)}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}(m,n);var y=m.read_shift(4,"i");if(3===n&&0!==y)throw new Error("# Directory Sectors: Expected 0 saw "+y);m.l+=4,s=m.read_shift(4,"i"),m.l+=4,m.chk("00100000","Mini Stream Cutoff Size: "),a=m.read_shift(4,"i"),r=m.read_shift(4,"i"),o=m.read_shift(4,"i"),i=m.read_shift(4,"i");for(var w=-1,A=0;A<109&&!((w=m.read_shift(4,"i"))<0);++A)p[A]=w;var S=function(e,t){for(var n=Math.ceil(e.length/t)-1,r=[],i=1;i<n;++i)r[i-1]=e.slice(i*t,(i+1)*t);return r[n-1]=e.slice(n*t),r}(e,f);c(o,i,S,f,p);var E=function(e,t,n,r){var i=e.length,s=[],a=[],o=[],l=[],c=r-1,u=0,h=0,d=0,f=0;for(u=0;u<i;++u)if(o=[],(d=u+t)>=i&&(d-=i),!a[d]){l=[];var p=[];for(h=d;h>=0;){p[h]=!0,a[h]=!0,o[o.length]=h,l.push(e[h]);var m=n[Math.floor(4*h/r)];if(r<4+(f=4*h&c))throw new Error("FAT boundary crossed: "+h+" 4 "+r);if(!e[m])break;if(p[h=LH(e[m],f)])break}s[d]={nodes:o,data:cH([l])}}return s}(S,s,p,f);E[s].name="!Directory",r>0&&a!==v&&(E[a].name="!MiniFAT"),E[p[0]].name="!FAT",E.fat_addrs=p,E.ssz=f;var T=[],M=[],C=[];!function(e,t,n,r,i,s,a,o){for(var c,d=0,f=r.length?2:0,p=t[e].data,m=0,g=0;m<p.length;m+=128){var x=p.slice(m,m+128);HH(x,64),g=x.read_shift(2),c=hH(x,0,g-f),r.push(c);var b={name:c,type:x.read_shift(1),color:x.read_shift(1),L:x.read_shift(4,"i"),R:x.read_shift(4,"i"),C:x.read_shift(4,"i"),clsid:x.read_shift(16),state:x.read_shift(4,"i"),start:0,size:0};0!==x.read_shift(2)+x.read_shift(2)+x.read_shift(2)+x.read_shift(2)&&(b.ct=h(x,x.l-8)),0!==x.read_shift(2)+x.read_shift(2)+x.read_shift(2)+x.read_shift(2)&&(b.mt=h(x,x.l-8)),b.start=x.read_shift(4,"i"),b.size=x.read_shift(4,"i"),b.size<0&&b.start<0&&(b.size=b.type=0,b.start=v,b.name=""),5===b.type?(d=b.start,i>0&&d!==v&&(t[d].name="!StreamData")):b.size>=4096?(b.storage="fat",void 0===t[b.start]&&(t[b.start]=u(n,b.start,t.fat_addrs,t.ssz)),t[b.start].name=b.name,b.content=t[b.start].data.slice(0,b.size)):(b.storage="minifat",b.size<0?b.size=0:d!==v&&b.start!==v&&t[d]&&(b.content=l(b,t[d].data,(t[o]||{}).data))),b.content&&HH(b.content,0),s[c]=b,a.push(b)}}(s,E,S,T,r,{},M,a),function(e,t,n){for(var r=0,i=0,s=0,a=0,o=0,l=n.length,c=[],u=[];r<l;++r)c[r]=u[r]=r,t[r]=n[r];for(;o<u.length;++o)i=e[r=u[o]].L,s=e[r].R,a=e[r].C,c[r]===r&&(-1!==i&&c[i]!==i&&(c[r]=c[i]),-1!==s&&c[s]!==s&&(c[r]=c[s])),-1!==a&&(c[a]=r),-1!==i&&r!=c[r]&&(c[i]=c[r],u.lastIndexOf(i)<o&&u.push(i)),-1!==s&&r!=c[r]&&(c[s]=c[r],u.lastIndexOf(s)<o&&u.push(s));for(r=1;r<l;++r)c[r]===r&&(-1!==s&&c[s]!==s?c[r]=c[s]:-1!==i&&c[i]!==i&&(c[r]=c[i]));for(r=1;r<l;++r)if(0!==e[r].type){if((o=r)!=c[o])do{o=c[o],t[r]=t[o]+"/"+t[r]}while(0!==o&&-1!==c[o]&&o!=c[o]);c[r]=-1}for(t[0]+="/",r=1;r<l;++r)2!==e[r].type&&(t[r]+="/")}(M,C,T),T.shift();var R={FileIndex:M,FullPaths:C};return t&&t.raw&&(R.raw={header:b,sectors:S}),R}function l(e,t,n){for(var r=e.start,i=e.size,s=[],a=r;n&&i>0&&a>=0;)s.push(t.slice(a*g,a*g+g)),i-=g,a=LH(n,4*a);return 0===s.length?VH(0):QU(s).slice(0,e.size)}function c(e,t,n,r,i){var s=v;if(e===v){if(0!==t)throw new Error("DIFAT chain shorter than expected")}else if(-1!==e){var a=n[e],o=(r>>>2)-1;if(!a)return;for(var l=0;l<o&&(s=LH(a,4*l))!==v;++l)i.push(s);c(LH(a,r-4),t-1,n,r,i)}}function u(e,t,n,r,i){var s=[],a=[];i||(i=[]);var o=r-1,l=0,c=0;for(l=t;l>=0;){i[l]=!0,s[s.length]=l,a.push(e[l]);var u=n[Math.floor(4*l/r)];if(r<4+(c=4*l&o))throw new Error("FAT boundary crossed: "+l+" 4 "+r);if(!e[u])break;l=LH(e[u],c)}return{nodes:s,data:cH([a])}}function h(e,t){return new Date(1e3*(IH(e,t+4)/1e7*Math.pow(2,32)+IH(e,t)/1e7-11644473600))}function d(e,t){var n=t||{},r=n.root||"Root Entry";if(e.FullPaths||(e.FullPaths=[]),e.FileIndex||(e.FileIndex=[]),e.FullPaths.length!==e.FileIndex.length)throw new Error("inconsistent CFB structure");0===e.FullPaths.length&&(e.FullPaths[0]=r+"/",e.FileIndex[0]={name:r,type:5}),n.CLSID&&(e.FileIndex[0].clsid=n.CLSID),function(e){var t="\x01Sh33tJ5";if(Yj.find(e,"/"+t))return;var n=VH(4);n[0]=55,n[1]=n[3]=50,n[2]=54,e.FileIndex.push({name:t,type:2,content:n,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),f(e)}(e)}function f(e,t){d(e);for(var i=!1,s=!1,a=e.FullPaths.length-1;a>=0;--a){var o=e.FileIndex[a];switch(o.type){case 0:s?i=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:s=!0,isNaN(o.R*o.L*o.C)&&(i=!0),o.R>-1&&o.L>-1&&o.R==o.L&&(i=!0);break;default:i=!0}}if(i||t){var l=new Date(1987,1,19),c=0,u=Object.create?Object.create(null):{},h=[];for(a=0;a<e.FullPaths.length;++a)u[e.FullPaths[a]]=!0,0!==e.FileIndex[a].type&&h.push([e.FullPaths[a],e.FileIndex[a]]);for(a=0;a<h.length;++a){var f=n(h[a][0]);(s=u[f])||(h.push([f,{name:r(f).replace("/",""),type:1,clsid:y,ct:l,mt:l,content:null}]),u[f]=!0)}for(h.sort((function(e,t){return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0,s=0,a=Math.min(n.length,r.length);i<a;++i){if(s=n[i].length-r[i].length)return s;if(n[i]!=r[i])return n[i]<r[i]?-1:1}return n.length-r.length}(e[0],t[0])})),e.FullPaths=[],e.FileIndex=[],a=0;a<h.length;++a)e.FullPaths[a]=h[a][0],e.FileIndex[a]=h[a][1];for(a=0;a<h.length;++a){var p=e.FileIndex[a],m=e.FullPaths[a];if(p.name=r(m).replace("/",""),p.L=p.R=p.C=-(p.color=1),p.size=p.content?p.content.length:0,p.start=0,p.clsid=p.clsid||y,0===a)p.C=h.length>1?1:-1,p.size=0,p.type=5;else if("/"==m.slice(-1)){for(c=a+1;c<h.length&&n(e.FullPaths[c])!=m;++c);for(p.C=c>=h.length?-1:c,c=a+1;c<h.length&&n(e.FullPaths[c])!=n(m);++c);p.R=c>=h.length?-1:c,p.type=1}else n(e.FullPaths[a+1]||"")==n(m)&&(p.R=a+1),p.type=2}}}function p(e,t){var n=t||{};if("mad"==n.fileType)return function(e,t){for(var n=t||{},r=n.boundary||"SheetJS",i=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(r="------="+r).slice(2)+'"',"","",""],s=e.FullPaths[0],a=s,o=e.FileIndex[0],l=1;l<e.FullPaths.length;++l)if(a=e.FullPaths[l].slice(s.length),(o=e.FileIndex[l]).size&&o.content&&"\x01Sh33tJ5"!=a){a=a.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,(function(e){return"_x"+e.charCodeAt(0).toString(16)+"_"})).replace(/[\u0080-\uFFFF]/g,(function(e){return"_u"+e.charCodeAt(0).toString(16)+"_"}));for(var c=o.content,u=VU&&Buffer.isBuffer(c)?c.toString("binary"):_(c),h=0,d=Math.min(1024,u.length),f=0,p=0;p<=d;++p)(f=u.charCodeAt(p))>=32&&f<128&&++h;var m=h>=4*d/5;i.push(r),i.push("Content-Location: "+(n.root||"file:///C:/SheetJS/")+a),i.push("Content-Transfer-Encoding: "+(m?"quoted-printable":"base64")),i.push("Content-Type: "+ae(o,a)),i.push(""),i.push(m?le(u):oe(u))}return i.push(r+"--\r\n"),i.join("\r\n")}(e,n);if(f(e),"zip"===n.fileType)return function(e,t){var n=t||{},r=[],s=[],a=VH(1),o=n.compression?8:0,l=0;0;var c=0,u=0,h=0,d=0,f=e.FullPaths[0],p=f,m=e.FileIndex[0],g=[],v=0;for(c=1;c<e.FullPaths.length;++c)if(p=e.FullPaths[c].slice(f.length),(m=e.FileIndex[c]).size&&m.content&&"\x01Sh33tJ5"!=p){var x=h,b=VH(p.length);for(u=0;u<p.length;++u)b.write_shift(1,127&p.charCodeAt(u));b=b.slice(0,b.l),g[d]=Xj.buf(m.content,0);var y=m.content;8==o&&(y=A(y)),(a=VH(30)).write_shift(4,67324752),a.write_shift(2,20),a.write_shift(2,l),a.write_shift(2,o),m.mt?i(a,m.mt):a.write_shift(4,0),a.write_shift(-4,8&l?0:g[d]),a.write_shift(4,8&l?0:y.length),a.write_shift(4,8&l?0:m.content.length),a.write_shift(2,b.length),a.write_shift(2,0),h+=a.length,r.push(a),h+=b.length,r.push(b),h+=y.length,r.push(y),8&l&&((a=VH(12)).write_shift(-4,g[d]),a.write_shift(4,y.length),a.write_shift(4,m.content.length),h+=a.l,r.push(a)),(a=VH(46)).write_shift(4,33639248),a.write_shift(2,0),a.write_shift(2,20),a.write_shift(2,l),a.write_shift(2,o),a.write_shift(4,0),a.write_shift(-4,g[d]),a.write_shift(4,y.length),a.write_shift(4,m.content.length),a.write_shift(2,b.length),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(4,0),a.write_shift(4,x),v+=a.l,s.push(a),v+=b.length,s.push(b),++d}return a=VH(22),a.write_shift(4,101010256),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,d),a.write_shift(2,d),a.write_shift(4,v),a.write_shift(4,h),a.write_shift(2,0),QU([QU(r),QU(s),a])}(e,n);var r=function(e){for(var t=0,n=0,r=0;r<e.FileIndex.length;++r){var i=e.FileIndex[r];if(i.content){var s=i.content.length;s>0&&(s<4096?t+=s+63>>6:n+=s+511>>9)}}for(var a=e.FullPaths.length+3>>2,o=t+127>>7,l=(t+7>>3)+n+a+o,c=l+127>>7,u=c<=109?0:Math.ceil((c-109)/127);l+c+u+127>>7>c;)u=++c<=109?0:Math.ceil((c-109)/127);var h=[1,u,c,o,a,n,t,0];return e.FileIndex[0].size=t<<6,h[7]=(e.FileIndex[0].start=h[0]+h[1]+h[2]+h[3]+h[4]+h[5])+(h[6]+7>>3),h}(e),s=VH(r[7]<<9),a=0,o=0;for(a=0;a<8;++a)s.write_shift(1,b[a]);for(a=0;a<8;++a)s.write_shift(2,0);for(s.write_shift(2,62),s.write_shift(2,3),s.write_shift(2,65534),s.write_shift(2,9),s.write_shift(2,6),a=0;a<3;++a)s.write_shift(2,0);for(s.write_shift(4,0),s.write_shift(4,r[2]),s.write_shift(4,r[0]+r[1]+r[2]+r[3]-1),s.write_shift(4,0),s.write_shift(4,4096),s.write_shift(4,r[3]?r[0]+r[1]+r[2]-1:v),s.write_shift(4,r[3]),s.write_shift(-4,r[1]?r[0]-1:v),s.write_shift(4,r[1]),a=0;a<109;++a)s.write_shift(-4,a<r[2]?r[1]+a:-1);if(r[1])for(o=0;o<r[1];++o){for(;a<236+127*o;++a)s.write_shift(-4,a<r[2]?r[1]+a:-1);s.write_shift(-4,o===r[1]-1?v:o+1)}var l=function(e){for(o+=e;a<o-1;++a)s.write_shift(-4,a+1);e&&(++a,s.write_shift(-4,v))};for(o=a=0,o+=r[1];a<o;++a)s.write_shift(-4,w.DIFSECT);for(o+=r[2];a<o;++a)s.write_shift(-4,w.FATSECT);l(r[3]),l(r[4]);for(var c=0,u=0,h=e.FileIndex[0];c<e.FileIndex.length;++c)(h=e.FileIndex[c]).content&&((u=h.content.length)<4096||(h.start=o,l(u+511>>9)));for(l(r[6]+7>>3);511&s.l;)s.write_shift(-4,w.ENDOFCHAIN);for(o=a=0,c=0;c<e.FileIndex.length;++c)(h=e.FileIndex[c]).content&&(!(u=h.content.length)||u>=4096||(h.start=o,l(u+63>>6)));for(;511&s.l;)s.write_shift(-4,w.ENDOFCHAIN);for(a=0;a<r[4]<<2;++a){var d=e.FullPaths[a];if(d&&0!==d.length){h=e.FileIndex[a],0===a&&(h.start=h.size?h.start-1:v);var p=0===a&&n.root||h.name;if(u=2*(p.length+1),s.write_shift(64,p,"utf16le"),s.write_shift(2,u),s.write_shift(1,h.type),s.write_shift(1,h.color),s.write_shift(-4,h.L),s.write_shift(-4,h.R),s.write_shift(-4,h.C),h.clsid)s.write_shift(16,h.clsid,"hex");else for(c=0;c<4;++c)s.write_shift(4,0);s.write_shift(4,h.state||0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,h.start),s.write_shift(4,h.size),s.write_shift(4,0)}else{for(c=0;c<17;++c)s.write_shift(4,0);for(c=0;c<3;++c)s.write_shift(4,-1);for(c=0;c<12;++c)s.write_shift(4,0)}}for(a=1;a<e.FileIndex.length;++a)if((h=e.FileIndex[a]).size>=4096)if(s.l=h.start+1<<9,VU&&Buffer.isBuffer(h.content))h.content.copy(s,s.l,0,h.size),s.l+=h.size+511&-512;else{for(c=0;c<h.size;++c)s.write_shift(1,h.content[c]);for(;511&c;++c)s.write_shift(1,0)}for(a=1;a<e.FileIndex.length;++a)if((h=e.FileIndex[a]).size>0&&h.size<4096)if(VU&&Buffer.isBuffer(h.content))h.content.copy(s,s.l,0,h.size),s.l+=h.size+63&-64;else{for(c=0;c<h.size;++c)s.write_shift(1,h.content[c]);for(;63&c;++c)s.write_shift(1,0)}if(VU)s.l=s.length;else for(;s.l<s.length;)s.write_shift(1,0);return s}t.version="1.2.1";var m,g=64,v=-2,x="d0cf11e0a1b11ae1",b=[208,207,17,224,161,177,26,225],y="00000000000000000000000000000000",w={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:v,FREESECT:-1,HEADER_SIGNATURE:x,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:y,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function _(e){for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function A(e){return m?m.deflateRawSync(e):J(e)}var S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],E=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],T=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function M(e){var t=139536&(e<<1|e<<11)|558144&(e<<5|e<<15);return 255&(t>>16|t>>8|t)}for(var C="undefined"!==typeof Uint8Array,R=C?new Uint8Array(256):[],k=0;k<256;++k)R[k]=M(k);function N(e,t){var n=R[255&e];return t<=8?n>>>8-t:(n=n<<8|R[e>>8&255],t<=16?n>>>16-t:(n=n<<8|R[e>>16&255])>>>24-t)}function P(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=6?0:e[r+1]<<8))>>>n&3}function I(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=5?0:e[r+1]<<8))>>>n&7}function L(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=3?0:e[r+1]<<8))>>>n&31}function D(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=1?0:e[r+1]<<8))>>>n&127}function B(e,t,n){var r=7&t,i=t>>>3,s=(1<<n)-1,a=e[i]>>>r;return n<8-r?a&s:(a|=e[i+1]<<8-r,n<16-r?a&s:(a|=e[i+2]<<16-r,n<24-r?a&s:(a|=e[i+3]<<24-r)&s))}function O(e,t,n){var r=7&t,i=t>>>3;return r<=5?e[i]|=(7&n)<<r:(e[i]|=n<<r&255,e[i+1]=(7&n)>>8-r),t+3}function F(e,t,n){return n=(1&n)<<(7&t),e[t>>>3]|=n,t+1}function U(e,t,n){var r=t>>>3;return n<<=7&t,e[r]|=255&n,n>>>=8,e[r+1]=n,t+8}function j(e,t,n){var r=t>>>3;return n<<=7&t,e[r]|=255&n,n>>>=8,e[r+1]=255&n,e[r+2]=n>>>8,t+16}function z(e,t){var n=e.length,r=2*n>t?2*n:t+5,i=0;if(n>=t)return e;if(VU){var s=YU(r);if(e.copy)e.copy(s);else for(;i<e.length;++i)s[i]=e[i];return s}if(C){var a=new Uint8Array(r);if(a.set)a.set(e);else for(;i<n;++i)a[i]=e[i];return a}return e.length=r,e}function H(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=0;return t}function G(e,t,n){var r=1,i=0,s=0,a=0,o=0,l=e.length,c=C?new Uint16Array(32):H(32);for(s=0;s<32;++s)c[s]=0;for(s=l;s<n;++s)e[s]=0;l=e.length;var u=C?new Uint16Array(l):H(l);for(s=0;s<l;++s)c[i=e[s]]++,r<i&&(r=i),u[s]=0;for(c[0]=0,s=1;s<=r;++s)c[s+16]=o=o+c[s-1]<<1;for(s=0;s<l;++s)0!=(o=e[s])&&(u[s]=c[o+16]++);var h=0;for(s=0;s<l;++s)if(0!=(h=e[s]))for(o=N(u[s],r)>>r-h,a=(1<<r+4-h)-1;a>=0;--a)t[o|a<<h]=15&h|s<<4;return r}var V=C?new Uint16Array(512):H(512),W=C?new Uint16Array(32):H(32);if(!C){for(var X=0;X<512;++X)V[X]=0;for(X=0;X<32;++X)W[X]=0}!function(){for(var e=[],t=0;t<32;t++)e.push(5);G(e,W,32);var n=[];for(t=0;t<=143;t++)n.push(8);for(;t<=255;t++)n.push(9);for(;t<=279;t++)n.push(7);for(;t<=287;t++)n.push(8);G(n,V,288)}();var Y=function(){for(var e=C?new Uint8Array(32768):[],t=0,n=0;t<T.length-1;++t)for(;n<T[t+1];++n)e[n]=t;for(;n<32768;++n)e[n]=29;var r=C?new Uint8Array(259):[];for(t=0,n=0;t<E.length-1;++t)for(;n<E[t+1];++n)r[n]=t;return function(t,n){return t.length<8?function(e,t){for(var n=0;n<e.length;){var r=Math.min(65535,e.length-n),i=n+r==e.length;for(t.write_shift(1,+i),t.write_shift(2,r),t.write_shift(2,65535&~r);r-- >0;)t[t.l++]=e[n++]}return t.l}(t,n):function(t,n){for(var i=0,s=0,a=C?new Uint16Array(32768):[];s<t.length;){var o=Math.min(65535,t.length-s);if(o<10){for(7&(i=O(n,i,+!(s+o!=t.length)))&&(i+=8-(7&i)),n.l=i/8|0,n.write_shift(2,o),n.write_shift(2,65535&~o);o-- >0;)n[n.l++]=t[s++];i=8*n.l}else{i=O(n,i,+!(s+o!=t.length)+2);for(var l=0;o-- >0;){var c=t[s],u=-1,h=0;if((u=a[l=32767&(l<<5^c)])&&((u|=-32768&s)>s&&(u-=32768),u<s))for(;t[u+h]==t[s+h]&&h<250;)++h;if(h>2){(c=r[h])<=22?i=U(n,i,R[c+1]>>1)-1:(U(n,i,3),U(n,i+=5,R[c-23]>>5),i+=3);var d=c<8?0:c-4>>2;d>0&&(j(n,i,h-E[c]),i+=d),c=e[s-u],i=U(n,i,R[c]>>3),i-=3;var f=c<4?0:c-2>>1;f>0&&(j(n,i,s-u-T[c]),i+=f);for(var p=0;p<h;++p)a[l]=32767&s,l=32767&(l<<5^t[s]),++s;o-=h-1}else c<=143?c+=48:i=F(n,i,1),i=U(n,i,R[c]),a[l]=32767&s,++s}i=U(n,i,0)-1}}return n.l=(i+7)/8|0,n.l}(t,n)}}();function J(e){var t=VH(50+Math.floor(1.1*e.length)),n=Y(e,t);return t.slice(0,n)}var K=C?new Uint16Array(32768):H(32768),q=C?new Uint16Array(32768):H(32768),Q=C?new Uint16Array(128):H(128),Z=1,$=1;function ee(e,t){var n=L(e,t)+257,r=L(e,t+=5)+1,i=function(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=4?0:e[r+1]<<8))>>>n&15}(e,t+=5)+4;t+=4;for(var s=0,a=C?new Uint8Array(19):H(19),o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=1,c=C?new Uint8Array(8):H(8),u=C?new Uint8Array(8):H(8),h=a.length,d=0;d<i;++d)a[S[d]]=s=I(e,t),l<s&&(l=s),c[s]++,t+=3;var f=0;for(c[0]=0,d=1;d<=l;++d)u[d]=f=f+c[d-1]<<1;for(d=0;d<h;++d)0!=(f=a[d])&&(o[d]=u[f]++);var p=0;for(d=0;d<h;++d)if(0!=(p=a[d])){f=R[o[d]]>>8-p;for(var m=(1<<7-p)-1;m>=0;--m)Q[f|m<<p]=7&p|d<<3}var g=[];for(l=1;g.length<n+r;)switch(t+=7&(f=Q[D(e,t)]),f>>>=3){case 16:for(s=3+P(e,t),t+=2,f=g[g.length-1];s-- >0;)g.push(f);break;case 17:for(s=3+I(e,t),t+=3;s-- >0;)g.push(0);break;case 18:for(s=11+D(e,t),t+=7;s-- >0;)g.push(0);break;default:g.push(f),l<f&&(l=f)}var v=g.slice(0,n),x=g.slice(n);for(d=n;d<286;++d)v[d]=0;for(d=r;d<30;++d)x[d]=0;return Z=G(v,K,286),$=G(x,q,30),t}function te(e,t){var n=function(e,t){if(3==e[0]&&!(3&e[1]))return[XU(t),2];for(var n=0,r=0,i=YU(t||1<<18),s=0,a=i.length>>>0,o=0,l=0;0==(1&r);)if(r=I(e,n),n+=3,r>>>1!=0)for(r>>1==1?(o=9,l=5):(n=ee(e,n),o=Z,l=$);;){!t&&a<s+32767&&(a=(i=z(i,s+32767)).length);var c=B(e,n,o),u=r>>>1==1?V[c]:K[c];if(n+=15&u,0===((u>>>=4)>>>8&255))i[s++]=u;else{if(256==u)break;var h=(u-=257)<8?0:u-4>>2;h>5&&(h=0);var d=s+E[u];h>0&&(d+=B(e,n,h),n+=h),c=B(e,n,l),n+=15&(u=r>>>1==1?W[c]:q[c]);var f=(u>>>=4)<4?0:u-2>>1,p=T[u];for(f>0&&(p+=B(e,n,f),n+=f),!t&&a<d&&(a=(i=z(i,d+100)).length);s<d;)i[s]=i[s-p],++s}}else{7&n&&(n+=8-(7&n));var m=e[n>>>3]|e[1+(n>>>3)]<<8;if(n+=32,m>0)for(!t&&a<s+m&&(a=(i=z(i,s+m)).length);m-- >0;)i[s++]=e[n>>>3],n+=8}return t?[i,n+7>>>3]:[i.slice(0,s),n+7>>>3]}(e.slice(e.l||0),t);return e.l+=n[1],n[0]}function ne(e,t){if(!e)throw new Error(t);"undefined"!==typeof console&&console.error(t)}function re(e,t){var n=e;HH(n,0);var r={FileIndex:[],FullPaths:[]};d(r,{root:t.root});for(var i=n.length-4;(80!=n[i]||75!=n[i+1]||5!=n[i+2]||6!=n[i+3])&&i>=0;)--i;n.l=i+4,n.l+=4;var a=n.read_shift(2);n.l+=6;var o=n.read_shift(4);for(n.l=o,i=0;i<a;++i){n.l+=20;var l=n.read_shift(4),c=n.read_shift(4),u=n.read_shift(2),h=n.read_shift(2),f=n.read_shift(2);n.l+=8;var p=n.read_shift(4),m=s(n.slice(n.l+u,n.l+u+h));n.l+=u+h+f;var g=n.l;n.l=p+4,ie(n,l,c,r,m),n.l=g}return r}function ie(e,t,n,r,i){e.l+=2;var a=e.read_shift(2),o=e.read_shift(2),l=function(e){var t=65535&e.read_shift(2),n=65535&e.read_shift(2),r=new Date,i=31&n,s=15&(n>>>=5);n>>>=4,r.setMilliseconds(0),r.setFullYear(n+1980),r.setMonth(s-1),r.setDate(i);var a=31&t,o=63&(t>>>=5);return t>>>=6,r.setHours(t),r.setMinutes(o),r.setSeconds(a<<1),r}(e);if(8257&a)throw new Error("Unsupported ZIP encryption");e.read_shift(4);for(var c=e.read_shift(4),u=e.read_shift(4),h=e.read_shift(2),d=e.read_shift(2),f="",p=0;p<h;++p)f+=String.fromCharCode(e[e.l++]);if(d){var g=s(e.slice(e.l,e.l+d));(g[21589]||{}).mt&&(l=g[21589].mt),((i||{})[21589]||{}).mt&&(l=i[21589].mt)}e.l+=d;var v=e.slice(e.l,e.l+c);switch(o){case 8:v=function(e,t){if(!m)return te(e,t);var n=new(0,m.InflateRaw),r=n._processChunk(e.slice(e.l),n._finishFlushFlag);return e.l+=n.bytesRead,r}(e,u);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+o)}var x=!1;8&a&&(134695760==e.read_shift(4)&&(e.read_shift(4),x=!0),c=e.read_shift(4),u=e.read_shift(4)),c!=t&&ne(x,"Bad compressed size: "+t+" != "+c),u!=n&&ne(x,"Bad uncompressed size: "+n+" != "+u),ue(r,f,v,{unsafe:!0,mt:l})}var se={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ae(e,t){if(e.ctype)return e.ctype;var n=e.name||"",r=n.match(/\.([^\.]+)$/);return r&&se[r[1]]||t&&(r=(n=t).match(/[\.\\]([^\.\\])+$/))&&se[r[1]]?se[r[1]]:"application/octet-stream"}function oe(e){for(var t=HU(e),n=[],r=0;r<t.length;r+=76)n.push(t.slice(r,r+76));return n.join("\r\n")+"\r\n"}function le(e){var t=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,(function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"="+(1==t.length?"0"+t:t)}));"\n"==(t=t.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(t="=0D"+t.slice(1));for(var n=[],r=(t=t.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),i=0;i<r.length;++i){var s=r[i];if(0!=s.length)for(var a=0;a<s.length;){var o=76,l=s.slice(a,a+o);"="==l.charAt(o-1)?o--:"="==l.charAt(o-2)?o-=2:"="==l.charAt(o-3)&&(o-=3),l=s.slice(a,a+o),(a+=o)<s.length&&(l+="="),n.push(l)}else n.push("")}return n.join("\r\n")}function ce(e,t,n){for(var r,i="",s="",a="",o=0;o<10;++o){var l=t[o];if(!l||l.match(/^\s*$/))break;var c=l.match(/^(.*?):\s*([^\s].*)$/);if(c)switch(c[1].toLowerCase()){case"content-location":i=c[2].trim();break;case"content-type":a=c[2].trim();break;case"content-transfer-encoding":s=c[2].trim()}}switch(++o,s.toLowerCase()){case"base64":r=JU(GU(t.slice(o).join("")));break;case"quoted-printable":r=function(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n];n<=e.length&&"="==r.charAt(r.length-1);)r=r.slice(0,r.length-1)+e[++n];t.push(r)}for(var i=0;i<t.length;++i)t[i]=t[i].replace(/[=][0-9A-Fa-f]{2}/g,(function(e){return String.fromCharCode(parseInt(e.slice(1),16))}));return JU(t.join("\r\n"))}(t.slice(o));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+s)}var u=ue(e,i.slice(n.length),r,{unsafe:!0});a&&(u.ctype=a)}function ue(e,t,n,i){var s=i&&i.unsafe;s||d(e);var a=!s&&Yj.find(e,t);if(!a){var o=e.FullPaths[0];t.slice(0,o.length)==o?o=t:("/"!=o.slice(-1)&&(o+="/"),o=(o+t).replace("//","/")),a={name:r(t),type:2},e.FileIndex.push(a),e.FullPaths.push(o),s||Yj.utils.cfb_gc(e)}return a.content=n,a.size=n?n.length:0,i&&(i.CLSID&&(a.clsid=i.CLSID),i.mt&&(a.mt=i.mt),i.ct&&(a.ct=i.ct)),a}return t.find=function(e,t){var n=e.FullPaths.map((function(e){return e.toUpperCase()})),r=n.map((function(e){var t=e.split("/");return t[t.length-("/"==e.slice(-1)?2:1)]})),i=!1;47===t.charCodeAt(0)?(i=!0,t=n[0].slice(0,-1)+t):i=-1!==t.indexOf("/");var s=t.toUpperCase(),a=!0===i?n.indexOf(s):r.indexOf(s);if(-1!==a)return e.FileIndex[a];var o=!s.match($U);for(s=s.replace(ZU,""),o&&(s=s.replace($U,"!")),a=0;a<n.length;++a){if((o?n[a].replace($U,"!"):n[a]).replace(ZU,"")==s)return e.FileIndex[a];if((o?r[a].replace($U,"!"):r[a]).replace(ZU,"")==s)return e.FileIndex[a]}return null},t.read=function(t,n){var r=n&&n.type;switch(r||VU&&Buffer.isBuffer(t)&&(r="buffer"),r||"base64"){case"file":return function(t,n){return a(),o(e.readFileSync(t),n)}(t,n);case"base64":return o(JU(GU(t)),n);case"binary":return o(JU(t),n)}return o(t,n)},t.parse=o,t.write=function(t,n){var r=p(t,n);switch(n&&n.type||"buffer"){case"file":return a(),e.writeFileSync(n.filename,r),r;case"binary":return"string"==typeof r?r:_(r);case"base64":return HU("string"==typeof r?r:_(r));case"buffer":if(VU)return Buffer.isBuffer(r)?r:WU(r);case"array":return"string"==typeof r?JU(r):r}return r},t.writeFile=function(t,n,r){a();var i=p(t,r);e.writeFileSync(n,i)},t.utils={cfb_new:function(e){var t={};return d(t,e),t},cfb_add:ue,cfb_del:function(e,t){d(e);var n=Yj.find(e,t);if(n)for(var r=0;r<e.FileIndex.length;++r)if(e.FileIndex[r]==n)return e.FileIndex.splice(r,1),e.FullPaths.splice(r,1),!0;return!1},cfb_mov:function(e,t,n){d(e);var i=Yj.find(e,t);if(i)for(var s=0;s<e.FileIndex.length;++s)if(e.FileIndex[s]==i)return e.FileIndex[s].name=r(n),e.FullPaths[s]=n,!0;return!1},cfb_gc:function(e){f(e,!0)},ReadShift:BH,CheckField:zH,prep_blob:HH,bconcat:QU,use_zlib:function(e){try{var t=new(0,e.InflateRaw);if(t._processChunk(new Uint8Array([3,0]),t._finishFlushFlag),!t.bytesRead)throw new Error("zlib does not expose bytesRead");m=e}catch(TS){console.error("cannot use native zlib: "+(TS.message||TS))}},_deflateRaw:J,_inflateRaw:te,consts:w},t}();let Jj;function Kj(e){return"string"===typeof e?KU(e):Array.isArray(e)?function(e){if("undefined"===typeof Uint8Array)throw new Error("Unsupported");return new Uint8Array(e)}(e):e}function qj(e,t,n){if("undefined"!==typeof Jj&&Jj.writeFileSync)return n?Jj.writeFileSync(e,t,n):Jj.writeFileSync(e,t);if("undefined"!==typeof Deno){if(n&&"string"==typeof t)switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=KU(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var r="utf8"==n?Lz(t):t;if("undefined"!==typeof IE_SaveFile)return IE_SaveFile(r,e);if("undefined"!==typeof Blob){var i=new Blob([Kj(r)],{type:"application/octet-stream"});if("undefined"!==typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if("undefined"!==typeof saveAs)return saveAs(i,e);if("undefined"!==typeof URL&&"undefined"!==typeof document&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if("object"===typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout((function(){URL.revokeObjectURL(s)}),6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var a=document.createElement("a");if(null!=a.download)return a.download=e,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout((function(){URL.revokeObjectURL(s)}),6e4),s}}if("undefined"!==typeof $&&"undefined"!==typeof File&&"undefined"!==typeof Folder)try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=qU(t)),o.write(t),o.close(),t}catch(TS){if(!TS.message||!TS.message.match(/onstruct/))throw TS}throw new Error("cannot save file "+e)}function Qj(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function Zj(e,t){for(var n=[],r=Qj(e),i=0;i!==r.length;++i)null==n[e[r[i]][t]]&&(n[e[r[i]][t]]=r[i]);return n}function $j(e){for(var t=[],n=Qj(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}function ez(e){for(var t=[],n=Qj(e),r=0;r!==n.length;++r)t[e[n[r]]]=parseInt(n[r],10);return t}var tz=new Date(1899,11,30,0,0,0);function nz(e,t){var n=e.getTime();return t&&(n-=1263168e5),(n-(tz.getTime()+6e4*(e.getTimezoneOffset()-tz.getTimezoneOffset())))/864e5}var rz=new Date,iz=tz.getTime()+6e4*(rz.getTimezoneOffset()-tz.getTimezoneOffset()),sz=rz.getTimezoneOffset();function az(e){var t=new Date;return t.setTime(24*e*60*60*1e3+iz),t.getTimezoneOffset()!==sz&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-sz)),t}var oz=new Date("2017-02-19T19:06:09.000Z"),lz=isNaN(oz.getFullYear())?new Date("2/19/17"):oz,cz=2017==lz.getFullYear();function uz(e,t){var n=new Date(e);if(cz)return t>0?n.setTime(n.getTime()+60*n.getTimezoneOffset()*1e3):t<0&&n.setTime(n.getTime()-60*n.getTimezoneOffset()*1e3),n;if(e instanceof Date)return e;if(1917==lz.getFullYear()&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-60*s.getTimezoneOffset()*1e3)),s}function hz(e,t){if(VU&&Buffer.isBuffer(e)){if(t){if(255==e[0]&&254==e[1])return Lz(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return Lz(OU(e.slice(2).toString("binary")))}return e.toString("binary")}if("undefined"!==typeof TextDecoder)try{if(t){if(255==e[0]&&254==e[1])return Lz(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return Lz(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"\u20ac":"\x80","\u201a":"\x82","\u0192":"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02c6":"\x88","\u2030":"\x89","\u0160":"\x8a","\u2039":"\x8b","\u0152":"\x8c","\u017d":"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99","\u0161":"\x9a","\u203a":"\x9b","\u0153":"\x9c","\u017e":"\x9e","\u0178":"\x9f"};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,(function(e){return n[e]||e}))}catch(TS){}for(var r=[],i=0;i!=e.length;++i)r.push(String.fromCharCode(e[i]));return r.join("")}function dz(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=dz(e[n]));return t}function fz(e,t){for(var n="";n.length<t;)n+=e;return n}function pz(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,(function(){return n*=100,""}));return isNaN(t=Number(r))?(r=r.replace(/[(](.*)[)]/,(function(e,t){return n=-n,t})),isNaN(t=Number(r))?t:t/n):t/n}var mz=["january","february","march","april","may","june","july","august","september","october","november","december"];function gz(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),i=t.getMonth(),s=t.getDate();if(isNaN(s))return n;var a=e.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==mz.indexOf(a))return n}else if(a.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&101!=r?t:e.match(/[^-0-9:,\/\\]/)?n:t}function vz(e,t,n){if(e.FullPaths){var r;if("string"==typeof n)return r=VU?WU(n):function(e){for(var t=[],n=0,r=e.length+250,i=XU(e.length+255),s=0;s<e.length;++s){var a=e.charCodeAt(s);if(a<128)i[n++]=a;else if(a<2048)i[n++]=192|a>>6&31,i[n++]=128|63&a;else if(a>=55296&&a<57344){a=64+(1023&a);var o=1023&e.charCodeAt(++s);i[n++]=240|a>>8&7,i[n++]=128|a>>2&63,i[n++]=128|o>>6&15|(3&a)<<4,i[n++]=128|63&o}else i[n++]=224|a>>12&15,i[n++]=128|a>>6&63,i[n++]=128|63&a;n>r&&(t.push(i.slice(0,n)),n=0,i=XU(65535),r=65530)}return t.push(i.slice(0,n)),QU(t)}(n),Yj.utils.cfb_add(e,t,r);Yj.utils.cfb_add(e,t,n)}else e.file(t,n)}function xz(){return Yj.utils.cfb_new()}var bz='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n';var yz={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},wz=$j(yz),_z=/[&<>'"]/g,Az=/[\u0000-\u0008\u000b-\u001f]/g;function Sz(e){return(e+"").replace(_z,(function(e){return wz[e]})).replace(Az,(function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"}))}function Ez(e){return Sz(e).replace(/ /g,"_x0020_")}var Tz=/[\u0000-\u001f]/g;function Mz(e){return(e+"").replace(_z,(function(e){return wz[e]})).replace(/\n/g,"<br/>").replace(Tz,(function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"}))}function Cz(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Rz(e){for(var t="",n=0,r=0,i=0,s=0,a=0,o=0;n<e.length;)(r=e.charCodeAt(n++))<128?t+=String.fromCharCode(r):(i=e.charCodeAt(n++),r>191&&r<224?(a=(31&r)<<6,a|=63&i,t+=String.fromCharCode(a)):(s=e.charCodeAt(n++),r<240?t+=String.fromCharCode((15&r)<<12|(63&i)<<6|63&s):(o=((7&r)<<18|(63&i)<<12|(63&s)<<6|63&(a=e.charCodeAt(n++)))-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(1023&o)))));return t}function kz(e){var t,n,r,i=XU(2*e.length),s=1,a=0,o=0;for(n=0;n<e.length;n+=s)s=1,(r=e.charCodeAt(n))<128?t=r:r<224?(t=64*(31&r)+(63&e.charCodeAt(n+1)),s=2):r<240?(t=4096*(15&r)+64*(63&e.charCodeAt(n+1))+(63&e.charCodeAt(n+2)),s=3):(s=4,t=262144*(7&r)+4096*(63&e.charCodeAt(n+1))+64*(63&e.charCodeAt(n+2))+(63&e.charCodeAt(n+3)),o=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==o&&(i[a++]=255&o,i[a++]=o>>>8,o=0),i[a++]=t%256,i[a++]=t>>>8;return i.slice(0,a).toString("ucs2")}function Nz(e){return WU(e,"binary").toString("utf8")}var Pz="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",Iz=VU&&(Nz(Pz)==Rz(Pz)&&Nz||kz(Pz)==Rz(Pz)&&kz)||Rz,Lz=VU?function(e){return WU(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,i=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(63&r)));break;case r>=55296&&r<57344:r-=55296,i=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(63&i)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(63&r)))}return t.join("")},Dz=function(){var e=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map((function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]}));return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),r=0;r<e.length;++r)n=n.replace(e[r][0],e[r][1]);return n}}();var Bz=/(^\s|\s$|\n)/;function Oz(e,t){return"<"+e+(t.match(Bz)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Fz(e){return Qj(e).map((function(t){return" "+t+'="'+e[t]+'"'})).join("")}function Uz(e,t,n){return"<"+e+(null!=n?Fz(n):"")+(null!=t?(t.match(Bz)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function jz(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(TS){if(t)throw TS}return""}var zz="http://schemas.openxmlformats.org/package/2006/metadata/core-properties",Hz="http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",Gz="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",Vz="http://schemas.openxmlformats.org/package/2006/content-types",Wz="http://schemas.openxmlformats.org/package/2006/relationships",Xz="http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",Yz="http://purl.org/dc/elements/1.1/",Jz="http://purl.org/dc/terms/",Kz="http://purl.org/dc/dcmitype/",qz="http://schemas.openxmlformats.org/officeDocument/2006/relationships",Qz="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",Zz="http://www.w3.org/2001/XMLSchema-instance",$z="http://www.w3.org/2001/XMLSchema",eH=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],tH="urn:schemas-microsoft-com:office:office",nH="urn:schemas-microsoft-com:office:excel",rH="urn:schemas-microsoft-com:office:spreadsheet",iH="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",sH="http://macVmlSchemaUri",aH="urn:schemas-microsoft-com:vml",oH="http://www.w3.org/TR/REC-html40";var lH=function(e){for(var t=[],n=0;n<e[0].length;++n)if(e[0][n])for(var r=0,i=e[0][n].length;r<i;r+=10240)t.push.apply(t,e[0][n].slice(r,r+10240));return t},cH=VU?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map((function(e){return Buffer.isBuffer(e)?e:WU(e)}))):lH(e)}:lH,uH=function(e,t,n){for(var r=[],i=t;i<n;i+=2)r.push(String.fromCharCode(NH(e,i)));return r.join("").replace(ZU,"")},hH=VU?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(ZU,""):uH(e,t,n)}:uH,dH=function(e,t,n){for(var r=[],i=t;i<t+n;++i)r.push(("0"+e[i].toString(16)).slice(-2));return r.join("")},fH=VU?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):dH(e,t,n)}:dH,pH=function(e,t,n){for(var r=[],i=t;i<n;i++)r.push(String.fromCharCode(kH(e,i)));return r.join("")},mH=VU?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):pH(e,t,n)}:pH,gH=function(e,t){var n=IH(e,t);return n>0?mH(e,t+4,t+4+n-1):""},vH=gH,xH=function(e,t){var n=IH(e,t);return n>0?mH(e,t+4,t+4+n-1):""},bH=xH,yH=function(e,t){var n=2*IH(e,t);return n>0?mH(e,t+4,t+4+n-1):""},wH=yH,_H=function(e,t){var n=IH(e,t);return n>0?hH(e,t+4,t+4+n):""},AH=_H,SH=function(e,t){var n=IH(e,t);return n>0?mH(e,t+4,t+4+n):""},EH=SH,TH=function(e,t){return function(e,t){for(var n=1-2*(e[t+7]>>>7),r=((127&e[t+7])<<4)+(e[t+6]>>>4&15),i=15&e[t+6],s=5;s>=0;--s)i=256*i+e[t+s];return 2047==r?0==i?n*(1/0):NaN:(0==r?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}(e,t)},MH=TH,CH=function(e){return Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array};function RH(){hH=function(e,t,n){return FU.utils.decode(1200,e.slice(t,n)).replace(ZU,"")},mH=function(e,t,n){return FU.utils.decode(65001,e.slice(t,n))},vH=function(e,t){var n=IH(e,t);return n>0?FU.utils.decode(NU,e.slice(t+4,t+4+n-1)):""},bH=function(e,t){var n=IH(e,t);return n>0?FU.utils.decode(kU,e.slice(t+4,t+4+n-1)):""},wH=function(e,t){var n=2*IH(e,t);return n>0?FU.utils.decode(1200,e.slice(t+4,t+4+n-1)):""},AH=function(e,t){var n=IH(e,t);return n>0?FU.utils.decode(1200,e.slice(t+4,t+4+n)):""},EH=function(e,t){var n=IH(e,t);return n>0?FU.utils.decode(65001,e.slice(t+4,t+4+n)):""}}VU&&(vH=function(e,t){if(!Buffer.isBuffer(e))return gH(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},bH=function(e,t){if(!Buffer.isBuffer(e))return xH(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},wH=function(e,t){if(!Buffer.isBuffer(e))return yH(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},AH=function(e,t){if(!Buffer.isBuffer(e))return _H(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},EH=function(e,t){if(!Buffer.isBuffer(e))return SH(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},MH=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):TH(e,t)},CH=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array}),"undefined"!==typeof FU&&RH();var kH=function(e,t){return e[t]},NH=function(e,t){return 256*e[t+1]+e[t]},PH=function(e,t){var n=256*e[t+1]+e[t];return n<32768?n:-1*(65535-n+1)},IH=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},LH=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},DH=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function BH(e,t){var n,r,i,s,a,o,l="",c=[];switch(t){case"dbcs":if(o=this.l,VU&&Buffer.isBuffer(this))l=this.slice(this.l,this.l+2*e).toString("utf16le");else for(a=0;a<e;++a)l+=String.fromCharCode(NH(this,o)),o+=2;e*=2;break;case"utf8":l=mH(this,this.l,this.l+e);break;case"utf16le":e*=2,l=hH(this,this.l,this.l+e);break;case"wstr":if("undefined"===typeof FU)return BH.call(this,e,"dbcs");l=FU.utils.decode(kU,this.slice(this.l,this.l+2*e)),e*=2;break;case"lpstr-ansi":l=vH(this,this.l),e=4+IH(this,this.l);break;case"lpstr-cp":l=bH(this,this.l),e=4+IH(this,this.l);break;case"lpwstr":l=wH(this,this.l),e=4+2*IH(this,this.l);break;case"lpp4":e=4+IH(this,this.l),l=AH(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+IH(this,this.l),l=EH(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,l="";0!==(i=kH(this,this.l+e++));)c.push(UU(i));l=c.join("");break;case"_wstr":for(e=0,l="";0!==(i=NH(this,this.l+e));)c.push(UU(i)),e+=2;e+=2,l=c.join("");break;case"dbcs-cont":for(l="",o=this.l,a=0;a<e;++a){if(this.lens&&-1!==this.lens.indexOf(o))return i=kH(this,o),this.l=o+1,s=BH.call(this,e-a,i?"dbcs-cont":"sbcs-cont"),c.join("")+s;c.push(UU(NH(this,o))),o+=2}l=c.join(""),e*=2;break;case"cpstr":if("undefined"!==typeof FU){l=FU.utils.decode(kU,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(l="",o=this.l,a=0;a!=e;++a){if(this.lens&&-1!==this.lens.indexOf(o))return i=kH(this,o),this.l=o+1,s=BH.call(this,e-a,i?"dbcs-cont":"sbcs-cont"),c.join("")+s;c.push(UU(kH(this,o))),o+=1}l=c.join("");break;default:switch(e){case 1:return n=kH(this,this.l),this.l++,n;case 2:return n=("i"===t?PH:NH)(this,this.l),this.l+=2,n;case 4:case-4:return"i"===t||0===(128&this[this.l+3])?(n=(e>0?LH:DH)(this,this.l),this.l+=4,n):(r=IH(this,this.l),this.l+=4,r);case 8:case-8:if("f"===t)return r=8==e?MH(this,this.l):MH([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;e=8;case 16:l=fH(this,this.l,e)}}return this.l+=e,l}var OH=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},FH=function(e,t,n){e[n]=255&t,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},UH=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255};function jH(e,t,n){var r=0,i=0;if("dbcs"===n){for(i=0;i!=t.length;++i)UH(this,t.charCodeAt(i),this.l+2*i);r=2*t.length}else if("sbcs"===n){if("undefined"!==typeof FU&&874==NU)for(i=0;i!=t.length;++i){var s=FU.utils.encode(NU,t.charAt(i));this[this.l+i]=s[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=255&t.charCodeAt(i);r=t.length}else{if("hex"===n){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}if("utf16le"===n){var a=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var o=t.charCodeAt(i);this[this.l++]=255&o,this[this.l++]=o>>8}for(;this.l<a;)this[this.l++]=0;return this}switch(e){case 1:r=1,this[this.l]=255&t;break;case 2:r=2,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t;break;case 3:r=3,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l+2]=255&t;break;case 4:r=4,OH(this,t,this.l);break;case 8:if(r=8,"f"===n){!function(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,i=0,s=0,a=r?-t:t;isFinite(a)?0==a?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(t)?26985:0);for(var o=0;o<=5;++o,s/=256)e[n+o]=255&s;e[n+6]=(15&i)<<4|15&s,e[n+7]=i>>4|r}(this,t,this.l);break}case 16:break;case-4:r=4,FH(this,t,this.l)}}return this.l+=r,this}function zH(e,t){var n=fH(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function HH(e,t){e.l=t,e.read_shift=BH,e.chk=zH,e.write_shift=jH}function GH(e,t){e.l+=t}function VH(e){var t=XU(e);return HH(t,0),t}function WH(){var e=[],t=VU?256:2048,n=function(e){var t=VH(e);return HH(t,0),t},r=n(t),i=function(){r&&(r.length>r.l&&((r=r.slice(0,r.l)).l=r.length),r.length>0&&e.push(r),r=null)},s=function(e){return r&&e<r.length-r.l?r:(i(),r=n(Math.max(e+1,t)))};return{next:s,push:function(e){i(),null==(r=e).l&&(r.l=r.length),s(t)},end:function(){return i(),QU(e)},_bufs:e}}function XH(e,t,n,r){var i,s=+t;if(!isNaN(s)){r||(r=aY[s].p||(n||[]).length||0),i=1+(s>=128?1:0)+1,r>=128&&++i,r>=16384&&++i,r>=2097152&&++i;var a=e.next(i);s<=127?a.write_shift(1,s):(a.write_shift(1,128+(127&s)),a.write_shift(1,s>>7));for(var o=0;4!=o;++o){if(!(r>=128)){a.write_shift(1,r);break}a.write_shift(1,128+(127&r)),r>>=7}r>0&&CH(n)&&e.push(n)}}function YH(e,t,n){var r=dz(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function JH(e,t,n){var r=dz(e);return r.s=YH(r.s,t.s,n),r.e=YH(r.e,t.s,n),r}function KH(e,t){if(e.cRel&&e.c<0)for(e=dz(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=dz(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=nG(e);return e.cRel||null==e.cRel||(n=n.replace(/^([A-Z])/,"$$$1")),e.rRel||null==e.rRel||(n=function(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(n)),n}function qH(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?KH(e.s,t.biff)+":"+KH(e.e,t.biff):(e.s.rRel?"":"$")+ZH(e.s.r)+":"+(e.e.rRel?"":"$")+ZH(e.e.r):(e.s.cRel?"":"$")+eG(e.s.c)+":"+(e.e.cRel?"":"$")+eG(e.e.c)}function QH(e){return parseInt(e.replace(/\$(\d+)$/,"$1"),10)-1}function ZH(e){return""+(e+1)}function $H(e){for(var t=e.replace(/^\$([A-Z])/,"$1"),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function eG(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function tG(e){for(var t=0,n=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:t-1}}function nG(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function rG(e){var t=e.indexOf(":");return-1==t?{s:tG(e),e:tG(e)}:{s:tG(e.slice(0,t)),e:tG(e.slice(t+1))}}function iG(e,t){return"undefined"===typeof t||"number"===typeof t?iG(e.s,e.e):("string"!==typeof e&&(e=nG(e)),"string"!==typeof t&&(t=nG(t)),e==t?e:e+":"+t)}function sG(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=e.length;for(n=0;r<s&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.s.c=--n,n=0;r<s&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(t.s.r=--n,r===s||10!=i)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=s&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.e.c=--n,n=0;r!=s&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return t.e.r=--n,t}function aG(e,t){var n="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=zj(e.z,n?nz(t):t)}catch(TS){}try{return e.w=zj((e.XF||{}).numFmtId||(n?14:0),n?nz(t):t)}catch(TS){return""+t}}function oG(e,t,n){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),"e"==e.t?HG[e.v]||e.v:aG(e,void 0==t?e.v:t))}function lG(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function cG(e,t,n){var r=n||{},i=e?Array.isArray(e):r.dense;var s=e||(i?[]:{}),a=0,o=0;if(s&&null!=r.origin){if("number"==typeof r.origin)a=r.origin;else{var l="string"==typeof r.origin?tG(r.origin):r.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=sG(s["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),-1==a&&(c.e.r=a=u.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=t[h].length;++d)if("undefined"!==typeof t[h][d]){var f={v:t[h][d]},p=a+h,m=o+d;if(c.s.r>p&&(c.s.r=p),c.s.c>m&&(c.s.c=m),c.e.r<p&&(c.e.r=p),c.e.c<m&&(c.e.c=m),!t[h][d]||"object"!==typeof t[h][d]||Array.isArray(t[h][d])||t[h][d]instanceof Date)if(Array.isArray(f.v)&&(f.f=t[h][d][1],f.v=f.v[0]),null===f.v)if(f.f)f.t="n";else if(r.nullError)f.t="e",f.v=0;else{if(!r.sheetStubs)continue;f.t="z"}else"number"===typeof f.v?f.t="n":"boolean"===typeof f.v?f.t="b":f.v instanceof Date?(f.z=r.dateNF||cj[14],r.cellDates?(f.t="d",f.w=zj(f.z,nz(f.v))):(f.t="n",f.v=nz(f.v),f.w=zj(f.z,f.v))):f.t="s";else f=t[h][d];if(i)s[p]||(s[p]=[]),s[p][m]&&s[p][m].z&&(f.z=s[p][m].z),s[p][m]=f;else{var g=nG({c:m,r:p});s[g]&&s[g].z&&(f.z=s[g].z),s[g]=f}}}return c.s.c<1e7&&(s["!ref"]=iG(c)),s}function uG(e,t){return cG(null,e,t)}function hG(e,t){return t||(t=VH(4)),t.write_shift(4,e),t}function dG(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function fG(e,t){var n=!1;return null==t&&(n=!0,t=VH(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function pG(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function mG(e,t){var n=e.l,r=e.read_shift(1),i=dG(e),s=[],a={t:i,h:i};if(0!==(1&r)){for(var o=e.read_shift(4),l=0;l!=o;++l)s.push(pG(e));a.r=s}else a.r=[{ich:0,ifnt:0}];return e.l=n+t,a}var gG=mG;function vG(e,t){var n=!1;return null==t&&(n=!0,t=VH(23+4*e.t.length)),t.write_shift(1,1),fG(e.t,t),t.write_shift(4,1),function(e,t){t||(t=VH(4)),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0)}({ich:0,ifnt:0},t),n?t.slice(0,t.l):t}function xG(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function bG(e,t){return null==t&&(t=VH(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function yG(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function wG(e,t){return null==t&&(t=VH(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var _G=dG,AG=fG;function SG(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}function EG(e,t){var n=!1;return null==t&&(n=!0,t=VH(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var TG=dG,MG=SG,CG=EG;function RG(e){var t=e.slice(e.l,e.l+4),n=1&t[0],r=2&t[0];e.l+=4;var i=0===r?MH([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):LH(t,0)>>2;return n?i/100:i}function kG(e,t){null==t&&(t=VH(4));var n=0,r=0,i=100*e;if(e==(0|e)&&e>=-(1<<29)&&e<1<<29?r=1:i==(0|i)&&i>=-(1<<29)&&i<1<<29&&(r=1,n=1),!r)throw new Error("unsupported RkNumber "+e);t.write_shift(-4,((n?i:e)<<2)+(n+2))}function NG(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var PG=NG,IG=function(e,t){return t||(t=VH(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t};function LG(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function DG(e,t){return(t||VH(8)).write_shift(8,e,"f")}function BG(e,t){if(t||(t=VH(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=e.index?(t.write_shift(1,2),t.write_shift(1,e.index)):null!=e.theme?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),e.rgb&&null==e.theme){var r=e.rgb||"FFFFFF";"number"==typeof r&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}var OG=80,FG={1:{n:"CodePage",t:2},2:{n:"Category",t:OG},3:{n:"PresentationFormat",t:OG},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:OG},15:{n:"Company",t:OG},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:OG},27:{n:"ContentStatus",t:OG},28:{n:"Language",t:OG},29:{n:"Version",t:OG},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},UG={1:{n:"CodePage",t:2},2:{n:"Title",t:OG},3:{n:"Subject",t:OG},4:{n:"Author",t:OG},5:{n:"Keywords",t:OG},6:{n:"Comments",t:OG},7:{n:"Template",t:OG},8:{n:"LastAuthor",t:OG},9:{n:"RevNumber",t:OG},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:OG},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}};function jG(e){return e.map((function(e){return[e>>16&255,e>>8&255,255&e]}))}var zG=dz(jG([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),HG={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},GG={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},VG={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function WG(e,t){var n,r=function(e){for(var t=[],n=Qj(e),r=0;r!==n.length;++r)null==t[e[n[r]]]&&(t[e[n[r]]]=[]),t[e[n[r]]].push(n[r]);return t}(GG),i=[];i[i.length]=bz,i[i.length]=Uz("Types",null,{xmlns:Vz,"xmlns:xsd":$z,"xmlns:xsi":Zz}),i=i.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map((function(e){return Uz("Default",null,{Extension:e[0],ContentType:e[1]})})));var s=function(r){e[r]&&e[r].length>0&&(n=e[r][0],i[i.length]=Uz("Override",null,{PartName:("/"==n[0]?"":"/")+n,ContentType:VG[r][t.bookType]||VG[r].xlsx}))},a=function(n){(e[n]||[]).forEach((function(e){i[i.length]=Uz("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:VG[n][t.bookType]||VG[n].xlsx})}))},o=function(t){(e[t]||[]).forEach((function(e){i[i.length]=Uz("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:r[t][0]})}))};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),i.length>2&&(i[i.length]="</Types>",i[1]=i[1].replace("/>",">")),i.join("")}var XG={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function YG(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function JG(e){var t=[bz,Uz("Relationships",null,{xmlns:Wz})];return Qj(e["!id"]).forEach((function(n){t[t.length]=Uz("Relationship",null,e["!id"][n])})),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function KG(e,t,n,r,i,s){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=r,i.Target=n,s?i.TargetMode=s:[XG.HLINK,XG.XPATH,XG.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}function qG(e,t,n){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function QG(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+RU.version+"</meta:generator></office:meta></office:document-meta>"}var ZG=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function $G(e,t,n,r,i){null==i[e]&&null!=t&&""!==t&&(i[e]=t,t=Sz(t),r[r.length]=n?Uz(e,t,n):Oz(e,t))}function eV(e,t){var n=t||{},r=[bz,Uz("cp:coreProperties",null,{"xmlns:cp":zz,"xmlns:dc":Yz,"xmlns:dcterms":Jz,"xmlns:dcmitype":Kz,"xmlns:xsi":Zz})],i={};if(!e&&!n.Props)return r.join("");e&&(null!=e.CreatedDate&&$G("dcterms:created","string"===typeof e.CreatedDate?e.CreatedDate:jz(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),null!=e.ModifiedDate&&$G("dcterms:modified","string"===typeof e.ModifiedDate?e.ModifiedDate:jz(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=ZG.length;++s){var a=ZG[s],o=n.Props&&null!=n.Props[a[1]]?n.Props[a[1]]:e?e[a[1]]:null;!0===o?o="1":!1===o?o="0":"number"==typeof o&&(o=String(o)),null!=o&&$G(a[0],o,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var tV=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],nV=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function rV(e){var t=[],n=Uz;return e||(e={}),e.Application="SheetJS",t[t.length]=bz,t[t.length]=Uz("Properties",null,{xmlns:Gz,"xmlns:vt":Qz}),tV.forEach((function(r){if(void 0!==e[r[1]]){var i;switch(r[2]){case"string":i=Sz(String(e[r[1]]));break;case"bool":i=e[r[1]]?"true":"false"}void 0!==i&&(t[t.length]=n(r[0],i))}})),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map((function(e){return"<vt:lpstr>"+Sz(e)+"</vt:lpstr>"})).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function iV(e){var t=[bz,Uz("Properties",null,{xmlns:Hz,"xmlns:vt":Qz})];if(!e)return t.join("");var n=1;return Qj(e).forEach((function(r){++n,t[t.length]=Uz("property",function(e,t){switch(typeof e){case"string":var n=Uz("vt:lpwstr",Sz(e));return t&&(n=n.replace(/&quot;/g,"_x0022_")),n;case"number":return Uz((0|e)==e?"vt:i4":"vt:r8",Sz(String(e)));case"boolean":return Uz("vt:bool",e?"true":"false")}if(e instanceof Date)return Uz("vt:filetime",jz(e));throw new Error("Unable to serialize "+e)}(e[r],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:Sz(r)})})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var sV={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function aV(e,t){var n=VH(4),r=VH(4);switch(n.write_shift(4,80==e?31:e),e){case 3:r.write_shift(-4,t);break;case 5:(r=VH(8)).write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=function(e){var t=("string"==typeof e?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,n=t%Math.pow(2,32),r=(t-n)/Math.pow(2,32);r*=1e7;var i=(n*=1e7)/Math.pow(2,32)|0;i>0&&(n%=Math.pow(2,32),r+=i);var s=VH(8);return s.write_shift(4,n),s.write_shift(4,r),s}(t);break;case 31:case 80:for((r=VH(4+2*(t.length+1)+(t.length%2?0:2))).write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return QU([n,r])}var oV=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function lV(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return-1}function cV(e,t,n){var r=VH(8),i=[],s=[],a=8,o=0,l=VH(8),c=VH(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),s.push(l),i.push(c),a+=8+l.length,!t){(c=VH(8)).write_shift(4,0),i.unshift(c);var u=[VH(4)];for(u[0].write_shift(4,e.length),o=0;o<e.length;++o){var h=e[o][0];for((l=VH(8+2*(h.length+1)+(h.length%2?0:2))).write_shift(4,o+2),l.write_shift(4,h.length+1),l.write_shift(0,h,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=QU(u),s.unshift(l),a+=8+l.length}for(o=0;o<e.length;++o)if((!t||t[e[o][0]])&&!(oV.indexOf(e[o][0])>-1||nV.indexOf(e[o][0])>-1)&&null!=e[o][1]){var d=e[o][1],f=0;if(t){var p=n[f=+t[e[o][0]]];if("version"==p.p&&"string"==typeof d){var m=d.split(".");d=(+m[0]<<16)+(+m[1]||0)}l=aV(p.t,d)}else{var g=lV(d);-1==g&&(g=31,d=String(d)),l=aV(g,d)}s.push(l),(c=VH(8)).write_shift(4,t?f:2+o),i.push(c),a+=8+l.length}var v=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,v),v+=s[o].length;return r.write_shift(4,a),r.write_shift(4,s.length),QU([r].concat(i).concat(s))}function uV(e,t,n,r,i,s){var a=VH(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,Yj.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,t,"hex"),a.write_shift(4,i?68:48);var l=cV(e,n,r);if(o.push(l),i){var c=cV(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(c)}return QU(o)}function hV(e,t){return 1===e.read_shift(t)}function dV(e,t){return t||(t=VH(2)),t.write_shift(2,+!!e),t}function fV(e){return e.read_shift(2,"u")}function pV(e,t){return t||(t=VH(2)),t.write_shift(2,e),t}function mV(e,t,n){return n||(n=VH(2)),n.write_shift(1,"e"==t?+e:+!!e),n.write_shift(1,"e"==t?1:0),n}function gV(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont",s=kU;(n&&n.biff>=8&&(kU=1200),n&&8!=n.biff)?12==n.biff&&(i="wstr"):e.read_shift(1)&&(i="dbcs-cont");n.biff>=2&&n.biff<=5&&(i="cpstr");var a=r?e.read_shift(r,i):"";return kU=s,a}function vV(e){var t=e.t||"",n=VH(3);n.write_shift(2,t.length),n.write_shift(1,1);var r=VH(2*t.length);return r.write_shift(2*t.length,t,"utf16le"),QU([n,r])}function xV(e,t,n){if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}return 0===e.read_shift(1)?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont")}function bV(e,t,n){var r=e.read_shift(n&&2==n.biff?1:2);return 0===r?(e.l++,""):xV(e,r,n)}function yV(e,t,n){if(n.biff>5)return bV(e,0,n);var r=e.read_shift(1);return 0===r?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function wV(e,t,n){return n||(n=VH(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function _V(e,t){t||(t=VH(6+2*e.length)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function AV(e){var t=VH(512),n=0,r=e.Target;"file://"==r.slice(0,7)&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3}t.write_shift(4,2),t.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(n=0;n<a.length;++n)t.write_shift(4,a[n]);if(28==s)_V(r=r.slice(1),t);else if(2&s){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<a.length;++n)t.write_shift(1,parseInt(a[n],16));var o=i>-1?r.slice(0,i):r;for(t.write_shift(4,2*(o.length+1)),n=0;n<o.length;++n)t.write_shift(2,o.charCodeAt(n));t.write_shift(2,0),8&s&&_V(i>-1?r.slice(i+1):"",t)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<a.length;++n)t.write_shift(1,parseInt(a[n],16));for(var l=0;"../"==r.slice(3*l,3*l+3)||"..\\"==r.slice(3*l,3*l+3);)++l;for(t.write_shift(2,l),t.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)t.write_shift(1,255&r.charCodeAt(n+3*l));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function SV(e,t,n,r){return r||(r=VH(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,n||0),r}function EV(e,t,n){var r=n.biff>8?4:2;return[e.read_shift(r),e.read_shift(r,"i"),e.read_shift(r,"i")]}function TV(e){var t=e.read_shift(2),n=e.read_shift(2);return{s:{c:e.read_shift(2),r:t},e:{c:e.read_shift(2),r:n}}}function MV(e,t){return t||(t=VH(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function CV(e,t,n){var r=1536,i=16;switch(n.bookType){case"biff8":case"xla":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;default:throw new Error("unsupported BIFF version")}var s=VH(i);return s.write_shift(2,r),s.write_shift(2,t),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function RV(e,t){var n=!t||t.biff>=8?2:1,r=VH(8+n*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function kV(e,t,n,r){var i=n&&5==n.biff;r||(r=VH(i?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(i?1:2,t.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return null==s.l&&(s.l=s.length),s}function NV(e,t,n,r){var i=n&&5==n.biff;r||(r=VH(i?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function PV(e,t,n){if(n.biff<8)return function(e,t,n){3==e[e.l+1]&&e[e.l]++;var r=gV(e,0,n);return 3==r.charCodeAt(0)?r.slice(1):r}(e,0,n);for(var r=[],i=e.l+t,s=e.read_shift(n.biff>8?4:2);0!==s--;)r.push(EV(e,n.biff,n));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return r}function IV(e){var t=VH(24),n=tG(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(r[i],16));return QU([t,AV(e[1])])}function LV(e){var t=e[1].Tooltip,n=VH(10+2*(t.length+1));n.write_shift(2,2048);var r=tG(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<t.length;++i)n.write_shift(2,t.charCodeAt(i));return n.write_shift(2,0),n}function DV(e,t,n){if(!n.cellStyles)return GH(e,t);var r=n&&n.biff>=12?4:2,i=e.read_shift(r),s=e.read_shift(r),a=e.read_shift(r),o=e.read_shift(r),l=e.read_shift(2);2==r&&(e.l+=2);var c={s:i,e:s,w:a,ixfe:o,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}var BV=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=$j({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(t,n){var r=n||{};r.dateNF||(r.dateNF="yyyymmdd");var i=uG(function(t,n){var r=[],i=XU(1);switch(n.type){case"base64":i=JU(GU(t));break;case"binary":i=JU(t);break;case"buffer":case"array":i=t}HH(i,0);var s=i.read_shift(1),a=!!(136&s),o=!1,l=!1;switch(s){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:o=!0,a=!0;break;case 140:l=!0;break;default:throw new Error("DBF Unsupported Version: "+s.toString(16))}var c=0,u=521;2==s&&(c=i.read_shift(2)),i.l+=3,2!=s&&(c=i.read_shift(4)),c>1048576&&(c=1e6),2!=s&&(u=i.read_shift(2));var h=i.read_shift(2),d=n.codepage||1252;2!=s&&(i.l+=16,i.read_shift(1),0!==i[i.l]&&(d=e[i[i.l]]),i.l+=1,i.l+=2),l&&(i.l+=36);for(var f=[],p={},m=Math.min(i.length,2==s?521:u-10-(o?264:0)),g=l?32:11;i.l<m&&13!=i[i.l];)switch((p={}).name=FU.utils.decode(d,i.slice(i.l,i.l+g)).replace(/[\u0000\r\n].*$/g,""),i.l+=g,p.type=String.fromCharCode(i.read_shift(1)),2==s||l||(p.offset=i.read_shift(4)),p.len=i.read_shift(1),2==s&&(p.offset=i.read_shift(2)),p.dec=i.read_shift(1),p.name.length&&f.push(p),2!=s&&(i.l+=l?13:14),p.type){case"B":o&&8==p.len||!n.WTF||console.log("Skipping "+p.name+":"+p.type);break;case"G":case"P":n.WTF&&console.log("Skipping "+p.name+":"+p.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+p.type)}if(13!==i[i.l]&&(i.l=u-1),13!==i.read_shift(1))throw new Error("DBF Terminator not found "+i.l+" "+i[i.l]);i.l=u;var v=0,x=0;for(r[0]=[],x=0;x!=f.length;++x)r[0][x]=f[x].name;for(;c-- >0;)if(42!==i[i.l])for(++i.l,r[++v]=[],x=0,x=0;x!=f.length;++x){var b=i.slice(i.l,i.l+f[x].len);i.l+=f[x].len,HH(b,0);var y=FU.utils.decode(d,b);switch(f[x].type){case"C":y.trim().length&&(r[v][x]=y.replace(/\s+$/,""));break;case"D":8===y.length?r[v][x]=new Date(+y.slice(0,4),+y.slice(4,6)-1,+y.slice(6,8)):r[v][x]=y;break;case"F":r[v][x]=parseFloat(y.trim());break;case"+":case"I":r[v][x]=l?2147483648^b.read_shift(-4,"i"):b.read_shift(4,"i");break;case"L":switch(y.trim().toUpperCase()){case"Y":case"T":r[v][x]=!0;break;case"N":case"F":r[v][x]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+y+"|")}break;case"M":if(!a)throw new Error("DBF Unexpected MEMO for type "+s.toString(16));r[v][x]="##MEMO##"+(l?parseInt(y.trim(),10):b.read_shift(4));break;case"N":(y=y.replace(/\u0000/g,"").trim())&&"."!=y&&(r[v][x]=+y||0);break;case"@":r[v][x]=new Date(b.read_shift(-8,"f")-621356832e5);break;case"T":r[v][x]=new Date(864e5*(b.read_shift(4)-2440588)+b.read_shift(4));break;case"Y":r[v][x]=b.read_shift(4,"i")/1e4+b.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":r[v][x]=-b.read_shift(-8,"f");break;case"B":if(o&&8==f[x].len){r[v][x]=b.read_shift(8,"f");break}case"G":case"P":b.l+=f[x].len;break;case"0":if("_NullFlags"===f[x].name)break;default:throw new Error("DBF Unsupported data type "+f[x].type)}}else i.l+=h;if(2!=s&&i.l<i.length&&26!=i[i.l++])throw new Error("DBF EOF Marker missing "+(i.l-1)+" of "+i.length+" "+i[i.l-1].toString(16));return n&&n.sheetRows&&(r=r.slice(0,n.sheetRows)),n.DBF=f,r}(t,r),r);return i["!cols"]=r.DBF.map((function(e){return{wch:e.len,DBF:e}})),delete r.DBF,i}var r={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function(e,t){try{return lG(n(e,t),t)}catch(TS){if(t&&t.WTF)throw TS}return{SheetNames:[],Sheets:{}}},to_sheet:n,from_sheet:function(e,n){var i=n||{};if(+i.codepage>=0&&DU(+i.codepage),"string"==i.type)throw new Error("Cannot write DBF to JS string");var s=WH(),a=iJ(e,{header:1,raw:!0,cellDates:!0}),o=a[0],l=a.slice(1),c=e["!cols"]||[],u=0,h=0,d=0,f=1;for(u=0;u<o.length;++u)if(((c[u]||{}).DBF||{}).name)o[u]=c[u].DBF.name,++d;else if(null!=o[u]){if(++d,"number"===typeof o[u]&&(o[u]=o[u].toString(10)),"string"!==typeof o[u])throw new Error("DBF Invalid column name "+o[u]+" |"+typeof o[u]+"|");if(o.indexOf(o[u])!==u)for(h=0;h<1024;++h)if(-1==o.indexOf(o[u]+"_"+h)){o[u]+="_"+h;break}}var p=sG(e["!ref"]),m=[],g=[],v=[];for(u=0;u<=p.e.c-p.s.c;++u){var x="",b="",y=0,w=[];for(h=0;h<l.length;++h)null!=l[h][u]&&w.push(l[h][u]);if(0!=w.length&&null!=o[u]){for(h=0;h<w.length;++h){switch(typeof w[h]){case"number":b="B";break;case"string":default:b="C";break;case"boolean":b="L";break;case"object":b=w[h]instanceof Date?"D":"C"}y=Math.max(y,String(w[h]).length),x=x&&x!=b?"C":b}y>250&&(y=250),"C"==(b=((c[u]||{}).DBF||{}).type)&&c[u].DBF.len>y&&(y=c[u].DBF.len),"B"==x&&"N"==b&&(x="N",v[u]=c[u].DBF.dec,y=c[u].DBF.len),g[u]="C"==x||"N"==b?y:r[x]||0,f+=g[u],m[u]=x}else m[u]="?"}var _=s.next(32);for(_.write_shift(4,318902576),_.write_shift(4,l.length),_.write_shift(2,296+32*d),_.write_shift(2,f),u=0;u<4;++u)_.write_shift(4,0);for(_.write_shift(4,(+t[NU]||3)<<8),u=0,h=0;u<o.length;++u)if(null!=o[u]){var A=s.next(32),S=(o[u].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);A.write_shift(1,S,"sbcs"),A.write_shift(1,"?"==m[u]?"C":m[u],"sbcs"),A.write_shift(4,h),A.write_shift(1,g[u]||r[m[u]]||0),A.write_shift(1,v[u]||0),A.write_shift(1,2),A.write_shift(4,0),A.write_shift(1,0),A.write_shift(4,0),A.write_shift(4,0),h+=g[u]||r[m[u]]||0}var E=s.next(264);for(E.write_shift(4,13),u=0;u<65;++u)E.write_shift(4,0);for(u=0;u<l.length;++u){var T=s.next(f);for(T.write_shift(1,0),h=0;h<o.length;++h)if(null!=o[h])switch(m[h]){case"L":T.write_shift(1,null==l[u][h]?63:l[u][h]?84:70);break;case"B":T.write_shift(8,l[u][h]||0,"f");break;case"N":var M="0";for("number"==typeof l[u][h]&&(M=l[u][h].toFixed(v[h]||0)),d=0;d<g[h]-M.length;++d)T.write_shift(1,32);T.write_shift(1,M,"sbcs");break;case"D":l[u][h]?(T.write_shift(4,("0000"+l[u][h].getFullYear()).slice(-4),"sbcs"),T.write_shift(2,("00"+(l[u][h].getMonth()+1)).slice(-2),"sbcs"),T.write_shift(2,("00"+l[u][h].getDate()).slice(-2),"sbcs")):T.write_shift(8,"00000000","sbcs");break;case"C":var C=String(null!=l[u][h]?l[u][h]:"").slice(0,g[h]);for(T.write_shift(1,C,"sbcs"),d=0;d<g[h]-C.length;++d)T.write_shift(1,32)}}return s.next(1).write_shift(1,26),s.end()}}}(),OV=function(){var e={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1bN("+Qj(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(t,n){var r=e[n];return"number"==typeof r?jU(r):r},r=function(e,t,n){var r=t.charCodeAt(0)-32<<4|n.charCodeAt(0)-48;return 59==r?e:jU(r)};function i(e,i){var s,a=e.split(/[\n\r]+/),o=-1,l=-1,c=0,u=0,h=[],d=[],f=null,p={},m=[],g=[],v=[],x=0;for(+i.codepage>=0&&DU(+i.codepage);c!==a.length;++c){x=0;var b,y=a[c].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),w=y.replace(/;;/g,"\0").split(";").map((function(e){return e.replace(/\u0000/g,";")})),_=w[0];if(y.length>0)switch(_){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==w[1].charAt(0)&&d.push(y.slice(3).replace(/;;/g,";"));break;case"C":var A=!1,S=!1,E=!1,T=!1,M=-1,C=-1;for(u=1;u<w.length;++u)switch(w[u].charAt(0)){case"A":case"G":break;case"X":l=parseInt(w[u].slice(1))-1,S=!0;break;case"Y":for(o=parseInt(w[u].slice(1))-1,S||(l=0),s=h.length;s<=o;++s)h[s]=[];break;case"K":'"'===(b=w[u].slice(1)).charAt(0)?b=b.slice(1,b.length-1):"TRUE"===b?b=!0:"FALSE"===b?b=!1:isNaN(pz(b))?isNaN(gz(b).getDate())||(b=uz(b)):(b=pz(b),null!==f&&Oj(f)&&(b=az(b))),"undefined"!==typeof FU&&"string"==typeof b&&"string"!=(i||{}).type&&(i||{}).codepage&&(b=FU.utils.decode(i.codepage,b)),A=!0;break;case"E":T=!0;var R=CW(w[u].slice(1),{r:o,c:l});h[o][l]=[h[o][l],R];break;case"S":E=!0,h[o][l]=[h[o][l],"S5S"];break;case"R":M=parseInt(w[u].slice(1))-1;break;case"C":C=parseInt(w[u].slice(1))-1;break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+y)}if(A&&(h[o][l]&&2==h[o][l].length?h[o][l][0]=b:h[o][l]=b,f=null),E){if(T)throw new Error("SYLK shared formula cannot have own formula");var k=M>-1&&h[M][C];if(!k||!k[1])throw new Error("SYLK shared formula cannot find base");h[o][l][1]=NW(k[1],{r:o-M,c:l-C})}break;case"F":var N=0;for(u=1;u<w.length;++u)switch(w[u].charAt(0)){case"X":l=parseInt(w[u].slice(1))-1,++N;break;case"Y":for(o=parseInt(w[u].slice(1))-1,s=h.length;s<=o;++s)h[s]=[];break;case"M":x=parseInt(w[u].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":f=d[parseInt(w[u].slice(1))];break;case"W":for(v=w[u].slice(1).split(" "),s=parseInt(v[0],10);s<=parseInt(v[1],10);++s)x=parseInt(v[2],10),g[s-1]=0===x?{hidden:!0}:{wch:x},eW(g[s-1]);break;case"C":g[l=parseInt(w[u].slice(1))-1]||(g[l]={});break;case"R":m[o=parseInt(w[u].slice(1))-1]||(m[o]={}),x>0?(m[o].hpt=x,m[o].hpx=rW(x)):0===x&&(m[o].hidden=!0);break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+y)}N<1&&(f=null);break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+y)}}return m.length>0&&(p["!rows"]=m),g.length>0&&(p["!cols"]=g),i&&i.sheetRows&&(h=h.slice(0,i.sheetRows)),[h,p]}function s(e,t){var n=function(e,t){switch(t.type){case"base64":return i(GU(e),t);case"binary":return i(e,t);case"buffer":return i(VU&&Buffer.isBuffer(e)?e.toString("binary"):qU(e),t);case"array":return i(hz(e),t)}throw new Error("Unrecognized type "+t.type)}(e,t),r=n[0],s=n[1],a=uG(r,t);return Qj(s).forEach((function(e){a[e]=s[e]})),a}function a(e,t,n,r){var i="C;Y"+(n+1)+";X"+(r+1)+";K";switch(e.t){case"n":i+=e.v||0,e.f&&!e.F&&(i+=";E"+kW(e.f,{r:n,c:r}));break;case"b":i+=e.v?"TRUE":"FALSE";break;case"e":i+=e.w||e.v;break;case"d":i+='"'+(e.w||e.v)+'"';break;case"s":i+='"'+e.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return i}return e["|"]=254,{to_workbook:function(e,t){return lG(s(e,t),t)},to_sheet:s,from_sheet:function(e,t){var n,r,i=["ID;PWXL;N;E"],s=[],o=sG(e["!ref"]),l=Array.isArray(e),c="\r\n";i.push("P;PGeneral"),i.push("F;P0;DG0G8;M255"),e["!cols"]&&(r=i,e["!cols"].forEach((function(e,t){var n="F;W"+(t+1)+" "+(t+1)+" ";e.hidden?n+="0":("number"!=typeof e.width||e.wpx||(e.wpx=QV(e.width)),"number"!=typeof e.wpx||e.wch||(e.wch=ZV(e.wpx)),"number"==typeof e.wch&&(n+=Math.round(e.wch)))," "!=n.charAt(n.length-1)&&r.push(n)}))),e["!rows"]&&function(e,t){t.forEach((function(t,n){var r="F;";t.hidden?r+="M0;":t.hpt?r+="M"+20*t.hpt+";":t.hpx&&(r+="M"+20*nW(t.hpx)+";"),r.length>2&&e.push(r+"R"+(n+1))}))}(i,e["!rows"]),i.push("B;Y"+(o.e.r-o.s.r+1)+";X"+(o.e.c-o.s.c+1)+";D"+[o.s.c,o.s.r,o.e.c,o.e.r].join(" "));for(var u=o.s.r;u<=o.e.r;++u)for(var h=o.s.c;h<=o.e.c;++h){var d=nG({r:u,c:h});(n=l?(e[u]||[])[h]:e[d])&&(null!=n.v||n.f&&!n.F)&&s.push(a(n,0,u,h))}return i.join(c)+c+s.join(c)+c+"E"+c}}}(),FV=function(){function e(e,t){for(var n=e.split("\n"),r=-1,i=-1,s=0,a=[];s!==n.length;++s)if("BOT"!==n[s].trim()){if(!(r<0)){for(var o=n[s].trim().split(","),l=o[0],c=o[1],u=n[++s]||"";1&(u.match(/["]/g)||[]).length&&s<n.length-1;)u+="\n"+n[++s];switch(u=u.trim(),+l){case-1:if("BOT"===u){a[++r]=[],i=0;continue}if("EOD"!==u)throw new Error("Unrecognized DIF special command "+u);break;case 0:"TRUE"===u?a[r][i]=!0:"FALSE"===u?a[r][i]=!1:isNaN(pz(c))?isNaN(gz(c).getDate())?a[r][i]=c:a[r][i]=uz(c):a[r][i]=pz(c),++i;break;case 1:(u=(u=u.slice(1,u.length-1)).replace(/""/g,'"'))&&u.match(/^=".*"$/)&&(u=u.slice(2,-1)),a[r][i++]=""!==u?u:null}if("EOD"===u)break}}else a[++r]=[],i=0;return t&&t.sheetRows&&(a=a.slice(0,t.sheetRows)),a}function t(t,n){return uG(function(t,n){switch(n.type){case"base64":return e(GU(t),n);case"binary":return e(t,n);case"buffer":return e(VU&&Buffer.isBuffer(t)?t.toString("binary"):qU(t),n);case"array":return e(hz(t),n)}throw new Error("Unrecognized type "+n.type)}(t,n),n)}var n=function(){var e=function(e,t,n,r,i){e.push(t),e.push(n+","+r),e.push('"'+i.replace(/"/g,'""')+'"')},t=function(e,t,n,r){e.push(t+","+n),e.push(1==t?'"'+r.replace(/"/g,'""')+'"':r)};return function(n){var r,i=[],s=sG(n["!ref"]),a=Array.isArray(n);e(i,"TABLE",0,1,"sheetjs"),e(i,"VECTORS",0,s.e.r-s.s.r+1,""),e(i,"TUPLES",0,s.e.c-s.s.c+1,""),e(i,"DATA",0,0,"");for(var o=s.s.r;o<=s.e.r;++o){t(i,-1,0,"BOT");for(var l=s.s.c;l<=s.e.c;++l){var c=nG({r:o,c:l});if(r=a?(n[o]||[])[l]:n[c])switch(r.t){case"n":var u=r.w;u||null==r.v||(u=r.v),null==u?r.f&&!r.F?t(i,1,0,"="+r.f):t(i,1,0,""):t(i,0,u,"V");break;case"b":t(i,0,r.v?1:0,r.v?"TRUE":"FALSE");break;case"s":t(i,1,0,isNaN(r.v)?r.v:'="'+r.v+'"');break;case"d":r.w||(r.w=zj(r.z||cj[14],nz(uz(r.v)))),t(i,0,r.w,"V");break;default:t(i,1,0,"")}else t(i,1,0,"")}}t(i,-1,0,"EOD");return i.join("\r\n")}}();return{to_workbook:function(e,n){return lG(t(e,n),n)},to_sheet:t,from_sheet:n}}(),UV=function(){function e(e){return e.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function t(e){return e.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(t,n){return uG(function(t,n){for(var r=t.split("\n"),i=-1,s=-1,a=0,o=[];a!==r.length;++a){var l=r[a].trim().split(":");if("cell"===l[0]){var c=tG(l[1]);if(o.length<=c.r)for(i=o.length;i<=c.r;++i)o[i]||(o[i]=[]);switch(i=c.r,s=c.c,l[2]){case"t":o[i][s]=e(l[3]);break;case"v":o[i][s]=+l[3];break;case"vtf":var u=l[l.length-1];case"vtc":"nl"===l[3]?o[i][s]=!!+l[4]:o[i][s]=+l[4],"vtf"==l[2]&&(o[i][s]=[o[i][s],u])}}}return n&&n.sheetRows&&(o=o.slice(0,n.sheetRows)),o}(t,n),n)}var r=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",s=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),a="--SocialCalcSpreadsheetControlSave--";function o(e){if(!e||!e["!ref"])return"";for(var n,r=[],i=[],s="",a=rG(e["!ref"]),o=Array.isArray(e),l=a.s.r;l<=a.e.r;++l)for(var c=a.s.c;c<=a.e.c;++c)if(s=nG({r:l,c:c}),(n=o?(e[l]||[])[c]:e[s])&&null!=n.v&&"z"!==n.t){switch(i=["cell",s,"t"],n.t){case"s":case"str":i.push(t(n.v));break;case"n":n.f?(i[2]="vtf",i[3]="n",i[4]=n.v,i[5]=t(n.f)):(i[2]="v",i[3]=n.v);break;case"b":i[2]="vt"+(n.f?"f":"c"),i[3]="nl",i[4]=n.v?"1":"0",i[5]=t(n.f||(n.v?"TRUE":"FALSE"));break;case"d":var u=nz(uz(n.v));i[2]="vtc",i[3]="nd",i[4]=""+u,i[5]=n.w||zj(n.z||cj[14],u);break;case"e":continue}r.push(i.join(":"))}return r.push("sheet:c:"+(a.e.c-a.s.c+1)+":r:"+(a.e.r-a.s.r+1)+":tvf:1"),r.push("valueformat:1:text-wiki"),r.join("\n")}return{to_workbook:function(e,t){return lG(n(e,t),t)},to_sheet:n,from_sheet:function(e){return[r,i,s,i,o(e),a].join("\n")}}}(),jV=function(){function e(e,t,n,r,i){i.raw?t[n][r]=e:""===e||("TRUE"===e?t[n][r]=!0:"FALSE"===e?t[n][r]=!1:isNaN(pz(e))?isNaN(gz(e).getDate())?t[n][r]=e:t[n][r]=uz(e):t[n][r]=pz(e))}var t={44:",",9:"\t",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function r(e){for(var r={},i=!1,s=0,a=0;s<e.length;++s)34==(a=e.charCodeAt(s))?i=!i:!i&&a in t&&(r[a]=(r[a]||0)+1);for(s in a=[],r)Object.prototype.hasOwnProperty.call(r,s)&&a.push([r[s],s]);if(!a.length)for(s in r=n)Object.prototype.hasOwnProperty.call(r,s)&&a.push([r[s],s]);return a.sort((function(e,t){return e[0]-t[0]||n[e[1]]-n[t[1]]})),t[a.pop()[1]]||44}function i(e,t){var n=t||{},i="";var s=n.dense?[]:{},a={s:{c:0,r:0},e:{c:0,r:0}};"sep="==e.slice(0,4)?13==e.charCodeAt(5)&&10==e.charCodeAt(6)?(i=e.charAt(4),e=e.slice(7)):13==e.charCodeAt(5)||10==e.charCodeAt(5)?(i=e.charAt(4),e=e.slice(6)):i=r(e.slice(0,1024)):i=n&&n.FS?n.FS:r(e.slice(0,1024));var o=0,l=0,c=0,u=0,h=0,d=i.charCodeAt(0),f=!1,p=0,m=e.charCodeAt(0);e=e.replace(/\r\n/gm,"\n");var g=null!=n.dateNF?function(e){var t="number"==typeof e?cj[e]:e;return t=t.replace(Wj,"(\\d+)"),new RegExp("^"+t+"$")}(n.dateNF):null;function v(){var t=e.slice(u,h),r={};if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.slice(1,-1).replace(/""/g,'"')),0===t.length)r.t="z";else if(n.raw)r.t="s",r.v=t;else if(0===t.trim().length)r.t="s",r.v=t;else if(61==t.charCodeAt(0))34==t.charCodeAt(1)&&34==t.charCodeAt(t.length-1)?(r.t="s",r.v=t.slice(2,-1).replace(/""/g,'"')):!function(e){return 1!=e.length}(t)?(r.t="s",r.v=t):(r.t="n",r.f=t.slice(1));else if("TRUE"==t)r.t="b",r.v=!0;else if("FALSE"==t)r.t="b",r.v=!1;else if(isNaN(c=pz(t)))if(!isNaN(gz(t).getDate())||g&&t.match(g)){r.z=n.dateNF||cj[14];var i=0;g&&t.match(g)&&(t=function(e,t,n){var r=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(t.match(Wj)||[]).forEach((function(e,t){var c=parseInt(n[t+1],10);switch(e.toLowerCase().charAt(0)){case"y":r=c;break;case"d":s=c;break;case"h":a=c;break;case"s":l=c;break;case"m":a>=0?o=c:i=c}})),l>=0&&-1==o&&i>=0&&(o=i,i=-1);var c=(""+(r>=0?r:(new Date).getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);7==c.length&&(c="0"+c),8==c.length&&(c="20"+c);var u=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return-1==a&&-1==o&&-1==l?c:-1==r&&-1==i&&-1==s?u:c+"T"+u}(0,n.dateNF,t.match(g)||[]),i=1),n.cellDates?(r.t="d",r.v=uz(t,i)):(r.t="n",r.v=nz(uz(t,i))),!1!==n.cellText&&(r.w=zj(r.z,r.v instanceof Date?nz(r.v):r.v)),n.cellNF||delete r.z}else r.t="s",r.v=t;else r.t="n",!1!==n.cellText&&(r.w=t),r.v=c;if("z"==r.t||(n.dense?(s[o]||(s[o]=[]),s[o][l]=r):s[nG({c:l,r:o})]=r),u=h+1,m=e.charCodeAt(u),a.e.c<l&&(a.e.c=l),a.e.r<o&&(a.e.r=o),p==d)++l;else if(l=0,++o,n.sheetRows&&n.sheetRows<=o)return!0}e:for(;h<e.length;++h)switch(p=e.charCodeAt(h)){case 34:34===m&&(f=!f);break;case d:case 10:case 13:if(!f&&v())break e}return h-u>0&&v(),s["!ref"]=iG(a),s}function s(t,n){return n&&n.PRN?n.FS||"sep="==t.slice(0,4)||t.indexOf("\t")>=0||t.indexOf(",")>=0||t.indexOf(";")>=0?i(t,n):uG(function(t,n){var r=n||{},i=[];if(!t||0===t.length)return i;for(var s=t.split(/[\r\n]/),a=s.length-1;a>=0&&0===s[a].length;)--a;for(var o=10,l=0,c=0;c<=a;++c)-1==(l=s[c].indexOf(" "))?l=s[c].length:l++,o=Math.max(o,l);for(c=0;c<=a;++c){i[c]=[];var u=0;for(e(s[c].slice(0,o).trim(),i,c,u,r),u=1;u<=(s[c].length-o)/10+1;++u)e(s[c].slice(o+10*(u-1),o+10*u).trim(),i,c,u,r)}return r.sheetRows&&(i=i.slice(0,r.sheetRows)),i}(t,n),n):i(t,n)}function a(e,t){var n="",r="string"==t.type?[0,0,0,0]:KY(e,t);switch(t.type){case"base64":n=GU(e);break;case"binary":case"string":n=e;break;case"buffer":n=65001==t.codepage?e.toString("utf8"):t.codepage&&"undefined"!==typeof FU?FU.utils.decode(t.codepage,e):VU&&Buffer.isBuffer(e)?e.toString("binary"):qU(e);break;case"array":n=hz(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==r[0]&&187==r[1]&&191==r[2]?n=Iz(n.slice(3)):"string"!=t.type&&"buffer"!=t.type&&65001==t.codepage?n=Iz(n):"binary"==t.type&&"undefined"!==typeof FU&&t.codepage&&(n=FU.utils.decode(t.codepage,FU.utils.encode(28591,n))),"socialcalc:version:"==n.slice(0,19)?UV.to_sheet("string"==t.type?n:Iz(n),t):s(n,t)}return{to_workbook:function(e,t){return lG(a(e,t),t)},to_sheet:a,from_sheet:function(e){for(var t,n=[],r=sG(e["!ref"]),i=Array.isArray(e),s=r.s.r;s<=r.e.r;++s){for(var a=[],o=r.s.c;o<=r.e.c;++o){var l=nG({r:s,c:o});if((t=i?(e[s]||[])[o]:e[l])&&null!=t.v){for(var c=(t.w||(oG(t),t.w)||"").slice(0,10);c.length<10;)c+=" ";a.push(c+(0===o?" ":""))}else a.push("          ")}n.push(a.join(""))}return n.join("\n")}}}();var zV=function(){function e(e,t,n){if(e){HH(e,e.l||0);for(var r=n.Enum||v;e.l<e.length;){var i=e.read_shift(2),s=r[i]||r[65535],a=e.read_shift(2),o=e.l+a,l=s.f&&s.f(e,a,n);if(e.l=o,t(l,s,i))return}}}function t(t,n){if(!t)return t;var r=n||{};var i=r.dense?[]:{},s="Sheet1",a="",o=0,l={},c=[],u=[],h={s:{r:0,c:0},e:{r:0,c:0}},d=r.sheetRows||0;if(0==t[2]&&(8==t[3]||9==t[3])&&t.length>=16&&5==t[14]&&108===t[15])throw new Error("Unsupported Works 3 for Mac file");if(2==t[2])r.Enum=v,e(t,(function(e,t,n){switch(n){case 0:r.vers=e,e>=4096&&(r.qpro=!0);break;case 6:h=e;break;case 204:e&&(a=e);break;case 222:a=e;break;case 15:case 51:r.qpro||(e[1].v=e[1].v.slice(1));case 13:case 14:case 16:14==n&&112==(112&e[2])&&(15&e[2])>1&&(15&e[2])<15&&(e[1].z=r.dateNF||cj[14],r.cellDates&&(e[1].t="d",e[1].v=az(e[1].v))),r.qpro&&e[3]>o&&(i["!ref"]=iG(h),l[s]=i,c.push(s),i=r.dense?[]:{},h={s:{r:0,c:0},e:{r:0,c:0}},o=e[3],s=a||"Sheet"+(o+1),a="");var u=r.dense?(i[e[0].r]||[])[e[0].c]:i[nG(e[0])];if(u){u.t=e[1].t,u.v=e[1].v,null!=e[1].z&&(u.z=e[1].z),null!=e[1].f&&(u.f=e[1].f);break}r.dense?(i[e[0].r]||(i[e[0].r]=[]),i[e[0].r][e[0].c]=e[1]):i[nG(e[0])]=e[1]}}),r);else{if(26!=t[2]&&14!=t[2])throw new Error("Unrecognized LOTUS BOF "+t[2]);r.Enum=x,14==t[2]&&(r.qpro=!0,t.l=0),e(t,(function(e,t,n){switch(n){case 204:s=e;break;case 22:e[1].v=e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(e[3]>o&&(i["!ref"]=iG(h),l[s]=i,c.push(s),i=r.dense?[]:{},h={s:{r:0,c:0},e:{r:0,c:0}},o=e[3],s="Sheet"+(o+1)),d>0&&e[0].r>=d)break;r.dense?(i[e[0].r]||(i[e[0].r]=[]),i[e[0].r][e[0].c]=e[1]):i[nG(e[0])]=e[1],h.e.c<e[0].c&&(h.e.c=e[0].c),h.e.r<e[0].r&&(h.e.r=e[0].r);break;case 27:e[14e3]&&(u[e[14e3][0]]=e[14e3][1]);break;case 1537:u[e[0]]=e[1],e[0]==o&&(s=e[1])}}),r)}if(i["!ref"]=iG(h),l[a||s]=i,c.push(a||s),!u.length)return{SheetNames:c,Sheets:l};for(var f={},p=[],m=0;m<u.length;++m)l[c[m]]?(p.push(u[m]||c[m]),f[u[m]]=l[u[m]]||l[c[m]]):(p.push(u[m]),f[u[m]]={"!ref":"A1"});return{SheetNames:p,Sheets:f}}function n(e,t,n){var r=[{c:0,r:0},{t:"n",v:0},0,0];return n.qpro&&20768!=n.vers?(r[0].c=e.read_shift(1),r[3]=e.read_shift(1),r[0].r=e.read_shift(2),e.l+=2):(r[2]=e.read_shift(1),r[0].c=e.read_shift(2),r[0].r=e.read_shift(2)),r}function r(e,t,r){var i=e.l+t,s=n(e,0,r);if(s[1].t="s",20768==r.vers){e.l++;var a=e.read_shift(1);return s[1].v=e.read_shift(a,"utf8"),s}return r.qpro&&e.l++,s[1].v=e.read_shift(i-e.l,"cstr"),s}function i(e,t,n){var r=VH(7+n.length);r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(1,39);for(var i=0;i<r.length;++i){var s=n.charCodeAt(i);r.write_shift(1,s>=128?95:s)}return r.write_shift(1,0),r}function s(e,t,n){var r=VH(7);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n,"i"),r}function a(e,t,n){var r=VH(13);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(8,n,"f"),r}function o(e,t,n){var r=32768&t;return t=(r?e:0)+((t&=-32769)>=8192?t-16384:t),(r?"":"$")+(n?eG(t):ZH(t))}var l={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},c=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function u(e){var t=[{c:0,r:0},{t:"n",v:0},0];return t[0].r=e.read_shift(2),t[3]=e[e.l++],t[0].c=e[e.l++],t}function h(e,t,n,r){var i=VH(6+r.length);i.write_shift(2,e),i.write_shift(1,n),i.write_shift(1,t),i.write_shift(1,39);for(var s=0;s<r.length;++s){var a=r.charCodeAt(s);i.write_shift(1,a>=128?95:a)}return i.write_shift(1,0),i}function d(e,t){var n=u(e),r=e.read_shift(4),i=e.read_shift(4),s=e.read_shift(2);if(65535==s)return 0===r&&3221225472===i?(n[1].t="e",n[1].v=15):0===r&&3489660928===i?(n[1].t="e",n[1].v=42):n[1].v=0,n;var a=32768&s;return s=(32767&s)-16446,n[1].v=(1-2*a)*(i*Math.pow(2,s+32)+r*Math.pow(2,s)),n}function f(e,t,n,r){var i=VH(14);if(i.write_shift(2,e),i.write_shift(1,n),i.write_shift(1,t),0==r)return i.write_shift(4,0),i.write_shift(4,0),i.write_shift(2,65535),i;var s,a=0,o=0,l=0;return r<0&&(a=1,r=-r),o=0|Math.log2(r),0==(2147483648&(l=(r/=Math.pow(2,o-31))>>>0))&&(++o,l=(r/=2)>>>0),r-=l,l|=2147483648,l>>>=0,s=(r*=Math.pow(2,32))>>>0,i.write_shift(4,s),i.write_shift(4,l),o+=16383+(a?32768:0),i.write_shift(2,o),i}function p(e,t){var n=u(e),r=e.read_shift(8,"f");return n[1].v=r,n}function m(e,t){return 0==e[e.l+t-1]?e.read_shift(t,"cstr"):""}function g(e,t){var n=VH(5+e.length);n.write_shift(2,14e3),n.write_shift(2,t);for(var r=0;r<e.length;++r){var i=e.charCodeAt(r);n[n.l++]=i>127?95:i}return n[n.l++]=0,n}var v={0:{n:"BOF",f:fV},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function(e,t,n){var r={s:{c:0,r:0},e:{c:0,r:0}};return 8==t&&n.qpro?(r.s.c=e.read_shift(1),e.l++,r.s.r=e.read_shift(2),r.e.c=e.read_shift(1),e.l++,r.e.r=e.read_shift(2),r):(r.s.c=e.read_shift(2),r.s.r=e.read_shift(2),12==t&&n.qpro&&(e.l+=2),r.e.c=e.read_shift(2),r.e.r=e.read_shift(2),12==t&&n.qpro&&(e.l+=2),65535==r.s.c&&(r.s.c=r.e.c=r.s.r=r.e.r=0),r)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function(e,t,r){var i=n(e,0,r);return i[1].v=e.read_shift(2,"i"),i}},14:{n:"NUMBER",f:function(e,t,r){var i=n(e,0,r);return i[1].v=e.read_shift(8,"f"),i}},15:{n:"LABEL",f:r},16:{n:"FORMULA",f:function(e,t,r){var i=e.l+t,s=n(e,0,r);if(s[1].v=e.read_shift(8,"f"),r.qpro)e.l=i;else{var a=e.read_shift(2);!function(e,t){HH(e,0);var n=[],r=0,i="",s="",a="",u="";for(;e.l<e.length;){var h=e[e.l++];switch(h){case 0:n.push(e.read_shift(8,"f"));break;case 1:s=o(t[0].c,e.read_shift(2),!0),i=o(t[0].r,e.read_shift(2),!1),n.push(s+i);break;case 2:var d=o(t[0].c,e.read_shift(2),!0),f=o(t[0].r,e.read_shift(2),!1);s=o(t[0].c,e.read_shift(2),!0),i=o(t[0].r,e.read_shift(2),!1),n.push(d+f+":"+s+i);break;case 3:if(e.l<e.length)return void console.error("WK1 premature formula end");break;case 4:n.push("("+n.pop()+")");break;case 5:n.push(e.read_shift(2));break;case 6:for(var p="";h=e[e.l++];)p+=String.fromCharCode(h);n.push('"'+p.replace(/"/g,'""')+'"');break;case 8:n.push("-"+n.pop());break;case 23:n.push("+"+n.pop());break;case 22:n.push("NOT("+n.pop()+")");break;case 20:case 21:u=n.pop(),a=n.pop(),n.push(["AND","OR"][h-20]+"("+a+","+u+")");break;default:if(h<32&&c[h])u=n.pop(),a=n.pop(),n.push(a+c[h]+u);else{if(!l[h])return h<=7?console.error("WK1 invalid opcode "+h.toString(16)):h<=24?console.error("WK1 unsupported op "+h.toString(16)):h<=30?console.error("WK1 invalid opcode "+h.toString(16)):h<=115?console.error("WK1 unsupported function opcode "+h.toString(16)):console.error("WK1 unrecognized opcode "+h.toString(16));if(69==(r=l[h][1])&&(r=e[e.l++]),r>n.length)return void console.error("WK1 bad formula parse 0x"+h.toString(16)+":|"+n.join("|")+"|");var m=n.slice(-r);n.length-=r,n.push(l[h][0]+"("+m.join(",")+")")}}}1==n.length?t[1].f=""+n[0]:console.error("WK1 bad formula parse |"+n.join("|")+"|")}(e.slice(e.l,e.l+a),s),e.l+=a}return s}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:r},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:m},222:{n:"SHEETNAMELP",f:function(e,t){var n=e[e.l++];n>t-1&&(n=t-1);for(var r="";r.length<n;)r+=String.fromCharCode(e[e.l++]);return r}},65535:{n:""}},x={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function(e,t){var n=u(e);return n[1].t="s",n[1].v=e.read_shift(t-4,"cstr"),n}},23:{n:"NUMBER17",f:d},24:{n:"NUMBER18",f:function(e,t){var n=u(e);n[1].v=e.read_shift(2);var r=n[1].v>>1;if(1&n[1].v)switch(7&r){case 0:r=5e3*(r>>3);break;case 1:r=500*(r>>3);break;case 2:r=(r>>3)/20;break;case 3:r=(r>>3)/200;break;case 4:r=(r>>3)/2e3;break;case 5:r=(r>>3)/2e4;break;case 6:r=(r>>3)/16;break;case 7:r=(r>>3)/64}return n[1].v=r,n}},25:{n:"FORMULA19",f:function(e,t){var n=d(e);return e.l+=t-14,n}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function(e,t){for(var n={},r=e.l+t;e.l<r;){var i=e.read_shift(2);if(14e3==i){for(n[i]=[0,""],n[i][0]=e.read_shift(2);e[e.l];)n[i][1]+=String.fromCharCode(e[e.l]),e.l++;e.l++}}return n}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function(e,t){var n=u(e),r=e.read_shift(4);return n[1].v=r>>6,n}},38:{n:"??"},39:{n:"NUMBER27",f:p},40:{n:"FORMULA28",f:function(e,t){var n=p(e);return e.l+=t-10,n}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:m},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function(e,t,n){if(n.qpro&&!(t<21)){var r=e.read_shift(1);return e.l+=17,e.l+=1,e.l+=2,[r,e.read_shift(t-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function(e,t){var n=t||{};if(+n.codepage>=0&&DU(+n.codepage),"string"==n.type)throw new Error("Cannot write WK1 to JS string");var r=WH(),o=sG(e["!ref"]),l=Array.isArray(e),c=[];oY(r,0,function(e){var t=VH(2);return t.write_shift(2,e),t}(1030)),oY(r,6,function(e){var t=VH(8);return t.write_shift(2,e.s.c),t.write_shift(2,e.s.r),t.write_shift(2,e.e.c),t.write_shift(2,e.e.r),t}(o));for(var u=Math.min(o.e.r,8191),h=o.s.r;h<=u;++h)for(var d=ZH(h),f=o.s.c;f<=o.e.c;++f){h===o.s.r&&(c[f]=eG(f));var p=c[f]+d,m=l?(e[h]||[])[f]:e[p];if(m&&"z"!=m.t)if("n"==m.t)(0|m.v)==m.v&&m.v>=-32768&&m.v<=32767?oY(r,13,s(h,f,m.v)):oY(r,14,a(h,f,m.v));else oY(r,15,i(h,f,oG(m).slice(0,239)))}return oY(r,1),r.end()},book_to_wk3:function(e,t){var n=t||{};if(+n.codepage>=0&&DU(+n.codepage),"string"==n.type)throw new Error("Cannot write WK3 to JS string");var r=WH();oY(r,0,function(e){var t=VH(26);t.write_shift(2,4096),t.write_shift(2,4),t.write_shift(4,0);for(var n=0,r=0,i=0,s=0;s<e.SheetNames.length;++s){var a=e.SheetNames[s],o=e.Sheets[a];if(o&&o["!ref"]){++i;var l=rG(o["!ref"]);n<l.e.r&&(n=l.e.r),r<l.e.c&&(r=l.e.c)}}n>8191&&(n=8191);return t.write_shift(2,n),t.write_shift(1,i),t.write_shift(1,r),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,1),t.write_shift(1,2),t.write_shift(4,0),t.write_shift(4,0),t}(e));for(var i=0,s=0;i<e.SheetNames.length;++i)(e.Sheets[e.SheetNames[i]]||{})["!ref"]&&oY(r,27,g(e.SheetNames[i],s++));var a=0;for(i=0;i<e.SheetNames.length;++i){var o=e.Sheets[e.SheetNames[i]];if(o&&o["!ref"]){for(var l=sG(o["!ref"]),c=Array.isArray(o),u=[],d=Math.min(l.e.r,8191),p=l.s.r;p<=d;++p)for(var m=ZH(p),v=l.s.c;v<=l.e.c;++v){p===l.s.r&&(u[v]=eG(v));var x=u[v]+m,b=c?(o[p]||[])[v]:o[x];if(b&&"z"!=b.t)if("n"==b.t)oY(r,23,f(p,v,a,b.v));else oY(r,22,h(p,v,a,oG(b).slice(0,239)))}++a}}return oY(r,1),r.end()},to_workbook:function(e,n){switch(n.type){case"base64":return t(JU(GU(e)),n);case"binary":return t(JU(e),n);case"buffer":case"array":return t(e,n)}throw"Unsupported type "+n.type}}}();var HV=/^\s|\s$|[\t\n\r]/;function GV(e,t){if(!t.bookSST)return"";var n=[bz];n[n.length]=Uz("sst",null,{xmlns:eH[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(null!=e[r]){var i=e[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(HV)&&(s+=' xml:space="preserve"'),s+=">"+Sz(i.t)+"</t>"),s+="</si>",n[n.length]=s}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}var VV=function(e,t){var n=!1;return null==t&&(n=!0,t=VH(15+4*e.t.length)),t.write_shift(1,0),fG(e.t,t),n?t.slice(0,t.l):t};function WV(e){var t=WH();XH(t,159,function(e,t){return t||(t=VH(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}(e));for(var n=0;n<e.length;++n)XH(t,19,VV(e[n]));return XH(t,160),t.end()}function XV(e){if("undefined"!==typeof FU)return FU.utils.encode(NU,e);for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function YV(e){var t,n,r=0,i=XV(e),s=i.length+1;for((t=XU(s))[0]=i.length,n=1;n!=s;++n)t[n]=i[n-1];for(n=s-1;n>=0;--n)r=((0===(16384&r)?0:1)|r<<1&32767)^t[n];return 52811^r}var JV=function(){function e(e,n){switch(n.type){case"base64":return t(GU(e),n);case"binary":return t(e,n);case"buffer":return t(VU&&Buffer.isBuffer(e)?e.toString("binary"):qU(e),n);case"array":return t(hz(e),n)}throw new Error("Unrecognized type "+n.type)}function t(e,t){var n=(t||{}).dense?[]:{},r=e.match(/\\trowd.*?\\row\b/g);if(!r.length)throw new Error("RTF missing table");var i={s:{c:0,r:0},e:{c:0,r:r.length-1}};return r.forEach((function(e,t){Array.isArray(n)&&(n[t]=[]);for(var r,s=/\\\w+\b/g,a=0,o=-1;r=s.exec(e);){if("\\cell"===r[0]){var l=e.slice(a,s.lastIndex-r[0].length);if(" "==l[0]&&(l=l.slice(1)),++o,l.length){var c={v:l,t:"s"};Array.isArray(n)?n[t][o]=c:n[nG({r:t,c:o})]=c}}a=s.lastIndex}o>i.e.c&&(i.e.c=o)})),n["!ref"]=iG(i),n}return{to_workbook:function(t,n){return lG(e(t,n),n)},to_sheet:e,from_sheet:function(e){for(var t,n=["{\\rtf1\\ansi"],r=sG(e["!ref"]),i=Array.isArray(e),s=r.s.r;s<=r.e.r;++s){n.push("\\trowd\\trautofit1");for(var a=r.s.c;a<=r.e.c;++a)n.push("\\cellx"+(a+1));for(n.push("\\pard\\intbl"),a=r.s.c;a<=r.e.c;++a){var o=nG({r:s,c:a});(t=i?(e[s]||[])[a]:e[o])&&(null!=t.v||t.f&&!t.F)&&(n.push(" "+(t.w||(oG(t),t.w))),n.push("\\cell"))}n.push("\\pard\\intbl\\row")}return n.join("")+"}"}}}();function KV(e){for(var t=0,n=1;3!=t;++t)n=256*n+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}var qV=6;function QV(e){return Math.floor((e+Math.round(128/qV)/256)*qV)}function ZV(e){return Math.floor((e-5)/qV*100+.5)/100}function $V(e){return Math.round((e*qV+5)/qV*256)/256}function eW(e){e.width?(e.wpx=QV(e.width),e.wch=ZV(e.wpx),e.MDW=qV):e.wpx?(e.wch=ZV(e.wpx),e.width=$V(e.wch),e.MDW=qV):"number"==typeof e.wch&&(e.width=$V(e.wch),e.wpx=QV(e.width),e.MDW=qV),e.customWidth&&delete e.customWidth}var tW=96;function nW(e){return 96*e/tW}function rW(e){return e*tW/96}function iW(e,t){var n,r=[bz,Uz("styleSheet",null,{xmlns:eH[0],"xmlns:vt":Qz})];return e.SSF&&null!=(n=function(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach((function(n){for(var r=n[0];r<=n[1];++r)null!=e[r]&&(t[t.length]=Uz("numFmt",null,{numFmtId:r,formatCode:Sz(e[r])}))})),1===t.length?"":(t[t.length]="</numFmts>",t[0]=Uz("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(e.SSF))&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=function(e){var t=[];return t[t.length]=Uz("cellXfs",null),e.forEach((function(e){t[t.length]=Uz("xf",null,e)})),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=Uz("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function sW(e,t,n){n||(n=VH(6+4*t.length)),n.write_shift(2,e),fG(t,n);var r=n.length>n.l?n.slice(0,n.l):n;return null==n.l&&(n.l=n.length),r}function aW(e,t){t||(t=VH(153)),t.write_shift(2,20*e.sz),function(e,t){t||(t=VH(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);t.write_shift(1,n),t.write_shift(1,0)}(e,t),t.write_shift(2,e.bold?700:400);var n=0;"superscript"==e.vertAlign?n=1:"subscript"==e.vertAlign&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),BG(e.color,t);var r=0;return"major"==e.scheme&&(r=1),"minor"==e.scheme&&(r=2),t.write_shift(1,r),fG(e.name,t),t.length>t.l?t.slice(0,t.l):t}var oW,lW=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],cW=GH;function uW(e,t){t||(t=VH(84)),oW||(oW=$j(lW));var n=oW[e.patternType];null==n&&(n=40),t.write_shift(4,n);var r=0;if(40!=n)for(BG({auto:1},t),BG({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function hW(e,t,n){n||(n=VH(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);return n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function dW(e,t){return t||(t=VH(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var fW=GH;function pW(e){XH(e,613,hG(1)),XH(e,46,function(e,t){return t||(t=VH(51)),t.write_shift(1,0),dW(0,t),dW(0,t),dW(0,t),dW(0,t),dW(0,t),t.length>t.l?t.slice(0,t.l):t}()),XH(e,614)}function mW(e){XH(e,619,hG(1)),XH(e,48,function(e,t){return t||(t=VH(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),EG(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}({xfId:0,builtinId:0,name:"Normal"})),XH(e,620)}function gW(e){XH(e,508,function(e,t,n){var r=VH(2052);return r.write_shift(4,e),EG(t,r),EG(n,r),r.length>r.l?r.slice(0,r.l):r}(0,"TableStyleMedium9","PivotStyleMedium4")),XH(e,509)}function vW(e,t){var n=WH();return XH(n,278),function(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach((function(e){for(var r=e[0];r<=e[1];++r)null!=t[r]&&++n})),0!=n&&(XH(e,615,hG(n)),[[5,8],[23,26],[41,44],[50,392]].forEach((function(n){for(var r=n[0];r<=n[1];++r)null!=t[r]&&XH(e,44,sW(r,t[r]))})),XH(e,616))}}(n,e.SSF),function(e){XH(e,611,hG(1)),XH(e,43,aW({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),XH(e,612)}(n),function(e){XH(e,603,hG(2)),XH(e,45,uW({patternType:"none"})),XH(e,45,uW({patternType:"gray125"})),XH(e,604)}(n),pW(n),function(e){XH(e,626,hG(1)),XH(e,47,hW({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),XH(e,627)}(n),function(e,t){XH(e,617,hG(t.length)),t.forEach((function(t){XH(e,47,hW(t,0))})),XH(e,618)}(n,t.cellXfs),mW(n),function(e){XH(e,505,hG(0)),XH(e,506)}(n),gW(n),XH(n,279),n.end()}function xW(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var n=[bz];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',n[n.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',n[n.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',n[n.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',n[n.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',n[n.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',n[n.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function bW(){var e=WH();return XH(e,332),XH(e,334,hG(1)),XH(e,335,function(e){var t=VH(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),fG(e.name,t),t.slice(0,t.l)}({name:"XLDAPR",version:12e4,flags:3496657072})),XH(e,336),XH(e,339,function(e,t){var n=VH(8+2*t.length);return n.write_shift(4,e),fG(t,n),n.slice(0,n.l)}(1,"XLDAPR")),XH(e,52),XH(e,35,hG(514)),XH(e,4096,hG(0)),XH(e,4097,pV(1)),XH(e,36),XH(e,53),XH(e,340),XH(e,337,function(e,t){var n=VH(8);return n.write_shift(4,e),n.write_shift(4,t?1:0),n}(1,!0)),XH(e,51,function(e){var t=VH(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}([[1,0]])),XH(e,338),XH(e,333),e.end()}function yW(){var e=[bz];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}var wW=1024;function _W(e,t){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[Uz("xml",null,{"xmlns:v":aH,"xmlns:o":tH,"xmlns:x":nH,"xmlns:mv":sH}).replace(/\/>/,">"),Uz("o:shapelayout",Uz("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Uz("v:shapetype",[Uz("v:stroke",null,{joinstyle:"miter"}),Uz("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];wW<1e3*e;)wW+=1e3;return t.forEach((function(e){var t=tG(e[0]),n={color2:"#BEFF82",type:"gradient"};"gradient"==n.type&&(n.angle="-180");var r="gradient"==n.type?Uz("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,s=Uz("v:fill",r,n);++wW,i=i.concat(["<v:shape"+Fz({id:"_x0000_s"+wW,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",s,Uz("v:shadow",null,{on:"t",obscured:"t"}),Uz("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Oz("x:Anchor",[t.c+1,0,t.r+1,0,t.c+3,20,t.r+5,20].join(",")),Oz("x:AutoFill","False"),Oz("x:Row",String(t.r)),Oz("x:Column",String(t.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])})),i.push("</xml>"),i.join("")}function AW(e){var t=[bz,Uz("comments",null,{xmlns:eH[0]})],n=[];return t.push("<authors>"),e.forEach((function(e){e[1].forEach((function(e){var r=Sz(e.a);-1==n.indexOf(r)&&(n.push(r),t.push("<author>"+r+"</author>")),e.T&&e.ID&&-1==n.indexOf("tc="+e.ID)&&(n.push("tc="+e.ID),t.push("<author>tc="+e.ID+"</author>"))}))})),0==n.length&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach((function(e){var r=0,i=[];if(e[1][0]&&e[1][0].T&&e[1][0].ID?r=n.indexOf("tc="+e[1][0].ID):e[1].forEach((function(e){e.a&&(r=n.indexOf(Sz(e.a))),i.push(e.t||"")})),t.push('<comment ref="'+e[0]+'" authorId="'+r+'"><text>'),i.length<=1)t.push(Oz("t",Sz(i[0]||"")));else{for(var s="Comment:\n    "+i[0]+"\n",a=1;a<i.length;++a)s+="Reply:\n    "+i[a]+"\n";t.push(Oz("t",Sz(s)))}t.push("</text></comment>")})),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function SW(e,t,n){var r=[bz,Uz("ThreadedComments",null,{xmlns:Xz}).replace(/[\/]>/,">")];return e.forEach((function(e){var i="";(e[1]||[]).forEach((function(s,a){if(s.T){s.a&&-1==t.indexOf(s.a)&&t.push(s.a);var o={ref:e[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};0==a?i=o.id:o.parentId=i,s.ID=o.id,s.a&&(o.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),r.push(Uz("threadedComment",Oz("text",s.t||""),o))}else delete s.ID}))})),r.push("</ThreadedComments>"),r.join("")}var EW=dG;function TW(e){var t=WH(),n=[];return XH(t,628),XH(t,630),e.forEach((function(e){e[1].forEach((function(e){n.indexOf(e.a)>-1||(n.push(e.a.slice(0,54)),XH(t,632,function(e){return fG(e.slice(0,54))}(e.a)))}))})),XH(t,631),XH(t,633),e.forEach((function(e){e[1].forEach((function(r){r.iauthor=n.indexOf(r.a);var i={s:tG(e[0]),e:tG(e[0])};XH(t,635,function(e,t){return null==t&&(t=VH(36)),t.write_shift(4,e[1].iauthor),IG(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}([i,r])),r.t&&r.t.length>0&&XH(t,637,vG(r)),XH(t,636),delete r.iauthor}))})),XH(t,634),XH(t,629),t.end()}var MW=["xlsb","xlsm","xlam","biff8","xla"];var CW=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(e,n,r,i){var s=!1,a=!1;0==r.length?a=!0:"["==r.charAt(0)&&(a=!0,r=r.slice(1,-1)),0==i.length?s=!0:"["==i.charAt(0)&&(s=!0,i=i.slice(1,-1));var o=r.length>0?0|parseInt(r,10):0,l=i.length>0?0|parseInt(i,10):0;return s?l+=t.c:--l,a?o+=t.r:--o,n+(s?"":"$")+eG(l)+(a?"":"$")+ZH(o)}return function(r,i){return t=i,r.replace(e,n)}}(),RW=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,kW=function(){return function(e,t){return e.replace(RW,(function(e,n,r,i,s,a){var o=$H(i)-(r?0:t.c),l=QH(a)-(s?0:t.r);return n+"R"+(0==l?"":s?l+1:"["+l+"]")+"C"+(0==o?"":r?o+1:"["+o+"]")}))}}();function NW(e,t){return e.replace(RW,(function(e,n,r,i,s,a){return n+("$"==r?r+i:eG($H(i)+t.c))+("$"==s?s+a:ZH(QH(a)+t.r))}))}function PW(e){e.l+=1}function IW(e,t){var n=e.read_shift(1==t?1:2);return[16383&n,n>>14&1,n>>15&1]}function LW(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return DW(e);12==n.biff&&(r=4)}var i=e.read_shift(r),s=e.read_shift(r),a=IW(e,2),o=IW(e,2);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function DW(e){var t=IW(e,2),n=IW(e,2),r=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function BW(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return function(e){var t=IW(e,2),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}(e);var r=e.read_shift(n&&12==n.biff?4:2),i=IW(e,2);return{r:r,c:i[0],cRel:i[1],rRel:i[2]}}function OW(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:255&n,fQuoted:!!(16384&n),cRel:n>>15,rRel:n>>15}}function FW(e){var t=1&e[e.l+1];return e.l+=4,[t,1]}function UW(e){return[e.read_shift(1),e.read_shift(1)]}function jW(e,t){var n=[e.read_shift(1)];if(12==t)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2}switch(n[0]){case 4:n[1]=hV(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:n[1]=HG[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:n[1]=LG(e);break;case 2:n[1]=yV(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function zW(e,t,n){for(var r=e.read_shift(12==n.biff?4:2),i=[],s=0;s!=r;++s)i.push((12==n.biff?PG:TV)(e,8));return i}function HW(e,t,n){var r=0,i=0;12==n.biff?(r=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,0==--i&&(i=256));for(var s=0,a=[];s!=r&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=jW(e,n.biff);return a}function GW(e,t,n){return e.l+=2,[OW(e)]}function VW(e){return e.l+=6,[]}function WW(e){return e.l+=2,[fV(e),1&e.read_shift(2)]}var XW=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];var YW={1:{n:"PtgExp",f:function(e,t,n){return e.l++,n&&12==n.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(n&&2==n.biff?1:2)]}},2:{n:"PtgTbl",f:GH},3:{n:"PtgAdd",f:PW},4:{n:"PtgSub",f:PW},5:{n:"PtgMul",f:PW},6:{n:"PtgDiv",f:PW},7:{n:"PtgPower",f:PW},8:{n:"PtgConcat",f:PW},9:{n:"PtgLt",f:PW},10:{n:"PtgLe",f:PW},11:{n:"PtgEq",f:PW},12:{n:"PtgGe",f:PW},13:{n:"PtgGt",f:PW},14:{n:"PtgNe",f:PW},15:{n:"PtgIsect",f:PW},16:{n:"PtgUnion",f:PW},17:{n:"PtgRange",f:PW},18:{n:"PtgUplus",f:PW},19:{n:"PtgUminus",f:PW},20:{n:"PtgPercent",f:PW},21:{n:"PtgParen",f:PW},22:{n:"PtgMissArg",f:PW},23:{n:"PtgStr",f:function(e,t,n){return e.l++,gV(e,0,n)}},26:{n:"PtgSheet",f:function(e,t,n){return e.l+=5,e.l+=2,e.l+=2==n.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function(e,t,n){return e.l+=2==n.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function(e){return e.l++,HG[e.read_shift(1)]}},29:{n:"PtgBool",f:function(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function(e){return e.l++,LG(e)}},32:{n:"PtgArray",f:function(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=2==n.biff?6:12==n.biff?14:7,[r]}},33:{n:"PtgFunc",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var i=e.read_shift(n&&n.biff<=3?1:2);return[dX[i],hX[i],r]}},34:{n:"PtgFuncVar",f:function(e,t,n){var r=e[e.l++],i=e.read_shift(1),s=n&&n.biff<=3?[88==r?-1:0,e.read_shift(1)]:function(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[i,(0===s[0]?hX:uX)[s[1]]]}},35:{n:"PtgName",f:function(e,t,n){var r=e.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=e.read_shift(i);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[r,0,s]}},36:{n:"PtgRef",f:function(e,t,n){var r=(96&e[e.l])>>5;return e.l+=1,[r,BW(e,0,n)]}},37:{n:"PtgArea",f:function(e,t,n){return[(96&e[e.l++])>>5,LW(e,n.biff>=2&&n.biff,n)]}},38:{n:"PtgMemArea",f:function(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=n&&2==n.biff?3:4,[r,e.read_shift(n&&2==n.biff?1:2)]}},39:{n:"PtgMemErr",f:GH},40:{n:"PtgMemNoMem",f:GH},41:{n:"PtgMemFunc",f:function(e,t,n){return[e.read_shift(1)>>>5&3,e.read_shift(n&&2==n.biff?1:2)]}},42:{n:"PtgRefErr",f:function(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,12==n.biff&&(e.l+=2),[r]}},43:{n:"PtgAreaErr",f:function(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}},44:{n:"PtgRefN",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var i=function(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return function(e){var t=e.read_shift(2),n=e.read_shift(1),r=(32768&t)>>15,i=(16384&t)>>14;return t&=16383,1==r&&t>=8192&&(t-=16384),1==i&&n>=128&&(n-=256),{r:t,c:n,cRel:i,rRel:r}}(e);var i=e.read_shift(r>=12?4:2),s=e.read_shift(2),a=(16384&s)>>14,o=(32768&s)>>15;if(s&=16383,1==o)for(;i>524287;)i-=1048576;if(1==a)for(;s>8191;)s-=16384;return{r:i,c:s,cRel:a,rRel:o}}(e,0,n);return[r,i]}},45:{n:"PtgAreaN",f:function(e,t,n){var r=(96&e[e.l++])>>5,i=function(e,t,n){if(n.biff<8)return DW(e);var r=e.read_shift(12==n.biff?4:2),i=e.read_shift(12==n.biff?4:2),s=IW(e,2),a=IW(e,2);return{s:{r:r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}(e,0,n);return[r,i]}},46:{n:"PtgMemAreaN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function(e,t,n){return 5==n.biff?function(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var i=e.read_shift(2);return n&&5==n.biff&&(e.l+=12),[r,i,BW(e,0,n)]}},59:{n:"PtgArea3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,i=e.read_shift(2,"i");if(n)switch(n.biff){case 5:e.l+=12;break;case 12:0}return[r,i,LW(e,0,n)]}},60:{n:"PtgRefErr3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,i=e.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6}return e.l+=s,[r,i]}},61:{n:"PtgAreaErr3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,i=e.read_shift(2),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12}return e.l+=s,[r,i]}},255:{}},JW={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},KW={1:{n:"PtgElfLel",f:WW},2:{n:"PtgElfRw",f:GW},3:{n:"PtgElfCol",f:GW},6:{n:"PtgElfRwV",f:GW},7:{n:"PtgElfColV",f:GW},10:{n:"PtgElfRadical",f:GW},11:{n:"PtgElfRadicalS",f:VW},13:{n:"PtgElfColS",f:VW},15:{n:"PtgElfColSV",f:VW},16:{n:"PtgElfRadicalLel",f:WW},25:{n:"PtgList",f:function(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i=e.read_shift(2),s=e.read_shift(2);return{ixti:t,coltype:3&n,rt:XW[n>>2&31],idx:r,c:i,C:s}}},29:{n:"PtgSxName",f:function(e){return e.l+=2,[e.read_shift(4)]}},255:{}},qW={0:{n:"PtgAttrNoop",f:function(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=n&&2==n.biff?3:4,[r]}},2:{n:"PtgAttrIf",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function(e,t,n){e.l+=2;for(var r=e.read_shift(n&&2==n.biff?1:2),i=[],s=0;s<=r;++s)i.push(e.read_shift(n&&2==n.biff?1:2));return i}},8:{n:"PtgAttrGoto",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}},16:{n:"PtgAttrSum",f:function(e,t,n){e.l+=n&&2==n.biff?3:4}},32:{n:"PtgAttrBaxcel",f:FW},33:{n:"PtgAttrBaxcel",f:FW},64:{n:"PtgAttrSpace",f:function(e){return e.read_shift(2),UW(e)}},65:{n:"PtgAttrSpaceSemi",f:function(e){return e.read_shift(2),UW(e)}},128:{n:"PtgAttrIfError",f:function(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}},255:{}};function QW(e,t,n,r){if(r.biff<8)return GH(e,t);for(var i=e.l+t,s=[],a=0;a!==n.length;++a)switch(n[a][0]){case"PtgArray":n[a][1]=HW(e,0,r),s.push(n[a][1]);break;case"PtgMemArea":n[a][2]=zW(e,n[a][1],r),s.push(n[a][2]);break;case"PtgExp":r&&12==r.biff&&(n[a][1][1]=e.read_shift(4),s.push(n[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[a][0]}return 0!==(t=i-e.l)&&s.push(GH(e,t)),s}function ZW(e,t,n){for(var r,i,s=e.l+t,a=[];s!=e.l;)t=s-e.l,i=e[e.l],r=YW[i]||YW[JW[i]],24!==i&&25!==i||(r=(24===i?KW:qW)[e[e.l+1]]),r&&r.f?a.push([r.n,r.f(e,t,n)]):GH(e,t);return a}function $W(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],i=[],s=0;s<r.length;++s){var a=r[s];if(a)if(2===a[0])i.push('"'+a[1].replace(/"/g,'""')+'"');else i.push(a[1]);else i.push("")}t.push(i.join(","))}return t.join(";")}var eX={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function tX(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(e[r[0]][0]){case 357:return i=-1==r[1]?"#REF":e.SheetNames[r[1]],r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 358:return null!=n.SID?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return i=-1==r[1]?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map((function(e){return e.Name})).join(";;");default:return e[r[0]][0][3]?(i=-1==r[1]?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function nX(e,t,n){var r=tX(e,t,n);return"#REF"==r?r:function(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}(r,n)}function rX(e,t,n,r,i){var s,a,o,l,c=i&&i.biff||8,u={s:{c:0,r:0},e:{c:0,r:0}},h=[],d=0,f=0,p="";if(!e[0]||!e[0][0])return"";for(var m=-1,g="",v=0,x=e[0].length;v<x;++v){var b=e[0][v];switch(b[0]){case"PtgUminus":h.push("-"+h.pop());break;case"PtgUplus":h.push("+"+h.pop());break;case"PtgPercent":h.push(h.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(s=h.pop(),a=h.pop(),m>=0){switch(e[0][m][1][0]){case 0:g=fz(" ",e[0][m][1][1]);break;case 1:g=fz("\r",e[0][m][1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}a+=g,m=-1}h.push(a+eX[b[0]]+s);break;case"PtgIsect":s=h.pop(),a=h.pop(),h.push(a+" "+s);break;case"PtgUnion":s=h.pop(),a=h.pop(),h.push(a+","+s);break;case"PtgRange":s=h.pop(),a=h.pop(),h.push(a+":"+s);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":o=YH(b[1][1],u,i),h.push(KH(o,c));break;case"PtgRefN":o=n?YH(b[1][1],n,i):b[1][1],h.push(KH(o,c));break;case"PtgRef3d":d=b[1][1],o=YH(b[1][2],u,i);p=nX(r,d,i);h.push(p+"!"+KH(o,c));break;case"PtgFunc":case"PtgFuncVar":var y=b[1][0],w=b[1][1];y||(y=0);var _=0==(y&=127)?[]:h.slice(-y);h.length-=y,"User"===w&&(w=_.shift()),h.push(w+"("+_.join(",")+")");break;case"PtgBool":h.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":h.push(b[1]);break;case"PtgNum":h.push(String(b[1]));break;case"PtgStr":h.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":l=JH(b[1][1],n?{s:n}:u,i),h.push(qH(l,i));break;case"PtgArea":l=JH(b[1][1],u,i),h.push(qH(l,i));break;case"PtgArea3d":d=b[1][1],l=b[1][2],p=nX(r,d,i),h.push(p+"!"+qH(l,i));break;case"PtgAttrSum":h.push("SUM("+h.pop()+")");break;case"PtgName":f=b[1][2];var A=(r.names||[])[f-1]||(r[0]||[])[f],S=A?A.Name:"SH33TJSNAME"+String(f);S&&"_xlfn."==S.slice(0,6)&&!i.xlfn&&(S=S.slice(6)),h.push(S);break;case"PtgNameX":var E,T=b[1][1];if(f=b[1][2],!(i.biff<=5)){var M="";if(14849==((r[T]||[])[0]||[])[0]||(1025==((r[T]||[])[0]||[])[0]?r[T][f]&&r[T][f].itab>0&&(M=r.SheetNames[r[T][f].itab-1]+"!"):M=r.SheetNames[f-1]+"!"),r[T]&&r[T][f])M+=r[T][f].Name;else if(r[0]&&r[0][f])M+=r[0][f].Name;else{var C=(tX(r,T,i)||"").split(";;");C[f-1]?M=C[f-1]:M+="SH33TJSERRX"}h.push(M);break}T<0&&(T=-T),r[T]&&(E=r[T][f]),E||(E={Name:"SH33TJSERRY"}),h.push(E.Name);break;case"PtgParen":var R="(",k=")";if(m>=0){switch(g="",e[0][m][1][0]){case 2:R=fz(" ",e[0][m][1][1])+R;break;case 3:R=fz("\r",e[0][m][1][1])+R;break;case 4:k=fz(" ",e[0][m][1][1])+k;break;case 5:k=fz("\r",e[0][m][1][1])+k;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}h.push(R+h.pop()+k);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":h.push("#REF!");break;case"PtgExp":o={c:b[1][1],r:b[1][0]};var N={c:n.c,r:n.r};if(r.sharedf[nG(o)]){var P=r.sharedf[nG(o)];h.push(rX(P,u,N,r,i))}else{var I=!1;for(s=0;s!=r.arrayf.length;++s)if(a=r.arrayf[s],!(o.c<a[0].s.c||o.c>a[0].e.c)&&!(o.r<a[0].s.r||o.r>a[0].e.r)){h.push(rX(a[1],u,N,r,i)),I=!0;break}I||h.push(b[1])}break;case"PtgArray":h.push("{"+$W(b[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=v;break;case"PtgMissArg":h.push("");break;case"PtgList":h.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(b))}if(3!=i.biff&&m>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][v][0])){var L=!0;switch((b=e[0][m])[1][0]){case 4:L=!1;case 0:g=fz(" ",b[1][1]);break;case 5:L=!1;case 1:g=fz("\r",b[1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}h.push((L?g:"")+h.pop()+(L?"":g)),m=-1}}if(h.length>1&&i.WTF)throw new Error("bad formula stack");return h[0]}function iX(e,t,n,r,i){var s=SV(t,n,i),a=function(e){if(null==e){var t=VH(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return DG("number"==typeof e?e:0)}(e.v),o=VH(6);o.write_shift(2,33),o.write_shift(4,0);for(var l=VH(e.bf.length),c=0;c<e.bf.length;++c)l[c]=e.bf[c];return QU([s,a,o,l])}function sX(e,t,n){var r=e.read_shift(4),i=ZW(e,r,n),s=e.read_shift(4);return[i,s>0?QW(e,s,i,n):null]}var aX=sX,oX=sX,lX=sX,cX=sX,uX={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},hX={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},dX={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function fX(e){return("of:="+e.replace(RW,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}function pX(e){return e.replace(/\./,"!")}var mX="undefined"!==typeof Map;function gX(e,t,n){var r=0,i=e.length;if(n){if(mX?n.has(t):Object.prototype.hasOwnProperty.call(n,t))for(var s=mX?n.get(t):n[t];r<s.length;++r)if(e[s[r]].t===t)return e.Count++,s[r]}else for(;r<i;++r)if(e[r].t===t)return e.Count++,r;return e[i]={t:t},e.Count++,e.Unique++,n&&(mX?(n.has(t)||n.set(t,[]),n.get(t).push(i)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(i))),i}function vX(e,t){var n={min:e+1,max:e+1},r=-1;return t.MDW&&(qV=t.MDW),null!=t.width?n.customWidth=1:null!=t.wpx?r=ZV(t.wpx):null!=t.wch&&(r=t.wch),r>-1?(n.width=$V(r),n.customWidth=1):null!=t.width&&(n.width=t.width),t.hidden&&(n.hidden=!0),null!=t.level&&(n.outlineLevel=n.level=t.level),n}function xX(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(n=[1,1,1,1,.5,.5]),null==e.left&&(e.left=n[0]),null==e.right&&(e.right=n[1]),null==e.top&&(e.top=n[2]),null==e.bottom&&(e.bottom=n[3]),null==e.header&&(e.header=n[4]),null==e.footer&&(e.footer=n[5])}}function bX(e,t,n){var r=n.revssf[null!=t.z?t.z:"General"],i=60,s=e.length;if(null==r&&n.ssf)for(;i<392;++i)if(null==n.ssf[i]){Hj(t.z,i),n.ssf[i]=t.z,n.revssf[t.z]=r=i;break}for(i=0;i!=s;++i)if(e[i].numFmtId===r)return i;return e[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function yX(e,t,n){if(e&&e["!ref"]){var r=sG(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}var wX=["objects","scenarios","selectLockedCells","selectUnlockedCells"],_X=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function AX(e,t,n,r){if(e.c&&n["!comments"].push([t,e.c]),void 0===e.v&&"string"!==typeof e.f||"z"===e.t&&!e.f)return"";var i="",s=e.t,a=e.v;if("z"!==e.t)switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=HG[e.v];break;case"d":r&&r.cellDates?i=uz(e.v,-1).toISOString():((e=dz(e)).t="n",i=""+(e.v=nz(uz(e.v)))),"undefined"===typeof e.z&&(e.z=cj[14]);break;default:i=e.v}var o=Oz("v",Sz(i)),l={r:t},c=bX(r.cellXfs,e,r);switch(0!==c&&(l.s=c),e.t){case"n":case"z":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){o=Oz("v",""+gX(r.Strings,e.v,r.revStrings)),l.t="s";break}l.t="str"}if(e.t!=s&&(e.t=s,e.v=a),"string"==typeof e.f&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=Uz("f",Sz(e.f),u)+(null!=e.v?o:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(l.cm=1),Uz("c",o,l)}function SX(e,t,n,r){var i,s=[bz,Uz("worksheet",null,{xmlns:eH[0],"xmlns:r":qz})],a=n.SheetNames[e],o="",l=n.Sheets[a];null==l&&(l={});var c=l["!ref"]||"A1",u=sG(c);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=iG(u)}r||(r={}),l["!comments"]=[];var h=[];!function(e,t,n,r,i){var s=!1,a={},o=null;if("xlsx"!==r.bookType&&t.vbaraw){var l=t.SheetNames[n];try{t.Workbook&&(l=t.Workbook.Sheets[n].CodeName||l)}catch(TS){}s=!0,a.codeName=Lz(Sz(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),o=(o||"")+Uz("outlinePr",null,c)}(s||o)&&(i[i.length]=Uz("sheetPr",o,a))}(l,n,e,t,s),s[s.length]=Uz("dimension",null,{ref:c}),s[s.length]=function(e,t,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Uz("sheetViews",Uz("sheetView",null,i),{})}(0,0,0,n),t.sheetFormat&&(s[s.length]=Uz("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=l["!cols"]&&l["!cols"].length>0&&(s[s.length]=function(e,t){for(var n,r=["<cols>"],i=0;i!=t.length;++i)(n=t[i])&&(r[r.length]=Uz("col",null,vX(i,n)));return r[r.length]="</cols>",r.join("")}(0,l["!cols"])),s[i=s.length]="<sheetData/>",l["!links"]=[],null!=l["!ref"]&&(o=function(e,t){var n,r,i=[],s=[],a=sG(e["!ref"]),o="",l="",c=[],u=0,h=0,d=e["!rows"],f=Array.isArray(e),p={r:l},m=-1;for(h=a.s.c;h<=a.e.c;++h)c[h]=eG(h);for(u=a.s.r;u<=a.e.r;++u){for(s=[],l=ZH(u),h=a.s.c;h<=a.e.c;++h){n=c[h]+l;var g=f?(e[u]||[])[h]:e[n];void 0!==g&&null!=(o=AX(g,n,e,t))&&s.push(o)}(s.length>0||d&&d[u])&&(p={r:l},d&&d[u]&&((r=d[u]).hidden&&(p.hidden=1),m=-1,r.hpx?m=nW(r.hpx):r.hpt&&(m=r.hpt),m>-1&&(p.ht=m,p.customHeight=1),r.level&&(p.outlineLevel=r.level)),i[i.length]=Uz("row",s.join(""),p))}if(d)for(;u<d.length;++u)d&&d[u]&&(p={r:u+1},(r=d[u]).hidden&&(p.hidden=1),m=-1,r.hpx?m=nW(r.hpx):r.hpt&&(m=r.hpt),m>-1&&(p.ht=m,p.customHeight=1),r.level&&(p.outlineLevel=r.level),i[i.length]=Uz("row","",p));return i.join("")}(l,t,0,0),o.length>0&&(s[s.length]=o)),s.length>i+1&&(s[s.length]="</sheetData>",s[i]=s[i].replace("/>",">")),l["!protect"]&&(s[s.length]=function(e){var t={sheet:1};return wX.forEach((function(n){null!=e[n]&&e[n]&&(t[n]="1")})),_X.forEach((function(n){null==e[n]||e[n]||(t[n]="0")})),e.password&&(t.password=YV(e.password).toString(16).toUpperCase()),Uz("sheetProtection",null,t)}(l["!protect"])),null!=l["!autofilter"]&&(s[s.length]=function(e,t,n,r){var i="string"==typeof e.ref?e.ref:iG(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,a=rG(i);a.s.r==a.e.r&&(a.e.r=rG(t["!ref"]).e.r,i=iG(a));for(var o=0;o<s.length;++o){var l=s[o];if("_xlnm._FilterDatabase"==l.Name&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),Uz("autoFilter",null,{ref:i})}(l["!autofilter"],l,n,e)),null!=l["!merges"]&&l["!merges"].length>0&&(s[s.length]=function(e){if(0===e.length)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+iG(e[n])+'"/>';return t+"</mergeCells>"}(l["!merges"]));var d,f,p=-1,m=-1;return l["!links"].length>0&&(s[s.length]="<hyperlinks>",l["!links"].forEach((function(e){e[1].Target&&(d={ref:e[0]},"#"!=e[1].Target.charAt(0)&&(m=KG(r,-1,Sz(e[1].Target).replace(/#.*$/,""),XG.HLINK),d["r:id"]="rId"+m),(p=e[1].Target.indexOf("#"))>-1&&(d.location=Sz(e[1].Target.slice(p+1))),e[1].Tooltip&&(d.tooltip=Sz(e[1].Tooltip)),s[s.length]=Uz("hyperlink",null,d))})),s[s.length]="</hyperlinks>"),delete l["!links"],null!=l["!margins"]&&(s[s.length]=(xX(f=l["!margins"]),Uz("pageMargins",null,f))),t&&!t.ignoreEC&&void 0!=t.ignoreEC||(s[s.length]=Oz("ignoredErrors",Uz("ignoredError",null,{numberStoredAsText:1,sqref:c}))),h.length>0&&(m=KG(r,-1,"../drawings/drawing"+(e+1)+".xml",XG.DRAW),s[s.length]=Uz("drawing",null,{"r:id":"rId"+m}),l["!drawing"]=h),l["!comments"].length>0&&(m=KG(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",XG.VML),s[s.length]=Uz("legacyDrawing",null,{"r:id":"rId"+m}),l["!legacy"]=m),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function EX(e,t,n,r){var i=function(e,t,n){var r=VH(145),i=(n["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var s=320;i.hpx?s=20*nW(i.hpx):i.hpt&&(s=20*i.hpt),r.write_shift(2,s),r.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),r.write_shift(1,a),r.write_shift(1,0);var o=0,l=r.l;r.l+=4;for(var c={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var h=-1,d=-1,f=u<<10;f<u+1<<10;++f)c.c=f,(Array.isArray(n)?(n[c.r]||[])[c.c]:n[nG(c)])&&(h<0&&(h=f),d=f);h<0||(++o,r.write_shift(4,h),r.write_shift(4,d))}var p=r.l;return r.l=l,r.write_shift(4,o),r.l=p,r.length>r.l?r.slice(0,r.l):r}(r,n,t);(i.length>17||(t["!rows"]||[])[r])&&XH(e,0,i)}var TX=PG,MX=IG;function CX(e){return[yG(e),LG(e),"n"]}var RX=PG,kX=IG;var NX=["left","right","top","bottom","header","footer"];function PX(e,t,n,r,i,s,a){if(void 0===t.v)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":(t=dz(t)).z=t.z||cj[14],t.v=nz(uz(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v}var l={r:n,c:r};switch(l.s=bX(i.cellXfs,t,i),t.l&&s["!links"].push([nG(l),t.l]),t.c&&s["!comments"].push([nG(l),t.c]),t.t){case"s":case"str":return i.bookSST?(o=gX(i.Strings,t.v,i.revStrings),l.t="s",l.v=o,a?XH(e,18,function(e,t,n){return null==n&&(n=VH(8)),wG(t,n),n.write_shift(4,t.v),n}(0,l)):XH(e,7,function(e,t,n){return null==n&&(n=VH(12)),bG(t,n),n.write_shift(4,t.v),n}(0,l))):(l.t="str",a?XH(e,17,function(e,t,n){return null==n&&(n=VH(8+4*e.v.length)),wG(t,n),fG(e.v,n),n.length>n.l?n.slice(0,n.l):n}(t,l)):XH(e,6,function(e,t,n){return null==n&&(n=VH(12+4*e.v.length)),bG(t,n),fG(e.v,n),n.length>n.l?n.slice(0,n.l):n}(t,l))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?a?XH(e,13,function(e,t,n){return null==n&&(n=VH(8)),wG(t,n),kG(e.v,n),n}(t,l)):XH(e,2,function(e,t,n){return null==n&&(n=VH(12)),bG(t,n),kG(e.v,n),n}(t,l)):a?XH(e,16,function(e,t,n){return null==n&&(n=VH(12)),wG(t,n),DG(e.v,n),n}(t,l)):XH(e,5,function(e,t,n){return null==n&&(n=VH(16)),bG(t,n),DG(e.v,n),n}(t,l)),!0;case"b":return l.t="b",a?XH(e,15,function(e,t,n){return null==n&&(n=VH(5)),wG(t,n),n.write_shift(1,e.v?1:0),n}(t,l)):XH(e,4,function(e,t,n){return null==n&&(n=VH(9)),bG(t,n),n.write_shift(1,e.v?1:0),n}(t,l)),!0;case"e":return l.t="e",a?XH(e,14,function(e,t,n){return null==n&&(n=VH(8)),wG(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}(t,l)):XH(e,3,function(e,t,n){return null==n&&(n=VH(9)),bG(t,n),n.write_shift(1,e.v),n}(t,l)),!0}return a?XH(e,12,function(e,t,n){return null==n&&(n=VH(4)),wG(t,n)}(0,l)):XH(e,1,function(e,t,n){return null==n&&(n=VH(8)),bG(t,n)}(0,l)),!0}function IX(e,t){t&&t["!merges"]&&(XH(e,177,function(e,t){return null==t&&(t=VH(4)),t.write_shift(4,e),t}(t["!merges"].length)),t["!merges"].forEach((function(t){XH(e,176,kX(t))})),XH(e,178))}function LX(e,t){t&&t["!cols"]&&(XH(e,390),t["!cols"].forEach((function(t,n){t&&XH(e,60,function(e,t,n){null==n&&(n=VH(18));var r=vX(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,256*(r.width||10)),n.write_shift(4,0);var i=0;return t.hidden&&(i|=1),"number"==typeof r.width&&(i|=2),t.level&&(i|=t.level<<8),n.write_shift(2,i),n}(n,t))})),XH(e,391))}function DX(e,t){t&&t["!ref"]&&(XH(e,648),XH(e,649,function(e){var t=VH(24);return t.write_shift(4,4),t.write_shift(4,1),IG(e,t),t}(sG(t["!ref"]))),XH(e,650))}function BX(e,t,n){t["!links"].forEach((function(t){if(t[1].Target){var r=KG(n,-1,t[1].Target.replace(/#.*$/,""),XG.HLINK);XH(e,494,function(e,t){var n=VH(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));IG({s:tG(e[0]),e:tG(e[0])},n),CG("rId"+t,n);var r=e[1].Target.indexOf("#");return fG((-1==r?"":e[1].Target.slice(r+1))||"",n),fG(e[1].Tooltip||"",n),fG("",n),n.slice(0,n.l)}(t,r))}})),delete t["!links"]}function OX(e,t,n){XH(e,133),XH(e,137,function(e,t,n){null==n&&(n=VH(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}(0,n)),XH(e,138),XH(e,134)}function FX(e,t){t["!protect"]&&XH(e,535,function(e,t){return null==t&&(t=VH(66)),t.write_shift(2,e.password?YV(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach((function(n){n[1]?t.write_shift(4,null==e[n[0]]||e[n[0]]?0:1):t.write_shift(4,null!=e[n[0]]&&e[n[0]]?0:1)})),t}(t["!protect"]))}function UX(e,t,n,r){var i=WH(),s=n.SheetNames[e],a=n.Sheets[s]||{},o=s;try{n&&n.Workbook&&(o=n.Workbook.Sheets[e].CodeName||o)}catch(TS){}var l=sG(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],XH(i,129),(n.vbaraw||a["!outline"])&&XH(i,147,function(e,t,n){null==n&&(n=VH(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return BG({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),AG(e,n),n.slice(0,n.l)}(o,a["!outline"])),XH(i,148,MX(l)),OX(i,0,n.Workbook),LX(i,a),function(e,t,n,r){var i,s=sG(t["!ref"]||"A1"),a="",o=[];XH(e,145);var l=Array.isArray(t),c=s.e.r;t["!rows"]&&(c=Math.max(s.e.r,t["!rows"].length-1));for(var u=s.s.r;u<=c;++u){a=ZH(u),EX(e,t,s,u);var h=!1;if(u<=s.e.r)for(var d=s.s.c;d<=s.e.c;++d){u===s.s.r&&(o[d]=eG(d)),i=o[d]+a;var f=l?(t[u]||[])[d]:t[i];h=!!f&&PX(e,f,u,d,r,t,h)}}XH(e,146)}(i,a,0,t),FX(i,a),function(e,t,n,r){if(t["!autofilter"]){var i=t["!autofilter"],s="string"===typeof i.ref?i.ref:iG(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var a=n.Workbook.Names,o=rG(s);o.s.r==o.e.r&&(o.e.r=rG(t["!ref"]).e.r,s=iG(o));for(var l=0;l<a.length;++l){var c=a[l];if("_xlnm._FilterDatabase"==c.Name&&c.Sheet==r){c.Ref="'"+n.SheetNames[r]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),XH(e,161,IG(sG(s))),XH(e,162)}}(i,a,n,e),IX(i,a),BX(i,a,r),a["!margins"]&&XH(i,476,function(e,t){return null==t&&(t=VH(48)),xX(e),NX.forEach((function(n){DG(e[n],t)})),t}(a["!margins"])),t&&!t.ignoreEC&&void 0!=t.ignoreEC||DX(i,a),function(e,t,n,r){if(t["!comments"].length>0){var i=KG(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",XG.VML);XH(e,551,CG("rId"+i)),t["!legacy"]=i}}(i,a,e,r),XH(i,130),i.end()}var jX=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];var zX="][*?/\\".split("");function HX(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var n=!0;return zX.forEach((function(r){if(-1!=e.indexOf(r)){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");n=!1}})),n}function GX(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];!function(e,t,n){e.forEach((function(r,i){HX(r);for(var s=0;s<i;++s)if(r==e[s])throw new Error("Duplicate Sheet Name: "+r);if(n){var a=t&&t[i]&&t[i].CodeName||r;if(95==a.charCodeAt(0)&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}}))}(e.SheetNames,t,!!e.vbaraw);for(var n=0;n<e.SheetNames.length;++n)yX(e.Sheets[e.SheetNames[n]],e.SheetNames[n],n)}function VX(e){var t=[bz];t[t.length]=Uz("workbook",null,{xmlns:eH[0],"xmlns:r":qz});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(jX.forEach((function(t){null!=e.Workbook.WBProps[t[0]]&&e.Workbook.WBProps[t[0]]!=t[1]&&(r[t[0]]=e.Workbook.WBProps[t[0]])})),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=Uz("workbookPr",null,r);var i=e.Workbook&&e.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&i[s]&&i[s].Hidden;++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var a={name:Sz(e.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden"}t[t.length]=Uz("sheet",null,a)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach((function(e){var n={name:e.Name};e.Comment&&(n.comment=e.Comment),null!=e.Sheet&&(n.localSheetId=""+e.Sheet),e.Hidden&&(n.hidden="1"),e.Ref&&(t[t.length]=Uz("definedName",Sz(e.Ref),n))})),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function WX(e,t){return t||(t=VH(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),CG(e.strRelID,t),fG(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function XX(e,t){if(t.Workbook&&t.Workbook.Sheets){for(var n=t.Workbook.Sheets,r=0,i=-1,s=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&-1==i?i=r:1==n[r].Hidden&&-1==s&&(s=r);s>i||(XH(e,135),XH(e,158,function(e,t){return t||(t=VH(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e),t.write_shift(1,120),t.length>t.l?t.slice(0,t.l):t}(i)),XH(e,136))}}function YX(e,t){var n=WH();return XH(n,131),XH(n,128,function(e,t){t||(t=VH(127));for(var n=0;4!=n;++n)t.write_shift(4,0);return fG("SheetJS",t),fG(RU.version,t),fG(RU.version,t),fG("7262",t),t.length>t.l?t.slice(0,t.l):t}()),XH(n,153,function(e,t){t||(t=VH(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),AG(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}(e.Workbook&&e.Workbook.WBProps||null)),XX(n,e),function(e,t){XH(e,143);for(var n=0;n!=t.SheetNames.length;++n)XH(e,156,WX({Hidden:t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]}));XH(e,144)}(n,e),XH(n,132),n.end()}function JX(e,t,n,r,i){return(".bin"===t.slice(-4)?UX:SX)(e,n,r,i)}function KX(e,t,n){return(".bin"===t.slice(-4)?TW:AW)(e,n)}function qX(e,t){var n=[];return e.Props&&n.push(function(e,t){var n=[];return Qj(sV).map((function(e){for(var t=0;t<ZG.length;++t)if(ZG[t][1]==e)return ZG[t];for(t=0;t<tV.length;++t)if(tV[t][1]==e)return tV[t];throw e})).forEach((function(r){if(null!=e[r[1]]){var i=t&&t.Props&&null!=t.Props[r[1]]?t.Props[r[1]]:e[r[1]];"date"===r[2]&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof i?i=String(i):!0===i||!1===i?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(Oz(sV[r[1]]||r[1],i))}})),Uz("DocumentProperties",n.join(""),{xmlns:tH})}(e.Props,t)),e.Custprops&&n.push(function(e,t){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return e&&Qj(e).forEach((function(t){if(Object.prototype.hasOwnProperty.call(e,t)){for(var r=0;r<ZG.length;++r)if(t==ZG[r][1])return;for(r=0;r<tV.length;++r)if(t==tV[r][1])return;for(r=0;r<n.length;++r)if(t==n[r])return;var s=e[t],a="string";"number"==typeof s?(a="float",s=String(s)):!0===s||!1===s?(a="boolean",s=s?"1":"0"):s=String(s),i.push(Uz(Ez(t),s,{"dt:dt":a}))}})),t&&Qj(t).forEach((function(n){if(Object.prototype.hasOwnProperty.call(t,n)&&(!e||!Object.prototype.hasOwnProperty.call(e,n))){var r=t[n],s="string";"number"==typeof r?(s="float",r=String(r)):!0===r||!1===r?(s="boolean",r=r?"1":"0"):r instanceof Date?(s="dateTime.tz",r=r.toISOString()):r=String(r),i.push(Uz(Ez(n),r,{"dt:dt":s}))}})),"<"+r+' xmlns="'+tH+'">'+i.join("")+"</"+r+">"}(e.Props,e.Custprops)),n.join("")}function QX(e){return Uz("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+kW(e.Ref,{r:0,c:0})})}function ZX(e,t,n,r,i,s,a){if(!e||void 0==e.v&&void 0==e.f)return"";var o={};if(e.f&&(o["ss:Formula"]="="+Sz(kW(e.f,a))),e.F&&e.F.slice(0,t.length)==t){var l=tG(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=Sz(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=Sz(e.l.Tooltip))),n["!merges"])for(var c=n["!merges"],u=0;u!=c.length;++u)c[u].s.c==a.c&&c[u].s.r==a.r&&(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var h="",d="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":h="Number",d=String(e.v);break;case"b":h="Boolean",d=e.v?"1":"0";break;case"e":h="Error",d=HG[e.v];break;case"d":h="DateTime",d=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||cj[14]);break;case"s":h="String",d=((e.v||"")+"").replace(_z,(function(e){return wz[e]})).replace(Tz,(function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}))}var f=bX(r.cellXfs,e,r);o["ss:StyleID"]="s"+(21+f),o["ss:Index"]=a.c+1;var p=null!=e.v?d:"",m="z"==e.t?"":'<Data ss:Type="'+h+'">'+p+"</Data>";return(e.c||[]).length>0&&(m+=e.c.map((function(e){var t=Uz("ss:Data",(e.t||"").replace(/(\r\n|[\r\n])/g,"&#10;"),{xmlns:"http://www.w3.org/TR/REC-html40"});return Uz("Comment",t,{"ss:Author":e.a})})).join("")),Uz("Cell",m,o)}function $X(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=rW(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function eY(e,t,n){var r=[],i=n.SheetNames[e],s=n.Sheets[i],a=s?function(e,t,n,r){if(!e)return"";if(!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==n&&(o.Name.match(/^_xlfn\./)||s.push(QX(o)))}return s.join("")}(s,0,e,n):"";return a.length>0&&r.push("<Names>"+a+"</Names>"),a=s?function(e,t){if(!e["!ref"])return"";var n=sG(e["!ref"]),r=e["!merges"]||[],i=0,s=[];e["!cols"]&&e["!cols"].forEach((function(e,t){eW(e);var n=!!e.width,r=vX(t,e),i={"ss:Index":t+1};n&&(i["ss:Width"]=QV(r.width)),e.hidden&&(i["ss:Hidden"]="1"),s.push(Uz("Column",null,i))}));for(var a=Array.isArray(e),o=n.s.r;o<=n.e.r;++o){for(var l=[$X(o,(e["!rows"]||[])[o])],c=n.s.c;c<=n.e.c;++c){var u=!1;for(i=0;i!=r.length;++i)if(!(r[i].s.c>c)&&!(r[i].s.r>o)&&!(r[i].e.c<c)&&!(r[i].e.r<o)){r[i].s.c==c&&r[i].s.r==o||(u=!0);break}if(!u){var h={r:o,c:c},d=nG(h),f=a?(e[o]||[])[c]:e[d];l.push(ZX(f,d,e,t,0,0,h))}}l.push("</Row>"),l.length>2&&s.push(l.join(""))}return s.join("")}(s,t):"",a.length>0&&r.push("<Table>"+a+"</Table>"),r.push(function(e,t,n,r){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(Uz("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(Uz("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(Uz("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(Uz("Visible",1==r.Workbook.Sheets[n].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<n&&(!r.Workbook.Sheets[s]||r.Workbook.Sheets[s].Hidden);++s);s==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(Oz("ProtectContents","True")),e["!protect"].objects&&i.push(Oz("ProtectObjects","True")),e["!protect"].scenarios&&i.push(Oz("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null==e["!protect"].selectUnlockedCells||e["!protect"].selectUnlockedCells||i.push(Oz("EnableSelection","UnlockedCells")):i.push(Oz("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach((function(t){e["!protect"][t[0]]&&i.push("<"+t[1]+"/>")}))),0==i.length?"":Uz("WorksheetOptions",i.join(""),{xmlns:nH})}(s,0,e,n)),r.join("")}function tY(e,t){t||(t={}),e.SSF||(e.SSF=dz(cj)),e.SSF&&(Vj(),Gj(e.SSF),t.revssf=ez(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],bX(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(qX(e,t)),n.push(""),n.push(""),n.push("");for(var r=0;r<e.SheetNames.length;++r)n.push(Uz("Worksheet",eY(r,t,e),{"ss:Name":Sz(e.SheetNames[r])}));return n[2]=function(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach((function(e,t){var r=[];r.push(Uz("NumberFormat",null,{"ss:Format":Sz(cj[e.numFmtId])}));var i={"ss:ID":"s"+(21+t)};n.push(Uz("Style",r.join(""),i))})),Uz("Styles",n.join(""))}(0,t),n[3]=function(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],r=0;r<t.length;++r){var i=t[r];null==i.Sheet&&(i.Name.match(/^_xlfn\./)||n.push(QX(i)))}return Uz("Names",n.join(""))}(e),bz+Uz("Workbook",n.join(""),{xmlns:rH,"xmlns:o":tH,"xmlns:x":nH,"xmlns:ss":rH,"xmlns:dt":iH,"xmlns:html":oH})}var nY="e0859ff2f94f6810ab9108002b27b3d9",rY="02d5cdd59c2e1b10939708002b2cf9ae",iY="05d5cdd59c2e1b10939708002b2cf9ae";function sY(e,t){var n=t||{},r=Yj.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Yj.utils.cfb_add(r,i,gY(e,n)),8==n.biff&&(e.Props||e.Custprops)&&function(e,t){var n,r=[],i=[],s=[],a=0,o=Zj(FG,"n"),l=Zj(UG,"n");if(e.Props)for(n=Qj(e.Props),a=0;a<n.length;++a)(Object.prototype.hasOwnProperty.call(o,n[a])?r:Object.prototype.hasOwnProperty.call(l,n[a])?i:s).push([n[a],e.Props[n[a]]]);if(e.Custprops)for(n=Qj(e.Custprops),a=0;a<n.length;++a)Object.prototype.hasOwnProperty.call(e.Props||{},n[a])||(Object.prototype.hasOwnProperty.call(o,n[a])?r:Object.prototype.hasOwnProperty.call(l,n[a])?i:s).push([n[a],e.Custprops[n[a]]]);var c=[];for(a=0;a<s.length;++a)oV.indexOf(s[a][0])>-1||nV.indexOf(s[a][0])>-1||null!=s[a][1]&&c.push(s[a]);i.length&&Yj.utils.cfb_add(t,"/\x05SummaryInformation",uV(i,nY,l,UG)),(r.length||c.length)&&Yj.utils.cfb_add(t,"/\x05DocumentSummaryInformation",uV(r,rY,o,FG,c.length?c:null,iY))}(e,r),8==n.biff&&e.vbaraw&&function(e,t){t.FullPaths.forEach((function(n,r){if(0!=r){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==i.slice(-1)&&Yj.utils.cfb_add(e,i,t.FileIndex[r].content)}}))}(r,Yj.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),r}var aY={0:{f:function(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=r,7&s&&(n.level=7&s),16&s&&(n.hidden=!0),32&s&&(n.hpt=i/20),n}},1:{f:function(e){return[xG(e)]}},2:{f:function(e){return[xG(e),RG(e),"n"]}},3:{f:function(e){return[xG(e),e.read_shift(1),"e"]}},4:{f:function(e){return[xG(e),e.read_shift(1),"b"]}},5:{f:function(e){return[xG(e),LG(e),"n"]}},6:{f:function(e){return[xG(e),dG(e),"str"]}},7:{f:function(e){return[xG(e),e.read_shift(4),"s"]}},8:{f:function(e,t,n){var r=e.l+t,i=xG(e);i.r=n["!row"];var s=[i,dG(e),"str"];if(n.cellFormula){e.l+=2;var a=oX(e,r-e.l,n);s[3]=rX(a,0,i,n.supbooks,n)}else e.l=r;return s}},9:{f:function(e,t,n){var r=e.l+t,i=xG(e);i.r=n["!row"];var s=[i,LG(e),"n"];if(n.cellFormula){e.l+=2;var a=oX(e,r-e.l,n);s[3]=rX(a,0,i,n.supbooks,n)}else e.l=r;return s}},10:{f:function(e,t,n){var r=e.l+t,i=xG(e);i.r=n["!row"];var s=[i,e.read_shift(1),"b"];if(n.cellFormula){e.l+=2;var a=oX(e,r-e.l,n);s[3]=rX(a,0,i,n.supbooks,n)}else e.l=r;return s}},11:{f:function(e,t,n){var r=e.l+t,i=xG(e);i.r=n["!row"];var s=[i,e.read_shift(1),"e"];if(n.cellFormula){e.l+=2;var a=oX(e,r-e.l,n);s[3]=rX(a,0,i,n.supbooks,n)}else e.l=r;return s}},12:{f:function(e){return[yG(e)]}},13:{f:function(e){return[yG(e),RG(e),"n"]}},14:{f:function(e){return[yG(e),e.read_shift(1),"e"]}},15:{f:function(e){return[yG(e),e.read_shift(1),"b"]}},16:{f:CX},17:{f:function(e){return[yG(e),dG(e),"str"]}},18:{f:function(e){return[yG(e),e.read_shift(4),"s"]}},19:{f:mG},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),s=TG(e),a=lX(e,0,n),o=SG(e);e.l=r;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}},40:{},42:{},43:{f:function(e,t,n){var r={};r.sz=e.read_shift(2)/20;var i=function(e){var t=e.read_shift(1);return e.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(e);switch(i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1),700===e.read_shift(2)&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript"}var s=e.read_shift(1);0!=s&&(r.underline=s);var a=e.read_shift(1);a>0&&(r.family=a);var o=e.read_shift(1);switch(o>0&&(r.charset=o),e.l++,r.color=function(e){var t={},n=e.read_shift(1)>>>1,r=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),a=e.read_shift(1),o=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=r;var l=zG[r];l&&(t.rgb=KV(l));break;case 2:t.rgb=KV([s,a,o]);break;case 3:t.theme=r}return 0!=i&&(t.tint=i>0?i/32767:i/32768),t}(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor"}return r.name=dG(e),r}},44:{f:function(e,t){return[e.read_shift(2),dG(e)]}},45:{f:cW},46:{f:fW},47:{f:function(e,t){var n=e.l+t,r=e.read_shift(2),i=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:i}}},48:{},49:{f:function(e){return e.read_shift(4,"i")}},50:{},51:{f:function(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:DV},62:{f:function(e){return[xG(e),mG(e),"is"]}},63:{f:function(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=nG(n);var r=e.read_shift(1);return 2&r&&(t.l="1"),8&r&&(t.a="1"),t}},64:{f:function(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:GH,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function(e,t){var n={},r=e[e.l];return++e.l,n.above=!(64&r),n.left=!(128&r),e.l+=18,n.name=_G(e,t-19),n}},148:{f:TX,p:16},151:{f:function(){}},152:{},153:{f:function(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var i=t>8?dG(e):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(65536&r),n.backupFile=!!(64&r),n.checkCompatibility=!!(4096&r),n.date1904=!!(1&r),n.filterPrivacy=!!(8&r),n.hidePivotFieldList=!!(1024&r),n.promptedSolutions=!!(16&r),n.publishItems=!!(2048&r),n.refreshAllConnections=!!(262144&r),n.saveExternalLinkValues=!!(128&r),n.showBorderUnselectedTables=!!(4&r),n.showInkAnnotation=!!(32&r),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(32768&r),n.updateLinks=["userSet","never","always"][r>>8&3],n}},154:{},155:{},156:{f:function(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=MG(e,t-8),n.name=dG(e),n}},157:{},158:{},159:{T:1,f:function(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:PG},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:RX},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:dG(e)}}},336:{T:-1},337:{f:function(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:MG},357:{},358:{},359:{},360:{T:1},361:{},362:{f:PV},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function(e,t,n){var r=e.l+t,i=NG(e),s=e.read_shift(1),a=[i];if(a[2]=s,n.cellFormula){var o=aX(e,r-e.l,n);a[1]=o}else e.l=r;return a}},427:{f:function(e,t,n){var r=e.l+t,i=[PG(e,16)];if(n.cellFormula){var s=cX(e,r-e.l,n);i[1]=s,e.l=r}else e.l=r;return i}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function(e){var t={};return NX.forEach((function(n){t[n]=LG(e)})),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function(e,t){var n=e.l+t,r=PG(e,16),i=SG(e),s=dG(e),a=dG(e),o=dG(e);e.l=n;var l={rfx:r,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:MG},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:EW},633:{T:1},634:{T:-1},635:{T:1,f:function(e){var t={};t.iauthor=e.read_shift(4);var n=PG(e,16);return t.rfx=n.s,t.ref=nG(n.s),e.l+=16,t}},636:{T:-1},637:{f:gG},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function(e,t){return e.l+=10,{name:dG(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function oY(e,t,n,r){var i=t;if(!isNaN(i)){var s=r||(n||[]).length||0,a=e.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&CH(n)&&e.push(n)}}function lY(e,t,n){return e||(e=VH(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function cY(e,t,n,r){if(null!=t.v)switch(t.t){case"d":case"n":var i="d"==t.t?nz(uz(t.v)):t.v;return void(i==(0|i)&&i>=0&&i<65536?oY(e,2,function(e,t,n){var r=VH(9);return lY(r,e,t),r.write_shift(2,n),r}(n,r,i)):oY(e,3,function(e,t,n){var r=VH(15);return lY(r,e,t),r.write_shift(8,n,"f"),r}(n,r,i)));case"b":case"e":return void oY(e,5,function(e,t,n,r){var i=VH(9);return lY(i,e,t),mV(n,r||"b",i),i}(n,r,t.v,t.t));case"s":case"str":return void oY(e,4,function(e,t,n){var r=VH(8+2*n.length);return lY(r,e,t),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}(n,r,(t.v||"").slice(0,255)))}oY(e,1,lY(null,n,r))}function uY(e,t){var n=t||{};for(var r=WH(),i=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==n.sheet&&(i=s);if(0==i&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return oY(r,4==n.biff?1033:3==n.biff?521:9,CV(0,16,n)),function(e,t,n,r){var i,s=Array.isArray(t),a=sG(t["!ref"]||"A1"),o="",l=[];if(a.e.c>255||a.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),i=iG(a)}for(var c=a.s.r;c<=a.e.r;++c){o=ZH(c);for(var u=a.s.c;u<=a.e.c;++u){c===a.s.r&&(l[u]=eG(u)),i=l[u]+o;var h=s?(t[c]||[])[u]:t[i];h&&cY(e,h,c,u)}}}(r,e.Sheets[e.SheetNames[i]],0,n),oY(r,10),r.end()}function hY(e,t,n){oY(e,49,function(e,t){var n=e.name||"Arial",r=t&&5==t.biff,i=VH(r?15+n.length:16+2*n.length);return i.write_shift(2,20*(e.sz||12)),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,n.length),r||i.write_shift(1,1),i.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),i}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},n))}function dY(e,t){if(t){var n=0;t.forEach((function(t,r){++n<=256&&t&&oY(e,125,function(e,t){var n=VH(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,256*e.width),n.write_shift(2,0);var r=0;return e.hidden&&(r|=1),n.write_shift(1,r),r=e.level||0,n.write_shift(1,r),n.write_shift(2,0),n}(vX(r,t),r))}))}}function fY(e,t,n,r,i){var s=16+bX(i.cellXfs,t,i);if(null!=t.v||t.bf)if(t.bf)oY(e,6,iX(t,n,r,0,s));else switch(t.t){case"d":case"n":oY(e,515,function(e,t,n,r){var i=VH(14);return SV(e,t,r,i),DG(n,i),i}(n,r,"d"==t.t?nz(uz(t.v)):t.v,s));break;case"b":case"e":oY(e,517,function(e,t,n,r,i,s){var a=VH(8);return SV(e,t,r,a),mV(n,s,a),a}(n,r,t.v,s,0,t.t));break;case"s":case"str":if(i.bookSST)oY(e,253,function(e,t,n,r){var i=VH(10);return SV(e,t,r,i),i.write_shift(4,n),i}(n,r,gX(i.Strings,t.v,i.revStrings),s));else oY(e,516,function(e,t,n,r,i){var s=!i||8==i.biff,a=VH(+s+8+(1+s)*n.length);return SV(e,t,r,a),a.write_shift(2,n.length),s&&a.write_shift(1,1),a.write_shift((1+s)*n.length,n,s?"utf16le":"sbcs"),a}(n,r,(t.v||"").slice(0,255),s,i));break;default:oY(e,513,SV(n,r,s))}else oY(e,513,SV(n,r,s))}function pY(e,t,n){var r,i=WH(),s=n.SheetNames[e],a=n.Sheets[s]||{},o=(n||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(a),u=8==t.biff,h="",d=[],f=sG(a["!ref"]||"A1"),p=u?65536:16384;if(f.e.c>255||f.e.r>=p){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");f.e.c=Math.min(f.e.c,255),f.e.r=Math.min(f.e.c,p-1)}oY(i,2057,CV(0,16,t)),oY(i,13,pV(1)),oY(i,12,pV(100)),oY(i,15,dV(!0)),oY(i,17,dV(!1)),oY(i,16,DG(.001)),oY(i,95,dV(!0)),oY(i,42,dV(!1)),oY(i,43,dV(!1)),oY(i,130,pV(1)),oY(i,128,function(e){var t=VH(8);return t.write_shift(4,0),t.write_shift(2,e[0]?e[0]+1:0),t.write_shift(2,e[1]?e[1]+1:0),t}([0,0])),oY(i,131,dV(!1)),oY(i,132,dV(!1)),u&&dY(i,a["!cols"]),oY(i,512,function(e,t){var n=8!=t.biff&&t.biff?2:4,r=VH(2*n+6);return r.write_shift(n,e.s.r),r.write_shift(n,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}(f,t)),u&&(a["!links"]=[]);for(var m=f.s.r;m<=f.e.r;++m){h=ZH(m);for(var g=f.s.c;g<=f.e.c;++g){m===f.s.r&&(d[g]=eG(g)),r=d[g]+h;var v=c?(a[m]||[])[g]:a[r];v&&(fY(i,v,m,g,t),u&&v.l&&a["!links"].push([r,v.l]))}}var x=l.CodeName||l.name||s;return u&&oY(i,574,function(e){var t=VH(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}((o.Views||[])[0])),u&&(a["!merges"]||[]).length&&oY(i,229,function(e){var t=VH(2+8*e.length);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)MV(e[n],t);return t}(a["!merges"])),u&&function(e,t){for(var n=0;n<t["!links"].length;++n){var r=t["!links"][n];oY(e,440,IV(r)),r[1].Tooltip&&oY(e,2048,LV(r))}delete t["!links"]}(i,a),oY(i,442,wV(x)),u&&function(e,t){var n=VH(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),oY(e,2151,n),(n=VH(39)).write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),MV(sG(t["!ref"]||"A1"),n),n.write_shift(4,4),oY(e,2152,n)}(i,a),oY(i,10),i.end()}function mY(e,t,n){var r=WH(),i=(e||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=8==n.biff,l=5==n.biff;(oY(r,2057,CV(0,5,n)),"xla"==n.bookType&&oY(r,135),oY(r,225,o?pV(1200):null),oY(r,193,function(e,t){t||(t=VH(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}(2)),l&&oY(r,191),l&&oY(r,192),oY(r,226),oY(r,92,function(e,t){var n=!t||8==t.biff,r=VH(n?112:54);for(r.write_shift(8==t.biff?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}(0,n)),oY(r,66,pV(o?1200:1252)),o&&oY(r,353,pV(0)),o&&oY(r,448),oY(r,317,function(e){for(var t=VH(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}(e.SheetNames.length)),o&&e.vbaraw&&oY(r,211),o&&e.vbaraw)&&oY(r,442,wV(a.CodeName||"ThisWorkbook"));oY(r,156,pV(17)),oY(r,25,dV(!1)),oY(r,18,dV(!1)),oY(r,19,pV(0)),o&&oY(r,431,dV(!1)),o&&oY(r,444,pV(0)),oY(r,61,function(){var e=VH(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}()),oY(r,64,dV(!1)),oY(r,141,pV(0)),oY(r,34,dV("true"==function(e){return e.Workbook&&e.Workbook.WBProps&&Cz(e.Workbook.WBProps.date1904)?"true":"false"}(e))),oY(r,14,dV(!0)),o&&oY(r,439,dV(!1)),oY(r,218,pV(0)),hY(r,0,n),function(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach((function(r){for(var i=r[0];i<=r[1];++i)null!=t[i]&&oY(e,1054,kV(i,t[i],n))}))}(r,e.SSF,n),function(e,t){for(var n=0;n<16;++n)oY(e,224,NV({numFmtId:0,style:!0},0,t));t.cellXfs.forEach((function(n){oY(e,224,NV(n,0,t))}))}(r,n),o&&oY(r,352,dV(!1));var c=r.end(),u=WH();o&&oY(u,140,function(e){return e||(e=VH(4)),e.write_shift(2,1),e.write_shift(2,1),e}()),o&&n.Strings&&function(e,t,n,r){var i=r||(n||[]).length||0;if(i<=8224)return oY(e,t,n,i);var s=t;if(!isNaN(s)){for(var a=n.parts||[],o=0,l=0,c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;var u=e.next(4);for(u.write_shift(2,s),u.write_shift(2,c),e.push(n.slice(l,l+c)),l+=c;l<i;){for((u=e.next(4)).write_shift(2,60),c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;u.write_shift(2,c),e.push(n.slice(l,l+c)),l+=c}}}(u,252,function(e){var t=VH(8);t.write_shift(4,e.Count),t.write_shift(4,e.Unique);for(var n=[],r=0;r<e.length;++r)n[r]=vV(e[r]);var i=QU([t].concat(n));return i.parts=[t.length].concat(n.map((function(e){return e.length}))),i}(n.Strings)),oY(u,10);var h=u.end(),d=WH(),f=0,p=0;for(p=0;p<e.SheetNames.length;++p)f+=(o?12:11)+(o?2:1)*e.SheetNames[p].length;var m=c.length+f+h.length;for(p=0;p<e.SheetNames.length;++p){oY(d,133,RV({pos:m,hs:(s[p]||{}).Hidden||0,dt:0,name:e.SheetNames[p]},n)),m+=t[p].length}var g=d.end();if(f!=g.length)throw new Error("BS8 "+f+" != "+g.length);var v=[];return c.length&&v.push(c),g.length&&v.push(g),h.length&&v.push(h),QU(v)}function gY(e,t){for(var n=0;n<=e.SheetNames.length;++n){var r=e.Sheets[e.SheetNames[n]];if(r&&r["!ref"])rG(r["!ref"]).e.c>255&&"undefined"!=typeof console&&console.error&&console.error("Worksheet '"+e.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}var i=t||{};switch(i.biff||2){case 8:case 5:return function(e,t){var n=t||{},r=[];e&&!e.SSF&&(e.SSF=dz(cj)),e&&e.SSF&&(Vj(),Gj(e.SSF),n.revssf=ez(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,XY(n),n.cellXfs=[],bX(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)r[r.length]=pY(i,n,e);return r.unshift(mY(e,r,n)),QU(r)}(e,t);case 4:case 3:case 2:return uY(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function vY(e,t,n,r){for(var i=e["!merges"]||[],s=[],a=t.s.c;a<=t.e.c;++a){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>n||i[c].s.c>a)&&!(i[c].e.r<n||i[c].e.c<a)){if(i[c].s.r<n||i[c].s.c<a){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var u=nG({r:n,c:a}),h=r.dense?(e[n]||[])[a]:e[u],d=h&&null!=h.v&&(h.h||Mz(h.w||(oG(h),h.w)||""))||"",f={};o>1&&(f.rowspan=o),l>1&&(f.colspan=l),r.editable?d='<span contenteditable="true">'+d+"</span>":h&&(f["data-t"]=h&&h.t||"z",null!=h.v&&(f["data-v"]=h.v),null!=h.z&&(f["data-z"]=h.z),h.l&&"#"!=(h.l.Target||"#").charAt(0)&&(d='<a href="'+h.l.Target+'">'+d+"</a>")),f.id=(r.id||"sjs")+"-"+u,s.push(Uz("td",d,f))}}return"<tr>"+s.join("")+"</tr>"}var xY='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',bY="</body></html>";function yY(e,t,n){return[].join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function wY(e,t){var n=t||{},r=null!=n.header?n.header:xY,i=null!=n.footer?n.footer:bY,s=[r],a=rG(e["!ref"]);n.dense=Array.isArray(e),s.push(yY(0,0,n));for(var o=a.s.r;o<=a.e.r;++o)s.push(vY(e,a,o,n));return s.push("</table>"+i),s.join("")}function _Y(e,t,n){var r=n||{};var i=0,s=0;if(null!=r.origin)if("number"==typeof r.origin)i=r.origin;else{var a="string"==typeof r.origin?tG(r.origin):r.origin;i=a.r,s=a.c}var o=t.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(e["!ref"]){var u=rG(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),-1==i&&(c.e.r=i=u.e.r+1)}var h=[],d=0,f=e["!rows"]||(e["!rows"]=[]),p=0,m=0,g=0,v=0,x=0,b=0;for(e["!cols"]||(e["!cols"]=[]);p<o.length&&m<l;++p){var y=o[p];if(SY(y)){if(r.display)continue;f[m]={hidden:!0}}var w=y.children;for(g=v=0;g<w.length;++g){var _=w[g];if(!r.display||!SY(_)){var A=_.hasAttribute("data-v")?_.getAttribute("data-v"):_.hasAttribute("v")?_.getAttribute("v"):Dz(_.innerHTML),S=_.getAttribute("data-z")||_.getAttribute("z");for(d=0;d<h.length;++d){var E=h[d];E.s.c==v+s&&E.s.r<m+i&&m+i<=E.e.r&&(v=E.e.c+1-s,d=-1)}b=+_.getAttribute("colspan")||1,((x=+_.getAttribute("rowspan")||1)>1||b>1)&&h.push({s:{r:m+i,c:v+s},e:{r:m+i+(x||1)-1,c:v+s+(b||1)-1}});var T={t:"s",v:A},M=_.getAttribute("data-t")||_.getAttribute("t")||"";null!=A&&(0==A.length?T.t=M||"z":r.raw||0==A.trim().length||"s"==M||("TRUE"===A?T={t:"b",v:!0}:"FALSE"===A?T={t:"b",v:!1}:isNaN(pz(A))?isNaN(gz(A).getDate())||(T={t:"d",v:uz(A)},r.cellDates||(T={t:"n",v:nz(T.v)}),T.z=r.dateNF||cj[14]):T={t:"n",v:pz(A)})),void 0===T.z&&null!=S&&(T.z=S);var C="",R=_.getElementsByTagName("A");if(R&&R.length)for(var k=0;k<R.length&&(!R[k].hasAttribute("href")||"#"==(C=R[k].getAttribute("href")).charAt(0));++k);C&&"#"!=C.charAt(0)&&(T.l={Target:C}),r.dense?(e[m+i]||(e[m+i]=[]),e[m+i][v+s]=T):e[nG({c:v+s,r:m+i})]=T,c.e.c<v+s&&(c.e.c=v+s),v+=b}}++m}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),c.e.r=Math.max(c.e.r,m-1+i),e["!ref"]=iG(c),m>=l&&(e["!fullref"]=iG((c.e.r=o.length-p+m-1+i,c))),e}function AY(e,t){return _Y((t||{}).dense?[]:{},e,t)}function SY(e){var t="",n=function(e){return e.ownerDocument.defaultView&&"function"===typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"===typeof getComputedStyle?getComputedStyle:null}(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),"none"===t}var EY=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Fz({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return bz+t}}(),TY=function(){var e="          <table:table-cell />\n",t=function(t,n,r){var i=[];i.push('      <table:table table:name="'+Sz(n.SheetNames[r])+'" table:style-name="ta1">\n');var s=0,a=0,o=rG(t["!ref"]||"A1"),l=t["!merges"]||[],c=0,u=Array.isArray(t);if(t["!cols"])for(a=0;a<=o.e.c;++a)i.push("        <table:table-column"+(t["!cols"][a]?' table:style-name="co'+t["!cols"][a].ods+'"':"")+"></table:table-column>\n");var h="",d=t["!rows"]||[];for(s=0;s<o.s.r;++s)h=d[s]?' table:style-name="ro'+d[s].ods+'"':"",i.push("        <table:table-row"+h+"></table:table-row>\n");for(;s<=o.e.r;++s){for(h=d[s]?' table:style-name="ro'+d[s].ods+'"':"",i.push("        <table:table-row"+h+">\n"),a=0;a<o.s.c;++a)i.push(e);for(;a<=o.e.c;++a){var f=!1,p={},m="";for(c=0;c!=l.length;++c)if(!(l[c].s.c>a)&&!(l[c].s.r>s)&&!(l[c].e.c<a)&&!(l[c].e.r<s)){l[c].s.c==a&&l[c].s.r==s||(f=!0),p["table:number-columns-spanned"]=l[c].e.c-l[c].s.c+1,p["table:number-rows-spanned"]=l[c].e.r-l[c].s.r+1;break}if(f)i.push("          <table:covered-table-cell/>\n");else{var g=nG({r:s,c:a}),v=u?(t[s]||[])[a]:t[g];if(v&&v.f&&(p["table:formula"]=Sz(fX(v.f)),v.F&&v.F.slice(0,g.length)==g)){var x=rG(v.F);p["table:number-matrix-columns-spanned"]=x.e.c-x.s.c+1,p["table:number-matrix-rows-spanned"]=x.e.r-x.s.r+1}if(v){switch(v.t){case"b":m=v.v?"TRUE":"FALSE",p["office:value-type"]="boolean",p["office:boolean-value"]=v.v?"true":"false";break;case"n":m=v.w||String(v.v||0),p["office:value-type"]="float",p["office:value"]=v.v||0;break;case"s":case"str":m=null==v.v?"":v.v,p["office:value-type"]="string";break;case"d":m=v.w||uz(v.v).toISOString(),p["office:value-type"]="date",p["office:date-value"]=uz(v.v).toISOString(),p["table:style-name"]="ce1";break;default:i.push(e);continue}var b=Sz(m).replace(/  +/g,(function(e){return'<text:s text:c="'+e.length+'"/>'})).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>");if(v.l&&v.l.Target){var y=v.l.Target;"#"==(y="#"==y.charAt(0)?"#"+pX(y.slice(1)):y).charAt(0)||y.match(/^\w+:/)||(y="../"+y),b=Uz("text:a",b,{"xlink:href":y.replace(/&/g,"&amp;")})}i.push("          "+Uz("table:table-cell",Uz("text:p",b,{}),p)+"\n")}else i.push(e)}}i.push("        </table:table-row>\n")}return i.push("      </table:table>\n"),i.join("")};return function(e,n){var r=[bz],i=Fz({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),s=Fz({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==n.bookType?(r.push("<office:document"+i+s+">\n"),r.push(QG().replace(/office:document-meta/g,"office:meta"))):r.push("<office:document-content"+i+">\n"),function(e,t){e.push(" <office:automatic-styles>\n"),e.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),e.push('   <number:month number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push('   <number:day number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push("   <number:year/>\n"),e.push("  </number:date-style>\n");var n=0;t.SheetNames.map((function(e){return t.Sheets[e]})).forEach((function(t){if(t&&t["!cols"])for(var r=0;r<t["!cols"].length;++r)if(t["!cols"][r]){var i=t["!cols"][r];if(null==i.width&&null==i.wpx&&null==i.wch)continue;eW(i),i.ods=n;var s=t["!cols"][r].wpx+"px";e.push('  <style:style style:name="co'+n+'" style:family="table-column">\n'),e.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+s+'"/>\n'),e.push("  </style:style>\n"),++n}}));var r=0;t.SheetNames.map((function(e){return t.Sheets[e]})).forEach((function(t){if(t&&t["!rows"])for(var n=0;n<t["!rows"].length;++n)if(t["!rows"][n]){t["!rows"][n].ods=r;var i=t["!rows"][n].hpx+"px";e.push('  <style:style style:name="ro'+r+'" style:family="table-row">\n'),e.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+i+'"/>\n'),e.push("  </style:style>\n"),++r}})),e.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),e.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),e.push("  </style:style>\n"),e.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),e.push(" </office:automatic-styles>\n")}(r,e),r.push("  <office:body>\n"),r.push("    <office:spreadsheet>\n");for(var a=0;a!=e.SheetNames.length;++a)r.push(t(e.Sheets[e.SheetNames[a]],e,a));return r.push("    </office:spreadsheet>\n"),r.push("  </office:body>\n"),"fods"==n.bookType?r.push("</office:document>"):r.push("</office:document-content>"),r.join("")}}();function MY(e,t){if("fods"==t.bookType)return TY(e,t);var n=xz(),r="",i=[],s=[];return vz(n,r="mimetype","application/vnd.oasis.opendocument.spreadsheet"),vz(n,r="content.xml",TY(e,t)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),vz(n,r="styles.xml",EY(e,t)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),vz(n,r="meta.xml",bz+QG()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),vz(n,r="manifest.rdf",function(e){var t,n,r=[bz];r.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var i=0;i!=e.length;++i)r.push(qG(e[i][0],e[i][1])),r.push((t="",n=e[i][0],['  <rdf:Description rdf:about="'+t+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+n+'"/>\n',"  </rdf:Description>\n"].join("")));return r.push(qG("","Document","pkg")),r.push("</rdf:RDF>"),r.join("")}(s)),i.push([r,"application/rdf+xml"]),vz(n,r="META-INF/manifest.xml",function(e){var t=[bz];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}(i)),n}function CY(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function RY(e){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(e):JU(Lz(e))}function kY(e){var t=e.reduce((function(e,t){return e+t.length}),0),n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(e,r),r+=e.length})),n}function NY(e,t){var n=t?t[0]:0,r=127&e[n];e:if(e[n++]>=128){if(r|=(127&e[n])<<7,e[n++]<128)break e;if(r|=(127&e[n])<<14,e[n++]<128)break e;if(r|=(127&e[n])<<21,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,28),++n,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,35),++n,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,42),++n,e[n++]<128)break e}return t&&(t[0]=n),r}function PY(e){var t=new Uint8Array(7);t[0]=127&e;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383)break e;if(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)break e;if(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)break e;if(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)break e;if(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103)break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function IY(e){var t=0,n=127&e[t];e:if(e[t++]>=128){if(n|=(127&e[t])<<7,e[t++]<128)break e;if(n|=(127&e[t])<<14,e[t++]<128)break e;if(n|=(127&e[t])<<21,e[t++]<128)break e;n|=(127&e[t])<<28}return n}function LY(e){for(var t=[],n=[0];n[0]<e.length;){var r,i=n[0],s=NY(e,n),a=7&s,o=0;if(0==(s=Math.floor(s/8)))break;switch(a){case 0:for(var l=n[0];e[n[0]++]>=128;);r=e.slice(l,n[0]);break;case 5:o=4,r=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,r=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=NY(e,n),r=e.slice(n[0],n[0]+o),n[0]+=o;break;default:throw new Error("PB Type ".concat(a," for Field ").concat(s," at offset ").concat(i))}var c={data:r,type:a};null==t[s]?t[s]=[c]:t[s].push(c)}return t}function DY(e){var t=[];return e.forEach((function(e,n){e.forEach((function(e){e.data&&(t.push(PY(8*n+e.type)),2==e.type&&t.push(PY(e.data.length)),t.push(e.data))}))})),kY(t)}function BY(e){for(var t,n=[],r=[0];r[0]<e.length;){var i=NY(e,r),s=LY(e.slice(r[0],r[0]+i));r[0]+=i;var a={id:IY(s[1][0].data),messages:[]};s[2].forEach((function(t){var n=LY(t.data),i=IY(n[3][0].data);a.messages.push({meta:n,data:e.slice(r[0],r[0]+i)}),r[0]+=i})),(null==(t=s[3])?void 0:t[0])&&(a.merge=IY(s[3][0].data)>>>0>0),n.push(a)}return n}function OY(e){var t=[];return e.forEach((function(e){var n=[];n[1]=[{data:PY(e.id),type:0}],n[2]=[],null!=e.merge&&(n[3]=[{data:PY(+!!e.merge),type:0}]);var r=[];e.messages.forEach((function(e){r.push(e.data),e.meta[3]=[{type:0,data:PY(e.data.length)}],n[2].push({data:DY(e.meta),type:2})}));var i=DY(n);t.push(PY(i.length)),t.push(i),r.forEach((function(e){return t.push(e)}))})),kY(t)}function FY(e,t){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=NY(t,n),i=[];n[0]<t.length;){var s=3&t[n[0]];if(0!=s){var a=0,o=0;if(1==s?(o=4+(t[n[0]]>>2&7),a=(224&t[n[0]++])<<3,a|=t[n[0]++]):(o=1+(t[n[0]++]>>2),2==s?(a=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(a=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),i=[kY(i)],0==a)throw new Error("Invalid offset 0");if(a>i[0].length)throw new Error("Invalid offset beyond length");if(o>=a)for(i.push(i[0].slice(-a)),o-=a;o>=i[i.length-1].length;)i.push(i[i.length-1]),o-=i[i.length-1].length;i.push(i[0].slice(-a,-a+o))}else{var l=t[n[0]++]>>2;if(l<60)++l;else{var c=l-59;l=t[n[0]],c>1&&(l|=t[n[0]+1]<<8),c>2&&(l|=t[n[0]+2]<<16),c>3&&(l|=t[n[0]+3]<<24),l>>>=0,l++,n[0]+=c}i.push(t.slice(n[0],n[0]+l)),n[0]+=l}}var u=kY(i);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function UY(e){for(var t=[],n=0;n<e.length;){var r=e[n++],i=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(FY(r,e.slice(n,n+i))),n+=i}if(n!==e.length)throw new Error("data is not a valid framed stream!");return kY(t)}function jY(e){for(var t=[],n=0;n<e.length;){var r=Math.min(e.length-n,268435455),i=new Uint8Array(4);t.push(i);var s=PY(r),a=s.length;t.push(s),r<=60?(a++,t.push(new Uint8Array([r-1<<2]))):r<=256?(a+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(a+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(a+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(a+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(n,n+r)),a+=r,i[0]=0,i[1]=255&a,i[2]=a>>8&255,i[3]=a>>16&255,n+=r}return kY(t)}function zY(e,t){var n=new Uint8Array(32),r=CY(n),i=12,s=0;switch(n[0]=5,e.t){case"n":n[1]=2,function(e,t,n){var r=Math.floor(0==n?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(127&r)<<1;for(var s=0;i>=1;++s,i/=256)e[t+s]=255&i;e[t+15]|=n>=0?0:128}(n,i,e.v),s|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,e.v?1:0,!0),s|=2,i+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,r.setUint32(i,t.indexOf(e.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,s,!0),n.slice(0,i)}function HY(e,t){var n=new Uint8Array(32),r=CY(n),i=12,s=0;switch(n[0]=3,e.t){case"n":n[2]=2,r.setFloat64(i,e.v,!0),s|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,e.v?1:0,!0),s|=32,i+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,r.setUint32(i,t.indexOf(e.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,s,!0),n.slice(0,i)}function GY(e){return NY(LY(e)[1][0].data)}function VY(e,t,n){var r,i,s,a;if(!(null==(r=e[6])?void 0:r[0])||!(null==(i=e[7])?void 0:i[0]))throw"Mutation only works on post-BNC storages!";if((null==(a=null==(s=e[8])?void 0:s[0])?void 0:a.data)&&IY(e[8][0].data)>0||!1)throw"Math only works with normal offsets";for(var o=0,l=CY(e[7][0].data),c=0,u=[],h=CY(e[4][0].data),d=0,f=[],p=0;p<t.length;++p)if(null!=t[p]){var m,g;switch(l.setUint16(2*p,c,!0),h.setUint16(2*p,d,!0),typeof t[p]){case"string":m=zY({t:"s",v:t[p]},n),g=HY({t:"s",v:t[p]},n);break;case"number":m=zY({t:"n",v:t[p]},n),g=HY({t:"n",v:t[p]},n);break;case"boolean":m=zY({t:"b",v:t[p]},n),g=HY({t:"b",v:t[p]},n);break;default:throw new Error("Unsupported value "+t[p])}u.push(m),c+=m.length,f.push(g),d+=g.length,++o}else l.setUint16(2*p,65535,!0),h.setUint16(2*p,65535);for(e[2][0].data=PY(o);p<e[7][0].data.length/2;++p)l.setUint16(2*p,65535,!0),h.setUint16(2*p,65535,!0);return e[6][0].data=kY(u),e[3][0].data=kY(f),o}function WY(e){return function(t){for(var n=0;n!=e.length;++n){var r=e[n];void 0===t[r[0]]&&(t[r[0]]=r[1]),"n"===r[2]&&(t[r[0]]=Number(t[r[0]]))}}}function XY(e){WY([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function YY(e,t){return"ods"==t.bookType?MY(e,t):"numbers"==t.bookType?function(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=rG(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(iG(r)));var s=iJ(n,{range:r,header:1}),a=["~Sh33tJ5~"];s.forEach((function(e){return e.forEach((function(e){"string"==typeof e&&a.push(e)}))}));var o={},l=[],c=Yj.read(t.numbers,{type:"base64"});c.FileIndex.map((function(e,t){return[e,c.FullPaths[t]]})).forEach((function(e){var t=e[0],n=e[1];2==t.type&&t.name.match(/\.iwa/)&&BY(UY(t.content)).forEach((function(e){l.push(e.id),o[e.id]={deps:[],location:n,type:IY(e.messages[0].meta[1][0].data)}}))})),l.sort((function(e,t){return e-t}));var u=l.filter((function(e){return e>1})).map((function(e){return[e,PY(e)]}));c.FileIndex.map((function(e,t){return[e,c.FullPaths[t]]})).forEach((function(e){var t=e[0];e[1],t.name.match(/\.iwa/)&&BY(UY(t.content)).forEach((function(e){e.messages.forEach((function(t){u.forEach((function(t){e.messages.some((function(e){return 11006!=IY(e.meta[1][0].data)&&function(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var r=0;r<t.length;++r)if(e[n+r]!=t[r])continue e;return!0}return!1}(e.data,t[1])}))&&o[t[0]].deps.push(e.id)}))}))}))}));for(var h,d=Yj.find(c,o[1].location),f=BY(UY(d.content)),p=0;p<f.length;++p){var m=f[p];1==m.id&&(h=m)}var g=GY(LY(h.messages[0].data)[1][0].data);for(f=BY(UY((d=Yj.find(c,o[g].location)).content)),p=0;p<f.length;++p)(m=f[p]).id==g&&(h=m);for(g=GY(LY(h.messages[0].data)[2][0].data),f=BY(UY((d=Yj.find(c,o[g].location)).content)),p=0;p<f.length;++p)(m=f[p]).id==g&&(h=m);for(g=GY(LY(h.messages[0].data)[2][0].data),f=BY(UY((d=Yj.find(c,o[g].location)).content)),p=0;p<f.length;++p)(m=f[p]).id==g&&(h=m);var v=LY(h.messages[0].data);v[6][0].data=PY(r.e.r+1),v[7][0].data=PY(r.e.c+1);for(var x=GY(v[46][0].data),b=Yj.find(c,o[x].location),y=BY(UY(b.content)),w=0;w<y.length&&y[w].id!=x;++w);if(y[w].id!=x)throw"Bad ColumnRowUIDMapArchive";var _=LY(y[w].messages[0].data);_[1]=[],_[2]=[],_[3]=[];for(var A=0;A<=r.e.c;++A){var S=[];S[1]=S[2]=[{type:0,data:PY(A+420690)}],_[1].push({type:2,data:DY(S)}),_[2].push({type:0,data:PY(A)}),_[3].push({type:0,data:PY(A)})}_[4]=[],_[5]=[],_[6]=[];for(var E=0;E<=r.e.r;++E)(S=[])[1]=S[2]=[{type:0,data:PY(E+726270)}],_[4].push({type:2,data:DY(S)}),_[5].push({type:0,data:PY(E)}),_[6].push({type:0,data:PY(E)});y[w].messages[0].data=DY(_),b.content=jY(OY(y)),b.size=b.content.length,delete v[46];var T=LY(v[4][0].data);T[7][0].data=PY(r.e.r+1);var M=GY(LY(T[1][0].data)[2][0].data);if((y=BY(UY((b=Yj.find(c,o[M].location)).content)))[0].id!=M)throw"Bad HeaderStorageBucket";var C=LY(y[0].messages[0].data);for(E=0;E<s.length;++E){var R=LY(C[2][0].data);R[1][0].data=PY(E),R[4][0].data=PY(s[E].length),C[2][E]={type:C[2][0].type,data:DY(R)}}y[0].messages[0].data=DY(C),b.content=jY(OY(y)),b.size=b.content.length;var k=GY(T[2][0].data);if((y=BY(UY((b=Yj.find(c,o[k].location)).content)))[0].id!=k)throw"Bad HeaderStorageBucket";for(C=LY(y[0].messages[0].data),A=0;A<=r.e.c;++A)(R=LY(C[2][0].data))[1][0].data=PY(A),R[4][0].data=PY(r.e.r+1),C[2][A]={type:C[2][0].type,data:DY(R)};y[0].messages[0].data=DY(C),b.content=jY(OY(y)),b.size=b.content.length;var N=GY(T[4][0].data);!function(){for(var e,t=Yj.find(c,o[N].location),n=BY(UY(t.content)),r=0;r<n.length;++r){var i=n[r];i.id==N&&(e=i)}var s=LY(e.messages[0].data);s[3]=[];var l=[];a.forEach((function(e,t){l[1]=[{type:0,data:PY(t)}],l[2]=[{type:0,data:PY(1)}],l[3]=[{type:2,data:RY(e)}],s[3].push({type:2,data:DY(l)})})),e.messages[0].data=DY(s);var u=jY(OY(n));t.content=u,t.size=t.content.length}();var P=LY(T[3][0].data),I=P[1][0];delete P[2];var L=LY(I.data),D=GY(L[2][0].data);!function(){for(var e,t=Yj.find(c,o[D].location),n=BY(UY(t.content)),i=0;i<n.length;++i){var l=n[i];l.id==D&&(e=l)}var u=LY(e.messages[0].data);delete u[6],delete P[7];var h=new Uint8Array(u[5][0].data);u[5]=[];for(var d=0,f=0;f<=r.e.r;++f){var p=LY(h);d+=VY(p,s[f],a),p[1][0].data=PY(f),u[5].push({data:DY(p),type:2})}u[1]=[{type:0,data:PY(r.e.c+1)}],u[2]=[{type:0,data:PY(r.e.r+1)}],u[3]=[{type:0,data:PY(d)}],u[4]=[{type:0,data:PY(r.e.r+1)}],e.messages[0].data=DY(u);var m=jY(OY(n));t.content=m,t.size=t.content.length}(),I.data=DY(L),T[3][0].data=DY(P),v[4][0].data=DY(T),h.messages[0].data=DY(v);var B=jY(OY(f));return d.content=B,d.size=d.content.length,c}(e,t):"xlsb"==t.bookType?function(e,t){wW=1024,e&&!e.SSF&&(e.SSF=dz(cj));e&&e.SSF&&(Vj(),Gj(e.SSF),t.revssf=ez(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF);t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,mX?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xlsb"==t.bookType?"bin":"xml",r=MW.indexOf(t.bookType)>-1,i={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};XY(t=t||{});var s=xz(),a="",o=0;t.cellXfs=[],bX(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});if(vz(s,a="docProps/core.xml",eV(e.Props,t)),i.coreprops.push(a),KG(t.rels,2,a,XG.CORE_PROPS),a="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,vz(s,a,rV(e.Props)),i.extprops.push(a),KG(t.rels,3,a,XG.EXT_PROPS),e.Custprops!==e.Props&&Qj(e.Custprops||{}).length>0&&(vz(s,a="docProps/custom.xml",iV(e.Custprops)),i.custprops.push(a),KG(t.rels,4,a,XG.CUST_PROPS));for(o=1;o<=e.SheetNames.length;++o){var u={"!id":{}},h=e.Sheets[e.SheetNames[o-1]];(h||{})["!type"];if(vz(s,a="xl/worksheets/sheet"+o+"."+n,JX(o-1,a,t,e,u)),i.sheets.push(a),KG(t.wbrels,-1,"worksheets/sheet"+o+"."+n,XG.WS[0]),h){var d=h["!comments"],f=!1,p="";d&&d.length>0&&(vz(s,p="xl/comments"+o+"."+n,KX(d,p,t)),i.comments.push(p),KG(u,-1,"../comments"+o+"."+n,XG.CMNT),f=!0),h["!legacy"]&&f&&vz(s,"xl/drawings/vmlDrawing"+o+".vml",_W(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}u["!id"].rId1&&vz(s,YG(a),JG(u))}null!=t.Strings&&t.Strings.length>0&&(vz(s,a="xl/sharedStrings."+n,function(e,t,n){return(".bin"===t.slice(-4)?WV:GV)(e,n)}(t.Strings,a,t)),i.strs.push(a),KG(t.wbrels,-1,"sharedStrings."+n,XG.SST));vz(s,a="xl/workbook."+n,function(e,t,n){return(".bin"===t.slice(-4)?YX:VX)(e,n)}(e,a,t)),i.workbooks.push(a),KG(t.rels,1,a,XG.WB),vz(s,a="xl/theme/theme1.xml",xW(e.Themes,t)),i.themes.push(a),KG(t.wbrels,-1,"theme/theme1.xml",XG.THEME),vz(s,a="xl/styles."+n,function(e,t,n){return(".bin"===t.slice(-4)?vW:iW)(e,n)}(e,a,t)),i.styles.push(a),KG(t.wbrels,-1,"styles."+n,XG.STY),e.vbaraw&&r&&(vz(s,a="xl/vbaProject.bin",e.vbaraw),i.vba.push(a),KG(t.wbrels,-1,"vbaProject.bin",XG.VBA));return vz(s,a="xl/metadata."+n,function(e){return(".bin"===e.slice(-4)?bW:yW)()}(a)),i.metadata.push(a),KG(t.wbrels,-1,"metadata."+n,XG.XLMETA),vz(s,"[Content_Types].xml",WG(i,t)),vz(s,"_rels/.rels",JG(t.rels)),vz(s,"xl/_rels/workbook."+n+".rels",JG(t.wbrels)),delete t.revssf,delete t.ssf,s}(e,t):JY(e,t)}function JY(e,t){wW=1024,e&&!e.SSF&&(e.SSF=dz(cj)),e&&e.SSF&&(Vj(),Gj(e.SSF),t.revssf=ez(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,mX?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",r=MW.indexOf(t.bookType)>-1,i={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};XY(t=t||{});var s=xz(),a="",o=0;if(t.cellXfs=[],bX(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),vz(s,a="docProps/core.xml",eV(e.Props,t)),i.coreprops.push(a),KG(t.rels,2,a,XG.CORE_PROPS),a="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,vz(s,a,rV(e.Props)),i.extprops.push(a),KG(t.rels,3,a,XG.EXT_PROPS),e.Custprops!==e.Props&&Qj(e.Custprops||{}).length>0&&(vz(s,a="docProps/custom.xml",iV(e.Custprops)),i.custprops.push(a),KG(t.rels,4,a,XG.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var h={"!id":{}},d=e.Sheets[e.SheetNames[o-1]];(d||{})["!type"];if(vz(s,a="xl/worksheets/sheet"+o+"."+n,SX(o-1,t,e,h)),i.sheets.push(a),KG(t.wbrels,-1,"worksheets/sheet"+o+"."+n,XG.WS[0]),d){var f=d["!comments"],p=!1,m="";if(f&&f.length>0){var g=!1;f.forEach((function(e){e[1].forEach((function(e){1==e.T&&(g=!0)}))})),g&&(vz(s,m="xl/threadedComments/threadedComment"+o+"."+n,SW(f,u,t)),i.threadedcomments.push(m),KG(h,-1,"../threadedComments/threadedComment"+o+"."+n,XG.TCMNT)),vz(s,m="xl/comments"+o+"."+n,AW(f)),i.comments.push(m),KG(h,-1,"../comments"+o+"."+n,XG.CMNT),p=!0}d["!legacy"]&&p&&vz(s,"xl/drawings/vmlDrawing"+o+".vml",_W(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}h["!id"].rId1&&vz(s,YG(a),JG(h))}return null!=t.Strings&&t.Strings.length>0&&(vz(s,a="xl/sharedStrings."+n,GV(t.Strings,t)),i.strs.push(a),KG(t.wbrels,-1,"sharedStrings."+n,XG.SST)),vz(s,a="xl/workbook."+n,VX(e)),i.workbooks.push(a),KG(t.rels,1,a,XG.WB),vz(s,a="xl/theme/theme1.xml",xW(e.Themes,t)),i.themes.push(a),KG(t.wbrels,-1,"theme/theme1.xml",XG.THEME),vz(s,a="xl/styles."+n,iW(e,t)),i.styles.push(a),KG(t.wbrels,-1,"styles."+n,XG.STY),e.vbaraw&&r&&(vz(s,a="xl/vbaProject.bin",e.vbaraw),i.vba.push(a),KG(t.wbrels,-1,"vbaProject.bin",XG.VBA)),vz(s,a="xl/metadata."+n,yW()),i.metadata.push(a),KG(t.wbrels,-1,"metadata."+n,XG.XLMETA),u.length>1&&(vz(s,a="xl/persons/person.xml",function(e){var t=[bz,Uz("personList",null,{xmlns:Xz,"xmlns:x":eH[0]}).replace(/[\/]>/,">")];return e.forEach((function(e,n){t.push(Uz("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:e,providerId:"None"}))})),t.push("</personList>"),t.join("")}(u)),i.people.push(a),KG(t.wbrels,-1,"persons/person.xml",XG.PEOPLE)),vz(s,"[Content_Types].xml",WG(i,t)),vz(s,"_rels/.rels",JG(t.rels)),vz(s,"xl/_rels/workbook.xml.rels",JG(t.wbrels)),delete t.revssf,delete t.ssf,s}function KY(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=GU(e.slice(0,12));break;case"binary":n=e;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function qY(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return qj(t.file,Yj.write(e,{type:VU?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Yj.write(e,t)}function QY(e,t){var n={},r=VU?"nodebuffer":"undefined"!==typeof Uint8Array?"array":"string";if(t.compression&&(n.compression="DEFLATE"),t.password)n.type=r;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?Yj.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if("undefined"!==typeof Deno&&"string"==typeof i){if("binary"==t.type||"base64"==t.type)return i;i=new Uint8Array(KU(i))}return t.password&&"undefined"!==typeof encrypt_agile?qY(encrypt_agile(i,t.password),t):"file"===t.type?qj(t.file,i):"string"==t.type?Iz(i):i}function ZY(e,t,n){n||(n="");var r=n+e;switch(t.type){case"base64":return HU(Lz(r));case"binary":return Lz(r);case"string":return e;case"file":return qj(t.file,r,"utf8");case"buffer":return VU?WU(r,"utf8"):"undefined"!==typeof TextEncoder?(new TextEncoder).encode(r):ZY(r,{type:"binary"}).split("").map((function(e){return e.charCodeAt(0)}))}throw new Error("Unrecognized type "+t.type)}function $Y(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return"base64"==t.type?HU(n):"string"==t.type?Iz(n):n;case"file":return qj(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function eJ(e,t){BU(),GX(e);var n=dz(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),"array"==n.type){n.type="binary";var r=eJ(e,n);return n.type="array",KU(r)}var i=0;if(n.sheet&&(i="number"==typeof n.sheet?n.sheet:e.SheetNames.indexOf(n.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return ZY(tY(e,n),n);case"slk":case"sylk":return ZY(OV.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"htm":case"html":return ZY(wY(e.Sheets[e.SheetNames[i]],n),n);case"txt":return function(e,t){switch(t.type){case"base64":return HU(e);case"binary":case"string":return e;case"file":return qj(t.file,e,"binary");case"buffer":return VU?WU(e,"binary"):e.split("").map((function(e){return e.charCodeAt(0)}))}throw new Error("Unrecognized type "+t.type)}(lJ(e.Sheets[e.SheetNames[i]],n),n);case"csv":return ZY(oJ(e.Sheets[e.SheetNames[i]],n),n,"\ufeff");case"dif":return ZY(FV.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"dbf":return $Y(BV.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"prn":return ZY(jV.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"rtf":return ZY(JV.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"eth":return ZY(UV.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"fods":return ZY(MY(e,n),n);case"wk1":return $Y(zV.sheet_to_wk1(e.Sheets[e.SheetNames[i]],n),n);case"wk3":return $Y(zV.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),$Y(gY(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),function(e,t){var n=t||{};return qY(sY(e,n),n)}(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function(e,t){var n=dz(t||{});return QY(YY(e,n),n)}(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function tJ(e){if(!e.bookType){var t=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(e.bookType=t.slice(1)),e.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[e.bookType]||e.bookType}}function nJ(e,t,n){var r=n||{};return r.type="file",r.file=t,tJ(r),eJ(e,r)}function rJ(e,t,n,r,i,s,a,o){var l=ZH(n),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),h=!0,d=1===i?[]:{};if(1!==i)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:n,enumerable:!1})}catch(TS){d.__rowNum__=n}else d.__rowNum__=n;if(!a||e[n])for(var f=t.s.c;f<=t.e.c;++f){var p=a?e[n][f]:e[r[f]+l];if(void 0!==p&&void 0!==p.t){var m=p.v;switch(p.t){case"z":if(null==m)break;continue;case"e":m=0==m?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(null!=s[f]){if(null==m)if("e"==p.t&&null===m)d[s[f]]=null;else if(void 0!==c)d[s[f]]=c;else{if(!u||null!==m)continue;d[s[f]]=null}else d[s[f]]=u&&("n"!==p.t||"n"===p.t&&!1!==o.rawNumbers)?m:oG(p,m,o);null!=m&&(h=!1)}}else{if(void 0===c)continue;null!=s[f]&&(d[s[f]]=c)}}return{row:d,isempty:h}}function iJ(e,t){if(null==e||null==e["!ref"])return[];var n={t:"n",v:0},r=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=null!=c.range?c.range:e["!ref"];switch(1===c.header?r=1:"A"===c.header?r=2:Array.isArray(c.header)?r=3:null==c.header&&(r=0),typeof u){case"string":l=sG(u);break;case"number":(l=sG(e["!ref"])).s.r=u;break;default:l=u}r>0&&(i=0);var h=ZH(l.s.r),d=[],f=[],p=0,m=0,g=Array.isArray(e),v=l.s.r,x=0,b={};g&&!e[v]&&(e[v]=[]);var y=c.skipHidden&&e["!cols"]||[],w=c.skipHidden&&e["!rows"]||[];for(x=l.s.c;x<=l.e.c;++x)if(!(y[x]||{}).hidden)switch(d[x]=eG(x),n=g?e[v][x]:e[d[x]+h],r){case 1:s[x]=x-l.s.c;break;case 2:s[x]=d[x];break;case 3:s[x]=c.header[x-l.s.c];break;default:if(null==n&&(n={w:"__EMPTY",t:"s"}),o=a=oG(n,null,c),m=b[a]||0){do{o=a+"_"+m++}while(b[o]);b[a]=m,b[o]=1}else b[a]=1;s[x]=o}for(v=l.s.r+i;v<=l.e.r;++v)if(!(w[v]||{}).hidden){var _=rJ(e,l,v,d,r,s,g,c);(!1===_.isempty||(1===r?!1!==c.blankrows:c.blankrows))&&(f[p++]=_.row)}return f.length=p,f}var sJ=/"/g;function aJ(e,t,n,r,i,s,a,o){for(var l=!0,c=[],u="",h=ZH(n),d=t.s.c;d<=t.e.c;++d)if(r[d]){var f=o.dense?(e[n]||[])[d]:e[r[d]+h];if(null==f)u="";else if(null!=f.v){l=!1,u=""+(o.rawNumbers&&"n"==f.t?f.v:oG(f,null,o));for(var p=0,m=0;p!==u.length;++p)if((m=u.charCodeAt(p))===i||m===s||34===m||o.forceQuotes){u='"'+u.replace(sJ,'""')+'"';break}"ID"==u&&(u='"ID"')}else null==f.f||f.F?u="":(l=!1,(u="="+f.f).indexOf(",")>=0&&(u='"'+u.replace(sJ,'""')+'"'));c.push(u)}return!1===o.blankrows&&l?null:c.join(a)}function oJ(e,t){var n=[],r=null==t?{}:t;if(null==e||null==e["!ref"])return"";var i=sG(e["!ref"]),s=void 0!==r.FS?r.FS:",",a=s.charCodeAt(0),o=void 0!==r.RS?r.RS:"\n",l=o.charCodeAt(0),c=new RegExp(("|"==s?"\\|":s)+"+$"),u="",h=[];r.dense=Array.isArray(e);for(var d=r.skipHidden&&e["!cols"]||[],f=r.skipHidden&&e["!rows"]||[],p=i.s.c;p<=i.e.c;++p)(d[p]||{}).hidden||(h[p]=eG(p));for(var m=0,g=i.s.r;g<=i.e.r;++g)(f[g]||{}).hidden||null!=(u=aJ(e,i,g,h,a,l,s,r))&&(r.strip&&(u=u.replace(c,"")),(u||!1!==r.blankrows)&&n.push((m++?o:"")+u));return delete r.dense,n.join("")}function lJ(e,t){t||(t={}),t.FS="\t",t.RS="\n";var n=oJ(e,t);if("undefined"==typeof FU||"string"==t.type)return n;var r=FU.utils.encode(1200,n,"str");return String.fromCharCode(255)+String.fromCharCode(254)+r}function cJ(e,t,n){var r,i=n||{},s=+!i.skipHeader,a=e||{},o=0,l=0;if(a&&null!=i.origin)if("number"==typeof i.origin)o=i.origin;else{var c="string"==typeof i.origin?tG(i.origin):i.origin;o=c.r,l=c.c}var u={s:{c:0,r:0},e:{c:l,r:o+t.length-1+s}};if(a["!ref"]){var h=sG(a["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),-1==o&&(o=h.e.r+1,u.e.r=o+t.length-1+s)}else-1==o&&(o=0,u.e.r=t.length-1+s);var d=i.header||[],f=0;t.forEach((function(e,t){Qj(e).forEach((function(n){-1==(f=d.indexOf(n))&&(d[f=d.length]=n);var c=e[n],u="z",h="",p=nG({c:l+f,r:o+t+s});r=uJ(a,p),!c||"object"!==typeof c||c instanceof Date?("number"==typeof c?u="n":"boolean"==typeof c?u="b":"string"==typeof c?u="s":c instanceof Date?(u="d",i.cellDates||(u="n",c=nz(c)),h=i.dateNF||cj[14]):null===c&&i.nullError&&(u="e",c=0),r?(r.t=u,r.v=c,delete r.w,delete r.R,h&&(r.z=h)):a[p]=r={t:u,v:c},h&&(r.z=h)):a[p]=c}))})),u.e.c=Math.max(u.e.c,l+d.length-1);var p=ZH(o);if(s)for(f=0;f<d.length;++f)a[eG(f+l)+p]={t:"s",v:d[f]};return a["!ref"]=iG(u),a}function uJ(e,t,n){if("string"==typeof t){if(Array.isArray(e)){var r=tG(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return uJ(e,nG("number"!=typeof t?t:{r:t,c:n||0}))}function hJ(){return{SheetNames:[],Sheets:{}}}function dJ(e,t,n,r){var i=1;if(!n)for(;i<=65535&&-1!=e.SheetNames.indexOf(n="Sheet"+i);++i,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||n;for(++i;i<=65535&&-1!=e.SheetNames.indexOf(n=a+i);++i);}if(HX(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function fJ(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}var pJ={encode_col:eG,encode_row:ZH,encode_cell:nG,encode_range:iG,decode_col:$H,decode_row:QH,split_cell:function(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:tG,decode_range:rG,format_cell:oG,sheet_add_aoa:cG,sheet_add_json:cJ,sheet_add_dom:_Y,aoa_to_sheet:uG,json_to_sheet:function(e,t){return cJ(null,e,t)},table_to_sheet:AY,table_to_book:function(e,t){return lG(AY(e,t),t)},sheet_to_csv:oJ,sheet_to_txt:lJ,sheet_to_json:iJ,sheet_to_html:wY,sheet_to_formulae:function(e){var t,n="",r="";if(null==e||null==e["!ref"])return[];var i,s=sG(e["!ref"]),a="",o=[],l=[],c=Array.isArray(e);for(i=s.s.c;i<=s.e.c;++i)o[i]=eG(i);for(var u=s.s.r;u<=s.e.r;++u)for(a=ZH(u),i=s.s.c;i<=s.e.c;++i)if(n=o[i]+a,r="",void 0!==(t=c?(e[u]||[])[i]:e[n])){if(null!=t.F){if(n=t.F,!t.f)continue;r=t.f,-1==n.indexOf(":")&&(n=n+":"+n)}if(null!=t.f)r=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)r=""+t.v;else if("b"==t.t)r=t.v?"TRUE":"FALSE";else if(void 0!==t.w)r="'"+t.w;else{if(void 0===t.v)continue;r="s"==t.t?"'"+t.v:""+t.v}}l[l.length]=n+"="+r}return l},sheet_to_row_object_array:iJ,sheet_get_cell:uJ,book_new:hJ,book_append_sheet:dJ,book_set_sheet_visibility:function(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=function(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n},cell_set_number_format:function(e,t){return e.z=t,e},cell_set_hyperlink:fJ,cell_set_internal_link:function(e,t,n){return fJ(e,"#"+t,n)},cell_add_comment:function(e,t,n){e.c||(e.c=[]),e.c.push({t:t,a:n||"SheetJS"})},sheet_set_array_formula:function(e,t,n,r){for(var i="string"!=typeof t?t:sG(t),s="string"==typeof t?t:iG(t),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=uJ(e,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=n,r&&(l.D=!0))}return e},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};RU.version;const mJ=()=>{const[e,t]=(0,s.useState)(""),[n,r]=(0,s.useState)(""),[i,a]=(0,s.useState)(""),[o,l]=(0,s.useState)(""),c=e=>{r(e.target.value)},u=e=>{const{name:t,value:n}=e.target;"startdate"===t?a(n):"enddate"===t&&l(n)};return(0,$g.jsx)($g.Fragment,{children:(0,$g.jsxs)("div",{className:"xl:w-[50%] w-[100%] md:mb-0 ",children:[(0,$g.jsx)("div",{className:"md:h-[16%] flex flex-row justify-center items-end md:text-3xl md:font-semibold md:mt-0 mt-4",children:"Select Date Range"}),(0,$g.jsxs)("div",{className:"flex flex-col md:h-[40%] gap-10 justify-center mx-16",children:[(0,$g.jsxs)("div",{className:"flex flex-col items-center justify-between mt-10 md:flex-row",children:[(0,$g.jsx)("div",{className:"items-start text-xl font-normal",children:"Configuration"}),(0,$g.jsx)(CU,{selected:e,setSelected:t})]}),(0,$g.jsxs)("div",{className:"flex flex-col items-center justify-between md:flex-row",children:[(0,$g.jsx)("div",{className:"text-xl font-normal text-start",children:"From"}),(0,$g.jsx)("div",{children:(0,$g.jsx)("input",{type:"date",id:"startdate",name:"startdate",onChange:u,value:i,className:"w-64 h-9 text-sm text-black bg-[rgb(232, 235, 236)] border border-gray-200 rounded-md p-1 custom-datepicker backdrop-blur-[8px] md:mt-0 mt-4 shadow-[inset_4px_4px_4px_0_rgba(0,0,0,0.25)]"})})]}),(0,$g.jsxs)("div",{className:"flex flex-col items-center justify-between md:flex-row",children:[(0,$g.jsx)("div",{className:"text-xl font-normal text-start",children:"To"}),(0,$g.jsx)("div",{children:(0,$g.jsx)("input",{type:"date",id:"enddate",name:"enddate",onChange:u,value:o,className:"w-64 h-9 text-sm text-black bg-[rgb(232, 235, 236)] border border-gray-200 rounded-md p-1 custom-datepicker backdrop-blur-[8px] md:mt-0 mt-4 shadow-[inset_4px_4px_4px_0_rgba(0,0,0,0.25)]"})})]})]}),(0,$g.jsx)("div",{className:"flex md:h-[10%] text-lg font-bold justify-center item-center pt-10",children:"Average By:"}),(0,$g.jsxs)("div",{className:"flex md:h-[10%] space-x-20 items-center justify-center xl:mt-0 mt-4",children:[(0,$g.jsxs)("div",{className:"flex items-center mb-4",children:[(0,$g.jsx)("input",{id:"radio-2",type:"radio",value:"Hour",name:"radio-group",checked:"Hour"===n,onChange:c,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,$g.jsx)("label",{htmlFor:"radio-2",className:"text-sm font-medium text-gray-900 ms-2 dark:text-gray-300",children:"Hour"})]}),(0,$g.jsxs)("div",{className:"flex items-center mb-4",children:[(0,$g.jsx)("input",{id:"radio-3",type:"radio",value:"Day",name:"radio-group",checked:"Day"===n,onChange:c,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,$g.jsx)("label",{htmlFor:"radio-3",className:"text-sm font-medium text-gray-900 ms-2 dark:text-gray-300",children:"Day"})]})]}),(0,$g.jsx)("div",{className:"flex md:h-[15%] text-lg font-bold justify-center item-center md:pt-8 mb-4 md:mb-0",children:(0,$g.jsx)("div",{className:"flex items-center justify-center w-56 h-16 bg-[rgba(232,235,236,1)] rounded-lg text-black",children:(0,$g.jsxs)("button",{className:"flex items-center",onClick:()=>{if(i&&o)if(n)if(e){const t=async()=>{if(null!==e)try{localStorage.getItem("accessToken");const t=await mR.get(`http://34.100.168.176:4000/api/v2/getAverageExcel?key=${e}&startDate=${i}&endDate=${o}&average=${n}`);console.log(t);const r=t.data;if(console.log(r),null==r||0===r.length)return void alert("No data found.");if(Array.isArray(r)){const t=r.map((e=>{const{_id:t,__v:n,updatedAt:r,...i}=e;return i})),n=pJ.book_new(),i=pJ.json_to_sheet(t);pJ.book_append_sheet(n,i,"Data");const s=(new Date).toLocaleString().replace(/:/g,"-");nJ(n,`${e} Average_report${s}.xlsx`),console.log("Data:",t)}else console.error("Data received is not an array:",r)}catch(Cx){console.error("Error fetching data:",Cx)}};t()}else alert("Please select a configuration.");else alert("Please select the average.");else alert("Please select both start and end dates.")},children:[(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,$g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 7.5h-.75A2.25 2.25 0 0 0 4.5 9.75v7.5a2.25 2.25 0 0 0 2.25 2.25h7.5a2.25 2.25 0 0 0 2.25-2.25v-7.5a2.25 2.25 0 0 0-2.25-2.25h-.75m-6 3.75 3 3m0 0 3-3m-3 3V1.5m6 9h.75a2.25 2.25 0 0 1 2.25 2.25v7.5a2.25 2.25 0 0 1-2.25 2.25h-7.5a2.25 2.25 0 0 1-2.25-2.25v-.75"})}),(0,$g.jsx)("span",{className:"ml-2",children:"Download Excel"})]})})})]})})},gJ=()=>{const[e,t]=(0,s.useState)(""),[n,r]=(0,s.useState)(""),[i,a]=(0,s.useState)(""),[o,l]=(0,s.useState)(""),c=e=>{r(e.target.value),console.log("Selected Radio Value:",e.target.value)},u=e=>{const{name:t,value:n}=e.target;"startdate"===t?(a(n),console.log("Start Date:",n)):"enddate"===t&&(l(n),console.log("End Date:",n))};return(0,$g.jsx)($g.Fragment,{children:(0,$g.jsxs)("div",{className:"xl:w-[50%] w-[100%] md:mb-0 ",children:[(0,$g.jsx)("div",{className:"md:h-[16%] flex flex-row justify-center items-end md:text-3xl md:font-semibold md:mt-0 mt-4",children:"Select Time Interval"}),(0,$g.jsxs)("div",{className:"flex flex-col md:h-[40%] gap-10 justify-center mx-16",children:[(0,$g.jsxs)("div",{className:"flex flex-col items-center justify-between mt-10 md:flex-row",children:[(0,$g.jsx)("div",{className:"items-start text-xl font-normal",children:"Configuration"}),(0,$g.jsx)(CU,{selected:e,setSelected:t})]}),(0,$g.jsxs)("div",{className:"flex flex-col items-center justify-between md:flex-row",children:[(0,$g.jsx)("div",{className:"text-xl font-normal text-start",children:"From"}),(0,$g.jsx)("div",{children:(0,$g.jsx)("input",{type:"date",id:"startdate",name:"startdate",onChange:u,value:i,className:"w-64 h-9 text-sm text-black bg-[rgb(232, 235, 236)] border border-gray-200 rounded-md p-1 custom-datepicker backdrop-blur-[8px] md:mt-0 mt-4 shadow-[inset_4px_4px_4px_0_rgba(0,0,0,0.25)]"})})]}),(0,$g.jsxs)("div",{className:"flex flex-col items-center justify-between md:flex-row",children:[(0,$g.jsx)("div",{className:"text-xl font-normal text-start",children:"To"}),(0,$g.jsx)("div",{children:(0,$g.jsx)("input",{type:"date",id:"enddate",name:"enddate",onChange:u,value:o,className:"w-64 h-9 text-sm text-black bg-[rgb(232, 235, 236)] border border-gray-200 rounded-md p-1 custom-datepicker backdrop-blur-[8px] md:mt-0 mt-4 shadow-[inset_4px_4px_4px_0_rgba(0,0,0,0.25)]"})})]})]}),(0,$g.jsx)("div",{className:"flex md:h-[10%] text-lg font-bold justify-center item-center pt-10",children:"Get 1 data for every-"}),(0,$g.jsxs)("div",{className:"flex md:h-[10%] space-x-20 items-center justify-center xl:mt-0 mt-4",children:[(0,$g.jsxs)("div",{className:"flex items-center mb-4",children:[(0,$g.jsx)("input",{id:"radio-2",type:"radio",value:"Hour",name:"radio-group",checked:"Hour"===n,onChange:c,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,$g.jsx)("label",{htmlFor:"radio-2",className:"text-sm font-medium text-gray-900 ms-2 dark:text-gray-300",children:"Hour"})]}),(0,$g.jsxs)("div",{className:"flex items-center mb-4",children:[(0,$g.jsx)("input",{id:"radio-3",type:"radio",value:"Day",name:"radio-group",checked:"Day"===n,onChange:c,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,$g.jsx)("label",{htmlFor:"radio-3",className:"text-sm font-medium text-gray-900 ms-2 dark:text-gray-300",children:"Day"})]})]}),(0,$g.jsx)("div",{className:"flex md:h-[15%] text-lg font-bold justify-center item-center md:pt-8 mb-4 md:mb-0",children:(0,$g.jsx)("div",{className:"flex items-center justify-center w-56 h-16 bg-[rgba(232,235,236,1)] rounded-lg text-black",children:(0,$g.jsxs)("button",{className:"flex items-center",onClick:()=>{if(i&&o)if(n)if(e){const t=async()=>{if(null!==e)try{const t=await RM.get(`http://34.100.168.176:4000/api/v2/getIntervalExcel?key=${e}&startDate=${i}&endDate=${o}&average=${n}`);console.log(t);const r=t.data;if(console.log(r),null==r||0===r.length)return void alert("No data found.");if(Array.isArray(r)){const t=r.map((e=>{const{_id:t,__v:n,updatedAt:r,...i}=e;return i})),n=pJ.book_new(),i=pJ.json_to_sheet(t);pJ.book_append_sheet(n,i,"Data");const s=(new Date).toLocaleString().replace(/:/g,"-");nJ(n,`${e} Interval_report_${s}.xlsx`),console.log("Data:",t)}else console.error("Data received is not an array:",r)}catch(Cx){console.error("Error fetching data:",Cx)}};t()}else alert("Please select a configuration.");else alert("Please select the average.");else alert("Please select both start and end dates.")},children:[(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,$g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 7.5h-.75A2.25 2.25 0 0 0 4.5 9.75v7.5a2.25 2.25 0 0 0 2.25 2.25h7.5a2.25 2.25 0 0 0 2.25-2.25v-7.5a2.25 2.25 0 0 0-2.25-2.25h-.75m-6 3.75 3 3m0 0 3-3m-3 3V1.5m6 9h.75a2.25 2.25 0 0 1 2.25 2.25v7.5a2.25 2.25 0 0 1-2.25 2.25h-7.5a2.25 2.25 0 0 1-2.25-2.25v-.75"})}),(0,$g.jsx)("span",{className:"ml-2",children:"Download Excel"})]})})})]})})},vJ=()=>{const[e,t]=(0,s.useState)(""),[n,r]=(0,s.useState)(""),[i,a]=(0,s.useState)(""),o=e=>{const{name:t,value:n}=e.target;"startdate"===t?(r(n),console.log("Start Date:",n)):"enddate"===t&&(a(n),console.log("End Date:",n))};return(0,$g.jsx)($g.Fragment,{children:(0,$g.jsxs)("div",{className:"xl:w-[50%] w-[100%]",children:[(0,$g.jsx)("div",{className:"md:h-[16%] flex flex-row justify-center items-end md:text-3xl md:font-semibold md:mt-0 mt-4",children:"Select Date"}),(0,$g.jsxs)("div",{className:"flex flex-col md:h-[60%] gap-10 justify-center mx-16",children:[(0,$g.jsxs)("div",{className:"flex flex-col items-center justify-between mt-10 md:flex-row",children:[(0,$g.jsx)("div",{className:"items-start text-xl font-normal",children:"Configuration"}),(0,$g.jsx)(CU,{selected:e,setSelected:t})]}),(0,$g.jsxs)("div",{className:"flex flex-col items-center justify-between md:flex-row",children:[(0,$g.jsx)("div",{className:"text-xl font-normal text-start",children:"From"}),(0,$g.jsx)("div",{children:(0,$g.jsx)("input",{type:"date",id:"startdate",name:"startdate",onChange:o,value:n,className:"w-64 h-9 text-sm text-black bg-[rgb(232, 235, 236)] border border-gray-200 rounded-md p-1 custom-datepicker backdrop-blur-[8px] md:mt-0 mt-4 shadow-[inset_4px_4px_4px_0_rgba(0,0,0,0.25)]"})})]}),(0,$g.jsxs)("div",{className:"flex flex-col items-center justify-between md:flex-row",children:[(0,$g.jsx)("div",{className:"text-xl font-normal text-start",children:"To"}),(0,$g.jsx)("div",{children:(0,$g.jsx)("input",{type:"date",id:"enddate",name:"enddate",onChange:o,value:i,className:"w-64 h-9 text-sm text-black bg-[rgb(232, 235, 236)] border border-gray-200 rounded-md p-1 custom-datepicker backdrop-blur-[8px] md:mt-0 mt-4 shadow-[inset_4px_4px_4px_0_rgba(0,0,0,0.25)]"})})]})]}),(0,$g.jsx)("div",{className:"flex md:h-[25%] text-lg font-bold justify-center item-center pt-8 mb-4 md:mb-0",children:(0,$g.jsx)("div",{className:"flex items-center justify-center w-56 h-16 bg-[rgba(232,235,236,1)] rounded-lg text-black",children:(0,$g.jsxs)("button",{className:"flex items-center",onClick:()=>{if(n&&i)if(e){const t=async()=>{if(null!==e)try{const t=await RM.get(`http://34.100.168.176:4000/api/v2/getDateExcel?key=${e}&startDate=${n}&endDate=${i}`);console.log(t);const r=t.data;if(console.log(r),null==r||0===r.length)return void alert("No data found.");if(Array.isArray(r)){const t=r.map((e=>{const{_id:t,__v:n,updatedAt:r,...i}=e;return i})),n=pJ.book_new(),i=pJ.json_to_sheet(t);pJ.book_append_sheet(n,i,"Data");const s=(new Date).toLocaleString().replace(/:/g,"-");nJ(n,`${e} Range_data_report_${s}.xlsx`),console.log("Data:",t)}else console.error("Data received is not an array:",r)}catch(Cx){console.error("Error fetching data:",Cx)}};t()}else alert("Please select a configuration.");else alert("Please select both start and end dates.")},children:[(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,$g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 7.5h-.75A2.25 2.25 0 0 0 4.5 9.75v7.5a2.25 2.25 0 0 0 2.25 2.25h7.5a2.25 2.25 0 0 0 2.25-2.25v-7.5a2.25 2.25 0 0 0-2.25-2.25h-.75m-6 3.75 3 3m0 0 3-3m-3 3V1.5m6 9h.75a2.25 2.25 0 0 1 2.25 2.25v7.5a2.25 2.25 0 0 1-2.25 2.25h-7.5a2.25 2.25 0 0 1-2.25-2.25v-.75"})}),(0,$g.jsx)("span",{className:"ml-2",children:"Download Excel"})]})})})]})})},xJ=()=>{const[e,t]=(0,s.useState)(""),[n,r]=(0,s.useState)(!1),[i,a]=(0,s.useState)(""),o=e=>{const n=e.target.value;t(n),r("custom"===n),console.log("Selected value:",n)},l=(t,n)=>(0,$g.jsx)("div",{className:"flex flex-row items-center justify-center",children:(0,$g.jsx)("div",{className:"items-end justify-end ml-2",children:(0,$g.jsxs)("div",{className:"flex items-center mb-4",children:[(0,$g.jsx)("input",{id:`radio-${t}`,type:"radio",value:t,name:"radio-group",checked:e===t,onChange:o,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,$g.jsx)("label",{htmlFor:`radio-${t}`,className:"text-sm font-medium text-gray-900 ms-2 dark:text-gray-300",children:n})]})})},t);return(0,$g.jsxs)("div",{className:"xl:w-[50%] w-[100%]",children:[(0,$g.jsx)("div",{className:"md:h-[16%] flex flex-row justify-center items-end md:text-3xl md:font-semibold md:mt-0 mt-4",children:"Select Count"}),(0,$g.jsxs)("div",{className:"flex flex-col md:h-[60%] gap-10 justify-center mx-16 mt-10 md:mt-0",children:[l("100","Last 100 Data"),l("500","Last 500 Data"),l("1000","Last 1000 Data"),l("custom","Custom Data"),n&&(0,$g.jsx)("div",{className:"flex flex-row items-center justify-center",children:(0,$g.jsx)("input",{type:"number",placeholder:"Enter custom data",className:"p-2 text-black border rounded-md",onChange:e=>a(e.target.value)})})]}),(0,$g.jsx)("div",{className:"flex md:h-[25%] text-lg font-bold justify-center item-center pt-8 mb-4 md:mb-0",children:(0,$g.jsx)("div",{className:"flex items-center justify-center w-56 h-16 bg-[rgba(232,235,236,1)] rounded-lg text-black",children:(0,$g.jsxs)("button",{className:"flex items-center",onClick:async()=>{if(e)try{let t="custom"===e?i:e;const n=(await mR.get(`http://34.100.168.176:4000/api/v2/getLimit?key=All-Data&limit=${t}`)).data;if(!n||0===n.length)return void alert("No data found.");if(Array.isArray(n)){const e=n.map((e=>{let{_id:t,__v:n,updatedAt:r,...i}=e;return i})),t=pJ.book_new(),r=pJ.json_to_sheet(e);pJ.book_append_sheet(t,r,"Data");nJ(t,`Interval_report_${(new Date).toLocaleString().replace(/:/g,"-")}.xlsx`),console.log("Data:",e)}else console.error("Data received is not an array:",n)}catch(Cx){console.error("Error fetching data:",Cx),alert("An error occurred while fetching data. Please try again.")}else alert("Please select a limit.")},children:[(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,$g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 7.5h-.75A2.25 2.25 0 0 0 4.5 9.75v7.5a2.25 2.25 0 0 0 2.25 2.25h7.5a2.25 2.25 0 0 0 2.25-2.25v-7.5a2.25 2.25 0 0 0-2.25-2.25h-.75m-6 3.75 3 3m0 0 3-3m-3 3V1.5m6 9h.75a2.25 2.25 0 0 1 2.25 2.25v7.5a2.25 2.25 0 0 1-2.25 2.25h-7.5a2.25 2.25 0 0 1-2.25-2.25v-.75"})}),(0,$g.jsx)("span",{className:"ml-2",children:"Download Excel"})]})})})]})},bJ=()=>{const[e,t]=(0,s.useState)("Average");return(0,s.useEffect)((()=>{const e=localStorage.getItem("selectedButton");e&&t(e)}),[]),(0,s.useEffect)((()=>{localStorage.setItem("selectedButton",e)}),[e]),(0,$g.jsxs)("div",{className:"relative w-screen overflow-y-hidden bg-fixed bg-center bg-cover md:h-screen md:bg-center h-[1100px]",style:{backgroundImage:`url(${Fe})`},children:[(0,$g.jsx)(vR,{}),(0,$g.jsxs)("div",{className:"flex bg-[rgba(16,16,16,0.5)] md:h-[90%] lg:h-[87%]  m-4 rounded-lg border border-white flex-col xl:flex-row ",children:[(0,$g.jsx)(MU,{selectedButton:e,setSelectedButton:t}),(0,$g.jsxs)("div",{className:"bg-[rgb(9,9,11)]  md:w-[92%] xl:w-[92%] md:h-[100%] lg:h-[90%] m-8 rounded-lg border border-white backdrop-blur-lg text-white flex",children:[(0,$g.jsx)("div",{className:"md:w-[50%] xl:flex md:hidden items-center justify-center m-36 rounded-lg hidden sm:flex",children:(0,$g.jsx)("img",{src:TU,className:"w-full h-auto rounded-md"})}),"Average"===e&&(0,$g.jsx)(mJ,{}),"Time"===e&&(0,$g.jsx)(gJ,{}),"Range"===e&&(0,$g.jsx)(vJ,{}),"Count"===e&&(0,$g.jsx)(xJ,{})]})]})]})},yJ=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,((e,t,n)=>n?n.toUpperCase():t.toLowerCase())))(e);return t.charAt(0).toUpperCase()+t.slice(1)},wJ=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim()};var _J={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const AJ=(0,s.forwardRef)(((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:c,...u}=e;return(0,s.createElement)("svg",{ref:t,..._J,width:r,height:r,stroke:n,strokeWidth:a?24*Number(i)/Number(r):i,className:wJ("lucide",o),...u},[...c.map((e=>{let[t,n]=e;return(0,s.createElement)(t,n)})),...Array.isArray(l)?l:[l]])})),SJ=(e,t)=>{const n=(0,s.forwardRef)(((n,r)=>{let{className:i,...a}=n;return(0,s.createElement)(AJ,{ref:r,iconNode:t,className:wJ(`lucide-${o=yJ(e),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i),...a});var o}));return n.displayName=yJ(e),n},EJ=SJ("chevron-first",[["path",{d:"m17 18-6-6 6-6",key:"1yerx2"}],["path",{d:"M7 6v12",key:"1p53r6"}]]),TJ=SJ("chevron-last",[["path",{d:"m7 18 6-6-6-6",key:"lwmzdw"}],["path",{d:"M17 6v12",key:"1o0aio"}]]),MJ=SJ("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),CJ=SJ("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),RJ=SJ("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),kJ=SJ("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),NJ=SJ("palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),PJ=SJ("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),IJ=SJ("circle-user-round",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),LJ=SJ("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),DJ=(0,s.createContext)();function BJ(e){let{icon:t,text:n,active:r,alert:i,to:a,onClick:o,className:l=""}=e;const{expanded:c}=(0,s.useContext)(DJ),u=(0,$g.jsxs)("li",{className:`relative flex items-center h-12 py-2 px-3 my-1 font-medium rounded-md cursor-pointer transition-colors group ${r?"bg-gray-700 text-white":"hover:bg-gray-800 text-white"} ${l}`,children:[(0,$g.jsxs)("div",{className:"flex items-center w-full",children:[t,(0,$g.jsx)("span",{className:"overflow-hidden transition-all "+(c?"w-52 ml-3":"w-0"),children:n}),i&&(0,$g.jsx)("div",{className:"absolute right-2 w-2 h-2 rounded bg-indigo-400 "+(c?"":"top-2")})]}),!c&&(0,$g.jsx)("div",{className:"absolute left-full rounded-md px-2 py-1 ml-6 bg-gray-800 text-white text-sm invisible opacity-20 -translate-x-3 transition-all group-hover:visible group-hover:opacity-100 group-hover:translate-x-0",children:n})]});return o?(0,$g.jsx)("div",{onClick:o,className:"block",children:u}):(0,$g.jsx)(Le,{to:a,className:"block",children:u})}const OJ=e=>{var t;let{children:n,onToggle:r}=e;const[i,a]=(0,s.useState)(window.innerWidth>=1024),[o,l]=(0,s.useState)("dashboard"),c=ie(),u=ne();(0,s.useEffect)((()=>{const e=u.pathname.split("/")[1]||"dashboard";l(e),localStorage.setItem("activeSidebarItem",e);const t=()=>{window.innerWidth<1024?a(!1):a(!0)};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[u]);return(0,$g.jsx)($g.Fragment,{children:(0,$g.jsx)("aside",{className:"h-screen",children:(0,$g.jsxs)("nav",{className:"flex flex-col h-full bg-[rgba(16,16,16,0.9)] border-r shadow-sm",children:[(0,$g.jsxs)("div",{className:"flex items-center justify-between p-4 pb-2",children:[(0,$g.jsx)("img",{src:Ay,className:"overflow-hidden transition-all "+(i?"w-32":"w-0")}),(0,$g.jsx)("button",{onClick:()=>{window.innerWidth>=1024&&(a((e=>!e)),r&&r(!i))},className:"p-1.5 rounded-lg bg-gray-800 hover:bg-gray-700 text-white hidden md:flex",children:i?(0,$g.jsx)(EJ,{}):(0,$g.jsx)(TJ,{})})]}),(0,$g.jsx)(DJ.Provider,{value:{expanded:i},children:(0,$g.jsxs)("ul",{className:"flex-1 px-3",children:[(0,$g.jsx)(BJ,{icon:(0,$g.jsx)(MJ,{size:20}),text:"Dashboard",active:"dashboard"===o,to:"/Dashboard"}),(0,$g.jsx)(BJ,{icon:(0,$g.jsx)(CJ,{size:20}),text:"Generate Report",active:"generate-report"===o,to:"/admin/generate-report"}),(0,$g.jsx)(BJ,{icon:(0,$g.jsx)(RJ,{size:20}),text:"Set Alert",active:"set-alert"===o,to:"/admin/set-alert"}),(0,$g.jsx)(BJ,{icon:(0,$g.jsx)(kJ,{size:20}),text:"Alert Logs",active:"alerts-logs"===o,to:"/admin/alerts-logs"}),(0,$g.jsx)(BJ,{icon:(0,$g.jsx)(NJ,{size:20}),text:"Set Color range",active:"color-range"===o,to:"/admin/color-range"}),(0,$g.jsx)(BJ,{icon:(0,$g.jsx)(PJ,{size:20}),text:"User",active:"user"===o,to:"/admin/user"}),(0,$g.jsx)(BJ,{icon:(0,$g.jsx)(IJ,{size:20}),text:"Profile",active:"generate-report"===o,to:"/Settings"}),(0,$g.jsx)(BJ,{icon:(0,$g.jsx)(LJ,{size:20}),text:"Logout",active:!1,onClick:async()=>{try{const e=localStorage.getItem("refreshToken");200===(await RM.delete("http://34.100.168.176:4000/auth/logout",{data:{refreshToken:e},headers:{"Content-Type":"application/json"}})).status&&(localStorage.clear(),sessionStorage.clear(),c("/"))}catch(Cx){console.error("Logout error:",Cx),localStorage.clear(),sessionStorage.clear(),document.cookie="refreshToken=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",c("/")}},className:"hover:bg-red-600"})]})}),(0,$g.jsxs)("div",{className:"flex p-3 text-white border-t",children:[(0,$g.jsx)("div",{className:"flex items-center justify-center w-10 h-10 font-semibold text-white bg-blue-600 rounded-md",children:(null===(t=localStorage.getItem("email"))||void 0===t?void 0:t.charAt(0).toUpperCase())||"U"}),(0,$g.jsx)("div",{className:`flex justify-between items-center overflow-hidden transition-all ${i?"w-52 ml-3":"w-0"} `,children:(0,$g.jsxs)("div",{className:"flex flex-col items-start leading-4",children:[(0,$g.jsx)("h4",{className:"font-semibold ",children:localStorage.getItem("role")}),(0,$g.jsx)("span",{className:"text-xs text-white",children:localStorage.getItem("email")})]})})]})]})})})};const FJ=n.p+"static/media/Vector.ca9ab374a64840aaf6d12871b1a80b62.svg";const UJ=Array(12).fill(0),jJ=e=>{let{visible:t,className:n}=e;return s.createElement("div",{className:["sonner-loading-wrapper",n].filter(Boolean).join(" "),"data-visible":t},s.createElement("div",{className:"sonner-spinner"},UJ.map(((e,t)=>s.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))))},zJ=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},s.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),HJ=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},s.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),GJ=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},s.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),VJ=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},s.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),WJ=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},s.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));let XJ=1;const YJ=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach((t=>t(e)))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:n,...r}=e,i="number"===typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:XJ++,s=this.toasts.find((e=>e.id===i)),a=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map((t=>t.id===i?(this.publish({...t,...e,id:i,title:n}),{...t,...e,id:i,dismissible:a,title:n}):t)):this.addToast({title:n,...r,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach((e=>{this.subscribers.forEach((t=>t({id:e.id,dismiss:!0})))})),requestAnimationFrame((()=>this.subscribers.forEach((t=>t({id:e,dismiss:!0}))))),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;void 0!==t.loading&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!==typeof t.description?t.description:void 0}));const r=Promise.resolve(e instanceof Function?e():e);let i,a=void 0!==n;const o=r.then((async e=>{i=["resolve",e];if(s.isValidElement(e))a=!1,this.create({id:n,type:"default",message:e});else if(JJ(e)&&!e.ok){a=!1;const r="function"===typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,i="function"===typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description,s="object"===typeof r?r:{message:r};this.create({id:n,type:"error",description:i,...s})}else if(e instanceof Error){a=!1;const r="function"===typeof t.error?await t.error(e):t.error,i="function"===typeof t.description?await t.description(e):t.description,s="object"===typeof r?r:{message:r};this.create({id:n,type:"error",description:i,...s})}else if(void 0!==t.success){a=!1;const r="function"===typeof t.success?await t.success(e):t.success,i="function"===typeof t.description?await t.description(e):t.description,s="object"===typeof r?r:{message:r};this.create({id:n,type:"success",description:i,...s})}})).catch((async e=>{if(i=["reject",e],void 0!==t.error){a=!1;const r="function"===typeof t.error?await t.error(e):t.error,i="function"===typeof t.description?await t.description(e):t.description,s="object"===typeof r?r:{message:r};this.create({id:n,type:"error",description:i,...s})}})).finally((()=>{a&&(this.dismiss(n),n=void 0),null==t.finally||t.finally.call(t)})),l=()=>new Promise(((e,t)=>o.then((()=>"reject"===i[0]?t(i[1]):e(i[1]))).catch(t)));return"string"!==typeof n&&"number"!==typeof n?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{const n=(null==t?void 0:t.id)||XJ++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter((e=>!this.dismissedToasts.has(e.id))),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},JJ=e=>e&&"object"===typeof e&&"ok"in e&&"boolean"===typeof e.ok&&"status"in e&&"number"===typeof e.status,KJ=(e,t)=>{const n=(null==t?void 0:t.id)||XJ++;return YJ.addToast({title:e,...t,id:n}),n},qJ=Object.assign(KJ,{success:YJ.success,info:YJ.info,warning:YJ.warning,error:YJ.error,custom:YJ.custom,message:YJ.message,promise:YJ.promise,dismiss:YJ.dismiss,loading:YJ.loading},{getHistory:()=>YJ.toasts,getToasts:()=>YJ.getActiveToasts()});function QJ(e){return void 0!==e.label}!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const ZJ=3,$J=14;function eK(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}const tK=e=>{var t,n,r,i,a,o,l,c,u;const{invert:h,toast:d,unstyled:f,interacting:p,setHeights:m,visibleToasts:g,heights:v,index:x,toasts:b,expanded:y,removeToast:w,defaultRichColors:_,closeButton:A,style:S,cancelButtonStyle:E,actionButtonStyle:T,className:M="",descriptionClassName:C="",duration:R,position:k,gap:N,expandByDefault:P,classNames:I,icons:L,closeButtonAriaLabel:D="Close toast"}=e,[B,O]=s.useState(null),[F,U]=s.useState(null),[j,z]=s.useState(!1),[H,G]=s.useState(!1),[V,W]=s.useState(!1),[X,Y]=s.useState(!1),[J,K]=s.useState(!1),[q,Q]=s.useState(0),[Z,$]=s.useState(0),ee=s.useRef(d.duration||R||4e3),te=s.useRef(null),ne=s.useRef(null),re=0===x,ie=x+1<=g,se=d.type,ae=!1!==d.dismissible,oe=d.className||"",le=d.descriptionClassName||"",ce=s.useMemo((()=>v.findIndex((e=>e.toastId===d.id))||0),[v,d.id]),ue=s.useMemo((()=>{var e;return null!=(e=d.closeButton)?e:A}),[d.closeButton,A]),he=s.useMemo((()=>d.duration||R||4e3),[d.duration,R]),de=s.useRef(0),fe=s.useRef(0),pe=s.useRef(0),me=s.useRef(null),[ge,ve]=k.split("-"),xe=s.useMemo((()=>v.reduce(((e,t,n)=>n>=ce?e:e+t.height),0)),[v,ce]),be=(()=>{const[e,t]=s.useState(document.hidden);return s.useEffect((()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)}),[]),e})(),ye=d.invert||h,we="loading"===se;fe.current=s.useMemo((()=>ce*N+xe),[ce,xe]),s.useEffect((()=>{ee.current=he}),[he]),s.useEffect((()=>{z(!0)}),[]),s.useEffect((()=>{const e=ne.current;if(e){const t=e.getBoundingClientRect().height;return $(t),m((e=>[{toastId:d.id,height:t,position:d.position},...e])),()=>m((e=>e.filter((e=>e.toastId!==d.id))))}}),[m,d.id]),s.useLayoutEffect((()=>{if(!j)return;const e=ne.current,t=e.style.height;e.style.height="auto";const n=e.getBoundingClientRect().height;e.style.height=t,$(n),m((e=>e.find((e=>e.toastId===d.id))?e.map((e=>e.toastId===d.id?{...e,height:n}:e)):[{toastId:d.id,height:n,position:d.position},...e]))}),[j,d.title,d.description,m,d.id]);const _e=s.useCallback((()=>{G(!0),Q(fe.current),m((e=>e.filter((e=>e.toastId!==d.id)))),setTimeout((()=>{w(d)}),200)}),[d,w,m,fe]);var Ae,Se;return s.useEffect((()=>{if(d.promise&&"loading"===se||d.duration===1/0||"loading"===d.type)return;let e;return y||p||be?(()=>{if(pe.current<de.current){const e=(new Date).getTime()-de.current;ee.current=ee.current-e}pe.current=(new Date).getTime()})():ee.current!==1/0&&(de.current=(new Date).getTime(),e=setTimeout((()=>{null==d.onAutoClose||d.onAutoClose.call(d,d),_e()}),ee.current)),()=>clearTimeout(e)}),[y,p,d,se,be,_e]),s.useEffect((()=>{d.delete&&_e()}),[_e,d.delete]),s.createElement("li",{tabIndex:0,ref:ne,className:eK(M,oe,null==I?void 0:I.toast,null==d||null==(t=d.classNames)?void 0:t.toast,null==I?void 0:I.default,null==I?void 0:I[se],null==d||null==(n=d.classNames)?void 0:n[se]),"data-sonner-toast":"","data-rich-colors":null!=(Ae=d.richColors)?Ae:_,"data-styled":!Boolean(d.jsx||d.unstyled||f),"data-mounted":j,"data-promise":Boolean(d.promise),"data-swiped":J,"data-removed":H,"data-visible":ie,"data-y-position":ge,"data-x-position":ve,"data-index":x,"data-front":re,"data-swiping":V,"data-dismissible":ae,"data-type":se,"data-invert":ye,"data-swipe-out":X,"data-swipe-direction":F,"data-expanded":Boolean(y||P&&j),style:{"--index":x,"--toasts-before":x,"--z-index":b.length-x,"--offset":`${H?q:fe.current}px`,"--initial-height":P?"auto":`${Z}px`,...S,...d.style},onDragEnd:()=>{W(!1),O(null),me.current=null},onPointerDown:e=>{!we&&ae&&(te.current=new Date,Q(fe.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(W(!0),me.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,n;if(X||!ae)return;me.current=null;const r=Number((null==(e=ne.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),i=Number((null==(t=ne.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),s=(new Date).getTime()-(null==(n=te.current)?void 0:n.getTime()),a="x"===B?r:i,o=Math.abs(a)/s;if(Math.abs(a)>=45||o>.11)return Q(fe.current),null==d.onDismiss||d.onDismiss.call(d,d),U("x"===B?r>0?"right":"left":i>0?"down":"up"),_e(),void Y(!0);var l,c;null==(l=ne.current)||l.style.setProperty("--swipe-amount-x","0px"),null==(c=ne.current)||c.style.setProperty("--swipe-amount-y","0px"),K(!1),W(!1),O(null)},onPointerMove:t=>{var n,r,i;if(!me.current||!ae)return;if((null==(n=window.getSelection())?void 0:n.toString().length)>0)return;const s=t.clientY-me.current.y,a=t.clientX-me.current.x;var o;const l=null!=(o=e.swipeDirections)?o:function(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}(k);!B&&(Math.abs(a)>1||Math.abs(s)>1)&&O(Math.abs(a)>Math.abs(s)?"x":"y");let c={x:0,y:0};const u=e=>1/(1.5+Math.abs(e)/20);if("y"===B){if(l.includes("top")||l.includes("bottom"))if(l.includes("top")&&s<0||l.includes("bottom")&&s>0)c.y=s;else{const e=s*u(s);c.y=Math.abs(e)<Math.abs(s)?e:s}}else if("x"===B&&(l.includes("left")||l.includes("right")))if(l.includes("left")&&a<0||l.includes("right")&&a>0)c.x=a;else{const e=a*u(a);c.x=Math.abs(e)<Math.abs(a)?e:a}(Math.abs(c.x)>0||Math.abs(c.y)>0)&&K(!0),null==(r=ne.current)||r.style.setProperty("--swipe-amount-x",`${c.x}px`),null==(i=ne.current)||i.style.setProperty("--swipe-amount-y",`${c.y}px`)}},ue&&!d.jsx&&"loading"!==se?s.createElement("button",{"aria-label":D,"data-disabled":we,"data-close-button":!0,onClick:we||!ae?()=>{}:()=>{_e(),null==d.onDismiss||d.onDismiss.call(d,d)},className:eK(null==I?void 0:I.closeButton,null==d||null==(r=d.classNames)?void 0:r.closeButton)},null!=(Se=null==L?void 0:L.close)?Se:WJ):null,se||d.icon||d.promise?s.createElement("div",{"data-icon":"",className:eK(null==I?void 0:I.icon,null==d||null==(i=d.classNames)?void 0:i.icon)},d.promise||"loading"===d.type&&!d.icon?d.icon||function(){var e,t;return(null==L?void 0:L.loading)?s.createElement("div",{className:eK(null==I?void 0:I.loader,null==d||null==(t=d.classNames)?void 0:t.loader,"sonner-loader"),"data-visible":"loading"===se},L.loading):s.createElement(jJ,{className:eK(null==I?void 0:I.loader,null==d||null==(e=d.classNames)?void 0:e.loader),visible:"loading"===se})}():null,"loading"!==d.type?d.icon||(null==L?void 0:L[se])||(e=>{switch(e){case"success":return zJ;case"info":return GJ;case"warning":return HJ;case"error":return VJ;default:return null}})(se):null):null,s.createElement("div",{"data-content":"",className:eK(null==I?void 0:I.content,null==d||null==(a=d.classNames)?void 0:a.content)},s.createElement("div",{"data-title":"",className:eK(null==I?void 0:I.title,null==d||null==(o=d.classNames)?void 0:o.title)},d.jsx?d.jsx:"function"===typeof d.title?d.title():d.title),d.description?s.createElement("div",{"data-description":"",className:eK(C,le,null==I?void 0:I.description,null==d||null==(l=d.classNames)?void 0:l.description)},"function"===typeof d.description?d.description():d.description):null),s.isValidElement(d.cancel)?d.cancel:d.cancel&&QJ(d.cancel)?s.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||E,onClick:e=>{QJ(d.cancel)&&ae&&(null==d.cancel.onClick||d.cancel.onClick.call(d.cancel,e),_e())},className:eK(null==I?void 0:I.cancelButton,null==d||null==(c=d.classNames)?void 0:c.cancelButton)},d.cancel.label):null,s.isValidElement(d.action)?d.action:d.action&&QJ(d.action)?s.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||T,onClick:e=>{QJ(d.action)&&(null==d.action.onClick||d.action.onClick.call(d.action,e),e.defaultPrevented||_e())},className:eK(null==I?void 0:I.actionButton,null==d||null==(u=d.classNames)?void 0:u.actionButton)},d.action.label):null)};function nK(){if("undefined"===typeof window)return"ltr";if("undefined"===typeof document)return"ltr";const e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function rK(e,t){const n={};return[e,t].forEach(((e,t)=>{const r=1===t,i=r?"--mobile-offset":"--offset",s=r?"16px":"24px";function a(e){["top","right","bottom","left"].forEach((t=>{n[`${i}-${t}`]="number"===typeof e?`${e}px`:e}))}"number"===typeof e||"string"===typeof e?a(e):"object"===typeof e?["top","right","bottom","left"].forEach((t=>{void 0===e[t]?n[`${i}-${t}`]=s:n[`${i}-${t}`]="number"===typeof e[t]?`${e[t]}px`:e[t]})):a(s)})),n}const iK=s.forwardRef((function(e,t){const{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:c,offset:u,mobileOffset:h,theme:d="light",richColors:f,duration:p,style:m,visibleToasts:g=ZJ,toastOptions:v,dir:x=nK(),gap:b=$J,icons:y,containerAriaLabel:w="Notifications"}=e,[_,A]=s.useState([]),S=s.useMemo((()=>Array.from(new Set([r].concat(_.filter((e=>e.position)).map((e=>e.position)))))),[_,r]),[E,T]=s.useState([]),[M,C]=s.useState(!1),[R,k]=s.useState(!1),[N,P]=s.useState("system"!==d?d:"undefined"!==typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=s.useRef(null),L=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=s.useRef(null),B=s.useRef(!1),O=s.useCallback((e=>{A((t=>{var n;return(null==(n=t.find((t=>t.id===e.id)))?void 0:n.delete)||YJ.dismiss(e.id),t.filter((t=>{let{id:n}=t;return n!==e.id}))}))}),[]);return s.useEffect((()=>YJ.subscribe((e=>{if(e.dismiss){const t=_.map((t=>t.id===e.id?{...t,delete:!0}:t));requestAnimationFrame((()=>{A(t)}))}else setTimeout((()=>{l.flushSync((()=>{A((t=>{const n=t.findIndex((t=>t.id===e.id));return-1!==n?[...t.slice(0,n),{...t[n],...e},...t.slice(n+1)]:[e,...t]}))}))}))}))),[_]),s.useEffect((()=>{if("system"!==d)return void P(d);if("system"===d&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?P("dark"):P("light")),"undefined"===typeof window)return;const e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",(e=>{let{matches:t}=e;P(t?"dark":"light")}))}catch(Cx){e.addListener((e=>{let{matches:t}=e;try{P(t?"dark":"light")}catch(TS){console.error(TS)}}))}}),[d]),s.useEffect((()=>{_.length<=1&&C(!1)}),[_]),s.useEffect((()=>{const e=e=>{var t;var n;i.every((t=>e[t]||e.code===t))&&(C(!0),null==(n=I.current)||n.focus());"Escape"!==e.code||document.activeElement!==I.current&&!(null==(t=I.current)?void 0:t.contains(document.activeElement))||C(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[i]),s.useEffect((()=>{if(I.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,B.current=!1)}}),[I.current]),s.createElement("section",{ref:t,"aria-label":`${w} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map(((t,r)=>{var i;const[l,d]=t.split("-");return _.length?s.createElement("ol",{key:t,dir:"auto"===x?nK():x,tabIndex:-1,ref:I,className:c,"data-sonner-toaster":!0,"data-sonner-theme":N,"data-y-position":l,"data-lifted":M&&_.length>1&&!a,"data-x-position":d,style:{"--front-toast-height":`${(null==(i=E[0])?void 0:i.height)||0}px`,"--width":"356px","--gap":`${b}px`,...m,...rK(u,h)},onBlur:e=>{B.current&&!e.currentTarget.contains(e.relatedTarget)&&(B.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||B.current||(B.current=!0,D.current=e.relatedTarget)},onMouseEnter:()=>C(!0),onMouseMove:()=>C(!0),onMouseLeave:()=>{R||C(!1)},onDragEnd:()=>C(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||k(!0)},onPointerUp:()=>k(!1)},_.filter((e=>!e.position&&0===r||e.position===t)).map(((r,i)=>{var l,c;return s.createElement(tK,{key:r.id,icons:y,index:i,toast:r,defaultRichColors:f,duration:null!=(l=null==v?void 0:v.duration)?l:p,className:null==v?void 0:v.className,descriptionClassName:null==v?void 0:v.descriptionClassName,invert:n,visibleToasts:g,closeButton:null!=(c=null==v?void 0:v.closeButton)?c:o,interacting:R,position:t,style:null==v?void 0:v.style,unstyled:null==v?void 0:v.unstyled,classNames:null==v?void 0:v.classNames,cancelButtonStyle:null==v?void 0:v.cancelButtonStyle,actionButtonStyle:null==v?void 0:v.actionButtonStyle,closeButtonAriaLabel:null==v?void 0:v.closeButtonAriaLabel,removeToast:O,toasts:_.filter((e=>e.position==r.position)),heights:E.filter((e=>e.position==r.position)),setHeights:T,expandByDefault:a,gap:b,expanded:M,swipeDirections:e.swipeDirections})}))):null})))})),sK=()=>{const[e,t]=(0,s.useState)(!1),[n,r]=(0,s.useState)(!1),[i,a]=(0,s.useState)({name:"",email:"",employeeNo:""}),[o,l]=(0,s.useState)({id:"",name:"",email:"",employeeNo:""}),[c,u]=(0,s.useState)([]),[h,d]=(0,s.useState)(""),[f,p]=(0,s.useState)(""),[m,g]=(0,s.useState)(!1),[v,x]=(0,s.useState)(!1),[b,y]=(0,s.useState)([]),[w,_]=(0,s.useState)(!1),[A,S]=(0,s.useState)([]);(0,s.useEffect)((()=>{M(),E(),T()}),[]);const E=async()=>{try{_(!0);const e=await mR.get("http://34.100.168.176:4000/api/admin/getReportUsers");y(e.data.data)}catch(Cx){console.error("Error fetching report users:",Cx),qJ.error("Failed to load report users")}finally{_(!1)}},T=async()=>{try{g(!0);const e=await mR.get("http://34.100.168.176:4000/api/admin/getFrequency");e.data&&e.data.data&&e.data.data.length>0&&(S(e.data.data),p(e.data.data[0].frequency))}catch(Cx){console.error("Error fetching frequency data:",Cx),qJ.error("Failed to load frequency data")}finally{g(!1)}},M=async()=>{try{g(!0);const e=(await mR.get("http://34.100.168.176:4000/api/v2/getuniqueids")).data.ids;u(e),e.length>0&&!h&&d(e[0])}catch(Cx){console.error("Error fetching frequency options:",Cx),qJ.error("Failed to load frequency options")}finally{g(!1)}},C=e=>{const{name:t,value:n}=e.target;a((e=>({...e,[t]:n})))},R=e=>{const{name:t,value:n}=e.target;l((e=>({...e,[t]:n})))},k=e=>{p(e.target.value)};return(0,$g.jsxs)("div",{className:"flex flex-col w-full h-full ",children:[(0,$g.jsx)(iK,{richColors:!0,position:"top-right"}),(0,$g.jsxs)("div",{className:"flex flex-col flex-1 gap-4 px-4 py-4",children:[(0,$g.jsxs)("div",{className:"h-[70%] rounded-2xl bg-[#101010]/90 backdrop-blur-sm border-2 border-white",children:[(0,$g.jsxs)("div",{className:"flex h-[15%] items-center justify-between px-6",children:[(0,$g.jsx)("div",{className:"justify-start font-['Poppins'] text-2xl font-semibold text-white",children:"Select People"}),(0,$g.jsx)("div",{children:(0,$g.jsxs)("button",{type:"button",onClick:()=>t(!0),className:"inline-flex items-center rounded-full border border-blue-700 p-2.5 text-center text-sm font-medium text-blue-700 hover:bg-blue-700 hover:text-white focus:outline-none focus:ring-4 focus:ring-blue-300 dark:border-blue-500 dark:text-blue-500 dark:hover:bg-blue-500 dark:hover:text-white dark:focus:ring-blue-800",children:[(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:(0,$g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),(0,$g.jsx)("span",{className:"sr-only",children:"Add User"})]})})]}),(0,$g.jsx)("div",{className:"h-0 w-full outline outline-1 outline-offset-[-0.50px] outline-[rgba(255,255,255,1)]"}),(0,$g.jsx)("div",{className:"scrollbar-customd h-[80%]  overflow-x-auto",children:(0,$g.jsx)("div",{className:"min-w-[30px] overflow-x-auto",children:(0,$g.jsxs)("table",{className:"w-full text-white",children:[(0,$g.jsx)("thead",{className:"sticky top-0 bg-[#101010]/90 text-base backdrop-blur-sm",children:(0,$g.jsxs)("tr",{children:[(0,$g.jsx)("th",{scope:"col",className:"px-4 py-3 text-center whitespace-nowrap ",children:"Name"}),(0,$g.jsx)("th",{scope:"col",className:"px-4 py-3 text-center whitespace-nowrap",children:"Email"}),(0,$g.jsx)("th",{scope:"col",className:"px-4 py-3 text-center whitespace-nowrap",children:"Emp No"}),(0,$g.jsx)("th",{scope:"col",className:"px-4 py-3 text-center whitespace-nowrap",children:"Frequency"}),(0,$g.jsx)("th",{scope:"col",className:"px-4 py-3 text-center whitespace-nowrap",children:"Actions"})]})}),(0,$g.jsx)("tbody",{children:w?(0,$g.jsx)("tr",{children:(0,$g.jsx)("td",{colSpan:"5",className:"px-4 py-8 text-center",children:(0,$g.jsxs)("div",{className:"flex items-center justify-center",children:[(0,$g.jsxs)("svg",{className:"w-8 h-8 text-gray-500 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,$g.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,$g.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,$g.jsx)("span",{className:"ml-2",children:"Loading users..."})]})})}):0===b.length?(0,$g.jsx)("tr",{children:(0,$g.jsx)("td",{colSpan:"5",className:"px-4 py-8 text-center text-gray-400",children:"No users found. Add a new user to get started."})}):b.map((e=>{var t;const n=A.find((t=>t.email===e.email));n&&n.frequency;return(0,$g.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,$g.jsx)("td",{className:"px-4 py-4",children:e.name}),(0,$g.jsx)("td",{className:"px-4 py-4",children:e.email}),(0,$g.jsx)("td",{className:"px-4 py-4",children:e.employeeNo}),(0,$g.jsx)("td",{className:"px-4 py-4",children:(0,$g.jsx)("span",{className:"capitalize",children:(null===(t=A[0])||void 0===t?void 0:t.frequency)||"Not set"})}),(0,$g.jsxs)("td",{className:"px-4 py-4",children:[(0,$g.jsx)("button",{type:"button",onClick:()=>(e=>{console.log("Edit clicked for user:",e),l({id:e._id,name:e.name,email:e.email,employeeNo:e.employeeNo}),r(!0)})(e),className:"p-2 rounded-full hover:bg-gray-700",children:(0,$g.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-8 h-8",children:[(0,$g.jsx)("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),(0,$g.jsx)("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"})]})}),(0,$g.jsx)("button",{type:"button",onClick:()=>(async e=>{if(console.log("Delete clicked for user:",e),window.confirm(`Are you sure you want to delete ${e.name}?`))try{g(!0);const t=await mR.delete(`http://34.100.168.176:4000/api/admin/deleteReport/${e.email}`);console.log("Report deleted:",t.data),qJ.success("User has been deleted successfully"),E()}catch(Cx){var t,n;console.error("Error deleting report:",Cx),qJ.error((null===(t=Cx.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to delete user")}finally{g(!1)}})(e),className:"p-2 rounded-full hover:bg-gray-700",children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-8 h-8",children:(0,$g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})})]})]},e._id)}))})]})})})]}),(0,$g.jsxs)("div",{className:"h-[30%] w-full rounded-2xl bg-[#101010]/90 backdrop-blur-sm",children:[(0,$g.jsxs)("div",{className:"flex h-[15%] items-center justify-between px-6",children:[(0,$g.jsx)("div",{className:"mt-4 justify-start font-['Poppins'] text-2xl font-semibold text-white",children:"Select Frequency"}),(0,$g.jsx)("div",{className:"mt-6 p-4 justify-start font-['Poppins'] text-2xl font-semibold text-white",children:(0,$g.jsxs)("div",{className:"relative",children:[(0,$g.jsx)("select",{value:h,onChange:e=>{d(e.target.value)},disabled:m,className:"w-full p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-900 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:m?(0,$g.jsx)("option",{value:"",children:"Loading frequencies..."}):c.length>0?c.map((e=>(0,$g.jsx)("option",{value:e,children:e},e))):(0,$g.jsx)("option",{value:"",children:"No frequencies available"})}),m&&(0,$g.jsx)("div",{className:"absolute transform -translate-y-1/2 right-3 top-1/2",children:(0,$g.jsxs)("svg",{className:"w-5 h-5 text-gray-500 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,$g.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,$g.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]})})]}),(0,$g.jsx)("div",{className:"flex h-[55.5%] flex-col items-center justify-center overflow-hidden px-6 py-4",children:(0,$g.jsxs)("div",{className:"flex justify-around w-full h-full mt-6 flex-cols-3 md:mt-0",children:[(0,$g.jsxs)("label",{className:"inline-flex items-center",children:[(0,$g.jsx)("input",{type:"radio",name:"frequency",value:"daily",checked:"daily"===f,onChange:k,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600"}),(0,$g.jsx)("span",{className:"text-sm font-medium text-gray-900 ms-2 dark:text-gray-300",children:"Daily"})]}),(0,$g.jsxs)("label",{className:"inline-flex items-center",children:[(0,$g.jsx)("input",{type:"radio",name:"frequency",value:"weekly",checked:"weekly"===f,onChange:k,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600"}),(0,$g.jsx)("span",{className:"text-sm font-medium text-gray-900 ms-2 dark:text-gray-300",children:"Weekly"})]}),(0,$g.jsxs)("label",{className:"inline-flex items-center",children:[(0,$g.jsx)("input",{type:"radio",name:"frequency",value:"monthly",checked:"monthly"===f,onChange:k,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600"}),(0,$g.jsx)("span",{className:"text-sm font-medium text-gray-900 ms-2 dark:text-gray-300",children:"Monthly"})]})]})}),(0,$g.jsx)("button",{type:"button",onClick:async()=>{try{if(console.log("Before saving changes"),console.log("Selected Frequency:",h),console.log("Selected Radio Frequency:",f),!f)return void qJ.error("Please select a frequency");if(!h)return void qJ.error("Please select an ID");if("undefined"!==typeof window){const e=localStorage.getItem("email");if(!e)return void qJ.error("User email not found. Please log in again.");x(!0);const t={frequency:f,email:e,id:h};console.log("Payload:",t);const n=await mR.post("http://34.100.168.176:4000/api/admin/setFrequency",t);localStorage.setItem("frequencyData",JSON.stringify({frequency:f,id:h,timestamp:(new Date).toISOString()})),console.log("Frequency set:",n.data),qJ.success("Frequency settings saved successfully"),E(),T()}}catch(Cx){console.error("Error saving settings:",Cx),Cx.response&&Cx.response.data&&Cx.response.data.message?qJ.error(`Failed to save settings: ${Cx.response.data.message}`):qJ.error("Failed to save settings. Please try again.")}finally{x(!1)}},disabled:v||!f||!h,className:"mt-4 inline-flex h-12 w-32 items-center justify-center rounded-2xl bg-white px-5 py-2.5 text-center text-sm text-black backdrop-blur-sm md:mt-0 md:h-16 md:w-56 md:font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:v?(0,$g.jsxs)($g.Fragment,{children:[(0,$g.jsxs)("svg",{className:"w-5 h-5 mr-3 -ml-1 text-black animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,$g.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,$g.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Changes"})]})]}),e&&(0,$g.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,$g.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:()=>t(!1)}),(0,$g.jsxs)("div",{className:"relative z-50 w-full max-w-md p-6 bg-white rounded-lg shadow-lg dark:bg-gray-800",children:[(0,$g.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,$g.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add New User"}),(0,$g.jsx)("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-gray-500",children:(0,$g.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,$g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,$g.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const n=i.email;if(n)try{x(!0);const e=await mR.post("http://34.100.168.176:4000/api/admin/createReport",{name:i.name,email:n,employeeNo:i.employeeNo});console.log("Report created:",e.data),qJ.success("User has been added successfully"),t(!1),a({name:"",email:"",employeeNo:""}),E()}catch(Cx){console.error("Error creating report:",Cx),qJ.error("Failed to add user")}finally{x(!1)}else qJ.error("Email is required. Please enter a valid email.")},className:"space-y-4",children:[(0,$g.jsxs)("div",{children:[(0,$g.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Name"}),(0,$g.jsx)("input",{type:"text",name:"name",value:i.name,onChange:C,className:"w-full p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-900 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),(0,$g.jsxs)("div",{children:[(0,$g.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Email Id"}),(0,$g.jsx)("input",{type:"email",name:"email",value:i.email,onChange:C,className:"w-full p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-900 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),(0,$g.jsxs)("div",{children:[(0,$g.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Employee Number"}),(0,$g.jsx)("input",{type:"text",name:"employeeNo",value:i.employeeNo,onChange:C,className:"w-full p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-900 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),(0,$g.jsxs)("div",{className:"flex justify-end mt-6 space-x-3",children:[(0,$g.jsx)("button",{type:"button",onClick:()=>t(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),(0,$g.jsx)("button",{type:"submit",disabled:v,className:"px-4 py-2 text-sm font-medium text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500",children:v?(0,$g.jsxs)($g.Fragment,{children:[(0,$g.jsxs)("svg",{className:"w-5 h-5 mr-3 -ml-1 text-white animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,$g.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,$g.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Adding..."]}):"Add User"})]})]})]})]}),n&&(0,$g.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,$g.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:()=>r(!1)}),(0,$g.jsxs)("div",{className:"relative z-50 w-full max-w-md p-6 bg-white rounded-lg shadow-lg dark:bg-gray-800",children:[(0,$g.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,$g.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Edit User"}),(0,$g.jsx)("button",{onClick:()=>r(!1),className:"text-gray-400 hover:text-gray-500",children:(0,$g.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,$g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,$g.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{x(!0);const e=await mR.put("http://34.100.168.176:4000/api/admin/updateReport",{name:o.name,email:o.email,employeeNo:o.employeeNo});console.log("Report updated:",e.data),qJ.success("User has been updated successfully"),r(!1),E()}catch(Cx){var t,n;console.error("Error updating report:",Cx),qJ.error((null===(t=Cx.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to update user")}finally{x(!1)}},className:"space-y-4",children:[(0,$g.jsxs)("div",{children:[(0,$g.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Name"}),(0,$g.jsx)("input",{type:"text",name:"name",value:o.name,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-900 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),(0,$g.jsxs)("div",{children:[(0,$g.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Email Id"}),(0,$g.jsx)("input",{type:"email",name:"email",value:o.email,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-900 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),(0,$g.jsxs)("div",{children:[(0,$g.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Employee Number"}),(0,$g.jsx)("input",{type:"text",name:"employeeNo",value:o.employeeNo,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-900 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),(0,$g.jsxs)("div",{className:"flex justify-end mt-6 space-x-3",children:[(0,$g.jsx)("button",{type:"button",onClick:()=>r(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),(0,$g.jsx)("button",{type:"submit",disabled:v,className:"px-4 py-2 text-sm font-medium text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500",children:v?(0,$g.jsxs)($g.Fragment,{children:[(0,$g.jsxs)("svg",{className:"w-5 h-5 mr-3 -ml-1 text-white animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,$g.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,$g.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):"Update User"})]})]})]})]})]})},aK=e=>{let{headers:t,data:n,isLoading:r,error:i,emptyMessage:s="No data available",onActionClick:a,actionIcon:o,actionLabel:l="Action",showActionColumn:c=!0,customRowRender:u,className:h="",headerClassName:d="bg-[#101010]/90",rowClassName:f="border-b border-gray-700",cellClassName:p="px-4 py-4",headerCellClassName:m="px-4 py-3 text-center whitespace-nowrap",actions:g=[]}=e;return r?(0,$g.jsx)("div",{className:"flex items-center justify-center h-40",children:(0,$g.jsx)("div",{className:"w-8 h-8 border-t-2 border-b-2 border-white rounded-full animate-spin"})}):i?(0,$g.jsx)("div",{className:"p-4 text-center text-red-500",children:i}):n&&0!==n.length?(0,$g.jsx)("div",{className:`scrollbar-customd overflow-x-auto ${h}`,children:(0,$g.jsx)("div",{className:"min-w-[30px] overflow-x-auto  rounded-2xl",children:(0,$g.jsxs)("table",{className:"w-full text-white",children:[(0,$g.jsx)("thead",{className:`sticky top-0 ${d} text-base backdrop-blur-sm`,children:(0,$g.jsxs)("tr",{children:[t.map(((e,t)=>(0,$g.jsx)("th",{scope:"col",className:m,children:e.label||e},t))),c&&(0,$g.jsx)("th",{scope:"col",className:m,children:l})]})}),(0,$g.jsx)("tbody",{children:u?u(n):n.map(((e,n)=>(0,$g.jsxs)("tr",{className:f,children:[t.map(((t,n)=>(0,$g.jsx)("td",{className:p,children:e[t.id||t]||""},n))),c&&(0,$g.jsx)("td",{className:p,children:g.length>0?(0,$g.jsx)("div",{className:"flex items-center justify-center space-x-1",children:g.map(((t,n)=>(0,$g.jsx)("button",{type:"button",onClick:()=>t.onClick&&t.onClick(e),className:"p-2 rounded-full hover:bg-gray-700",title:t.label||"",children:t.icon},n)))}):o&&(0,$g.jsx)("button",{type:"button",onClick:()=>a&&a(e),className:"p-2 rounded-full hover:bg-gray-700",children:o})})]},n)))})]})})}):(0,$g.jsx)("div",{className:"p-4 text-center",children:s})},oK=()=>{const[e,t]=s.useState(0),n=ne(),r=ie(),[i,a]=(0,s.useState)(!1),[o,l]=(0,s.useState)(!1),[c,u]=(0,s.useState)(!1),[h,d]=(0,s.useState)({name:"",email:"",phoneNo:"",employeeNo:""}),[f,p]=(0,s.useState)({name:"",email:"",phoneNo:"",employeeNo:""}),[m,g]=(0,s.useState)({info:"",warning:"",critical:""}),[v,x]=(0,s.useState)(""),[b,y]=(0,s.useState)(""),[w,_]=(0,s.useState)(""),[A,S]=(0,s.useState)(!1),[E,T]=(0,s.useState)(!1),[M,C]=(0,s.useState)([]),[R,k]=(0,s.useState)(!1),[N,P]=(0,s.useState)([]),[I,L]=(0,s.useState)([]),[D,B]=(0,s.useState)(!1),[O,F]=(0,s.useState)(!1),U=e=>{const{name:t,value:n}=e.target;if("phoneNo"===t){const e=String(n).slice(0,10);p((n=>({...n,[t]:e})))}else p((e=>({...e,[t]:n})))},j=[{icon:(0,$g.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-8 h-8",children:[(0,$g.jsx)("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),(0,$g.jsx)("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"})]}),onClick:e=>{console.log("Edit clicked for user:",e),p({name:e.name,email:e.email,phoneNo:e.phoneNo.replace("+91 ",""),employeeNo:e.employeeNo}),u(!0)},label:"Edit"},{icon:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-8 h-8",children:(0,$g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),onClick:async e=>{if(console.log("Delete clicked for user:",e),window.confirm(`Are you sure you want to delete ${e.name}?`))try{S(!0);const t=await mR.delete(`http://34.100.168.176:4000/api/admin/deleteAlertUser/${e.email}`);console.log("Alert user deleted:",t.data),qJ.success("User has been deleted successfully"),H()}catch(Cx){var t,n;console.error("Error deleting alert user:",Cx),qJ.error((null===(t=Cx.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to delete user")}finally{S(!1)}},label:"Delete"}],z=e=>{const{name:t,value:n}=e.target;if("phoneNo"===t){const e=String(n).slice(0,10);d((n=>({...n,[t]:e})))}else d((e=>({...e,[t]:n})))},H=async()=>{try{B(!0);const e=await mR.get("http://34.100.168.176:4000/api/admin/getAlertFreqUsers");e.data&&e.data.data&&L(e.data.data)}catch(Cx){console.error("Error fetching alert users:",Cx),qJ.error("Failed to fetch alert users")}finally{B(!1)}},G=async()=>{try{S(!0);const e=await mR.get("http://34.100.168.176:4000/api/admin/getAlertFrequency");if(e.data&&e.data.data&&e.data.data.length>0){P(e.data.data);const t=e.data.data[e.data.data.length-1];_(t.mode),x(t.frequency),X(t.mode,t.frequency),console.log("Loaded frequency data:",t)}}catch(Cx){console.error("Error fetching frequency data:",Cx),qJ.error("Failed to load frequency data")}finally{S(!1)}},V=e=>{const t=e.target.value;_(t),X(t,v)},W=e=>{const t=e.target.value;x(t),X(w,t)},X=(e,t)=>{const i=new URLSearchParams(n.search);e?i.set("mode",e):i.delete("mode"),t?i.set("frequency",t):i.delete("frequency"),r(`${n.pathname}?${i.toString()}`,{replace:!0})};(0,s.useEffect)((()=>{(()=>{const e=new URLSearchParams(n.search),t=e.get("mode"),r=e.get("frequency");t&&_(t),r&&x(r)})()}),[n.search]),(0,s.useEffect)((()=>{H(),G(),Y()}),[]),(0,s.useEffect)((()=>{N.length>0&&H()}),[N]);const Y=async()=>{try{F(!0);const e=await mR.get("http://34.100.168.176:4000/api/admin/getUserAlertRange");if(console.log("Alert range data response:",e.data),e.data&&e.data.data&&e.data.data.length>0){const t=e.data.data[e.data.data.length-1];console.log("Latest alert range data:",t),g({info:t.info,warning:t.warning,critical:t.critical})}else console.log("No alert range data found"),g({info:"370",warning:"450",critical:"700"})}catch(Cx){console.error("Error fetching alert range data:",Cx),qJ.error("Failed to load alert range data"),g({info:"370",warning:"450",critical:"700"})}finally{F(!1)}},J=(e,t)=>{const n=""===t?"":Number(t);g((t=>({...t,[e]:n})))};return(0,$g.jsxs)("div",{className:"flex flex-col w-full h-full",children:[(0,$g.jsx)(iK,{position:"top-right",richColors:!0}),(0,$g.jsxs)("div",{className:"flex flex-col flex-1 gap-4 px-4 py-4",children:[(0,$g.jsxs)("div",{className:"h-[70%] rounded-2xl border-2 border-white bg-[#101010]/90 backdrop-blur-sm",children:[(0,$g.jsxs)("div",{className:"flex h-[15%] items-center justify-between px-6",children:[(0,$g.jsxs)("div",{className:"flex gap-10",children:[(0,$g.jsx)("div",{className:"flex items-center justify-center font-['Poppins'] text-2xl font-semibold text-white",children:"Select People"}),(0,$g.jsx)("button",{type:"button",onClick:()=>l(!0),className:"mt-4 inline-flex h-11 w-32 items-center justify-center rounded-lg bg-white px-5 py-2.5 text-center text-sm text-black backdrop-blur-sm md:mt-0 md:font-medium",children:(0,$g.jsx)("span",{className:"justify-start font-['Poppins'] text-lg font-medium text-black",children:"Set Alert"})})]}),(0,$g.jsxs)("div",{className:"flex gap-10 text-white md:text-2xl",children:[(0,$g.jsxs)("div",{className:"text-yellow-600",children:["Info: ",(0,$g.jsxs)("span",{className:"text-white",children:[m.info,"\xb0C"]})]}),(0,$g.jsxs)("div",{className:"text-orange-600",children:["Warning: ",(0,$g.jsxs)("span",{className:"text-white",children:[m.warning,"\xb0C"]})]}),(0,$g.jsxs)("div",{className:"text-red-600",children:["Critical: ",(0,$g.jsxs)("span",{className:"text-white",children:[m.critical,"\xb0C"]})]})]}),(0,$g.jsx)("div",{children:(0,$g.jsxs)("button",{type:"button",onClick:()=>a(!0),class:"inline-flex items-center rounded-full border border-blue-700 p-2.5 text-center text-sm font-medium text-blue-700 hover:bg-blue-700 hover:text-white focus:outline-none focus:ring-4 focus:ring-blue-300 dark:border-blue-500 dark:text-blue-500 dark:hover:bg-blue-500 dark:hover:text-white dark:focus:ring-blue-800",children:[(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6",children:(0,$g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})}),(0,$g.jsx)("span",{class:"sr-only",children:"Icon description"})]})})]}),(0,$g.jsx)("div",{className:"h-0 w-full outline outline-1 outline-offset-[-0.50px] outline-[rgba(255,255,255,1)]"}),(0,$g.jsx)(aK,{headers:[{id:"name",label:"Name"},{id:"email",label:"Email"},{id:"phoneNo",label:"Phone Number"},{id:"employeeNo",label:"Employee Number"},{id:"mode",label:"Mode"},{id:"frequency",label:"Frequency"}],data:I.map((e=>{const t=N.find((t=>t.email===e.email));return{name:e.name,email:e.email,phoneNo:`+91 ${e.phoneNo}`,employeeNo:e.employeeNo,mode:t?t.mode:"Not set",frequency:t?t.frequency:"Not set"}})),isLoading:D,actions:j,onActionClick:e=>{console.log("Action clicked for row:",e)},className:"h-[80%]"})]}),(0,$g.jsxs)("div",{className:"h-[30%] w-full rounded-2xl bg-[#101010]/90 text-white backdrop-blur-sm",children:[(0,$g.jsxs)("div",{className:"flex h-[35.25%] w-full flex-row",children:[(0,$g.jsx)("div",{className:"mt-4 flex w-[40%] justify-center font-['Poppins'] text-2xl font-semibold text-white",children:"Select Mode"}),(0,$g.jsx)("div",{className:"w-full h-full",children:(0,$g.jsx)("div",{className:"flex h-[55.5%] flex-col items-center justify-center overflow-hidden px-6 py-4",children:(0,$g.jsxs)("div",{className:"flex justify-around w-full h-full mt-6 flex-cols-3 md:mt-0",children:[(0,$g.jsxs)("label",{className:"inline-flex items-center",children:[(0,$g.jsx)("input",{type:"radio",name:"mode",value:"sms",checked:"sms"===w,onChange:V,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600"}),(0,$g.jsx)("span",{className:"text-sm font-medium text-gray-900 ms-2 dark:text-gray-300",children:"SMS"})]}),(0,$g.jsxs)("label",{className:"inline-flex items-center",children:[(0,$g.jsx)("input",{type:"radio",name:"mode",value:"mail",checked:"mail"===w,onChange:V,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600"}),(0,$g.jsx)("span",{className:"text-sm font-medium text-gray-900 ms-2 dark:text-gray-300",children:"Mail"})]}),(0,$g.jsxs)("label",{className:"inline-flex items-center",children:[(0,$g.jsx)("input",{type:"radio",name:"mode",value:"both",checked:"both"===w,onChange:V,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600"}),(0,$g.jsx)("span",{className:"text-sm font-medium text-gray-900 ms-2 dark:text-gray-300",children:"Both"})]})]})})})]}),(0,$g.jsxs)("div",{className:"flex h-[35.25%] w-full flex-row",children:[(0,$g.jsx)("div",{className:"mt-4 flex w-[40%] justify-center font-['Poppins'] text-2xl font-semibold text-white",children:"Select Frequency"}),(0,$g.jsxs)("div",{className:"w-full h-full",children:[" ",(0,$g.jsx)("div",{className:"flex h-[55.5%] flex-col items-center justify-center overflow-hidden px-6 py-4",children:(0,$g.jsxs)("div",{className:"flex items-center justify-around w-full h-full mt-6 flex-cols-3 md:mt-0",children:[(0,$g.jsxs)("label",{className:"inline-flex items-center",children:[(0,$g.jsx)("input",{type:"radio",name:"frequency",value:"10min",checked:"10min"===v,onChange:W,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600"}),(0,$g.jsx)("span",{className:"text-sm font-medium text-gray-900 ms-2 dark:text-gray-300",children:"10 Mins"})]}),(0,$g.jsxs)("label",{className:"inline-flex items-center",children:[(0,$g.jsx)("input",{type:"radio",name:"frequency",value:"30min",checked:"30min"===v,onChange:W,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600"}),(0,$g.jsx)("span",{className:"text-sm font-medium text-gray-900 ms-2 dark:text-gray-300",children:"30 Mins"})]}),(0,$g.jsxs)("label",{className:"inline-flex items-center",children:[(0,$g.jsx)("input",{type:"radio",name:"frequency",value:"1hr",checked:"1hr"===v,onChange:W,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600"}),(0,$g.jsx)("span",{className:"text-sm font-medium text-gray-900 ms-2 dark:text-gray-300",children:"1 Hr"})]})]})})]})]}),(0,$g.jsx)("button",{type:"button",onClick:async()=>{try{if(console.log("Before saving changes"),console.log("Selected Mode:",w),console.log("Selected Frequency:",v),!w)return void qJ.error("Please select a mode");if(!v)return void qJ.error("Please select a frequency");if("undefined"!==typeof window){const e=localStorage.getItem("email");if(!e)return void qJ.error("User email not found. Please log in again.");T(!0);const t={frequency:v,email:e,mode:w};console.log("Payload:",t);const n=await mR.post("http://34.100.168.176:4000/api/admin/createSetAlertFrequency",t);localStorage.setItem("frequencyData",JSON.stringify({frequency:v,mode:w,timestamp:(new Date).toISOString()})),console.log("Frequency set:",n.data),qJ.success("Alert settings saved successfully"),H(),G()}}catch(Cx){console.error("Error saving settings:",Cx),Cx.response&&Cx.response.data&&Cx.response.data.message?qJ.error(`Failed to save settings: ${Cx.response.data.message}`):qJ.error("Failed to save settings. Please try again.")}finally{T(!1)}},disabled:E||!w||!v,className:"mt-4 inline-flex h-12 w-32 items-center justify-center rounded-2xl bg-white px-5 py-2.5 text-center text-sm text-black backdrop-blur-sm disabled:cursor-not-allowed disabled:opacity-50 md:mt-0 md:h-16 md:w-56 md:font-medium",children:E?(0,$g.jsxs)($g.Fragment,{children:[(0,$g.jsxs)("svg",{className:"w-5 h-5 mr-3 -ml-1 text-black animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,$g.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,$g.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Changes"})]})]}),i&&(0,$g.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,$g.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:()=>a(!1)}),(0,$g.jsxs)("div",{className:"relative z-50 w-full max-w-md p-6 bg-white rounded-lg shadow-lg dark:bg-gray-800",children:[(0,$g.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,$g.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add New User"}),(0,$g.jsx)("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-500",children:(0,$g.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,$g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,$g.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{T(!0);const e=await mR.post("http://34.100.168.176:4000/api/admin/createAlertUsers",{name:h.name,email:h.email,phoneNo:h.phoneNo,employeeNo:h.employeeNo});console.log("Report created:",e.data),qJ.success("User has been added successfully"),a(!1),d({name:"",email:"",phoneNo:"",employeeNo:""}),H()}catch(Cx){console.error("Error creating report:",Cx),qJ.error("Failed to add user")}finally{T(!1)}},className:"space-y-4",children:[(0,$g.jsxs)("div",{children:[(0,$g.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Name"}),(0,$g.jsx)("input",{type:"text",name:"name",value:h.name,onChange:z,className:"w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",required:!0})]}),(0,$g.jsxs)("div",{children:[(0,$g.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Email Id"}),(0,$g.jsx)("input",{type:"email",name:"email",value:h.email,onChange:z,className:"w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",required:!0})]}),(0,$g.jsxs)("div",{children:[(0,$g.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Phone Number"}),(0,$g.jsxs)("div",{className:"relative",children:[(0,$g.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500",children:"+91"}),(0,$g.jsx)("input",{type:"number",name:"phoneNo",value:h.phoneNo,onChange:z,min:"0",max:"9999999999",className:"w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 pl-12 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",placeholder:"Enter 10-digit mobile number",required:"true"})]})]}),(0,$g.jsxs)("div",{children:[(0,$g.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Employee Number"}),(0,$g.jsx)("input",{type:"text",name:"employeeNo",value:h.employeeNo,onChange:z,className:"w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",required:!0})]}),(0,$g.jsxs)("div",{className:"flex justify-end mt-6 space-x-3",children:[(0,$g.jsx)("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),(0,$g.jsx)("button",{type:"submit",disabled:E,className:"px-4 py-2 text-sm font-medium text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500",children:E?(0,$g.jsxs)($g.Fragment,{children:[(0,$g.jsxs)("svg",{className:"w-5 h-5 mr-3 -ml-1 text-white animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,$g.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,$g.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Adding..."]}):"Add User"})]})]})]})]}),o&&(0,$g.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,$g.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:()=>l(!1)}),(0,$g.jsxs)("div",{className:"relative z-50 w-full max-w-md p-6 bg-white rounded-lg shadow-lg dark:bg-gray-800",children:[(0,$g.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,$g.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Set New Alert Limit"}),(0,$g.jsx)("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-500",children:(0,$g.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,$g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,$g.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{T(!0);const e=localStorage.getItem("email");if(!e)return void qJ.error("User email not found. Please log in again.");const t={info:m.info,warning:m.warning,critical:m.critical,email:e};console.log("Sending payload:",t);const n="http://34.100.168.176:4000/api/admin/SaveUserAlert";console.log("API URL:",n);const r=await mR.post(n,t);console.log("Alert range saved:",r.data),qJ.success("Alert limits have been saved successfully"),l(!1),Y()}catch(Cx){console.error("Error saving alert range:",Cx),Cx.response&&console.error("Error response:",Cx.response.data),Cx.response&&Cx.response.data&&Cx.response.data.message?qJ.error(`Failed to save alert limits: ${Cx.response.data.message}`):qJ.error("Failed to save alert limits. Please try again.")}finally{T(!1)}},className:"space-y-4",children:[(0,$g.jsxs)("div",{className:"w-full",children:[(0,$g.jsx)("p",{className:"mb-1 text-sm font-medium text-blue-500",children:"Select Value for Info"}),(0,$g.jsxs)("div",{className:"relative w-full",children:[(0,$g.jsx)("input",{type:"number",value:m.info,onChange:e=>J("info",e.target.value),className:"w-full appearance-none rounded-lg border px-3 py-2.5 text-sm text-blue-500 placeholder-blue-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none",placeholder:"0"}),(0,$g.jsxs)("div",{className:"absolute flex gap-1 right-1 top-1",children:[(0,$g.jsx)("button",{type:"button",className:"rounded-md bg-blue-500 p-1.5 text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:()=>J("info",Math.max(0,Number(m.info||0)-1)),children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4",children:(0,$g.jsx)("path",{d:"M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"})})}),(0,$g.jsx)("button",{type:"button",className:"rounded-md bg-blue-500 p-1.5 text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:()=>J("info",Number(m.info||0)+1),children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4",children:(0,$g.jsx)("path",{d:"M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"})})})]})]}),(0,$g.jsx)("p",{className:"mt-2 text-xs text-blue-500",children:"Info: Monitoring Recommended!!!"})]}),(0,$g.jsxs)("div",{className:"w-full",children:[(0,$g.jsx)("p",{className:"mb-1 text-sm font-medium text-blue-500",children:"Select Value for Warning"}),(0,$g.jsxs)("div",{className:"relative w-full",children:[(0,$g.jsx)("input",{type:"number",value:m.warning,onChange:e=>J("warning",e.target.value),className:"w-full appearance-none rounded-lg border px-3 py-2.5 text-sm text-blue-500 placeholder-blue-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none",placeholder:"0"}),(0,$g.jsxs)("div",{className:"absolute flex gap-1 right-1 top-1",children:[(0,$g.jsx)("button",{type:"button",className:"rounded-md bg-blue-500 p-1.5 text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:()=>J("warning",Math.max(0,Number(m.warning||0)-1)),children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4",children:(0,$g.jsx)("path",{d:"M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"})})}),(0,$g.jsx)("button",{type:"button",className:"rounded-md bg-blue-500 p-1.5 text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:()=>J("warning",Number(m.warning||0)+1),children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4",children:(0,$g.jsx)("path",{d:"M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"})})})]})]}),(0,$g.jsx)("p",{className:"mt-2 text-xs text-blue-500",children:"Warning: Attention Required!!!"})]}),(0,$g.jsxs)("div",{className:"w-full",children:[(0,$g.jsx)("p",{className:"mb-1 text-sm font-medium text-blue-500",children:"Select Value for Critical"}),(0,$g.jsxs)("div",{className:"relative w-full",children:[(0,$g.jsx)("input",{type:"number",value:m.critical,onChange:e=>J("critical",e.target.value),className:"w-full appearance-none rounded-lg border px-3 py-2.5 text-sm text-blue-500 placeholder-blue-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none",placeholder:"0"}),(0,$g.jsxs)("div",{className:"absolute flex gap-1 right-1 top-1",children:[(0,$g.jsx)("button",{type:"button",className:"rounded-md bg-blue-500 p-1.5 text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:()=>J("critical",Math.max(0,Number(m.critical||0)-1)),children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4",children:(0,$g.jsx)("path",{d:"M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"})})}),(0,$g.jsx)("button",{type:"button",className:"rounded-md bg-blue-500 p-1.5 text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:()=>J("critical",Number(m.critical||0)+1),children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4",children:(0,$g.jsx)("path",{d:"M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"})})})]})]}),(0,$g.jsx)("p",{className:"mt-2 text-xs text-blue-500",children:"Critical: Immediated Action Requried!!!"})]}),(0,$g.jsxs)("div",{className:"flex justify-end mt-6 space-x-3",children:[(0,$g.jsx)("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),(0,$g.jsx)("button",{type:"submit",disabled:E,className:"px-4 py-2 text-sm font-medium text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500",children:E?(0,$g.jsxs)($g.Fragment,{children:[(0,$g.jsxs)("svg",{className:"w-5 h-5 mr-3 -ml-1 text-white animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,$g.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,$g.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Changes"})]})]})]})]}),c&&(0,$g.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,$g.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:()=>u(!1)}),(0,$g.jsxs)("div",{className:"relative z-50 w-full max-w-md p-6 bg-white rounded-lg shadow-lg dark:bg-gray-800",children:[(0,$g.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,$g.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Edit User"}),(0,$g.jsx)("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-500",children:(0,$g.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,$g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,$g.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{T(!0);const e=await mR.put("http://34.100.168.176:4000/api/admin/updateAlertUser",{name:f.name,email:f.email,phoneNo:f.phoneNo,employeeNo:f.employeeNo});console.log("Alert user updated:",e.data),qJ.success("User has been updated successfully"),u(!1),H()}catch(Cx){var t,n;console.error("Error updating alert user:",Cx),qJ.error((null===(t=Cx.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to update user")}finally{T(!1)}},className:"space-y-4",children:[(0,$g.jsxs)("div",{children:[(0,$g.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Name"}),(0,$g.jsx)("input",{type:"text",name:"name",value:f.name,onChange:U,className:"w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",required:!0})]}),(0,$g.jsxs)("div",{children:[(0,$g.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Email Id"}),(0,$g.jsx)("input",{type:"email",name:"email",value:f.email,onChange:U,className:"w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",required:!0})]}),(0,$g.jsxs)("div",{children:[(0,$g.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Phone Number"}),(0,$g.jsxs)("div",{className:"relative",children:[(0,$g.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500",children:"+91"}),(0,$g.jsx)("input",{type:"number",name:"phoneNo",value:f.phoneNo,onChange:U,min:"0",max:"9999999999",className:"w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 pl-12 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",placeholder:"Enter 10-digit mobile number",required:!0})]})]}),(0,$g.jsxs)("div",{children:[(0,$g.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Employee Number"}),(0,$g.jsx)("input",{type:"text",name:"employeeNo",value:f.employeeNo,onChange:U,className:"w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",required:!0})]}),(0,$g.jsxs)("div",{className:"flex justify-end mt-6 space-x-3",children:[(0,$g.jsx)("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),(0,$g.jsx)("button",{type:"submit",disabled:E,className:"px-4 py-2 text-sm font-medium text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500",children:E?(0,$g.jsxs)($g.Fragment,{children:[(0,$g.jsxs)("svg",{className:"w-5 h-5 mr-3 -ml-1 text-white animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,$g.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,$g.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):"Update User"})]})]})]})]})]})},lK=()=>{const[e,t]=(0,s.useState)({veryLow:{min:0,max:0},low:{min:0,max:0},medium:{min:0,max:0},high:{min:0,max:0},veryHigh:{min:0,max:0}}),[n,r]=(0,s.useState)(!1);(0,s.useEffect)((()=>{i()}),[]);const i=async()=>{try{r(!0),console.log("Fetching color range from:","http://34.100.168.176:4000/api/admin/getColorRange");const e=await mR.get("http://34.100.168.176:4000/api/admin/getColorRange");if(console.log("API Response:",e.data),e.data&&e.data.data){const n=e.data.data;console.log("Setting ranges with data:",n),t({veryLow:{min:n.vlmin||0,max:n.vlmax||0},low:{min:n.lmin||0,max:n.lmax||0},medium:{min:n.medmin||0,max:n.medmax||0},high:{min:n.highmin||0,max:n.highmax||0},veryHigh:{min:n.vhighmin||0,max:n.vhighmax||0}}),qJ.success(e.data.message||"Color range loaded successfully")}else console.log("No data found in response:",e.data),qJ.error("No color range data found")}catch(Cx){var e,n,i;console.error("Error fetching color range:",Cx),console.error("Error details:",null===(e=Cx.response)||void 0===e?void 0:e.data),qJ.error((null===(n=Cx.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)||"Failed to load color range data")}finally{r(!1)}},a=(e,n,r)=>{t((t=>{const i=t[e][n]+r;return{...t,[e]:{...t[e],[n]:i>=0?i:0}}}))},o=(e,n,r)=>{const i=parseInt(r)||0;t((t=>({...t,[e]:{...t[e],[n]:i>=0?i:0}})))};return(0,$g.jsxs)("div",{className:"flex flex-col w-full h-full",children:[(0,$g.jsx)(iK,{position:"top-right",richColors:!0}),(0,$g.jsx)("div",{className:"flex flex-col flex-1 gap-4 px-4 py-4",children:(0,$g.jsxs)("div",{className:"h-[100%] rounded-2xl border-2 border-white bg-[rgba(16,16,16,0.75)] backdrop-blur-sm",children:[(0,$g.jsx)("div",{className:"flex h-[10%] items-center justify-between px-6",children:(0,$g.jsx)("div",{className:"justify-start font-['Poppins'] text-2xl font-semibold text-white",children:"Customize values by colours"})}),(0,$g.jsxs)("div",{className:"m-10 flex h-[80%] flex-col items-center justify-center rounded-lg border bg-[rgba(16,16,16,0.90)] outline outline-1 outline-offset-[-0.50px] outline-white",children:[(0,$g.jsx)("div",{className:"flex h-[80%] w-full items-center justify-between px-6 text-white",children:(0,$g.jsxs)("table",{className:"w-full h-full text-left table-auto min-w-max",children:[(0,$g.jsx)("thead",{children:(0,$g.jsxs)("tr",{children:[(0,$g.jsx)("th",{className:"p-4 border-blue-gray-100 bg-blue-gray-50",children:" "}),(0,$g.jsx)("th",{className:"p-4 border-blue-gray-100 bg-blue-gray-50",children:" "}),(0,$g.jsx)("th",{className:"p-4 border-blue-gray-100 bg-blue-gray-50",children:(0,$g.jsxs)("p",{className:"justify-start text-center font-['Poppins'] md:text-3xl font-semibold leading-none text-white antialiased",children:[" ","Min Value"]})}),(0,$g.jsx)("th",{className:"p-4 border-blue-gray-100 bg-blue-gray-50",children:(0,$g.jsxs)("p",{className:"justify-start text-center font-['Poppins'] md:text-3xl font-semibold leading-none text-white antialiased",children:[" ","Max Value"]})})]})}),(0,$g.jsxs)("tbody",{children:[(0,$g.jsxs)("tr",{children:[(0,$g.jsx)("td",{className:"md:p-4 border-blue-gray-50",children:(0,$g.jsx)("div",{className:"bg-green-300 rounded-sm md:h-9 w-9"})}),(0,$g.jsx)("td",{className:"md:p-4 border-blue-gray-50",children:(0,$g.jsx)("p",{className:"justify-start self-stretch font-['Poppins'] md:text-3xl font-medium leading-normal text-white antialiased",children:"Very Low"})}),(0,$g.jsx)("td",{className:"p-4 text-center border-blue-gray-50",children:(0,$g.jsxs)("div",{className:"relative mx-auto flex w-full max-w-[8rem] items-center justify-center",children:[(0,$g.jsx)("button",{type:"button",onClick:()=>a("veryLow","min",-1),className:"p-3 bg-gray-100 border border-gray-300 h-11 rounded-s-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-700",children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"3 2 18 18",strokeWidth:"2",stroke:"currentColor",className:"w-3 h-3",children:(0,$g.jsx)("path",{strokeLinecap:"round",stroke:"currentColor",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})}),(0,$g.jsx)("input",{type:"text",value:e.veryLow.min,onChange:e=>o("veryLow","min",e.target.value),className:"block h-11 w-full border-x-0 border-gray-300 bg-gray-50 py-2.5 text-center text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"000",required:!0}),(0,$g.jsx)("button",{type:"button",onClick:()=>a("veryLow","min",1),className:"p-3 bg-gray-100 border border-gray-300 h-11 rounded-e-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-700",children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"3 2 18 18",strokeWidth:"2",stroke:"currentColor",className:"w-3 h-3",children:(0,$g.jsx)("path",{strokeLinecap:"round",stroke:"currentColor",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"})})})]})}),(0,$g.jsx)("td",{className:"p-4 text-center border-blue-gray-50",children:(0,$g.jsxs)("div",{className:"relative mx-auto flex w-full max-w-[8rem] items-center justify-center",children:[(0,$g.jsx)("button",{type:"button",onClick:()=>a("veryLow","max",-1),className:"p-3 bg-gray-100 border border-gray-300 h-11 rounded-s-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-700",children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"3 2 18 18",strokeWidth:"2",stroke:"currentColor",className:"w-3 h-3",children:(0,$g.jsx)("path",{strokeLinecap:"round",stroke:"currentColor",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})}),(0,$g.jsx)("input",{type:"text",value:e.veryLow.max,onChange:e=>o("veryLow","max",e.target.value),className:"block h-11 w-full border-x-0 border-gray-300 bg-gray-50 py-2.5 text-center text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"000",required:!0}),(0,$g.jsx)("button",{type:"button",onClick:()=>a("veryLow","max",1),className:"p-3 bg-gray-100 border border-gray-300 h-11 rounded-e-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-700",children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"3 2 18 18",strokeWidth:"2",stroke:"currentColor",className:"w-3 h-3",children:(0,$g.jsx)("path",{strokeLinecap:"round",stroke:"currentColor",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"})})})]})})]}),(0,$g.jsxs)("tr",{children:[(0,$g.jsx)("td",{className:"md:p-4 border-blue-gray-50",children:(0,$g.jsx)("div",{className:"bg-green-500 rounded-sm h-9 w-9"})}),(0,$g.jsx)("td",{className:"md:p-4 border-blue-gray-50",children:(0,$g.jsx)("p",{className:"justify-start self-stretch font-['Poppins'] md:text-3xl font-medium leading-normal text-white antialiased",children:"Low"})}),(0,$g.jsx)("td",{className:"p-4 text-center border-blue-gray-50",children:(0,$g.jsxs)("div",{className:"relative mx-auto flex w-full max-w-[8rem] items-center justify-center",children:[(0,$g.jsx)("button",{type:"button",onClick:()=>a("low","min",-1),className:"p-3 bg-gray-100 border border-gray-300 h-11 rounded-s-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-700",children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"3 2 18 18",strokeWidth:"2",stroke:"currentColor",className:"w-3 h-3",children:(0,$g.jsx)("path",{strokeLinecap:"round",stroke:"currentColor",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})}),(0,$g.jsx)("input",{type:"text",value:e.low.min,onChange:e=>o("low","min",e.target.value),className:"block h-11 w-full border-x-0 border-gray-300 bg-gray-50 py-2.5 text-center text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"000",required:!0}),(0,$g.jsx)("button",{type:"button",onClick:()=>a("low","min",1),className:"p-3 bg-gray-100 border border-gray-300 h-11 rounded-e-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-700",children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"3 2 18 18",strokeWidth:"2",stroke:"currentColor",className:"w-3 h-3",children:(0,$g.jsx)("path",{strokeLinecap:"round",stroke:"currentColor",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"})})})]})}),(0,$g.jsx)("td",{className:"p-4 text-center border-blue-gray-50",children:(0,$g.jsxs)("div",{className:"relative mx-auto flex w-full max-w-[8rem] items-center justify-center",children:[(0,$g.jsx)("button",{type:"button",onClick:()=>a("low","max",-1),className:"p-3 bg-gray-100 border border-gray-300 h-11 rounded-s-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-700",children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"3 2 18 18",strokeWidth:"2",stroke:"currentColor",className:"w-3 h-3",children:(0,$g.jsx)("path",{strokeLinecap:"round",stroke:"currentColor",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})}),(0,$g.jsx)("input",{type:"text",value:e.low.max,onChange:e=>o("low","max",e.target.value),className:"block h-11 w-full border-x-0 border-gray-300 bg-gray-50 py-2.5 text-center text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"000",required:!0}),(0,$g.jsx)("button",{type:"button",onClick:()=>a("low","max",1),className:"p-3 bg-gray-100 border border-gray-300 h-11 rounded-e-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-700",children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"3 2 18 18",strokeWidth:"2",stroke:"currentColor",className:"w-3 h-3",children:(0,$g.jsx)("path",{strokeLinecap:"round",stroke:"currentColor",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"})})})]})})]}),(0,$g.jsxs)("tr",{children:[(0,$g.jsx)("td",{className:"md:p-4 border-blue-gray-50",children:(0,$g.jsx)("div",{className:"bg-yellow-300 rounded-sm h-9 w-9"})}),(0,$g.jsx)("td",{className:"md:p-4 border-blue-gray-50",children:(0,$g.jsx)("p",{className:"justify-start self-stretch font-['Poppins'] md:text-3xl font-medium leading-normal text-white antialiased",children:"Medium"})}),(0,$g.jsx)("td",{className:"p-4 text-center border-blue-gray-50",children:(0,$g.jsxs)("div",{className:"relative mx-auto flex w-full max-w-[8rem] items-center justify-center",children:[(0,$g.jsx)("button",{type:"button",onClick:()=>a("medium","min",-1),className:"p-3 bg-gray-100 border border-gray-300 h-11 rounded-s-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-700",children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"3 2 18 18",strokeWidth:"2",stroke:"currentColor",className:"w-3 h-3",children:(0,$g.jsx)("path",{strokeLinecap:"round",stroke:"currentColor",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})}),(0,$g.jsx)("input",{type:"text",value:e.medium.min,onChange:e=>o("medium","min",e.target.value),className:"block h-11 w-full border-x-0 border-gray-300 bg-gray-50 py-2.5 text-center text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"000",required:!0}),(0,$g.jsx)("button",{type:"button",onClick:()=>a("medium","min",1),className:"p-3 bg-gray-100 border border-gray-300 h-11 rounded-e-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-700",children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"3 2 18 18",strokeWidth:"2",stroke:"currentColor",className:"w-3 h-3",children:(0,$g.jsx)("path",{strokeLinecap:"round",stroke:"currentColor",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"})})})]})}),(0,$g.jsx)("td",{className:"p-4 text-center border-blue-gray-50",children:(0,$g.jsxs)("div",{className:"relative mx-auto flex w-full max-w-[8rem] items-center justify-center",children:[(0,$g.jsx)("button",{type:"button",onClick:()=>a("medium","max",-1),className:"p-3 bg-gray-100 border border-gray-300 h-11 rounded-s-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-700",children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"3 2 18 18",strokeWidth:"2",stroke:"currentColor",className:"w-3 h-3",children:(0,$g.jsx)("path",{strokeLinecap:"round",stroke:"currentColor",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})}),(0,$g.jsx)("input",{type:"text",value:e.medium.max,onChange:e=>o("medium","max",e.target.value),className:"block h-11 w-full border-x-0 border-gray-300 bg-gray-50 py-2.5 text-center text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"000",required:!0}),(0,$g.jsx)("button",{type:"button",onClick:()=>a("medium","max",1),className:"p-3 bg-gray-100 border border-gray-300 h-11 rounded-e-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-700",children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"3 2 18 18",strokeWidth:"2",stroke:"currentColor",className:"w-3 h-3",children:(0,$g.jsx)("path",{strokeLinecap:"round",stroke:"currentColor",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"})})})]})})]}),(0,$g.jsxs)("tr",{children:[(0,$g.jsx)("td",{className:"md:p-4 border-blue-gray-50",children:(0,$g.jsx)("div",{className:"flex items-center rounded-sm h-9 w-9 bg-amber-500"})}),(0,$g.jsx)("td",{className:"md:p-4 border-blue-gray-50",children:(0,$g.jsxs)("p",{className:"justify-start self-stretch font-['Poppins'] md:text-3xl font-medium leading-normal text-white antialiased",children:["High"," "]})}),(0,$g.jsx)("td",{className:"p-4 text-center border-blue-gray-50",children:(0,$g.jsxs)("div",{className:"relative mx-auto flex w-full max-w-[8rem] items-center justify-center",children:[(0,$g.jsx)("button",{type:"button",onClick:()=>a("high","min",-1),className:"p-3 bg-gray-100 border border-gray-300 h-11 rounded-s-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-700",children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"3 2 18 18",strokeWidth:"2",stroke:"currentColor",className:"w-3 h-3",children:(0,$g.jsx)("path",{strokeLinecap:"round",stroke:"currentColor",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})}),(0,$g.jsx)("input",{type:"text",value:e.high.min,onChange:e=>o("high","min",e.target.value),className:"block h-11 w-full border-x-0 border-gray-300 bg-gray-50 py-2.5 text-center text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"000",required:!0}),(0,$g.jsx)("button",{type:"button",onClick:()=>a("high","min",1),className:"p-3 bg-gray-100 border border-gray-300 h-11 rounded-e-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-700",children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"3 2 18 18",strokeWidth:"2",stroke:"currentColor",className:"w-3 h-3",children:(0,$g.jsx)("path",{strokeLinecap:"round",stroke:"currentColor",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"})})})]})}),(0,$g.jsx)("td",{className:"p-4 text-center border-blue-gray-50",children:(0,$g.jsxs)("div",{className:"relative mx-auto flex w-full max-w-[8rem] items-center justify-center",children:[(0,$g.jsx)("button",{type:"button",onClick:()=>a("high","max",-1),className:"p-3 bg-gray-100 border border-gray-300 h-11 rounded-s-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-700",children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"3 2 18 18",strokeWidth:"2",stroke:"currentColor",className:"w-3 h-3",children:(0,$g.jsx)("path",{strokeLinecap:"round",stroke:"currentColor",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})}),(0,$g.jsx)("input",{type:"text",value:e.high.max,onChange:e=>o("high","max",e.target.value),className:"block h-11 w-full border-x-0 border-gray-300 bg-gray-50 py-2.5 text-center text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"000",required:!0}),(0,$g.jsx)("button",{type:"button",onClick:()=>a("high","max",1),className:"p-3 bg-gray-100 border border-gray-300 h-11 rounded-e-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-700",children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"3 2 18 18",strokeWidth:"2",stroke:"currentColor",className:"w-3 h-3",children:(0,$g.jsx)("path",{strokeLinecap:"round",stroke:"currentColor",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"})})})]})})]}),(0,$g.jsxs)("tr",{children:[(0,$g.jsx)("td",{className:"p-4",children:(0,$g.jsx)("div",{className:"bg-red-500 rounded-sm h-9 w-9"})}),(0,$g.jsx)("td",{className:"p-4",children:(0,$g.jsx)("p",{className:"justify-start self-stretch font-['Poppins'] md:text-3xl font-medium leading-normal text-white antialiased",children:"Very High"})}),(0,$g.jsx)("td",{className:"p-4 text-center border-blue-gray-50",children:(0,$g.jsxs)("div",{className:"relative mx-auto flex w-full max-w-[8rem] items-center justify-center",children:[(0,$g.jsx)("button",{type:"button",onClick:()=>a("veryHigh","min",-1),className:"p-3 bg-gray-100 border border-gray-300 h-11 rounded-s-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-700",children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"3 2 18 18",strokeWidth:"2",stroke:"currentColor",className:"w-3 h-3",children:(0,$g.jsx)("path",{strokeLinecap:"round",stroke:"currentColor",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})}),(0,$g.jsx)("input",{type:"text",value:e.veryHigh.min,onChange:e=>o("veryHigh","min",e.target.value),className:"block h-11 w-full border-x-0 border-gray-300 bg-gray-50 py-2.5 text-center text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"000",required:!0}),(0,$g.jsx)("button",{type:"button",onClick:()=>a("veryHigh","min",1),className:"p-3 bg-gray-100 border border-gray-300 h-11 rounded-e-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-700",children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"3 2 18 18",strokeWidth:"2",stroke:"currentColor",className:"w-3 h-3",children:(0,$g.jsx)("path",{strokeLinecap:"round",stroke:"currentColor",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"})})})]})}),(0,$g.jsx)("td",{className:"p-4 text-center border-blue-gray-50",children:(0,$g.jsxs)("div",{className:"relative mx-auto flex w-full max-w-[8rem] items-center justify-center",children:[(0,$g.jsx)("button",{type:"button",onClick:()=>a("veryHigh","max",-1),className:"p-3 bg-gray-100 border border-gray-300 h-11 rounded-s-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-700",children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"3 2 18 18",strokeWidth:"2",stroke:"currentColor",className:"w-3 h-3",children:(0,$g.jsx)("path",{strokeLinecap:"round",stroke:"currentColor",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})}),(0,$g.jsx)("input",{type:"text",value:e.veryHigh.max,onChange:e=>o("veryHigh","max",e.target.value),className:"block h-11 w-full border-x-0 border-gray-300 bg-gray-50 py-2.5 text-center text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"000",required:!0}),(0,$g.jsx)("button",{type:"button",onClick:()=>a("veryHigh","max",1),className:"p-3 bg-gray-100 border border-gray-300 h-11 rounded-e-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-700",children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"3 2 18 18",strokeWidth:"2",stroke:"currentColor",className:"w-3 h-3",children:(0,$g.jsx)("path",{strokeLinecap:"round",stroke:"currentColor",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"})})})]})})]})]})]})}),(0,$g.jsx)("div",{className:"flex h-[10%] items-center justify-between px-6",children:(0,$g.jsx)("button",{type:"button",onClick:async()=>{try{r(!0);const t=localStorage.getItem("email");if(!t)return void qJ.error("User email not found. Please log in again.");const n={vlmin:e.veryLow.min,vlmax:e.veryLow.max,lmin:e.low.min,lmax:e.low.max,medmin:e.medium.min,medmax:e.medium.max,highmin:e.high.min,highmax:e.high.max,vhighmin:e.veryHigh.min,vhighmax:e.veryHigh.max,email:t},i=await mR.post("http://34.100.168.176:4000/api/admin/SaveColorRange",n);i.data&&i.data.message&&qJ.success(i.data.message)}catch(Cx){var t,n;console.error("Error saving color range:",Cx),qJ.error((null===(t=Cx.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to save color range")}finally{r(!1)}},disabled:n,className:"mt-4 inline-flex h-10 w-28 items-center justify-center rounded-2xl bg-white px-5 py-2.5 text-center text-sm text-black backdrop-blur-sm md:mt-0 md:h-16 md:w-56 md:font-medium disabled:opacity-50",children:n?"Saving...":"Set Value"})})]})]})})]})},cK=e=>{let{onSwitch:t}=e;const[n,r]=(0,s.useState)(!1),[i,a]=(0,s.useState)("Min");return(0,$g.jsx)($g.Fragment,{children:(0,$g.jsxs)("label",{className:"relative inline-flex items-center justify-center p-1  border rounded-md bg-[rgba(16,16,16,0.9)] cursor-pointer select-none themeSwitcherTwo shadow-card md:w-80 md:h-16",children:[(0,$g.jsx)("input",{type:"checkbox",className:"sr-only",checked:n,onChange:()=>{r(!n);const e=n?"UserP":"UserL";a(e),console.log("Value",e),t&&t(e)}}),(0,$g.jsx)("span",{className:"flex items-center space-x-[6px] rounded py-3 px-[30px] text-white text-lg font-medium font-['Poppins']"+(n?"text-white":"text-white bg-[rgba(59,59,59)]"),children:(0,$g.jsx)("p",{children:"User Profile"})}),(0,$g.jsx)("span",{className:"flex items-center space-x-[6px] rounded py-3 px-[30px] text-white text-lg font-medium font-['Poppins']"+(n?"text-white bg-[rgba(59,59,59)]":"text-white"),children:(0,$g.jsx)("p",{children:"User Log"})})]})})},uK=()=>{const[e,t]=(0,s.useState)(!1),[n,r]=(0,s.useState)("UserP"),[i,a]=(0,s.useState)([]),[o,l]=(0,s.useState)([]),[c,u]=(0,s.useState)(!1),[h,d]=(0,s.useState)(null),[f,p]=(0,s.useState)(!1),[m,g]=(0,s.useState)("user"),[v,x]=(0,s.useState)(""),[b,y]=(0,s.useState)(""),[w,_]=(0,s.useState)(""),[A,S]=(0,s.useState)(""),[E,T]=(0,s.useState)(""),[M,C]=(0,s.useState)(""),[R,k]=(0,s.useState)(""),[N,P]=(0,s.useState)(!1),[I,L]=(0,s.useState)(null),[D,B]=(0,s.useState)(!1),[O,F]=(0,s.useState)(!1),U=async()=>{u(!0),d(null);try{const e=await RM.get("http://34.100.168.176:4000/api/admin/getUsers");if(e.data&&e.data.data){const t=e.data.data.map(((e,t)=>({sno:t+1,name:e.name||"N/A",email:e.email||"N/A",role:e.role||"N/A",Employee:e.empid||"N/A",phone:e.phoneno?`+91 ${e.phoneno}`:"N/A"})));a(t),l(j)}else d("No data received from the server")}catch(AK){console.error("Error fetching users:",AK),d("Failed to fetch users. Please try again later.")}finally{u(!1)}};(0,s.useEffect)((()=>{U()}),[]);const j=[{sno:1,user:"john.doe@example.com",method:"Login",city:"New York",country:"USA",ip:"192.168.1.1",latitute:"40.7128",longitute:"-74.0060",service:"Web",region:"North America",Time:"2023-06-15 09:30:45"},{sno:2,user:"jane.smith@example.com",method:"Logout",city:"London",country:"UK",ip:"192.168.1.2",latitute:"51.5074",longitute:"-0.1278",service:"Mobile",region:"Europe",Time:"2023-06-15 10:15:22"},{sno:3,user:"bob.johnson@example.com",method:"Login",city:"Tokyo",country:"Japan",ip:"192.168.1.3",latitute:"35.6762",longitute:"139.6503",service:"Web",region:"Asia",Time:"2023-06-15 11:45:10"},{sno:4,user:"alice.brown@example.com",method:"Update Profile",city:"Sydney",country:"Australia",ip:"192.168.1.4",latitute:"-33.8688",longitute:"151.2093",service:"Web",region:"Oceania",Time:"2023-06-15 12:30:15"},{sno:5,user:"charlie.wilson@example.com",method:"Login",city:"Toronto",country:"Canada",ip:"192.168.1.5",latitute:"43.6532",longitute:"-79.3832",service:"Mobile",region:"North America",Time:"2023-06-15 14:20:30"},{sno:6,user:"diana.miller@example.com",method:"Logout",city:"Berlin",country:"Germany",ip:"192.168.1.6",latitute:"52.5200",longitute:"13.4050",service:"Web",region:"Europe",Time:"2023-06-15 16:10:45"},{sno:7,user:"edward.davis@example.com",method:"Login",city:"Mumbai",country:"India",ip:"192.168.1.7",latitute:"19.0760",longitute:"72.8777",service:"Mobile",region:"Asia",Time:"2023-06-15 18:05:20"},{sno:8,user:"fiona.clark@example.com",method:"Update Settings",city:"S\xe3o Paulo",country:"Brazil",ip:"192.168.1.8",latitute:"-23.5505",longitute:"-46.6333",service:"Web",region:"South America",Time:"2023-06-15 20:15:40"}],z=[{icon:(0,$g.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-8 h-8",children:[(0,$g.jsx)("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),(0,$g.jsx)("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"})]}),onClick:e=>{L(e);const n=e.phone.replace("+91 ","");x(e.name),y(e.email),g(e.role),T(n),C(e.Employee),_(""),S(""),P(!0),t(!0)},label:"Edit"},{icon:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-8 h-8",children:(0,$g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),onClick:async e=>{if(window.confirm(`Are you sure you want to delete user ${e.name}?`))try{const n=await mR.delete(`http://34.100.168.176:4000/api/admin/deleteUsers/${e.email}`);var t;if(n.data&&n.data.success)qJ.success("User deleted successfully"),await U();else qJ.error((null===(t=n.data)||void 0===t?void 0:t.message)||"Failed to delete user")}catch(h){var n,r;console.error("Error deleting user:",h),qJ.error(`Failed to delete user: ${(null===(n=h.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||h.message}`)}},label:"Delete"}],H=()=>{x(""),y(""),_(""),S(""),g("user"),T(""),C(""),P(!1),L(null)},G=()=>{t(!1),H()};return(0,$g.jsxs)("div",{className:"flex flex-col w-full h-full",children:[(0,$g.jsx)(iK,{position:"top-right",richColors:!0}),(0,$g.jsxs)("div",{className:"flex flex-col justify-between md:flex-row",children:[(0,$g.jsxs)("div",{className:"flex items-start justify-start gap-5 p-4",children:[(0,$g.jsx)(cK,{onSwitch:e=>{r(e)}}),(0,$g.jsxs)("button",{className:"flex h-16 w-44 items-center justify-center gap-2 rounded-lg bg-[#101010]/90 outline outline-1 outline-offset-[-0.50px] outline-white backdrop-blur-sm",children:[(0,$g.jsx)("div",{className:"font-['Poppins'] text-lg font-medium text-white",children:"Sort By"}),(0,$g.jsx)("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,$g.jsx)("g",{id:"bx:sort",children:(0,$g.jsx)("path",{id:"Vector",d:"M8 16.5H4L10 22.5V2.5H8V16.5ZM14 5.5V22.5H16V8.5H20L14 2.5V5.5Z",fill:"white"})})})]})]}),(0,$g.jsx)("div",{className:"flex items-center justify-center p-4 md:items-end md:justify-end",children:(0,$g.jsxs)("button",{type:"button",onClick:()=>{H(),t(!0)},class:"mb-2 me-2 inline-flex items-center rounded-lg bg-[#050708] px-5 py-2.5 text-center text-sm font-medium text-white hover:bg-[#050708]/90 focus:outline-none focus:ring-4 focus:ring-[#050708]/50 md:h-16 md:w-44 dark:hover:bg-[#050708]/30 dark:focus:ring-[#050708]/50",children:[(0,$g.jsx)("img",{src:FJ,alt:"adduser",className:"w-5 h-5 -ms-1 me-2"}),"Add User"]})})]}),(0,$g.jsx)("div",{className:"flex flex-col flex-1 gap-4 px-4 py-4 rounded-2xl",children:(0,$g.jsx)("div",{className:"h-[100%] rounded-2xl border-2 border-white bg-[#101010]/90 backdrop-blur-sm",children:(0,$g.jsx)(aK,{headers:"UserP"===n?[{id:"sno",label:"S.No"},{id:"name",label:"Name"},{id:"email",label:"Email"},{id:"role",label:"Role"},{id:"Employee",label:"Employee ID"},{id:"phone",label:"phone no"}]:[{id:"sno",label:"S.No"},{id:"user",label:"User"},{id:"method",label:"Method"},{id:"city",label:"City"},{id:"country",label:"Country"},{id:"ip",label:"IP"},{id:"latitute",label:"Latitute"},{id:"longitute",label:"Longitute"},{id:"service",label:"Service"},{id:"region",label:"Region"},{id:"Time",label:"time"}],data:"UserP"===n?i:o,isLoading:c,error:h,actions:"UserP"===n?z:[],actionLabel:"UserP"===n?"Actions":null,headerClassName:"bg-[rgba(59,59,59)]",className:"h-[80%]"})})}),e&&(0,$g.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,$g.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:G}),(0,$g.jsxs)("div",{className:"relative z-50 w-full max-w-md p-6 bg-white rounded-lg shadow-lg dark:bg-gray-800",children:[(0,$g.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,$g.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:N?"Edit User":"Add New User"}),(0,$g.jsx)("button",{onClick:G,className:"text-gray-400 hover:text-gray-500",children:(0,$g.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,$g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,$g.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),N)try{p(!0);const e={name:v,role:m,phoneno:E,empid:M};if(w){if(w!==A)return qJ.error("Passwords do not match"),void p(!1);e.password=w}const r=await mR.put(`http://34.100.168.176:4000/api/admin/updateUsers/${b}`,e);var n;if(r.data&&r.data.success)qJ.success("User updated successfully"),t(!1),H(),U();else qJ.error((null===(n=r.data)||void 0===n?void 0:n.message)||"Failed to update user")}catch(h){var r,i;console.error("Error updating user:",h),qJ.error(`Failed to update user: ${(null===(r=h.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message)||h.message}`)}finally{p(!1)}else(async e=>{if(e.preventDefault(),A!=w&&alert("Password is not matching, please check the password and try again!!!"),A===w)try{const e=await mR.post("http://34.100.168.176:4000/auth/register",{name:v,email:b,password:w,phoneno:E,role:m,empid:M});201===e.status&&e.data.success?(qJ.success("User registered successfully"),t(!1),await U()):qJ.error("Unknown error has occurred")}catch(h){var n,r,i,s,a,o;k(`Failed to register: ${(null===(n=h.response)||void 0===n||null===(r=n.data)||void 0===r||null===(i=r.error)||void 0===i?void 0:i.message)||h.message}`),qJ.error(`Failed to register: ${(null===(s=h.response)||void 0===s||null===(a=s.data)||void 0===a||null===(o=a.error)||void 0===o?void 0:o.message)||h.message}`)}else qJ.error("Password is not matching")})(e)},className:"space-y-4",children:[(0,$g.jsxs)("div",{children:[(0,$g.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Name"}),(0,$g.jsx)("input",{type:"text",name:"name",value:v,onChange:e=>x(e.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-900 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:"true"})]}),(0,$g.jsxs)("div",{children:[(0,$g.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Email Id"}),(0,$g.jsx)("input",{type:"email",name:"email",value:b,onChange:e=>y(e.target.value),className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-gray-900 focus:border-primary-600 focus:ring-primary-600 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"name@company.com",required:"true",disabled:N})]}),(0,$g.jsxs)("div",{children:[(0,$g.jsxs)("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:["Password ",N&&"(Leave blank to keep current password)"]}),(0,$g.jsxs)("div",{className:"relative",children:[(0,$g.jsx)("input",{type:D?"text":"password",name:"password",value:w,onChange:e=>_(e.target.value),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-gray-900 focus:border-primary-600 focus:ring-primary-600 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",required:!N}),(0,$g.jsx)("button",{type:"button",onClick:()=>{B(!D)},className:"absolute inset-y-0 right-0 flex items-center pr-3",children:D?(0,$g.jsx)(uU,{className:"w-5 h-5 text-gray-500"}):(0,$g.jsx)(hU,{className:"w-5 h-5 text-gray-500"})})]})]}),(0,$g.jsxs)("div",{children:[(0,$g.jsxs)("label",{htmlFor:"confirm-password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:["Confirm Password ",N&&"(Leave blank to keep current password)"]}),(0,$g.jsxs)("div",{className:"relative",children:[(0,$g.jsx)("input",{type:O?"text":"password",name:"confirm-password",value:A,onChange:e=>S(e.target.value),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-gray-900 focus:border-primary-600 focus:ring-primary-600 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",required:!N}),(0,$g.jsx)("button",{type:"button",onClick:()=>{F(!O)},className:"absolute inset-y-0 right-0 flex items-center pr-3",children:O?(0,$g.jsx)(uU,{className:"w-5 h-5 text-gray-500"}):(0,$g.jsx)(hU,{className:"w-5 h-5 text-gray-500"})})]})]}),(0,$g.jsxs)("div",{children:[(0,$g.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Phone Number"}),(0,$g.jsxs)("div",{className:"relative",children:[(0,$g.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500",children:"+91"}),(0,$g.jsx)("input",{type:"text",name:"phoneno",value:E,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,10);T(t)},className:"w-full p-2.5 pl-12 border border-gray-300 rounded-lg bg-gray-50 text-gray-900 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Enter 10-digit mobile number",maxLength:"10",required:"true"})]})]}),(0,$g.jsxs)("div",{children:[(0,$g.jsx)("label",{for:"confirm-password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"User Role"}),(0,$g.jsxs)("select",{required:!0,value:m,onChange:e=>{g(e.target.value)},className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-gray-900 focus:border-primary-600 focus:ring-primary-600 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",children:[(0,$g.jsx)("option",{value:"user",children:"User"}),(0,$g.jsx)("option",{value:"admin",children:"Admin"}),(0,$g.jsx)("option",{value:"superadmin",children:"Super-Admin"})]})]}),(0,$g.jsxs)("div",{children:[(0,$g.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Employee ID"}),(0,$g.jsx)("input",{type:"text",name:"empid",value:M,onChange:e=>C(e.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-900 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:"true"})]}),(0,$g.jsxs)("div",{className:"flex justify-end mt-6 space-x-3",children:[(0,$g.jsx)("button",{type:"button",onClick:G,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),(0,$g.jsx)("button",{type:"submit",disabled:f,className:"px-4 py-2 text-sm font-medium text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500",children:f?(0,$g.jsxs)($g.Fragment,{children:[(0,$g.jsxs)("svg",{className:"w-5 h-5 mr-3 -ml-1 text-white animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,$g.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,$g.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),N?"Updating...":"Adding..."]}):N?"Update User":"Add User"})]})]})]})]})]})},hK=()=>(0,$g.jsx)("div",{className:"flex flex-col w-full h-full",children:(0,$g.jsx)("div",{className:"flex flex-col flex-1 gap-4 px-4 py-4",children:(0,$g.jsxs)("div",{className:"h-full rounded-2xl border-2 border-white bg-[rgba(16,16,16,0.75)] backdrop-blur-sm",children:[(0,$g.jsxs)("div",{className:"lg:flex md:h-[10%] items-center justify-between px-6",children:[(0,$g.jsx)("div",{className:"flex gap-10",children:(0,$g.jsxs)("button",{type:"button",className:"inline-flex items-center rounded-full border border-blue-700 p-2.5 text-center text-sm font-medium text-blue-700 hover:bg-blue-700 hover:text-white focus:outline-none focus:ring-4 focus:ring-blue-300 dark:border-blue-500 dark:text-blue-500 dark:hover:bg-blue-500 dark:hover:text-white dark:focus:ring-blue-800",children:[(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6",children:(0,$g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})}),(0,$g.jsx)("span",{className:"sr-only",children:"Add User"})]})}),(0,$g.jsx)("div",{className:"items-center justify-start font-['Poppins'] text-3xl font-semibold text-white",children:"Alert Logs"}),(0,$g.jsxs)("div",{className:"gap-10 lg:flex justify-evenly",children:[(0,$g.jsxs)("div",{className:"flex h-14 w-full items-center justify-center gap-5 rounded-lg bg-[#101010] px-4 text-white",children:[(0,$g.jsx)("p",{className:"font-['Poppins'] text-lg font-semibold",children:"From"}),(0,$g.jsx)("div",{className:"rounded bg-[#3b3b3b]",children:(0,$g.jsx)("input",{type:"Date"})}),(0,$g.jsx)("p",{className:"font-['Poppins'] text-lg font-semibold",children:"To"}),(0,$g.jsx)("div",{className:"rounded bg-[#3b3b3b]",children:(0,$g.jsx)("input",{type:"Date"})}),(0,$g.jsx)("button",{children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"size-10",children:(0,$g.jsx)("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule":"evenodd"})})})]}),(0,$g.jsxs)("div",{className:"flex items-center justify-center",children:[" ",(0,$g.jsx)("button",{type:"button",className:"mt-4 inline-flex items-center justify-center rounded-lg bg-white px-5 py-2.5 text-center text-sm text-black backdrop-blur-sm md:mt-0 h-11 w-28 md:font-medium",children:(0,$g.jsx)("span",{className:"justify-start font-['Poppins'] text-lg font-medium text-black",children:"Export"})})]})]})]}),(0,$g.jsx)("div",{className:"scrollbar-customd m-4 md:h-[86%] overflow-x-auto rounded-2xl bg-[#101010]/90 backdrop-blur-sm",children:(0,$g.jsx)("div",{className:"min-w-[30px] overflow-x-auto",children:(0,$g.jsxs)("table",{className:"w-full text-white",children:[(0,$g.jsx)("thead",{className:"sticky top-0 bg-[#101010]/90 text-base backdrop-blur-sm",children:(0,$g.jsxs)("tr",{children:[(0,$g.jsx)("th",{scope:"col",className:"px-4 py-3 text-center whitespace-nowrap",children:"Logs"}),(0,$g.jsx)("th",{scope:"col",className:"px-4 py-3 text-center whitespace-nowrap",children:"TimeStamp"})]})}),(0,$g.jsxs)("tbody",{children:[(0,$g.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,$g.jsx)("td",{className:"px-4 py-4",children:"John Doe"}),(0,$g.jsx)("td",{className:"px-4 py-4",children:"1234567890"})]}),(0,$g.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,$g.jsx)("td",{className:"px-4 py-4",children:"John Doe"}),(0,$g.jsx)("td",{className:"px-4 py-4",children:"1234567890"})]}),(0,$g.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,$g.jsx)("td",{className:"px-4 py-4",children:"John Doe"}),(0,$g.jsx)("td",{className:"px-4 py-4",children:"1234567890"})]}),(0,$g.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,$g.jsx)("td",{className:"px-4 py-4",children:"John Doe"}),(0,$g.jsx)("td",{className:"px-4 py-4",children:"1234567890"})]}),(0,$g.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,$g.jsx)("td",{className:"px-4 py-4",children:"John Doe"}),(0,$g.jsx)("td",{className:"px-4 py-4",children:"1234567890"})]})]})]})})})]})})}),dK=()=>{ne();const[e,t]=(0,s.useState)(null);return(0,s.useEffect)((()=>{const e=localStorage.getItem("email");e&&mR.post("http://34.100.168.176:4000/api/admin/getUserDetails",{email:e}).then((e=>{t(e.data.data)})).catch((e=>console.error("Error fetching user data:",e)))}),[]),(0,$g.jsx)("div",{className:"relative flex flex-col w-screen h-screen bg-fixed bg-center bg-cover",style:{backgroundImage:`url(${Fe})`},children:(0,$g.jsxs)("div",{className:"flex flex-row w-full h-full",children:[(0,$g.jsx)("div",{className:"w-auto h-full",children:(0,$g.jsx)(OJ,{})}),(0,$g.jsx)("div",{className:"w-full h-full text-white",children:(0,$g.jsxs)("div",{className:"flex h-[100%] flex-1 flex-col content-between gap-16 px-4 py-4",children:[(0,$g.jsxs)("div",{className:"flex h-[45%] w-full rounded-2xl border-2 border-white bg-[rgba(16,16,16,0.75)] backdrop-blur-sm",children:[(0,$g.jsxs)("div",{className:"w-full",children:[(0,$g.jsxs)("div",{className:"flex h-[20%] items-center justify-start pl-5 font-['Poppins'] text-lg font-bold",children:["Welcome ",e?e.name:"Error"]}),(0,$g.jsx)("div",{className:"flex h-[60%] items-center justify-center",children:(0,$g.jsx)("div",{className:"font-['Poppins'] flex h-28 w-28 items-center justify-center rounded-full border-[5px] border-white text-3xl font-bold",children:e?e.name.charAt(0):"Error"})})]}),(0,$g.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,$g.jsx)("table",{className:"h-[40%] w-full table-auto py-14",children:(0,$g.jsxs)("tbody",{children:[(0,$g.jsxs)("tr",{children:[(0,$g.jsx)("th",{className:"flex items-center justify-center h-full pr-4",children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6",children:(0,$g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})})}),(0,$g.jsx)("td",{className:"text-center",children:e?e.name:"Error"})]}),(0,$g.jsxs)("tr",{children:[(0,$g.jsx)("th",{className:"flex items-center justify-center h-full pr-4",children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6",children:(0,$g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"})})}),(0,$g.jsx)("td",{className:"text-center",children:e?e.role:"Error"})]}),(0,$g.jsxs)("tr",{children:[(0,$g.jsx)("th",{className:"flex items-center justify-center h-full pr-4",children:(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6",children:(0,$g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"})})}),(0,$g.jsx)("td",{className:"text-center",children:e?e.empid:"Error"})]})]})})}),(0,$g.jsx)("div",{children:(0,$g.jsx)("button",{className:"m-14 rounded-lg bg-[#101010]/70 outline outline-1 outline-offset-[-0.50px] outline-white",children:(0,$g.jsxs)("div",{className:"flex items-center justify-center w-24 h-12 gap-3 text-center",children:["Edit",(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 28 28","stroke-width":"1.5",stroke:"currentColor",class:"size-4",children:(0,$g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})})]})})})]}),(0,$g.jsxs)("div",{className:"flex h-[50%] rounded-2xl border-2 border-white bg-[rgba(16,16,16,0.75)] backdrop-blur-sm",children:[(0,$g.jsxs)("div",{className:"w-full",children:[(0,$g.jsx)("div",{className:"flex h-[20%] items-center justify-start pl-5 font-['Poppins'] text-lg font-bold",children:"Personal Information"}),(0,$g.jsx)("div",{className:"flex h-[50%] w-full justify-center",children:(0,$g.jsx)("table",{className:"table-auto w-[60%]",children:(0,$g.jsxs)("tbody",{children:[(0,$g.jsxs)("tr",{children:[(0,$g.jsxs)("th",{className:"pr-4 text-base font-semibold text-center text-zinc-400 ",children:["First Name",(0,$g.jsx)("td",{className:"flex items-center justify-center text-base font-normal text-white",children:e?e.name:"Error"})]}),(0,$g.jsxs)("th",{className:"pr-4 text-base font-semibold text-center text-zinc-400 ",children:["Email Address",(0,$g.jsx)("td",{className:"flex items-center justify-center text-base font-normal text-white",children:e?e.email:"Error"})]})]}),(0,$g.jsxs)("tr",{children:[(0,$g.jsxs)("th",{className:"pr-4 text-base font-semibold text-center text-zinc-400 ",children:["Phone Number",(0,$g.jsx)("td",{className:"flex items-center justify-center text-base font-normal text-white",children:e?e.phoneno:"Error"})]}),(0,$g.jsxs)("th",{className:"pr-4 text-base font-semibold text-center text-zinc-400 ",children:["Employee Id",(0,$g.jsx)("td",{className:"flex items-center justify-center text-base font-normal text-white",children:e?e.empid:"Error"})]})]}),(0,$g.jsx)("tr",{children:(0,$g.jsxs)("th",{className:"pr-4 text-base font-semibold text-center text-zinc-400 ",children:["User Role",(0,$g.jsx)("td",{className:"flex items-center justify-center text-base font-normal text-white",children:e?e.role:"Error"})]})})]})})})]}),(0,$g.jsx)("div",{className:"flex items-center justify-center w-[20%]"}),(0,$g.jsx)("div",{children:(0,$g.jsx)("button",{className:"m-14 rounded-lg bg-[#101010]/70 outline outline-1 outline-offset-[-0.50px] outline-white",children:(0,$g.jsxs)("div",{className:"flex items-center justify-center w-24 h-12 gap-3 text-center",children:["Edit",(0,$g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 28 28","stroke-width":"1.5",stroke:"currentColor",class:"size-4",children:(0,$g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})})]})})})]})]})})]})})},fK=()=>{const[e,t]=(0,s.useState)(!0),n=()=>{localStorage.clear(),t(!1),window.location.href="/"};return(0,s.useEffect)((()=>{const e=async()=>{try{await mR.get("http://34.100.168.176:4000/auth/access-token",{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}})}catch(Cx){var e;if(401===(null===(e=Cx.response)||void 0===e?void 0:e.status))try{const e=localStorage.getItem("refreshToken");if(!e)return void n();const r=await mR.post("http://34.100.168.176:4000/auth/access-token-generate",{refreshToken:e});r.data.accessToken?((e=>{localStorage.setItem("accessToken",e);const t=new Date;t.setTime(t.getTime()+864e5);const n="expires="+t.toUTCString();document.cookie=`accessToken=${e}; ${n}; path=/; Secure; SameSite=Strict`})(r.data.accessToken),t(!0)):n()}catch(i){var r;401===(null===(r=i.response)||void 0===r?void 0:r.status)||console.error("Token refresh failed:",i),n()}else n()}};e();const r=setInterval(e,3e5);return()=>clearInterval(r)}),[]),localStorage.getItem("accessToken")&&localStorage.getItem("refreshToken")&&e?(0,$g.jsx)(we,{}):(0,$g.jsx)(ye,{to:"/"})},pK=e=>{let{onValueChange10:t}=e;const[n,r]=(0,s.useState)(!1),[i,a]=(0,s.useState)("Min");return(0,$g.jsx)($g.Fragment,{children:(0,$g.jsxs)("label",{className:"relative inline-flex items-center justify-center p-1 bg-transparent border rounded-md cursor-pointer select-none themeSwitcherTwo shadow-card w-[175px] h-[55px]",children:[(0,$g.jsx)("input",{type:"checkbox",className:"sr-only",checked:n,onChange:()=>{r(!n);const e=n?"ASide":"BSide";a(e),t(e),console.log("Value",e)}}),(0,$g.jsx)("span",{className:"flex items-center space-x-[6px] rounded py-3 px-[19px] text-sm font-medium"+(n?"text-body-color":"text-primary bg-[rgba(0,119,228)]"),children:(0,$g.jsx)("p",{children:"A Side"})}),(0,$g.jsx)("span",{className:"flex items-center space-x-[6px] rounded py-3 px-[19px] text-sm font-medium"+(n?"text-primary bg-[rgba(0,119,228)]":"text-body-color"),children:(0,$g.jsx)("p",{children:"B Side"})})]})})},mK=e=>{let{onValueChange:t}=e;const[n,r]=(0,s.useState)(!1),[i,a]=(0,s.useState)("Min");return(0,$g.jsx)($g.Fragment,{children:(0,$g.jsxs)("label",{className:"relative inline-flex items-center justify-center p-1 bg-transparent border rounded-md cursor-pointer select-none themeSwitcherTwo shadow-card w-[210px] h-[55px]",children:[(0,$g.jsx)("input",{type:"checkbox",className:"sr-only",checked:n,onChange:()=>{r(!n);const e=n?"min":"max";a(e),t(e),console.log("Value",e)}}),(0,$g.jsx)("span",{className:"flex flex-row items-center space-x-[6px] rounded py-3 px-[14px] text-sm font-medium"+(n?"text-body-color":"text-primary bg-[rgba(0,119,228)]"),children:(0,$g.jsx)("p",{children:"Min.Value"})}),(0,$g.jsx)("span",{className:"flex items-center space-x-[6px] rounded py-3 px-[14px] text-sm font-medium "+(n?"text-primary bg-[rgba(0,119,228)]":"text-body-color"),children:(0,$g.jsx)("p",{children:"Max.Value"})})]})})},gK=e=>{let{data:t,dates:n}=e;const r=t.map((e=>e.key));(0,s.useEffect)((()=>{n.length>0&&localStorage.setItem("heatmapData",JSON.stringify({data:t}))}),[t]);const i=(0===n.length?JSON.parse(localStorage.getItem("heatmapData")):null)||{data:t}||{data:{}},a=!n||0===n.length||i.data&&0===Object.keys(i.data).length;return(0,$g.jsx)("div",{className:"relative w-full overflow-x-auto rounded-lg shadow-md scrollbar-custom",children:(0,$g.jsxs)("table",{className:"w-full text-sm font-normal text-white md:text-lg font-poppins",children:[(0,$g.jsx)("thead",{className:"sticky top-0 bg-[rgb(16,16,16)] z-10 rounded-lg",children:(0,$g.jsxs)("tr",{children:[(0,$g.jsx)("th",{className:"px-2 md:px-6 py-2 md:py-3 border border-white bg-[rgb(16,16,16)]",children:"Date"}),r.map(((e,t)=>(0,$g.jsx)("th",{className:"px-2 md:px-6 py-2 md:py-3 border border-white "+(t%2===0?"bg-[rgb(16,16,16)]":"bg-[rgb(20,20,20)]"),children:e},e)))]})}),(0,$g.jsx)("tbody",{children:a?(0,$g.jsx)("tr",{className:"border-b border-white bg-[rgb(16,16,16)] w-full",children:(0,$g.jsx)("td",{colSpan:r.length+1,className:"px-2 md:px-6 py-2 md:py-4 text-center font-medium text-white border border-white bg-[rgb(16,16,16)] ",children:"No data available"})}):n.map(((e,n)=>(0,$g.jsxs)("tr",{className:"border-b border-white bg-[rgb(16,16,16)]",children:[(0,$g.jsx)("td",{className:"px-2 md:px-6 py-2 md:py-4 border border-white bg-[rgb(16,16,16)] text-xs md:text-sm",children:new Date(e).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})}),t.map(((e,t)=>{const r=e.values[n];return(0,$g.jsx)("td",{className:`px-2 md:px-6 py-2 md:py-4 border border-white ${t%2===0?"bg-[rgb(16,16,16)]":"bg-[rgb(20,20,20)]"} text-xs md:text-sm`,children:(0,$g.jsx)("span",{className:`\n                        ${r>=190&&r<230?"text-green-400":r>=230&&r<250?"text-green-600":r>=250&&r<300?"text-orange-600":r>=300&&r<450?"text-red-600":r>=450?"text-red-800":"text-white"}\n                      `,children:(null===r||void 0===r?void 0:r.toFixed(2))||"-"})},`${e.key}-${n}`)}))]},e)))})]})})},vK=()=>{const[e,t]=(0,s.useState)(null),[n,r]=(0,s.useState)(null),[i,a]=(0,s.useState)("min"),[o,l]=(0,s.useState)("ASide"),[c,u]=(0,s.useState)([]),[h,d]=(0,s.useState)([]),[f,p]=(0,s.useState)([]),[m,g]=(0,s.useState)([]),[v,x]=(0,s.useState)(null),[b,y]=(0,s.useState)(null),[w,_]=((0,s.useRef)(null),(0,s.useState)({minvalue:{},maxvalue:{},data:[],dates:[]})),A=e=>{const{name:n,value:i}=e.target;"startdate"===n?(t(i),localStorage.setItem("startDate",i)):"enddate"===n&&(r(i),localStorage.setItem("endDate",i))};return(0,s.useEffect)((()=>{const e=localStorage.getItem("startDate"),n=localStorage.getItem("endDate");e&&t(e),n&&r(n)}),[]),(0,s.useEffect)((()=>{e&&n&&(async()=>{try{const t=new URLSearchParams({startDate:e||"",endDate:n||"",side:o,value:i}),r=await mR.get(`http://34.100.168.176:4000/api/v2/getHeatmap?${t}`);_(r.data);const s="min"===i?r.data.minvalue:r.data.maxvalue,a=Object.entries(s).map((e=>{let[t,n]=e;return{key:t,value:n}}));p(a)}catch(b){console.error("Error fetching heatmap data:",b),y("Failed to load heatmap data")}})()}),[e,n,i,o]),(0,$g.jsxs)("div",{className:"relative w-screen bg-fixed bg-center bg-cover md:h-screen md:bg-center",style:{backgroundImage:`url(${Fe})`},children:[(0,$g.jsx)(vR,{onLogout:()=>{}}),(0,$g.jsxs)("div",{className:"m-4 flex flex-col rounded-lg border border-white bg-[rgba(16,16,16,0.75)] text-white md:h-[87%]",children:[(0,$g.jsxs)("div",{className:"grid-row md:grid-col grid h-[1100px] rounded-tl-lg rounded-tr-lg md:h-[40%] md:w-full",children:[(0,$g.jsx)("div",{className:"h-[10px] md:h-[100%]",children:(0,$g.jsxs)("div",{className:"flex h-[480px] flex-col px-10 py-4 md:h-full md:justify-between",children:[(0,$g.jsx)("p",{className:"mb-2 flex justify-start text-2xl font-semibold md:h-[40%] xl:h-[20%] xl:mb-0",children:"Collector Bar"}),(0,$g.jsxs)("div",{className:"flex h-[100%] w-[100%] flex-col md:flex-row xl:h-[100%] xl:flex-row",children:[(0,$g.jsxs)("div",{className:"flex w-[100%] flex-col items-center justify-evenly md:w-[40%] md:flex-col custom-md-air:flex-col xl:w-[30%] xl:flex-row",children:[(0,$g.jsx)("p",{children:(0,$g.jsx)(pK,{onValueChange10:e=>{l(e)}})}),(0,$g.jsx)("p",{className:"flex mt-3 text-xl font-semibold",children:"Select Date"})]}),(0,$g.jsxs)("div",{className:"flex w-[100%] flex-col md:h-[100%] md:flex-col md:gap-4 md:space-x-4 xl:flex-row",children:[(0,$g.jsxs)("div",{className:"flex w-[100%] flex-col items-center justify-between md:h-[60%] md:w-[100%] md:flex-row xl:h-[100%] xl:w-[55%] xl:gap-10",children:[(0,$g.jsx)("p",{className:"mt-3 text-lg",children:"From"}),(0,$g.jsx)("input",{type:"date",id:"startdate",name:"startdate",value:e,onChange:A,className:"text-md custom-datepicker h-[100%] items-center rounded-md border border-gray-200 bg-[rgba(0,0,0,0.6)] p-1 text-white shadow-sm md:w-[40%] xl:h-[55%]"}),(0,$g.jsx)("p",{className:"mt-3 text-lg",children:"To"}),(0,$g.jsx)("input",{type:"date",id:"enddate",name:"enddate",value:n,onChange:A,className:"text-md custom-datepicker h-[100%] items-center rounded-md border border-gray-200 bg-[rgba(0,0,0,0.6)] p-1 text-white shadow-sm md:w-[40%] xl:h-[55%]"})]}),(0,$g.jsxs)("div",{className:"mt-4 flex w-[100%] flex-col items-center justify-evenly md:mt-0 md:h-[50%] md:flex-row md:gap-4 xl:h-[100%] xl:w-[50%]",children:[(0,$g.jsxs)("div",{className:"mb-5 flex h-10 flex-col items-center justify-center rounded-lg border border-white bg-[rgba(16,16,16,0.8)] md:mb-0 md:h-[85%] xl:h-[55%] md:w-[50%] xl:w-[40%]",children:[" ",(0,$g.jsx)("p",{className:"text-xl font-semibold",children:(new Date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})})]}),(0,$g.jsx)("p",{children:(0,$g.jsx)(mK,{onValueChange:e=>{a(e)}})})]})]})]})]})}),(0,$g.jsx)("div",{className:"h-[40px] md:h-[90%]",children:(0,$g.jsxs)("div",{className:"flex h-[330px] flex-col justify-between px-10 md:h-[100%]",children:[(0,$g.jsx)("p",{className:"mb-2 flex justify-start text-2xl font-semibold md:h-[40%]",children:"max"===i?"Extreme Max":"Extreme Min"}),(0,$g.jsx)("div",{className:"grid grid-cols-2 gap-4 px-4 md:h-[100%] md:grid-cols-4 md:grid-rows-2 xl:h-[75%] xl:grid-cols-8 xl:grid-rows-1",children:f.length>0?f.map(((e,t)=>{var n,r;const s="min"===i?null===(n=w.minvalue)||void 0===n?void 0:n[e.key]:null===(r=w.maxvalue)||void 0===r?void 0:r[e.key];return(0,$g.jsxs)("div",{className:"flex h-full flex-col items-center justify-center rounded-lg border border-white bg-[rgba(16,16,16,0.8)]",children:[(0,$g.jsx)("p",{className:"text-sm font-semibold md:text-xl text-blue-400",children:s?s.toFixed(2):"N/A"}),(0,$g.jsxs)("p",{children:["max"===i?"Max of":"Min of"," ",(0,$g.jsx)("span",{className:"text-sm text-white md:text-md",children:e.key||"Data"})]})]},t)})):(0,$g.jsx)($g.Fragment,{children:[...Array(8)].map(((e,t)=>(0,$g.jsx)("div",{className:"flex h-full flex-col items-center justify-center rounded-lg border border-white bg-[rgba(16,16,16,0.8)]",children:(0,$g.jsx)("div",{className:"flex h-full w-[40%] items-center justify-center rounded-lg",children:(0,$g.jsx)("div",{className:"text-xl font-semibold text-[rgb(39,129,255)]",children:"No Data Available"})},t)})))})})]})})]}),(0,$g.jsx)("div",{className:"scrollbar-custom mx-8 flex overflow-x-auto overflow-y-auto rounded-bl-lg rounded-br-lg md:mt-4 md:h-[60%]",children:(0,$g.jsx)(gK,{data:w.data||[],dates:w.dates||[]})})]})]})},xK=()=>(0,$g.jsx)("div",{children:(0,$g.jsx)(oU,{})}),bK=e=>{let{data:t}=e;const n=t?Object.keys(t).filter((e=>"createdAt"!==e&&"minValue"!==e&&"maxValue"!==e&&"averageValue"!==e)).flatMap((e=>t[e].map(((e,n)=>({value:e,createdAt:t.createdAt[n]}))))).sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt))):[],r=["S.no","TimeStamp","Value"];return(0,$g.jsx)("div",{style:{maxHeight:"361px"},className:"overflow-x-auto md:overflow-visible",children:(0,$g.jsxs)("table",{className:"w-full text-sm font-normal text-white md:text-base font-poppins",children:[(0,$g.jsx)("thead",{className:"sticky top-0 bg-[rgb(16,16,16)] z-10 text-xs md:text-sm md:font-regular",children:(0,$g.jsx)("tr",{children:r.map(((e,t)=>(0,$g.jsx)("th",{className:"px-2 md:px-6 py-2 md:py-3 border border-white "+(t%2===0?"bg-[rgb(16,16,16)]":"bg-[rgb(20,20,20)]"),children:e},t)))})}),(0,$g.jsx)("tbody",{children:0===n.length?(0,$g.jsx)("tr",{className:"border-b border-white bg-[rgb(16,16,16)]",children:(0,$g.jsx)("td",{colSpan:r.length,className:"px-2 md:px-6 py-2 md:py-4 text-xs md:text-sm text-center font-medium text-white border border-white bg-[rgb(16,16,16)]",children:"No data available"})}):n.map(((e,t)=>(0,$g.jsxs)("tr",{className:"border-b border-white bg-[rgb(16,16,16)]",children:[(0,$g.jsx)("td",{className:"px-1 md:px-2 py-2 md:py-4 border border-white bg-[rgb(16,16,16)] text-xs md:text-sm",children:t+1}),(0,$g.jsx)("td",{className:"px-1 md:px-2 py-2 md:py-4 border border-white bg-[rgb(20,20,20)] text-xs md:text-sm",children:new Date(e.createdAt).toLocaleString()}),(0,$g.jsxs)("td",{className:"px-1 md:px-2 py-2 md:py-4 border border-white bg-[rgb(20,20,20)] text-xs md:text-sm",children:[e.value,"\xb0C"]})]},t)))})]})})},yK=()=>{const[e,t]=(0,s.useState)("30Min"),[n,r]=(0,s.useState)(null),[i,a]=(0,s.useState)("CBT1A1"),[o,l]=(0,s.useState)(),[c]=Oe(),[u,h]=(0,s.useState)({labels:[],datasets:[{data:[],borderColor:"rgb(0, 119, 228)",backgroundColor:e=>{const t=e.chart,{ctx:n,chartArea:r}=t;if(!r)return null;const i=n.createLinearGradient(0,r.bottom,0,r.top);return i.addColorStop(0,"rgba(0, 119, 228, 0.1)"),i.addColorStop(.5,"rgba(0, 119, 228, 0.3)"),i.addColorStop(1,"rgba(0, 119, 228, 0.8)"),i},tension:0,fill:!0,borderWidth:4}]}),[d,f]=(0,s.useState)("C"),p=e=>{t(e)},m=e=>{r(e)};(0,s.useEffect)((()=>{const e=c.get("part"),t=localStorage.getItem("selectedDropdown");e?(a(e),localStorage.setItem("selectedDropdown",e)):t&&a(t)}),[c]),(0,s.useEffect)((()=>{(async()=>{try{const t=await mR.get("http://34.100.168.176:4000/api/v2/getcollectorbar",{params:{sensorId:i,time:e}});g(t.data)}catch(Cx){console.error("Error fetching collector bar data:",Cx)}})()}),[i,e]);const g=e=>{console.log("Received Collector Bar Data:",e),l(e);const t=i,n=e[t].map(((n,r)=>({[t]:n,createdAt:e.createdAt[r]}))),r=n.map((e=>new Date(e.createdAt).toLocaleTimeString())),s=n.map((e=>parseFloat(e[t])));h((e=>({...e,labels:r,datasets:[{...e.datasets[0],data:s}]}))),w(e.minValue),A(e.maxValue),E(e.averageValue.toFixed(2))},v={maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{title:function(e){const t=e[0].dataIndex;return`Timestamp: ${u.labels[t]}`},label:function(e){return`Temperature: ${e.parsed.y}\xb0C`},afterLabel:function(e){return"Hover for details!"}},displayColors:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleFont:{size:14,weight:"bold",color:"#fff"},bodyFont:{size:12,color:"#fff"},padding:10,borderWidth:1,borderColor:"#00c8ff"}},scales:{y:{position:"right",title:{display:!0,text:"Temperature (\xb0C)",color:"white"},ticks:{color:"white",callback:function(e){return e+" \xb0C"}}},x:{title:{display:!0,text:"Timestamp",color:"white"},ticks:{color:"white"}}}},[x,b]=(0,s.useState)([]);(0,s.useEffect)((()=>{(async()=>{try{const e=await mR.get("http://34.100.168.176:4000/api/v2/getcbname");b(e.data)}catch(Cx){console.error("Error fetching data:",Cx)}})()}),[]);const[y,w]=(0,s.useState)(0),[_,A]=(0,s.useState)(0),[S,E]=(0,s.useState)(0);return(0,$g.jsxs)("div",{className:"relative h-[1500px] w-screen overflow-y-hidden bg-cover bg-fixed bg-center md:h-screen md:bg-center",style:{backgroundImage:`url(${Fe})`},children:[(0,$g.jsx)(vR,{}),(0,$g.jsxs)("div",{className:"m-4 flex h-[1400px] flex-col rounded-lg border border-white bg-[rgba(16,16,16,0.5)] md:h-[87%]",children:[(0,$g.jsx)("div",{className:"flex flex-col bg-black rounded-tl-lg rounded-tr-lg md:h-16 md:w-full md:flex-row",children:(0,$g.jsx)("select",{className:"ml-5 border-b border-white bg-transparent font-['Inter'] text-3xl font-bold text-white focus:outline-none",value:i,onChange:e=>{const t=e.target.value;a(t),localStorage.setItem("selectedDropdown",t)},children:x.map(((e,t)=>(0,$g.jsx)("option",{value:e,className:"text-white bg-black",children:e},t)))})}),(0,$g.jsxs)("div",{className:"flex flex-col md:h-full xl:flex-row",children:[(0,$g.jsxs)("div",{className:"p-4 md:h-[50%] md:w-[100%] xl:h-[100%] xl:w-[80%]",children:[(0,$g.jsxs)("div",{className:"flex flex-col justify-between rounded-lg bg-[#101010]/80 shadow-[0px_8px_21.5px_0px_rgba(0,0,0,0.33)] md:h-[10%] md:w-[100%] md:flex-row",children:[(0,$g.jsxs)("div",{className:"flex items-center mx-auto",children:[(0,$g.jsx)("div",{className:"mr-10 flex justify-between font-['Inter'] font-semibold text-white md:text-[12px] xl:text-[26px]",children:"Max Value"}),(0,$g.jsxs)("div",{className:"ml-4 font-['Inter'] font-bold text-[#0084fe] md:text-sm xl:text-3xl",children:[_,"\xb0C"]})]}),(0,$g.jsxs)("div",{className:"flex items-center mx-auto",children:[(0,$g.jsx)("div",{className:"mr-10 flex justify-between font-['Inter'] font-medium text-white md:text-[12px] xl:text-[26px]",children:"Min Value"}),(0,$g.jsxs)("div",{className:"ml-4 font-['Inter'] font-bold text-[#0084fe] md:text-sm xl:text-3xl",children:[y,"\xb0C"]})]}),(0,$g.jsxs)("div",{className:"flex items-center mx-auto",children:[(0,$g.jsx)("div",{className:"mr-10 flex justify-between font-['Inter'] font-medium text-white md:text-[12px] xl:text-[26px]",children:"Avg Value"}),(0,$g.jsxs)("div",{className:"ml-4 font-['Inter'] font-bold text-[#0084fe] md:text-sm xl:text-3xl",children:[S,"\xb0C"]})]})]}),(0,$g.jsxs)("div",{className:"backdrop-blur-blur mt-4 h-[600px] rounded-2xl bg-[#101010]/80 md:h-[80%] xl:h-[88%] xl:w-[100%] 2xl:h-[88%]",children:[(0,$g.jsxs)("div",{className:"flex flex-col md:h-[10%] md:w-full md:flex-row",children:[(0,$g.jsx)("div",{className:"flex items-center justify-around text-white md:w-[10%]",children:(0,$g.jsx)("div",{className:"font-['Inter'] text-xl font-bold text-white",children:"TI"})}),(0,$g.jsxs)("div",{className:"flex flex-wrap items-center justify-around md:w-[50%] md:flex-row",children:[(0,$g.jsx)("button",{className:`text-blue-700 ${"30Min"===e?"bg-blue-700 text-white":""} mb-2 me-2 rounded-lg border border-blue-700 px-5 py-2.5 text-center text-sm font-medium hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:border-blue-500 dark:text-blue-500 dark:hover:bg-blue-500 dark:hover:text-white dark:focus:ring-blue-800`,onClick:()=>p("30Min"),children:"30Min"}),(0,$g.jsx)("button",{className:`text-blue-700 ${"1H"===e?"bg-blue-700 text-white":""} mb-2 me-2 rounded-lg border border-blue-700 px-5 py-2.5 text-center text-sm font-medium hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:border-blue-500 dark:text-blue-500 dark:hover:bg-blue-500 dark:hover:text-white dark:focus:ring-blue-800`,onClick:()=>p("1H"),children:"1H"}),(0,$g.jsx)("button",{className:`text-blue-700 ${"12H"===e?"bg-blue-700 text-white":""} mb-2 me-2 rounded-lg border border-blue-700 px-5 py-2.5 text-center text-sm font-medium hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:border-blue-500 dark:text-blue-500 dark:hover:bg-blue-500 dark:hover:text-white dark:focus:ring-blue-800`,onClick:()=>p("12H"),children:"12H"}),(0,$g.jsx)("button",{className:`text-blue-700 ${"1D"===e?"bg-blue-700 text-white":""} mb-2 me-2 rounded-lg border border-blue-700 px-5 py-2.5 text-center text-sm font-medium hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:border-blue-500 dark:text-blue-500 dark:hover:bg-blue-500 dark:hover:text-white dark:focus:ring-blue-800`,onClick:()=>p("1D"),children:"1D"}),(0,$g.jsx)("button",{className:`text-blue-700 ${"1W"===e?"bg-blue-700 text-white":""} mb-2 me-2 rounded-lg border border-blue-700 px-5 py-2.5 text-center text-sm font-medium hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:border-blue-500 dark:text-blue-500 dark:hover:bg-blue-500 dark:hover:text-white dark:focus:ring-blue-800`,onClick:()=>p("1W"),children:"1W"}),(0,$g.jsx)("button",{className:`text-blue-700 ${"1M"===e?"bg-blue-700 text-white":""} mb-2 me-2 rounded-lg border border-blue-700 px-5 py-2.5 text-center text-sm font-medium hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:border-blue-500 dark:text-blue-500 dark:hover:bg-blue-500 dark:hover:text-white dark:focus:ring-blue-800`,onClick:()=>p("1M"),children:"1M"}),(0,$g.jsx)("button",{className:`text-blue-700 ${"6M"===e?"bg-blue-700 text-white":""} mb-2 me-2 rounded-lg border border-blue-700 px-5 py-2.5 text-center text-sm font-medium hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:border-blue-500 dark:text-blue-500 dark:hover:bg-blue-500 dark:hover:text-white dark:focus:ring-blue-800`,onClick:()=>p("6M"),children:"6M"})]}),(0,$g.jsx)("div",{className:"flex items-center justify-evenly md:w-[10%]"}),(0,$g.jsxs)("div",{className:"flex items-center justify-evenly md:w-[30%]",children:[(0,$g.jsx)("button",{disabled:!0,className:`text-blue-700 ${"I"===n?"bg-blue-700 text-white":""} mb-2 me-2 rounded-lg border border-blue-700 px-5 py-2.5 text-center text-sm font-medium hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:border-blue-500 dark:text-blue-500 dark:hover:bg-blue-500 dark:hover:text-white dark:focus:ring-blue-800`,onClick:()=>m("I"),children:"I"}),(0,$g.jsx)("button",{disabled:!0,className:`text-blue-700 ${"II"===n?"bg-blue-700 text-white":""} mb-2 me-2 rounded-lg border border-blue-700 px-5 py-2.5 text-center text-sm font-medium hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:border-blue-500 dark:text-blue-500 dark:hover:bg-blue-500 dark:hover:text-white dark:focus:ring-blue-800`,onClick:()=>m("II"),children:"II"}),(0,$g.jsx)("button",{disabled:!0,className:`text-blue-700 ${"III"===n?"bg-blue-700 text-white":""} mb-2 me-2 rounded-lg border border-blue-700 px-5 py-2.5 text-center text-sm font-medium hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:border-blue-500 dark:text-blue-500 dark:hover:bg-blue-500 dark:hover:text-white dark:focus:ring-blue-800`,onClick:()=>m("III"),children:"III"}),(0,$g.jsx)("button",{disabled:!0,className:`text-blue-700 ${"IV"===n?"bg-blue-700 text-white":""} mb-2 me-2 rounded-lg border border-blue-700 px-5 py-2.5 text-center text-sm font-medium hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:border-blue-500 dark:text-blue-500 dark:hover:bg-blue-500 dark:hover:text-white dark:focus:ring-blue-800`,onClick:()=>m("IV"),children:"IV"})]})]}),(0,$g.jsx)("div",{className:"h-[420px] md:h-[85%]",children:(0,$g.jsx)("div",{className:"w-full h-full",children:(0,$g.jsx)(iO,{chartData:u,width:"100%",options:v})})})]})]}),(0,$g.jsxs)("div",{className:"backdrop-blur-blur m-4 rounded-2xl bg-[#101010]/75 p-4 text-white md:w-[96%] md:h-[50%] xl:h-[96%] xl:w-[25%]",children:[(0,$g.jsxs)("div",{className:"mb-8 flex h-[60px] items-center justify-evenly rounded-lg border border-white bg-[#101010]/90 md:mb-0 md:h-[8%]",children:[(0,$g.jsx)("div",{className:"font-['Poppins'] text-lg font-semibold text-white",children:"Unit Preference"}),(0,$g.jsxs)("div",{className:"my-8 flex items-center justify-evenly rounded-lg bg-[#101010]/90 md:h-[76%] md:w-[40%]",children:[(0,$g.jsxs)("div",{className:"flex items-center",children:[(0,$g.jsx)("input",{type:"radio",id:"radio1",name:"unit",value:"C",checked:"C"===d,onChange:()=>f("C")}),(0,$g.jsx)("div",{className:"w-[29px] font-['Inter'] text-sm font-medium text-white",children:"(\xb0C)"})]}),(0,$g.jsxs)("div",{className:"flex items-center",children:[(0,$g.jsx)("input",{type:"radio",id:"radio2",name:"unit",value:"F",checked:"F"===d,onChange:()=>f("F")}),(0,$g.jsx)("div",{className:"w-[29px] text-white text-sm font-medium font-['Inter']",children:"(\xb0F)"})]}),(0,$g.jsxs)("div",{className:"flex items-center",children:[(0,$g.jsx)("input",{type:"radio",id:"radio3",name:"unit",value:"K",checked:"K"===d,onChange:()=>f("K")}),(0,$g.jsx)("div",{className:"w-[29px] text-white text-sm font-medium font-['Inter']",children:"(K)"})]})]})]}),(0,$g.jsx)("div",{className:"2xl:my- scrollbar-custom overflow-x-scroll rounded-lg border border-white bg-[#101010]/90 md:my-4 xl:my-8 md:h-[76%]",children:(0,$g.jsx)(bK,{data:o})}),(0,$g.jsxs)("div",{className:"mt-8 flex h-[60px] items-center justify-evenly rounded-lg border border-white bg-[#101010]/90 md:mt-0 md:h-[8%] ",children:[(0,$g.jsx)("div",{className:"font-['Poppins'] text-lg font-semibold text-white",children:"Last Update"}),(0,$g.jsx)("div",{className:"font-['Poppins'] text-[15px] font-medium text-white",children:"09/01/2025,17:54:30"})]})]})]})]})]})};const wK=function(){return(0,$g.jsx)("div",{className:"App",children:(0,$g.jsx)(Ne,{children:(0,$g.jsxs)(Se,{children:[(0,$g.jsx)(_e,{index:!0,element:(0,$g.jsx)(dU,{})}),(0,$g.jsx)(_e,{path:"/admin_xyma_signup",element:(0,$g.jsx)(fU,{})}),(0,$g.jsx)(_e,{path:"/admin/*",element:(0,$g.jsxs)("div",{className:"flex min-h-screen bg-center bg-no-repeat bg-cover",style:{backgroundImage:`url(${Fe})`},children:[(0,$g.jsx)(OJ,{}),(0,$g.jsx)("div",{className:"flex-1",children:(0,$g.jsxs)(Se,{children:[(0,$g.jsx)(_e,{index:!0,element:(0,$g.jsx)(ye,{to:"/admin/generate-report",replace:!0})}),(0,$g.jsx)(_e,{path:"generate-report",element:(0,$g.jsx)(sK,{})}),(0,$g.jsx)(_e,{path:"set-alert",element:(0,$g.jsx)(oK,{})}),(0,$g.jsx)(_e,{path:"color-range",element:(0,$g.jsx)(lK,{})}),(0,$g.jsx)(_e,{path:"user",element:(0,$g.jsx)(uK,{})}),(0,$g.jsx)(_e,{path:"alerts-logs",element:(0,$g.jsx)(hK,{})})]})})]})}),(0,$g.jsxs)(_e,{element:(0,$g.jsx)(fK,{}),children:[(0,$g.jsx)(_e,{path:"/Dashboard",element:(0,$g.jsx)(lU,{})}),(0,$g.jsx)(_e,{path:"/CollectorBar",element:(0,$g.jsx)(yK,{})}),(0,$g.jsx)(_e,{path:"/Analytics",element:(0,$g.jsx)(SU,{})}),(0,$g.jsx)(_e,{path:"/Report",element:(0,$g.jsx)(bJ,{})}),(0,$g.jsx)(_e,{path:"/Settings",element:(0,$g.jsx)(dK,{})}),(0,$g.jsx)(_e,{path:"/Heatmap",element:(0,$g.jsx)(vK,{})}),(0,$g.jsx)(_e,{path:"/Test",element:(0,$g.jsx)(xK,{})})]}),(0,$g.jsx)(_e,{path:"*",element:(0,$g.jsx)(EU,{})})]})})})},_K=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:a}=t;n(e),r(e),i(e),s(e),a(e)}))};o.createRoot(document.getElementById("root")).render((0,$g.jsx)(s.StrictMode,{children:(0,$g.jsx)(wK,{})})),_K()})()})();
//# sourceMappingURL=main.e3aeace6.js.map